"use strict";var l8e=Object.create;var bB=Object.defineProperty;var u8e=Object.getOwnPropertyDescriptor;var f8e=Object.getOwnPropertyNames;var d8e=Object.getPrototypeOf,A8e=Object.prototype.hasOwnProperty;var Qee=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Pee=t=>{throw TypeError(t)};var s=(t,e)=>bB(t,"name",{value:e,configurable:!0});var Bl=(t,e)=>()=>(t&&(e=t(t=0)),e);var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Io=(t,e)=>{for(var r in e)bB(t,r,{get:e[r],enumerable:!0})},h8e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of f8e(e))!A8e.call(t,o)&&o!==r&&bB(t,o,{get:()=>e[o],enumerable:!(n=u8e(e,o))||n.enumerable});return t};var Et=(t,e,r)=>(r=t!=null?l8e(d8e(t)):{},h8e(e||!t||!t.__esModule?bB(r,"default",{value:t,enumerable:!0}):r,t));var Fee=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&Pee("Object expected");var n,o;r&&(n=e[Qee("asyncDispose")]),n===void 0&&(n=e[Qee("dispose")],r&&(o=n)),typeof n!="function"&&Pee("Object not disposable"),o&&(n=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.push([r,n,e])}else r&&t.push([r]);return e},Lee=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(c,l,u,d){return d=Error(u),d.name="SuppressedError",d.error=c,d.suppressed=l,d},o=c=>e=r?new n(c,e,"An error was suppressed during disposal"):(r=!0,c),a=c=>{for(;c=t.pop();)try{var l=c[1]&&c[1].call(c[2]);if(c[0])return Promise.resolve(l).then(a,u=>(o(u),a()))}catch(u){o(u)}if(r)throw e};return a()};var importMetaUrlShim,f=Bl(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var bn=q((SB,Hee)=>{f();(function(t,e){typeof SB=="object"?Hee.exports=SB=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})(SB,function(){var t=t||function(e,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var o=s(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),a=Object.create||function(){function _(){}return s(_,"F"),function(S){var D;return _.prototype=S,D=new _,_.prototype=null,D}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:s(function(_){var S=a(this);return _&&S.mixIn(_),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},"extend"),create:s(function(){var _=this.extend();return _.init.apply(_,arguments),_},"create"),init:s(function(){},"init"),mixIn:s(function(_){for(var S in _)_.hasOwnProperty(S)&&(this[S]=_[S]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},"mixIn"),clone:s(function(){return this.init.prototype.extend(this)},"clone")}}(),d=l.WordArray=u.extend({init:s(function(_,S){_=this.words=_||[],S!=r?this.sigBytes=S:this.sigBytes=_.length*4},"init"),toString:s(function(_){return(_||h).stringify(this)},"toString"),concat:s(function(_){var S=this.words,D=_.words,N=this.sigBytes,P=_.sigBytes;if(this.clamp(),N%4)for(var O=0;O<P;O++){var $=D[O>>>2]>>>24-O%4*8&255;S[N+O>>>2]|=$<<24-(N+O)%4*8}else for(var ne=0;ne<P;ne+=4)S[N+ne>>>2]=D[ne>>>2];return this.sigBytes+=P,this},"concat"),clamp:s(function(){var _=this.words,S=this.sigBytes;_[S>>>2]&=4294967295<<32-S%4*8,_.length=e.ceil(S/4)},"clamp"),clone:s(function(){var _=u.clone.call(this);return _.words=this.words.slice(0),_},"clone"),random:s(function(_){for(var S=[],D=0;D<_;D+=4)S.push(o());return new d.init(S,_)},"random")}),A=c.enc={},h=A.Hex={stringify:s(function(_){for(var S=_.words,D=_.sigBytes,N=[],P=0;P<D;P++){var O=S[P>>>2]>>>24-P%4*8&255;N.push((O>>>4).toString(16)),N.push((O&15).toString(16))}return N.join("")},"stringify"),parse:s(function(_){for(var S=_.length,D=[],N=0;N<S;N+=2)D[N>>>3]|=parseInt(_.substr(N,2),16)<<24-N%8*4;return new d.init(D,S/2)},"parse")},p=A.Latin1={stringify:s(function(_){for(var S=_.words,D=_.sigBytes,N=[],P=0;P<D;P++){var O=S[P>>>2]>>>24-P%4*8&255;N.push(String.fromCharCode(O))}return N.join("")},"stringify"),parse:s(function(_){for(var S=_.length,D=[],N=0;N<S;N++)D[N>>>2]|=(_.charCodeAt(N)&255)<<24-N%4*8;return new d.init(D,S)},"parse")},y=A.Utf8={stringify:s(function(_){try{return decodeURIComponent(escape(p.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:s(function(_){return p.parse(unescape(encodeURIComponent(_)))},"parse")},E=l.BufferedBlockAlgorithm=u.extend({reset:s(function(){this._data=new d.init,this._nDataBytes=0},"reset"),_append:s(function(_){typeof _=="string"&&(_=y.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},"_append"),_process:s(function(_){var S,D=this._data,N=D.words,P=D.sigBytes,O=this.blockSize,$=O*4,ne=P/$;_?ne=e.ceil(ne):ne=e.max((ne|0)-this._minBufferSize,0);var oe=ne*O,Ae=e.min(oe*4,P);if(oe){for(var Y=0;Y<oe;Y+=O)this._doProcessBlock(N,Y);S=N.splice(0,oe),D.sigBytes-=Ae}return new d.init(S,Ae)},"_process"),clone:s(function(){var _=u.clone.call(this);return _._data=this._data.clone(),_},"clone"),_minBufferSize:0}),v=l.Hasher=E.extend({cfg:u.extend(),init:s(function(_){this.cfg=this.cfg.extend(_),this.reset()},"init"),reset:s(function(){E.reset.call(this),this._doReset()},"reset"),update:s(function(_){return this._append(_),this._process(),this},"update"),finalize:s(function(_){_&&this._append(_);var S=this._doFinalize();return S},"finalize"),blockSize:512/32,_createHelper:s(function(_){return function(S,D){return new _.init(D).finalize(S)}},"_createHelper"),_createHmacHelper:s(function(_){return function(S,D){return new w.HMAC.init(_,D).finalize(S)}},"_createHmacHelper")}),w=c.algo={};return c}(Math);return t})});var UT=q((BB,qee)=>{f();(function(t,e){typeof BB=="object"?qee.exports=BB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(BB,function(t){return function(e){var r=t,n=r.lib,o=n.Base,a=n.WordArray,c=r.x64={},l=c.Word=o.extend({init:s(function(d,A){this.high=d,this.low=A},"init")}),u=c.WordArray=o.extend({init:s(function(d,A){d=this.words=d||[],A!=e?this.sigBytes=A:this.sigBytes=d.length*8},"init"),toX32:s(function(){for(var d=this.words,A=d.length,h=[],p=0;p<A;p++){var y=d[p];h.push(y.high),h.push(y.low)}return a.create(h,this.sigBytes)},"toX32"),clone:s(function(){for(var d=o.clone.call(this),A=d.words=this.words.slice(0),h=A.length,p=0;p<h;p++)A[p]=A[p].clone();return d},"clone")})}(),t})});var Vee=q((RB,Gee)=>{f();(function(t,e){typeof RB=="object"?Gee.exports=RB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(RB,function(t){return function(){if(typeof ArrayBuffer=="function"){var e=t,r=e.lib,n=r.WordArray,o=n.init,a=n.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],d=0;d<l;d++)u[d>>>2]|=c[d]<<24-d%4*8;o.call(this,u,l)}else o.apply(this,arguments)};a.prototype=n}}(),t.lib.WordArray})});var Yee=q((kB,Wee)=>{f();(function(t,e){typeof kB=="object"?Wee.exports=kB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(kB,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,a=o.Utf16=o.Utf16BE={stringify:s(function(l){for(var u=l.words,d=l.sigBytes,A=[],h=0;h<d;h+=2){var p=u[h>>>2]>>>16-h%4*8&65535;A.push(String.fromCharCode(p))}return A.join("")},"stringify"),parse:s(function(l){for(var u=l.length,d=[],A=0;A<u;A++)d[A>>>1]|=l.charCodeAt(A)<<16-A%2*16;return n.create(d,u*2)},"parse")};o.Utf16LE={stringify:s(function(l){for(var u=l.words,d=l.sigBytes,A=[],h=0;h<d;h+=2){var p=c(u[h>>>2]>>>16-h%4*8&65535);A.push(String.fromCharCode(p))}return A.join("")},"stringify"),parse:s(function(l){for(var u=l.length,d=[],A=0;A<u;A++)d[A>>>1]|=c(l.charCodeAt(A)<<16-A%2*16);return n.create(d,u*2)},"parse")};function c(l){return l<<8&4278255360|l>>>8&16711935}s(c,"swapEndian")}(),t.enc.Utf16})});var _m=q((DB,$ee)=>{f();(function(t,e){typeof DB=="object"?$ee.exports=DB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(DB,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,a=o.Base64={stringify:s(function(l){var u=l.words,d=l.sigBytes,A=this._map;l.clamp();for(var h=[],p=0;p<d;p+=3)for(var y=u[p>>>2]>>>24-p%4*8&255,E=u[p+1>>>2]>>>24-(p+1)%4*8&255,v=u[p+2>>>2]>>>24-(p+2)%4*8&255,w=y<<16|E<<8|v,_=0;_<4&&p+_*.75<d;_++)h.push(A.charAt(w>>>6*(3-_)&63));var S=A.charAt(64);if(S)for(;h.length%4;)h.push(S);return h.join("")},"stringify"),parse:s(function(l){var u=l.length,d=this._map,A=this._reverseMap;if(!A){A=this._reverseMap=[];for(var h=0;h<d.length;h++)A[d.charCodeAt(h)]=h}var p=d.charAt(64);if(p){var y=l.indexOf(p);y!==-1&&(u=y)}return c(l,u,A)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(l,u,d){for(var A=[],h=0,p=0;p<u;p++)if(p%4){var y=d[l.charCodeAt(p-1)]<<p%4*2,E=d[l.charCodeAt(p)]>>>6-p%4*2,v=y|E;A[h>>>2]|=v<<24-h%4*8,h++}return n.create(A,h)}s(c,"parseLoop")}(),t.enc.Base64})});var jee=q((NB,zee)=>{f();(function(t,e){typeof NB=="object"?zee.exports=NB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(NB,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,a=o.Base64url={stringify:s(function(l,u){u===void 0&&(u=!0);var d=l.words,A=l.sigBytes,h=u?this._safe_map:this._map;l.clamp();for(var p=[],y=0;y<A;y+=3)for(var E=d[y>>>2]>>>24-y%4*8&255,v=d[y+1>>>2]>>>24-(y+1)%4*8&255,w=d[y+2>>>2]>>>24-(y+2)%4*8&255,_=E<<16|v<<8|w,S=0;S<4&&y+S*.75<A;S++)p.push(h.charAt(_>>>6*(3-S)&63));var D=h.charAt(64);if(D)for(;p.length%4;)p.push(D);return p.join("")},"stringify"),parse:s(function(l,u){u===void 0&&(u=!0);var d=l.length,A=u?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<A.length;p++)h[A.charCodeAt(p)]=p}var y=A.charAt(64);if(y){var E=l.indexOf(y);E!==-1&&(d=E)}return c(l,d,h)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(l,u,d){for(var A=[],h=0,p=0;p<u;p++)if(p%4){var y=d[l.charCodeAt(p-1)]<<p%4*2,E=d[l.charCodeAt(p)]>>>6-p%4*2,v=y|E;A[h>>>2]|=v<<24-h%4*8,h++}return n.create(A,h)}s(c,"parseLoop")}(),t.enc.Base64url})});var wm=q((QB,Kee)=>{f();(function(t,e){typeof QB=="object"?Kee.exports=QB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(QB,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.algo,l=[];(function(){for(var y=0;y<64;y++)l[y]=e.abs(e.sin(y+1))*4294967296|0})();var u=c.MD5=a.extend({_doReset:s(function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:s(function(y,E){for(var v=0;v<16;v++){var w=E+v,_=y[w];y[w]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var S=this._hash.words,D=y[E+0],N=y[E+1],P=y[E+2],O=y[E+3],$=y[E+4],ne=y[E+5],oe=y[E+6],Ae=y[E+7],Y=y[E+8],K=y[E+9],xe=y[E+10],ce=y[E+11],J=y[E+12],W=y[E+13],Z=y[E+14],re=y[E+15],te=S[0],ie=S[1],ue=S[2],he=S[3];te=d(te,ie,ue,he,D,7,l[0]),he=d(he,te,ie,ue,N,12,l[1]),ue=d(ue,he,te,ie,P,17,l[2]),ie=d(ie,ue,he,te,O,22,l[3]),te=d(te,ie,ue,he,$,7,l[4]),he=d(he,te,ie,ue,ne,12,l[5]),ue=d(ue,he,te,ie,oe,17,l[6]),ie=d(ie,ue,he,te,Ae,22,l[7]),te=d(te,ie,ue,he,Y,7,l[8]),he=d(he,te,ie,ue,K,12,l[9]),ue=d(ue,he,te,ie,xe,17,l[10]),ie=d(ie,ue,he,te,ce,22,l[11]),te=d(te,ie,ue,he,J,7,l[12]),he=d(he,te,ie,ue,W,12,l[13]),ue=d(ue,he,te,ie,Z,17,l[14]),ie=d(ie,ue,he,te,re,22,l[15]),te=A(te,ie,ue,he,N,5,l[16]),he=A(he,te,ie,ue,oe,9,l[17]),ue=A(ue,he,te,ie,ce,14,l[18]),ie=A(ie,ue,he,te,D,20,l[19]),te=A(te,ie,ue,he,ne,5,l[20]),he=A(he,te,ie,ue,xe,9,l[21]),ue=A(ue,he,te,ie,re,14,l[22]),ie=A(ie,ue,he,te,$,20,l[23]),te=A(te,ie,ue,he,K,5,l[24]),he=A(he,te,ie,ue,Z,9,l[25]),ue=A(ue,he,te,ie,O,14,l[26]),ie=A(ie,ue,he,te,Y,20,l[27]),te=A(te,ie,ue,he,W,5,l[28]),he=A(he,te,ie,ue,P,9,l[29]),ue=A(ue,he,te,ie,Ae,14,l[30]),ie=A(ie,ue,he,te,J,20,l[31]),te=h(te,ie,ue,he,ne,4,l[32]),he=h(he,te,ie,ue,Y,11,l[33]),ue=h(ue,he,te,ie,ce,16,l[34]),ie=h(ie,ue,he,te,Z,23,l[35]),te=h(te,ie,ue,he,N,4,l[36]),he=h(he,te,ie,ue,$,11,l[37]),ue=h(ue,he,te,ie,Ae,16,l[38]),ie=h(ie,ue,he,te,xe,23,l[39]),te=h(te,ie,ue,he,W,4,l[40]),he=h(he,te,ie,ue,D,11,l[41]),ue=h(ue,he,te,ie,O,16,l[42]),ie=h(ie,ue,he,te,oe,23,l[43]),te=h(te,ie,ue,he,K,4,l[44]),he=h(he,te,ie,ue,J,11,l[45]),ue=h(ue,he,te,ie,re,16,l[46]),ie=h(ie,ue,he,te,P,23,l[47]),te=p(te,ie,ue,he,D,6,l[48]),he=p(he,te,ie,ue,Ae,10,l[49]),ue=p(ue,he,te,ie,Z,15,l[50]),ie=p(ie,ue,he,te,ne,21,l[51]),te=p(te,ie,ue,he,J,6,l[52]),he=p(he,te,ie,ue,O,10,l[53]),ue=p(ue,he,te,ie,xe,15,l[54]),ie=p(ie,ue,he,te,N,21,l[55]),te=p(te,ie,ue,he,Y,6,l[56]),he=p(he,te,ie,ue,re,10,l[57]),ue=p(ue,he,te,ie,oe,15,l[58]),ie=p(ie,ue,he,te,W,21,l[59]),te=p(te,ie,ue,he,$,6,l[60]),he=p(he,te,ie,ue,ce,10,l[61]),ue=p(ue,he,te,ie,P,15,l[62]),ie=p(ie,ue,he,te,K,21,l[63]),S[0]=S[0]+te|0,S[1]=S[1]+ie|0,S[2]=S[2]+ue|0,S[3]=S[3]+he|0},"_doProcessBlock"),_doFinalize:s(function(){var y=this._data,E=y.words,v=this._nDataBytes*8,w=y.sigBytes*8;E[w>>>5]|=128<<24-w%32;var _=e.floor(v/4294967296),S=v;E[(w+64>>>9<<4)+15]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,E[(w+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,y.sigBytes=(E.length+1)*4,this._process();for(var D=this._hash,N=D.words,P=0;P<4;P++){var O=N[P];N[P]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return D},"_doFinalize"),clone:s(function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y},"clone")});function d(y,E,v,w,_,S,D){var N=y+(E&v|~E&w)+_+D;return(N<<S|N>>>32-S)+E}s(d,"FF");function A(y,E,v,w,_,S,D){var N=y+(E&w|v&~w)+_+D;return(N<<S|N>>>32-S)+E}s(A,"GG");function h(y,E,v,w,_,S,D){var N=y+(E^v^w)+_+D;return(N<<S|N>>>32-S)+E}s(h,"HH");function p(y,E,v,w,_,S,D){var N=y+(v^(E|~w))+_+D;return(N<<S|N>>>32-S)+E}s(p,"II"),r.MD5=a._createHelper(u),r.HmacMD5=a._createHmacHelper(u)}(Math),t.MD5})});var UM=q((PB,Jee)=>{f();(function(t,e){typeof PB=="object"?Jee.exports=PB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(PB,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=r.Hasher,a=e.algo,c=[],l=a.SHA1=o.extend({_doReset:s(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(u,d){for(var A=this._hash.words,h=A[0],p=A[1],y=A[2],E=A[3],v=A[4],w=0;w<80;w++){if(w<16)c[w]=u[d+w]|0;else{var _=c[w-3]^c[w-8]^c[w-14]^c[w-16];c[w]=_<<1|_>>>31}var S=(h<<5|h>>>27)+v+c[w];w<20?S+=(p&y|~p&E)+1518500249:w<40?S+=(p^y^E)+1859775393:w<60?S+=(p&y|p&E|y&E)-1894007588:S+=(p^y^E)-899497514,v=E,E=y,y=p<<30|p>>>2,p=h,h=S}A[0]=A[0]+h|0,A[1]=A[1]+p|0,A[2]=A[2]+y|0,A[3]=A[3]+E|0,A[4]=A[4]+v|0},"_doProcessBlock"),_doFinalize:s(function(){var u=this._data,d=u.words,A=this._nDataBytes*8,h=u.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(A/4294967296),d[(h+64>>>9<<4)+15]=A,u.sigBytes=d.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u},"clone")});e.SHA1=o._createHelper(l),e.HmacSHA1=o._createHmacHelper(l)}(),t.SHA1})});var LB=q((FB,Xee)=>{f();(function(t,e){typeof FB=="object"?Xee.exports=FB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(FB,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.algo,l=[],u=[];(function(){function h(v){for(var w=e.sqrt(v),_=2;_<=w;_++)if(!(v%_))return!1;return!0}s(h,"isPrime");function p(v){return(v-(v|0))*4294967296|0}s(p,"getFractionalBits");for(var y=2,E=0;E<64;)h(y)&&(E<8&&(l[E]=p(e.pow(y,1/2))),u[E]=p(e.pow(y,1/3)),E++),y++})();var d=[],A=c.SHA256=a.extend({_doReset:s(function(){this._hash=new o.init(l.slice(0))},"_doReset"),_doProcessBlock:s(function(h,p){for(var y=this._hash.words,E=y[0],v=y[1],w=y[2],_=y[3],S=y[4],D=y[5],N=y[6],P=y[7],O=0;O<64;O++){if(O<16)d[O]=h[p+O]|0;else{var $=d[O-15],ne=($<<25|$>>>7)^($<<14|$>>>18)^$>>>3,oe=d[O-2],Ae=(oe<<15|oe>>>17)^(oe<<13|oe>>>19)^oe>>>10;d[O]=ne+d[O-7]+Ae+d[O-16]}var Y=S&D^~S&N,K=E&v^E&w^v&w,xe=(E<<30|E>>>2)^(E<<19|E>>>13)^(E<<10|E>>>22),ce=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),J=P+ce+Y+u[O]+d[O],W=xe+K;P=N,N=D,D=S,S=_+J|0,_=w,w=v,v=E,E=J+W|0}y[0]=y[0]+E|0,y[1]=y[1]+v|0,y[2]=y[2]+w|0,y[3]=y[3]+_|0,y[4]=y[4]+S|0,y[5]=y[5]+D|0,y[6]=y[6]+N|0,y[7]=y[7]+P|0},"_doProcessBlock"),_doFinalize:s(function(){var h=this._data,p=h.words,y=this._nDataBytes*8,E=h.sigBytes*8;return p[E>>>5]|=128<<24-E%32,p[(E+64>>>9<<4)+14]=e.floor(y/4294967296),p[(E+64>>>9<<4)+15]=y,h.sigBytes=p.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h},"clone")});r.SHA256=a._createHelper(A),r.HmacSHA256=a._createHmacHelper(A)}(Math),t.SHA256})});var ete=q((MB,Zee)=>{f();(function(t,e,r){typeof MB=="object"?Zee.exports=MB=e(bn(),LB()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(t.CryptoJS)})(MB,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:s(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:s(function(){var l=a._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});e.SHA224=a._createHelper(c),e.HmacSHA224=a._createHmacHelper(c)}(),t.SHA224})});var HM=q((OB,tte)=>{f();(function(t,e,r){typeof OB=="object"?tte.exports=OB=e(bn(),UT()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(OB,function(t){return function(){var e=t,r=e.lib,n=r.Hasher,o=e.x64,a=o.Word,c=o.WordArray,l=e.algo;function u(){return a.create.apply(a,arguments)}s(u,"X64Word_create");var d=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],A=[];(function(){for(var p=0;p<80;p++)A[p]=u()})();var h=l.SHA512=n.extend({_doReset:s(function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:s(function(p,y){for(var E=this._hash.words,v=E[0],w=E[1],_=E[2],S=E[3],D=E[4],N=E[5],P=E[6],O=E[7],$=v.high,ne=v.low,oe=w.high,Ae=w.low,Y=_.high,K=_.low,xe=S.high,ce=S.low,J=D.high,W=D.low,Z=N.high,re=N.low,te=P.high,ie=P.low,ue=O.high,he=O.low,Je=$,rt=ne,lt=oe,Ct=Ae,Vt=Y,Hr=K,Dn=xe,br=ce,le=J,Xe=W,ge=Z,ft=re,st=te,Ye=ie,Mr=ue,xn=he,qr=0;qr<80;qr++){var Jt,gi,Yo=A[qr];if(qr<16)gi=Yo.high=p[y+qr*2]|0,Jt=Yo.low=p[y+qr*2+1]|0;else{var Mn=A[qr-15],$o=Mn.high,Xt=Mn.low,mo=($o>>>1|Xt<<31)^($o>>>8|Xt<<24)^$o>>>7,ko=(Xt>>>1|$o<<31)^(Xt>>>8|$o<<24)^(Xt>>>7|$o<<25),ua=A[qr-2],de=ua.high,Ve=ua.low,At=(de>>>19|Ve<<13)^(de<<3|Ve>>>29)^de>>>6,vt=(Ve>>>19|de<<13)^(Ve<<3|de>>>29)^(Ve>>>6|de<<26),$r=A[qr-7],Tr=$r.high,Kn=$r.low,ii=A[qr-16],Or=ii.high,zr=ii.low;Jt=ko+Kn,gi=mo+Tr+(Jt>>>0<ko>>>0?1:0),Jt=Jt+vt,gi=gi+At+(Jt>>>0<vt>>>0?1:0),Jt=Jt+zr,gi=gi+Or+(Jt>>>0<zr>>>0?1:0),Yo.high=gi,Yo.low=Jt}var Gr=le&ge^~le&st,di=Xe&ft^~Xe&Ye,Vi=Je&lt^Je&Vt^lt&Vt,Do=rt&Ct^rt&Hr^Ct&Hr,vc=(Je>>>28|rt<<4)^(Je<<30|rt>>>2)^(Je<<25|rt>>>7),Ff=(rt>>>28|Je<<4)^(rt<<30|Je>>>2)^(rt<<25|Je>>>7),D0=(le>>>14|Xe<<18)^(le>>>18|Xe<<14)^(le<<23|Xe>>>9),Eu=(Xe>>>14|le<<18)^(Xe>>>18|le<<14)^(Xe<<23|le>>>9),as=d[qr],Iu=as.high,_e=as.low,M=xn+Eu,fe=Mr+D0+(M>>>0<xn>>>0?1:0),M=M+di,fe=fe+Gr+(M>>>0<di>>>0?1:0),M=M+_e,fe=fe+Iu+(M>>>0<_e>>>0?1:0),M=M+Jt,fe=fe+gi+(M>>>0<Jt>>>0?1:0),Ce=Ff+Do,X=vc+Vi+(Ce>>>0<Ff>>>0?1:0);Mr=st,xn=Ye,st=ge,Ye=ft,ge=le,ft=Xe,Xe=br+M|0,le=Dn+fe+(Xe>>>0<br>>>0?1:0)|0,Dn=Vt,br=Hr,Vt=lt,Hr=Ct,lt=Je,Ct=rt,rt=M+Ce|0,Je=fe+X+(rt>>>0<M>>>0?1:0)|0}ne=v.low=ne+rt,v.high=$+Je+(ne>>>0<rt>>>0?1:0),Ae=w.low=Ae+Ct,w.high=oe+lt+(Ae>>>0<Ct>>>0?1:0),K=_.low=K+Hr,_.high=Y+Vt+(K>>>0<Hr>>>0?1:0),ce=S.low=ce+br,S.high=xe+Dn+(ce>>>0<br>>>0?1:0),W=D.low=W+Xe,D.high=J+le+(W>>>0<Xe>>>0?1:0),re=N.low=re+ft,N.high=Z+ge+(re>>>0<ft>>>0?1:0),ie=P.low=ie+Ye,P.high=te+st+(ie>>>0<Ye>>>0?1:0),he=O.low=he+xn,O.high=ue+Mr+(he>>>0<xn>>>0?1:0)},"_doProcessBlock"),_doFinalize:s(function(){var p=this._data,y=p.words,E=this._nDataBytes*8,v=p.sigBytes*8;y[v>>>5]|=128<<24-v%32,y[(v+128>>>10<<5)+30]=Math.floor(E/4294967296),y[(v+128>>>10<<5)+31]=E,p.sigBytes=y.length*4,this._process();var w=this._hash.toX32();return w},"_doFinalize"),clone:s(function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},"clone"),blockSize:1024/32});e.SHA512=n._createHelper(h),e.HmacSHA512=n._createHmacHelper(h)}(),t.SHA512})});var nte=q((UB,rte)=>{f();(function(t,e,r){typeof UB=="object"?rte.exports=UB=e(bn(),UT(),HM()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(t.CryptoJS)})(UB,function(t){return function(){var e=t,r=e.x64,n=r.Word,o=r.WordArray,a=e.algo,c=a.SHA512,l=a.SHA384=c.extend({_doReset:s(function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:s(function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u},"_doFinalize")});e.SHA384=c._createHelper(l),e.HmacSHA384=c._createHmacHelper(l)}(),t.SHA384})});var ote=q((HB,ite)=>{f();(function(t,e,r){typeof HB=="object"?ite.exports=HB=e(bn(),UT()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(HB,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.x64,l=c.Word,u=r.algo,d=[],A=[],h=[];(function(){for(var E=1,v=0,w=0;w<24;w++){d[E+5*v]=(w+1)*(w+2)/2%64;var _=v%5,S=(2*E+3*v)%5;E=_,v=S}for(var E=0;E<5;E++)for(var v=0;v<5;v++)A[E+5*v]=v+(2*E+3*v)%5*5;for(var D=1,N=0;N<24;N++){for(var P=0,O=0,$=0;$<7;$++){if(D&1){var ne=(1<<$)-1;ne<32?O^=1<<ne:P^=1<<ne-32}D&128?D=D<<1^113:D<<=1}h[N]=l.create(P,O)}})();var p=[];(function(){for(var E=0;E<25;E++)p[E]=l.create()})();var y=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:s(function(){for(var E=this._state=[],v=0;v<25;v++)E[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:s(function(E,v){for(var w=this._state,_=this.blockSize/2,S=0;S<_;S++){var D=E[v+2*S],N=E[v+2*S+1];D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var P=w[S];P.high^=N,P.low^=D}for(var O=0;O<24;O++){for(var $=0;$<5;$++){for(var ne=0,oe=0,Ae=0;Ae<5;Ae++){var P=w[$+5*Ae];ne^=P.high,oe^=P.low}var Y=p[$];Y.high=ne,Y.low=oe}for(var $=0;$<5;$++)for(var K=p[($+4)%5],xe=p[($+1)%5],ce=xe.high,J=xe.low,ne=K.high^(ce<<1|J>>>31),oe=K.low^(J<<1|ce>>>31),Ae=0;Ae<5;Ae++){var P=w[$+5*Ae];P.high^=ne,P.low^=oe}for(var W=1;W<25;W++){var ne,oe,P=w[W],Z=P.high,re=P.low,te=d[W];te<32?(ne=Z<<te|re>>>32-te,oe=re<<te|Z>>>32-te):(ne=re<<te-32|Z>>>64-te,oe=Z<<te-32|re>>>64-te);var ie=p[A[W]];ie.high=ne,ie.low=oe}var ue=p[0],he=w[0];ue.high=he.high,ue.low=he.low;for(var $=0;$<5;$++)for(var Ae=0;Ae<5;Ae++){var W=$+5*Ae,P=w[W],Je=p[W],rt=p[($+1)%5+5*Ae],lt=p[($+2)%5+5*Ae];P.high=Je.high^~rt.high&lt.high,P.low=Je.low^~rt.low&lt.low}var P=w[0],Ct=h[O];P.high^=Ct.high,P.low^=Ct.low}},"_doProcessBlock"),_doFinalize:s(function(){var E=this._data,v=E.words,w=this._nDataBytes*8,_=E.sigBytes*8,S=this.blockSize*32;v[_>>>5]|=1<<24-_%32,v[(e.ceil((_+1)/S)*S>>>5)-1]|=128,E.sigBytes=v.length*4,this._process();for(var D=this._state,N=this.cfg.outputLength/8,P=N/8,O=[],$=0;$<P;$++){var ne=D[$],oe=ne.high,Ae=ne.low;oe=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360,Ae=(Ae<<8|Ae>>>24)&16711935|(Ae<<24|Ae>>>8)&4278255360,O.push(Ae),O.push(oe)}return new o.init(O,N)},"_doFinalize"),clone:s(function(){for(var E=a.clone.call(this),v=E._state=this._state.slice(0),w=0;w<25;w++)v[w]=v[w].clone();return E},"clone")});r.SHA3=a._createHelper(y),r.HmacSHA3=a._createHmacHelper(y)}(Math),t.SHA3})});var ate=q((qB,ste)=>{f();(function(t,e){typeof qB=="object"?ste.exports=qB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(qB,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),A=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),y=c.RIPEMD160=a.extend({_doReset:s(function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(N,P){for(var O=0;O<16;O++){var $=P+O,ne=N[$];N[$]=(ne<<8|ne>>>24)&16711935|(ne<<24|ne>>>8)&4278255360}var oe=this._hash.words,Ae=h.words,Y=p.words,K=l.words,xe=u.words,ce=d.words,J=A.words,W,Z,re,te,ie,ue,he,Je,rt,lt;ue=W=oe[0],he=Z=oe[1],Je=re=oe[2],rt=te=oe[3],lt=ie=oe[4];for(var Ct,O=0;O<80;O+=1)Ct=W+N[P+K[O]]|0,O<16?Ct+=E(Z,re,te)+Ae[0]:O<32?Ct+=v(Z,re,te)+Ae[1]:O<48?Ct+=w(Z,re,te)+Ae[2]:O<64?Ct+=_(Z,re,te)+Ae[3]:Ct+=S(Z,re,te)+Ae[4],Ct=Ct|0,Ct=D(Ct,ce[O]),Ct=Ct+ie|0,W=ie,ie=te,te=D(re,10),re=Z,Z=Ct,Ct=ue+N[P+xe[O]]|0,O<16?Ct+=S(he,Je,rt)+Y[0]:O<32?Ct+=_(he,Je,rt)+Y[1]:O<48?Ct+=w(he,Je,rt)+Y[2]:O<64?Ct+=v(he,Je,rt)+Y[3]:Ct+=E(he,Je,rt)+Y[4],Ct=Ct|0,Ct=D(Ct,J[O]),Ct=Ct+lt|0,ue=lt,lt=rt,rt=D(Je,10),Je=he,he=Ct;Ct=oe[1]+re+rt|0,oe[1]=oe[2]+te+lt|0,oe[2]=oe[3]+ie+ue|0,oe[3]=oe[4]+W+he|0,oe[4]=oe[0]+Z+Je|0,oe[0]=Ct},"_doProcessBlock"),_doFinalize:s(function(){var N=this._data,P=N.words,O=this._nDataBytes*8,$=N.sigBytes*8;P[$>>>5]|=128<<24-$%32,P[($+64>>>9<<4)+14]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,N.sigBytes=(P.length+1)*4,this._process();for(var ne=this._hash,oe=ne.words,Ae=0;Ae<5;Ae++){var Y=oe[Ae];oe[Ae]=(Y<<8|Y>>>24)&16711935|(Y<<24|Y>>>8)&4278255360}return ne},"_doFinalize"),clone:s(function(){var N=a.clone.call(this);return N._hash=this._hash.clone(),N},"clone")});function E(N,P,O){return N^P^O}s(E,"f1");function v(N,P,O){return N&P|~N&O}s(v,"f2");function w(N,P,O){return(N|~P)^O}s(w,"f3");function _(N,P,O){return N&O|P&~O}s(_,"f4");function S(N,P,O){return N^(P|~O)}s(S,"f5");function D(N,P){return N<<P|N>>>32-P}s(D,"rotl"),r.RIPEMD160=a._createHelper(y),r.HmacRIPEMD160=a._createHmacHelper(y)}(Math),t.RIPEMD160})});var VB=q((GB,cte)=>{f();(function(t,e){typeof GB=="object"?cte.exports=GB=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(GB,function(t){(function(){var e=t,r=e.lib,n=r.Base,o=e.enc,a=o.Utf8,c=e.algo,l=c.HMAC=n.extend({init:s(function(u,d){u=this._hasher=new u.init,typeof d=="string"&&(d=a.parse(d));var A=u.blockSize,h=A*4;d.sigBytes>h&&(d=u.finalize(d)),d.clamp();for(var p=this._oKey=d.clone(),y=this._iKey=d.clone(),E=p.words,v=y.words,w=0;w<A;w++)E[w]^=1549556828,v[w]^=909522486;p.sigBytes=y.sigBytes=h,this.reset()},"init"),reset:s(function(){var u=this._hasher;u.reset(),u.update(this._iKey)},"reset"),update:s(function(u){return this._hasher.update(u),this},"update"),finalize:s(function(u){var d=this._hasher,A=d.finalize(u);d.reset();var h=d.finalize(this._oKey.clone().concat(A));return h},"finalize")})})()})});var ute=q((WB,lte)=>{f();(function(t,e,r){typeof WB=="object"?lte.exports=WB=e(bn(),LB(),VB()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(t.CryptoJS)})(WB,function(t){return function(){var e=t,r=e.lib,n=r.Base,o=r.WordArray,a=e.algo,c=a.SHA256,l=a.HMAC,u=a.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:c,iterations:25e4}),init:s(function(d){this.cfg=this.cfg.extend(d)},"init"),compute:s(function(d,A){for(var h=this.cfg,p=l.create(h.hasher,d),y=o.create(),E=o.create([1]),v=y.words,w=E.words,_=h.keySize,S=h.iterations;v.length<_;){var D=p.update(A).finalize(E);p.reset();for(var N=D.words,P=N.length,O=D,$=1;$<S;$++){O=p.finalize(O),p.reset();for(var ne=O.words,oe=0;oe<P;oe++)N[oe]^=ne[oe]}y.concat(D),w[0]++}return y.sigBytes=_*4,y},"compute")});e.PBKDF2=function(d,A,h){return u.create(h).compute(d,A)}}(),t.PBKDF2})});var WA=q((YB,fte)=>{f();(function(t,e,r){typeof YB=="object"?fte.exports=YB=e(bn(),UM(),VB()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(t.CryptoJS)})(YB,function(t){return function(){var e=t,r=e.lib,n=r.Base,o=r.WordArray,a=e.algo,c=a.MD5,l=a.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:c,iterations:1}),init:s(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:s(function(u,d){for(var A,h=this.cfg,p=h.hasher.create(),y=o.create(),E=y.words,v=h.keySize,w=h.iterations;E.length<v;){A&&p.update(A),A=p.update(u).finalize(d),p.reset();for(var _=1;_<w;_++)A=p.finalize(A),p.reset();y.concat(A)}return y.sigBytes=v*4,y},"compute")});e.EvpKDF=function(u,d,A){return l.create(A).compute(u,d)}}(),t.EvpKDF})});var Bs=q(($B,dte)=>{f();(function(t,e,r){typeof $B=="object"?dte.exports=$B=e(bn(),WA()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(t.CryptoJS)})($B,function(t){t.lib.Cipher||function(e){var r=t,n=r.lib,o=n.Base,a=n.WordArray,c=n.BufferedBlockAlgorithm,l=r.enc,u=l.Utf8,d=l.Base64,A=r.algo,h=A.EvpKDF,p=n.Cipher=c.extend({cfg:o.extend(),createEncryptor:s(function(Y,K){return this.create(this._ENC_XFORM_MODE,Y,K)},"createEncryptor"),createDecryptor:s(function(Y,K){return this.create(this._DEC_XFORM_MODE,Y,K)},"createDecryptor"),init:s(function(Y,K,xe){this.cfg=this.cfg.extend(xe),this._xformMode=Y,this._key=K,this.reset()},"init"),reset:s(function(){c.reset.call(this),this._doReset()},"reset"),process:s(function(Y){return this._append(Y),this._process()},"process"),finalize:s(function(Y){Y&&this._append(Y);var K=this._doFinalize();return K},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Y(K){return typeof K=="string"?Ae:$}return s(Y,"selectCipherStrategy"),function(K){return{encrypt:s(function(xe,ce,J){return Y(ce).encrypt(K,xe,ce,J)},"encrypt"),decrypt:s(function(xe,ce,J){return Y(ce).decrypt(K,xe,ce,J)},"decrypt")}}}()}),y=n.StreamCipher=p.extend({_doFinalize:s(function(){var Y=this._process(!0);return Y},"_doFinalize"),blockSize:1}),E=r.mode={},v=n.BlockCipherMode=o.extend({createEncryptor:s(function(Y,K){return this.Encryptor.create(Y,K)},"createEncryptor"),createDecryptor:s(function(Y,K){return this.Decryptor.create(Y,K)},"createDecryptor"),init:s(function(Y,K){this._cipher=Y,this._iv=K},"init")}),w=E.CBC=function(){var Y=v.extend();Y.Encryptor=Y.extend({processBlock:s(function(xe,ce){var J=this._cipher,W=J.blockSize;K.call(this,xe,ce,W),J.encryptBlock(xe,ce),this._prevBlock=xe.slice(ce,ce+W)},"processBlock")}),Y.Decryptor=Y.extend({processBlock:s(function(xe,ce){var J=this._cipher,W=J.blockSize,Z=xe.slice(ce,ce+W);J.decryptBlock(xe,ce),K.call(this,xe,ce,W),this._prevBlock=Z},"processBlock")});function K(xe,ce,J){var W,Z=this._iv;Z?(W=Z,this._iv=e):W=this._prevBlock;for(var re=0;re<J;re++)xe[ce+re]^=W[re]}return s(K,"xorBlock"),Y}(),_=r.pad={},S=_.Pkcs7={pad:s(function(Y,K){for(var xe=K*4,ce=xe-Y.sigBytes%xe,J=ce<<24|ce<<16|ce<<8|ce,W=[],Z=0;Z<ce;Z+=4)W.push(J);var re=a.create(W,ce);Y.concat(re)},"pad"),unpad:s(function(Y){var K=Y.words[Y.sigBytes-1>>>2]&255;Y.sigBytes-=K},"unpad")},D=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:w,padding:S}),reset:s(function(){var Y;p.reset.call(this);var K=this.cfg,xe=K.iv,ce=K.mode;this._xformMode==this._ENC_XFORM_MODE?Y=ce.createEncryptor:(Y=ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Y?this._mode.init(this,xe&&xe.words):(this._mode=Y.call(ce,this,xe&&xe.words),this._mode.__creator=Y)},"reset"),_doProcessBlock:s(function(Y,K){this._mode.processBlock(Y,K)},"_doProcessBlock"),_doFinalize:s(function(){var Y,K=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(K.pad(this._data,this.blockSize),Y=this._process(!0)):(Y=this._process(!0),K.unpad(Y)),Y},"_doFinalize"),blockSize:128/32}),N=n.CipherParams=o.extend({init:s(function(Y){this.mixIn(Y)},"init"),toString:s(function(Y){return(Y||this.formatter).stringify(this)},"toString")}),P=r.format={},O=P.OpenSSL={stringify:s(function(Y){var K,xe=Y.ciphertext,ce=Y.salt;return ce?K=a.create([1398893684,1701076831]).concat(ce).concat(xe):K=xe,K.toString(d)},"stringify"),parse:s(function(Y){var K,xe=d.parse(Y),ce=xe.words;return ce[0]==1398893684&&ce[1]==1701076831&&(K=a.create(ce.slice(2,4)),ce.splice(0,4),xe.sigBytes-=16),N.create({ciphertext:xe,salt:K})},"parse")},$=n.SerializableCipher=o.extend({cfg:o.extend({format:O}),encrypt:s(function(Y,K,xe,ce){ce=this.cfg.extend(ce);var J=Y.createEncryptor(xe,ce),W=J.finalize(K),Z=J.cfg;return N.create({ciphertext:W,key:xe,iv:Z.iv,algorithm:Y,mode:Z.mode,padding:Z.padding,blockSize:Y.blockSize,formatter:ce.format})},"encrypt"),decrypt:s(function(Y,K,xe,ce){ce=this.cfg.extend(ce),K=this._parse(K,ce.format);var J=Y.createDecryptor(xe,ce).finalize(K.ciphertext);return J},"decrypt"),_parse:s(function(Y,K){return typeof Y=="string"?K.parse(Y,this):Y},"_parse")}),ne=r.kdf={},oe=ne.OpenSSL={execute:s(function(Y,K,xe,ce,J){if(ce||(ce=a.random(64/8)),J)var W=h.create({keySize:K+xe,hasher:J}).compute(Y,ce);else var W=h.create({keySize:K+xe}).compute(Y,ce);var Z=a.create(W.words.slice(K),xe*4);return W.sigBytes=K*4,N.create({key:W,iv:Z,salt:ce})},"execute")},Ae=n.PasswordBasedCipher=$.extend({cfg:$.cfg.extend({kdf:oe}),encrypt:s(function(Y,K,xe,ce){ce=this.cfg.extend(ce);var J=ce.kdf.execute(xe,Y.keySize,Y.ivSize,ce.salt,ce.hasher);ce.iv=J.iv;var W=$.encrypt.call(this,Y,K,J.key,ce);return W.mixIn(J),W},"encrypt"),decrypt:s(function(Y,K,xe,ce){ce=this.cfg.extend(ce),K=this._parse(K,ce.format);var J=ce.kdf.execute(xe,Y.keySize,Y.ivSize,K.salt,ce.hasher);ce.iv=J.iv;var W=$.decrypt.call(this,Y,K,J.key,ce);return W},"decrypt")})}()})});var hte=q((zB,Ate)=>{f();(function(t,e,r){typeof zB=="object"?Ate.exports=zB=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(zB,function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize;r.call(this,n,o,c,a),this._prevBlock=n.slice(o,o+c)},"processBlock")}),e.Decryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize,l=n.slice(o,o+c);r.call(this,n,o,c,a),this._prevBlock=l},"processBlock")});function r(n,o,a,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var d=0;d<a;d++)n[o+d]^=l[d]}return s(r,"generateKeystreamAndEncrypt"),e}(),t.mode.CFB})});var mte=q((jB,pte)=>{f();(function(t,e,r){typeof jB=="object"?pte.exports=jB=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(jB,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var d=u.slice(0);a.encryptBlock(d,0),u[c-1]=u[c-1]+1|0;for(var A=0;A<c;A++)n[o+A]^=d[A]},"processBlock")});return e.Decryptor=r,e}(),t.mode.CTR})});var yte=q((KB,gte)=>{f();(function(t,e,r){typeof KB=="object"?gte.exports=KB=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(KB,function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function r(a){if((a>>24&255)===255){var c=a>>16&255,l=a>>8&255,u=a&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,a=0,a+=c<<16,a+=l<<8,a+=u}else a+=1<<24;return a}s(r,"incWord");function n(a){return(a[0]=r(a[0]))===0&&(a[1]=r(a[1])),a}s(n,"incCounter");var o=e.Encryptor=e.extend({processBlock:s(function(a,c){var l=this._cipher,u=l.blockSize,d=this._iv,A=this._counter;d&&(A=this._counter=d.slice(0),this._iv=void 0),n(A);var h=A.slice(0);l.encryptBlock(h,0);for(var p=0;p<u;p++)a[c+p]^=h[p]},"processBlock")});return e.Decryptor=o,e}(),t.mode.CTRGladman})});var Ete=q((JB,Cte)=>{f();(function(t,e,r){typeof JB=="object"?Cte.exports=JB=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(JB,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var d=0;d<c;d++)n[o+d]^=u[d]},"processBlock")});return e.Decryptor=r,e}(),t.mode.OFB})});var xte=q((XB,Ite)=>{f();(function(t,e,r){typeof XB=="object"?Ite.exports=XB=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(XB,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:s(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),e.Decryptor=e.extend({processBlock:s(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),e}(),t.mode.ECB})});var bte=q((ZB,vte)=>{f();(function(t,e,r){typeof ZB=="object"?vte.exports=ZB=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(ZB,function(t){return t.pad.AnsiX923={pad:s(function(e,r){var n=e.sigBytes,o=r*4,a=o-n%o,c=n+a-1;e.clamp(),e.words[c>>>2]|=a<<24-c%4*8,e.sigBytes+=a},"pad"),unpad:s(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Ansix923})});var _te=q((e6,Tte)=>{f();(function(t,e,r){typeof e6=="object"?Tte.exports=e6=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(e6,function(t){return t.pad.Iso10126={pad:s(function(e,r){var n=r*4,o=n-e.sigBytes%n;e.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},"pad"),unpad:s(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Iso10126})});var Ste=q((t6,wte)=>{f();(function(t,e,r){typeof t6=="object"?wte.exports=t6=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(t6,function(t){return t.pad.Iso97971={pad:s(function(e,r){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,r)},"pad"),unpad:s(function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--},"unpad")},t.pad.Iso97971})});var Rte=q((r6,Bte)=>{f();(function(t,e,r){typeof r6=="object"?Bte.exports=r6=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(r6,function(t){return t.pad.ZeroPadding={pad:s(function(e,r){var n=r*4;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},"pad"),unpad:s(function(e){for(var r=e.words,n=e.sigBytes-1,n=e.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}},"unpad")},t.pad.ZeroPadding})});var Dte=q((n6,kte)=>{f();(function(t,e,r){typeof n6=="object"?kte.exports=n6=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(n6,function(t){return t.pad.NoPadding={pad:s(function(){},"pad"),unpad:s(function(){},"unpad")},t.pad.NoPadding})});var Qte=q((i6,Nte)=>{f();(function(t,e,r){typeof i6=="object"?Nte.exports=i6=e(bn(),Bs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(i6,function(t){return function(e){var r=t,n=r.lib,o=n.CipherParams,a=r.enc,c=a.Hex,l=r.format,u=l.Hex={stringify:s(function(d){return d.ciphertext.toString(c)},"stringify"),parse:s(function(d){var A=c.parse(d);return o.create({ciphertext:A})},"parse")}}(),t.format.Hex})});var Fte=q((o6,Pte)=>{f();(function(t,e,r){typeof o6=="object"?Pte.exports=o6=e(bn(),_m(),wm(),WA(),Bs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(o6,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,o=e.algo,a=[],c=[],l=[],u=[],d=[],A=[],h=[],p=[],y=[],E=[];(function(){for(var _=[],S=0;S<256;S++)S<128?_[S]=S<<1:_[S]=S<<1^283;for(var D=0,N=0,S=0;S<256;S++){var P=N^N<<1^N<<2^N<<3^N<<4;P=P>>>8^P&255^99,a[D]=P,c[P]=D;var O=_[D],$=_[O],ne=_[$],oe=_[P]*257^P*16843008;l[D]=oe<<24|oe>>>8,u[D]=oe<<16|oe>>>16,d[D]=oe<<8|oe>>>24,A[D]=oe;var oe=ne*16843009^$*65537^O*257^D*16843008;h[P]=oe<<24|oe>>>8,p[P]=oe<<16|oe>>>16,y[P]=oe<<8|oe>>>24,E[P]=oe,D?(D=O^_[_[_[ne^O]]],N^=_[_[N]]):D=N=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],w=o.AES=n.extend({_doReset:s(function(){var _;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,D=S.words,N=S.sigBytes/4,P=this._nRounds=N+6,O=(P+1)*4,$=this._keySchedule=[],ne=0;ne<O;ne++)ne<N?$[ne]=D[ne]:(_=$[ne-1],ne%N?N>6&&ne%N==4&&(_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255]):(_=_<<8|_>>>24,_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255],_^=v[ne/N|0]<<24),$[ne]=$[ne-N]^_);for(var oe=this._invKeySchedule=[],Ae=0;Ae<O;Ae++){var ne=O-Ae;if(Ae%4)var _=$[ne];else var _=$[ne-4];Ae<4||ne<=4?oe[Ae]=_:oe[Ae]=h[a[_>>>24]]^p[a[_>>>16&255]]^y[a[_>>>8&255]]^E[a[_&255]]}}},"_doReset"),encryptBlock:s(function(_,S){this._doCryptBlock(_,S,this._keySchedule,l,u,d,A,a)},"encryptBlock"),decryptBlock:s(function(_,S){var D=_[S+1];_[S+1]=_[S+3],_[S+3]=D,this._doCryptBlock(_,S,this._invKeySchedule,h,p,y,E,c);var D=_[S+1];_[S+1]=_[S+3],_[S+3]=D},"decryptBlock"),_doCryptBlock:s(function(_,S,D,N,P,O,$,ne){for(var oe=this._nRounds,Ae=_[S]^D[0],Y=_[S+1]^D[1],K=_[S+2]^D[2],xe=_[S+3]^D[3],ce=4,J=1;J<oe;J++){var W=N[Ae>>>24]^P[Y>>>16&255]^O[K>>>8&255]^$[xe&255]^D[ce++],Z=N[Y>>>24]^P[K>>>16&255]^O[xe>>>8&255]^$[Ae&255]^D[ce++],re=N[K>>>24]^P[xe>>>16&255]^O[Ae>>>8&255]^$[Y&255]^D[ce++],te=N[xe>>>24]^P[Ae>>>16&255]^O[Y>>>8&255]^$[K&255]^D[ce++];Ae=W,Y=Z,K=re,xe=te}var W=(ne[Ae>>>24]<<24|ne[Y>>>16&255]<<16|ne[K>>>8&255]<<8|ne[xe&255])^D[ce++],Z=(ne[Y>>>24]<<24|ne[K>>>16&255]<<16|ne[xe>>>8&255]<<8|ne[Ae&255])^D[ce++],re=(ne[K>>>24]<<24|ne[xe>>>16&255]<<16|ne[Ae>>>8&255]<<8|ne[Y&255])^D[ce++],te=(ne[xe>>>24]<<24|ne[Ae>>>16&255]<<16|ne[Y>>>8&255]<<8|ne[K&255])^D[ce++];_[S]=W,_[S+1]=Z,_[S+2]=re,_[S+3]=te},"_doCryptBlock"),keySize:256/32});e.AES=n._createHelper(w)}(),t.AES})});var Mte=q((s6,Lte)=>{f();(function(t,e,r){typeof s6=="object"?Lte.exports=s6=e(bn(),_m(),wm(),WA(),Bs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(s6,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=r.BlockCipher,a=e.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],A=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=o.extend({_doReset:s(function(){for(var v=this._key,w=v.words,_=[],S=0;S<56;S++){var D=c[S]-1;_[S]=w[D>>>5]>>>31-D%32&1}for(var N=this._subKeys=[],P=0;P<16;P++){for(var O=N[P]=[],$=u[P],S=0;S<24;S++)O[S/6|0]|=_[(l[S]-1+$)%28]<<31-S%6,O[4+(S/6|0)]|=_[28+(l[S+24]-1+$)%28]<<31-S%6;O[0]=O[0]<<1|O[0]>>>31;for(var S=1;S<7;S++)O[S]=O[S]>>>(S-1)*4+3;O[7]=O[7]<<5|O[7]>>>27}for(var ne=this._invSubKeys=[],S=0;S<16;S++)ne[S]=N[15-S]},"_doReset"),encryptBlock:s(function(v,w){this._doCryptBlock(v,w,this._subKeys)},"encryptBlock"),decryptBlock:s(function(v,w){this._doCryptBlock(v,w,this._invSubKeys)},"decryptBlock"),_doCryptBlock:s(function(v,w,_){this._lBlock=v[w],this._rBlock=v[w+1],p.call(this,4,252645135),p.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),p.call(this,1,1431655765);for(var S=0;S<16;S++){for(var D=_[S],N=this._lBlock,P=this._rBlock,O=0,$=0;$<8;$++)O|=d[$][((P^D[$])&A[$])>>>0];this._lBlock=P,this._rBlock=N^O}var ne=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ne,p.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),v[w]=this._lBlock,v[w+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function p(v,w){var _=(this._lBlock>>>v^this._rBlock)&w;this._rBlock^=_,this._lBlock^=_<<v}s(p,"exchangeLR");function y(v,w){var _=(this._rBlock>>>v^this._lBlock)&w;this._lBlock^=_,this._rBlock^=_<<v}s(y,"exchangeRL"),e.DES=o._createHelper(h);var E=a.TripleDES=o.extend({_doReset:s(function(){var v=this._key,w=v.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=w.slice(0,2),S=w.length<4?w.slice(0,2):w.slice(2,4),D=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=h.createEncryptor(n.create(_)),this._des2=h.createEncryptor(n.create(S)),this._des3=h.createEncryptor(n.create(D))},"_doReset"),encryptBlock:s(function(v,w){this._des1.encryptBlock(v,w),this._des2.decryptBlock(v,w),this._des3.encryptBlock(v,w)},"encryptBlock"),decryptBlock:s(function(v,w){this._des3.decryptBlock(v,w),this._des2.encryptBlock(v,w),this._des1.decryptBlock(v,w)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=o._createHelper(E)}(),t.TripleDES})});var Ute=q((a6,Ote)=>{f();(function(t,e,r){typeof a6=="object"?Ote.exports=a6=e(bn(),_m(),wm(),WA(),Bs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(a6,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,a=o.RC4=n.extend({_doReset:s(function(){for(var u=this._key,d=u.words,A=u.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,y=0;p<256;p++){var E=p%A,v=d[E>>>2]>>>24-E%4*8&255;y=(y+h[p]+v)%256;var w=h[p];h[p]=h[y],h[y]=w}this._i=this._j=0},"_doReset"),_doProcessBlock:s(function(u,d){u[d]^=c.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function c(){for(var u=this._S,d=this._i,A=this._j,h=0,p=0;p<4;p++){d=(d+1)%256,A=(A+u[d])%256;var y=u[d];u[d]=u[A],u[A]=y,h|=u[(u[d]+u[A])%256]<<24-p*8}return this._i=d,this._j=A,h}s(c,"generateKeystreamWord"),e.RC4=n._createHelper(a);var l=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:s(function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)},"_doReset")});e.RC4Drop=n._createHelper(l)}(),t.RC4})});var qte=q((c6,Hte)=>{f();(function(t,e,r){typeof c6=="object"?Hte.exports=c6=e(bn(),_m(),wm(),WA(),Bs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(c6,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,a=[],c=[],l=[],u=o.Rabbit=n.extend({_doReset:s(function(){for(var A=this._key.words,h=this.cfg.iv,p=0;p<4;p++)A[p]=(A[p]<<8|A[p]>>>24)&16711935|(A[p]<<24|A[p]>>>8)&4278255360;var y=this._X=[A[0],A[3]<<16|A[2]>>>16,A[1],A[0]<<16|A[3]>>>16,A[2],A[1]<<16|A[0]>>>16,A[3],A[2]<<16|A[1]>>>16],E=this._C=[A[2]<<16|A[2]>>>16,A[0]&4294901760|A[1]&65535,A[3]<<16|A[3]>>>16,A[1]&4294901760|A[2]&65535,A[0]<<16|A[0]>>>16,A[2]&4294901760|A[3]&65535,A[1]<<16|A[1]>>>16,A[3]&4294901760|A[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)E[p]^=y[p+4&7];if(h){var v=h.words,w=v[0],_=v[1],S=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,D=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,N=S>>>16|D&4294901760,P=D<<16|S&65535;E[0]^=S,E[1]^=N,E[2]^=D,E[3]^=P,E[4]^=S,E[5]^=N,E[6]^=D,E[7]^=P;for(var p=0;p<4;p++)d.call(this)}},"_doReset"),_doProcessBlock:s(function(A,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,A[h+y]^=a[y]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function d(){for(var A=this._X,h=this._C,p=0;p<8;p++)c[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var y=A[p]+h[p],E=y&65535,v=y>>>16,w=((E*E>>>17)+E*v>>>15)+v*v,_=((y&4294901760)*y|0)+((y&65535)*y|0);l[p]=w^_}A[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,A[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,A[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,A[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,A[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,A[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,A[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,A[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(d,"nextState"),e.Rabbit=n._createHelper(u)}(),t.Rabbit})});var Vte=q((l6,Gte)=>{f();(function(t,e,r){typeof l6=="object"?Gte.exports=l6=e(bn(),_m(),wm(),WA(),Bs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(l6,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,a=[],c=[],l=[],u=o.RabbitLegacy=n.extend({_doReset:s(function(){var A=this._key.words,h=this.cfg.iv,p=this._X=[A[0],A[3]<<16|A[2]>>>16,A[1],A[0]<<16|A[3]>>>16,A[2],A[1]<<16|A[0]>>>16,A[3],A[2]<<16|A[1]>>>16],y=this._C=[A[2]<<16|A[2]>>>16,A[0]&4294901760|A[1]&65535,A[3]<<16|A[3]>>>16,A[1]&4294901760|A[2]&65535,A[0]<<16|A[0]>>>16,A[2]&4294901760|A[3]&65535,A[1]<<16|A[1]>>>16,A[3]&4294901760|A[0]&65535];this._b=0;for(var E=0;E<4;E++)d.call(this);for(var E=0;E<8;E++)y[E]^=p[E+4&7];if(h){var v=h.words,w=v[0],_=v[1],S=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,D=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,N=S>>>16|D&4294901760,P=D<<16|S&65535;y[0]^=S,y[1]^=N,y[2]^=D,y[3]^=P,y[4]^=S,y[5]^=N,y[6]^=D,y[7]^=P;for(var E=0;E<4;E++)d.call(this)}},"_doReset"),_doProcessBlock:s(function(A,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,A[h+y]^=a[y]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function d(){for(var A=this._X,h=this._C,p=0;p<8;p++)c[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var y=A[p]+h[p],E=y&65535,v=y>>>16,w=((E*E>>>17)+E*v>>>15)+v*v,_=((y&4294901760)*y|0)+((y&65535)*y|0);l[p]=w^_}A[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,A[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,A[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,A[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,A[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,A[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,A[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,A[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(d,"nextState"),e.RabbitLegacy=n._createHelper(u)}(),t.RabbitLegacy})});var Yte=q((u6,Wte)=>{f();(function(t,e,r){typeof u6=="object"?Wte.exports=u6=e(bn(),_m(),wm(),WA(),Bs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(u6,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,o=e.algo;let a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function d(E,v){let w=v>>24&255,_=v>>16&255,S=v>>8&255,D=v&255,N=E.sbox[0][w]+E.sbox[1][_];return N=N^E.sbox[2][S],N=N+E.sbox[3][D],N}s(d,"F");function A(E,v,w){let _=v,S=w,D;for(let N=0;N<a;++N)_=_^E.pbox[N],S=d(E,_)^S,D=_,_=S,S=D;return D=_,_=S,S=D,S=S^E.pbox[a],_=_^E.pbox[a+1],{left:_,right:S}}s(A,"BlowFish_Encrypt");function h(E,v,w){let _=v,S=w,D;for(let N=a+1;N>1;--N)_=_^E.pbox[N],S=d(E,_)^S,D=_,_=S,S=D;return D=_,_=S,S=D,S=S^E.pbox[1],_=_^E.pbox[0],{left:_,right:S}}s(h,"BlowFish_Decrypt");function p(E,v,w){for(let P=0;P<4;P++){E.sbox[P]=[];for(let O=0;O<256;O++)E.sbox[P][O]=l[P][O]}let _=0;for(let P=0;P<a+2;P++)E.pbox[P]=c[P]^v[_],_++,_>=w&&(_=0);let S=0,D=0,N=0;for(let P=0;P<a+2;P+=2)N=A(E,S,D),S=N.left,D=N.right,E.pbox[P]=S,E.pbox[P+1]=D;for(let P=0;P<4;P++)for(let O=0;O<256;O+=2)N=A(E,S,D),S=N.left,D=N.right,E.sbox[P][O]=S,E.sbox[P][O+1]=D;return!0}s(p,"BlowFishInit");var y=o.Blowfish=n.extend({_doReset:s(function(){if(this._keyPriorReset!==this._key){var E=this._keyPriorReset=this._key,v=E.words,w=E.sigBytes/4;p(u,v,w)}},"_doReset"),encryptBlock:s(function(E,v){var w=A(u,E[v],E[v+1]);E[v]=w.left,E[v+1]=w.right},"encryptBlock"),decryptBlock:s(function(E,v){var w=h(u,E[v],E[v+1]);E[v]=w.left,E[v+1]=w.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=n._createHelper(y)}(),t.Blowfish})});var HT=q((f6,$te)=>{f();(function(t,e,r){typeof f6=="object"?$te.exports=f6=e(bn(),UT(),Vee(),Yee(),_m(),jee(),wm(),UM(),LB(),ete(),HM(),nte(),ote(),ate(),VB(),ute(),WA(),Bs(),hte(),mte(),yte(),Ete(),xte(),bte(),_te(),Ste(),Rte(),Dte(),Qte(),Fte(),Mte(),Ute(),qte(),Vte(),Yte()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):t.CryptoJS=e(t.CryptoJS)})(f6,function(t){return t})});var cre=q((y6,are)=>{f();(function(t,e){typeof y6=="object"&&typeof are<"u"?e(y6):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(y6,function(t){"use strict";function e(x,T){return x||T}s(e,"_pureAssign");function r(x,T){return x[T]}s(r,"_pureRef");var n=void 0,o=null,a="",c="function",l="object",u="prototype",d="__proto__",A="undefined",h="constructor",p="Symbol",y="_polyfill",E="length",v="name",w="call",_="toString",S=e(Object),D=r(S,u),N=e(String),P=r(N,u),O=e(Math),$=e(Array),ne=r($,u),oe=r(ne,"slice");function Ae(x,T){try{return{v:x.apply(this,T)}}catch(B){return{e:B}}}s(Ae,"safe");function Y(x){return function(T){return typeof T===x}}s(Y,"_createIs");function K(x){var T="[object "+x+"]";return function(B){return!!(B&&xe(B)===T)}}s(K,"_createObjIs");function xe(x){return D[_].call(x)}s(xe,"objToString");function ce(x){return typeof x===A||x===A}s(ce,"isUndefined");function J(x){return!Z(x)}s(J,"isStrictUndefined");function W(x){return x===o||ce(x)}s(W,"isNullOrUndefined");function Z(x){return!!x||x!==n}s(Z,"isDefined");var re=Y("string"),te=Y(c);function ie(x){return!x&&W(x)?!1:!!x&&typeof x===l}s(ie,"isObject");var ue=r($,"isArray"),he=K("Error"),Je=r(S,"getOwnPropertyDescriptor");function rt(x,T){return!!x&&D.hasOwnProperty[w](x,T)}s(rt,"objHasOwnProperty");var lt=e(r(S,"hasOwn"),Ct);function Ct(x,T){return rt(x,T)||!!Je(x,T)}s(Ct,"polyObjHasOwn");function Vt(x,T,B){if(x&&ie(x)){for(var Q in x)if(lt(x,Q)&&T[w](B||x,Q,x[Q])===-1)break}}s(Vt,"objForEachKey");var Hr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Dn(x){var T={};if(T[Hr.c]=!0,T[Hr.e]=!0,x.l){T.get=function(){return x.l.v};var B=Je(x.l,"v");B&&B.set&&(T.set=function(Q){x.l.v=Q})}return Vt(x,function(Q,z){T[Hr[Q]]=J(z)?T[Hr[Q]]:z}),T}s(Dn,"_createProp");var br=r(S,"defineProperty");function le(x,T,B){return br(x,T,Dn(B))}s(le,"objDefine");function Xe(x,T,B,Q,z){var pe={};return Vt(x,function(Ee,Be){ge(pe,Ee,T?Be:Ee),ge(pe,Be,B?Be:Ee)}),Q?Q(pe):pe}s(Xe,"_createKeyValueMap");function ge(x,T,B,Q){br(x,T,{value:B,enumerable:!0,writable:!1})}s(ge,"_assignMapValue");var ft=e(N),st="[object Error]";function Ye(x,T){var B=a,Q=D[_][w](x);Q===st&&(x={stack:ft(x.stack),message:ft(x.message),name:ft(x.name)});try{B=JSON.stringify(x,o,T?typeof T=="number"?T:4:n),B=(B?B.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):o)||ft(x)}catch(z){B=" - "+Ye(z,T)}return Q+": "+B}s(Ye,"dumpObj");function Mr(x){throw new Error(x)}s(Mr,"throwError");function xn(x){throw new TypeError(x)}s(xn,"throwTypeError");var qr=r(S,"freeze");function Jt(x){return x}s(Jt,"_doNothing");function gi(x){return x[d]||o}s(gi,"_getProto");var Yo=r(S,"assign"),Mn=r(S,"keys"),$o=e(qr,Jt),Xt=e(r(S,"getPrototypeOf"),gi);function mo(x){return Xe(x,1,0,$o)}s(mo,"createEnum");function ko(x){var T={};return Vt(x,function(B,Q){ge(T,B,Q[1]),ge(T,Q[0],Q[1])}),$o(T)}s(ko,"createSimpleMap");function ua(x){return ko(x)}s(ua,"createTypeMap");var de="__tsUtils$gblCfg",Ve;function At(){var x;return typeof globalThis!==A&&(x=globalThis),!x&&typeof self!==A&&(x=self),!x&&typeof window!==A&&(x=window),!x&&typeof global!==A&&(x=global),x}s(At,"_getGlobalValue");function vt(){if(!Ve){var x=Ae(At).v||{};Ve=x[de]=x[de]||{}}return Ve}s(vt,"_getGlobalConfig");var $r=Tr;function Tr(x,T,B){var Q=T?T[x]:o;return function(z){var pe=(z?z[x]:o)||Q;if(pe||B){var Ee=arguments;return(pe||B).apply(z,pe?oe[w](Ee,1):Ee)}xn('"'+ft(x)+'" not defined for '+Ye(z))}}s(Tr,"_unwrapFunctionWithPoly");var Kn=r(O,"min"),ii=r(O,"max"),Or=$r("slice",P),zr=$r("substring",P),Gr=Tr("substr",P,di);function di(x,T,B){return W(x)&&xn("Invalid "+Ye(x)),B<0?a:(T=T||0,T<0&&(T=ii(T+x[E],0)),ce(B)?Or(x,T):Or(x,T,T+B))}s(di,"polyStrSubstr");function Vi(x,T){return zr(x,0,T)}s(Vi,"strLeft");var Do="_urid",vc;function Ff(){if(!vc){var x=vt();vc=x.gblSym=x.gblSym||{k:{},s:{}}}return vc}s(Ff,"_globalSymbolRegistry");function D0(x){var T={description:ft(x),toString:s(function(){return p+"("+x+")"},"toString")};return T[y]=!0,T}s(D0,"polyNewSymbol");function Eu(x){var T=Ff();if(!lt(T.k,x)){var B=D0(x),Q=Mn(T.s).length;B[Do]=function(){return Q+"_"+B[_]()},T.k[x]=B,T.s[B[Do]()]=ft(x)}return T.k[x]}s(Eu,"polySymbolFor");var as;function Iu(){as=vt()}s(Iu,"_initTestHooks");function _e(x){return br({toJSON:s(function(){return x},"toJSON")},"v",{value:x})}s(_e,"createCachedValue");var M="window",fe;function Ce(x,T){var B;return function(){return!as&&Iu(),(!B||as.lzy)&&(B=_e(Ae(x,T).v)),B.v}}s(Ce,"_getGlobalInstFn");function X(x){return!as&&Iu(),(!fe||x===!1||as.lzy)&&(fe=_e(Ae(At).v||o)),fe.v}s(X,"getGlobal");function L(x,T){var B;if(!fe||T===!1?B=X(T):B=fe.v,B&&B[x])return B[x];if(x===M)try{return window}catch{}return o}s(L,"getInst");var Se=Ce(L,["document"]);function Ze(){return!!nr()}s(Ze,"hasWindow");var nr=Ce(L,[M]);function yi(){return!!Nn()}s(yi,"hasNavigator");var Nn=Ce(L,["navigator"]),Ms,fa;function oi(){return Ms=_e(Ae(L,[p]).v),Ms}s(oi,"_initSymbol");function Dr(x){var T=(as.lzy?0:Ms)||oi();return T.v?T.v[x]:n}s(Dr,"_getSymbolKey");function N0(x,T){!as&&Iu();var B=(as.lzy?0:Ms)||oi();return B.v?B.v(x):T?o:D0(x)}s(N0,"newSymbol");function cs(x){return!as&&Iu(),fa=(as.lzy?0:fa)||_e(Ae(Dr,["for"]).v),(fa.v||Eu)(x)}s(cs,"symbolFor");function xu(x,T,B){return x.apply(T,B)}s(xu,"fnApply");function Os(x,T,B){if(x)for(var Q=x[E]>>>0,z=0;z<Q&&!(z in x&&T[w](B||x,x[z],z,x)===-1);z++);}s(Os,"arrForEach");var vu=$r("indexOf",ne),hl=$r("map",ne),No=$r("reduce",ne),Lf=e(r(S,"create"),ap);function ap(x){if(!x)return{};var T=typeof x;T!==l&&T!==c&&xn("Prototype must be an Object or function: "+Ye(x));function B(){}return s(B,"tempFunc"),B[u]=x,new B}s(ap,"polyObjCreate");var A5;function bu(x,T){var B=S.setPrototypeOf||function(Q,z){var pe;!A5&&(A5=_e((pe={},pe[d]=[],pe instanceof Array))),A5.v?Q[d]=z:Vt(z,function(Ee,Be){return Q[Ee]=Be})};return B(x,T)}s(bu,"objSetPrototypeOf");function rL(x,T,B){Ae(le,[T,v,{v:x,c:!0,e:!1}]),T=bu(T,B);function Q(){this[h]=T,Ae(le,[this,v,{v:x,c:!0,e:!1}])}return s(Q,"__"),T[u]=B===o?Lf(B):(Q[u]=B[u],new Q),T}s(rL,"_createCustomError");function Mf(x,T){T&&(x[v]=T)}s(Mf,"_setName");function nL(x,T,B){var Q=B||Error,z=Q[u][v],pe=Error.captureStackTrace;return rL(x,function(){var Ee=this,Be=arguments;try{Ae(Mf,[Q,x]);var Me=xu(Q,Ee,oe[w](Be))||Ee;if(Me!==Ee){var et=Xt(Ee);et!==Xt(Me)&&bu(Me,et)}return pe&&pe(Me,Ee[h]),T&&T(Me,Be),Me}finally{Ae(Mf,[Q,z])}},Q)}s(nL,"createCustomError");function gA(){return(Date.now||h5)()}s(gA,"utcNow");function h5(){return new Date().getTime()}s(h5,"polyUtcNow");function $E(x){return s(function(B){return W(B)&&xn("strTrim called ["+Ye(B)+"]"),B&&B.replace&&(B=B.replace(x,a)),B},"_doTrim")}s($E,"_createTrimFn");var iL=$E(/^\s+|(?=\s)\s+$/g),La=Tr("trim",P,iL),Of=r(O,"floor"),S1,yA,B1;function Uf(x){if(!x||typeof x!==l)return!1;B1||(B1=Ze()?nr():!0);var T=!1;if(x!==B1){yA||(S1=Function[u][_],yA=S1[w](S));try{var B=Xt(x);T=!B,T||(rt(B,h)&&(B=B[h]),T=!!(B&&typeof B===c&&S1[w](B)===yA))}catch{}}return T}s(Uf,"isPlainObject");var zE;function R1(){return!as&&Iu(),(!zE||as.lzy)&&(zE=_e(Ae(L,["performance"]).v)),zE.v}s(R1,"getPerformance");var p5=r(O,"round"),cp=Tr("endsWith",P,lp);function lp(x,T,B){re(x)||xn("'"+Ye(x)+"' is not a string");var Q=re(T)?T:ft(T),z=!ce(B)&&B<x[E]?B:x[E];return zr(x,z-Q[E],z)===Q}s(lp,"polyStrEndsWith");var $t=$r("indexOf",P),s0="ref",CA="unref",up="hasRef",oL="enabled";function Hf(x,T,B){var Q=!0,z=x?T(o):o,pe;function Ee(){return Q=!1,z&&z[CA]&&z[CA](),pe}s(Ee,"_unref");function Be(){z&&B(z),z=o}s(Be,"_cancel");function Me(){return z=T(z),Q||Ee(),pe}s(Me,"_refresh");function et(St){!St&&z&&Be(),St&&!z&&Me()}return s(et,"_setEnabled"),pe={cancel:Be,refresh:Me},pe[up]=function(){return z&&z[up]?z[up]():Q},pe[s0]=function(){return Q=!0,z&&z[s0]&&z[s0](),pe},pe[CA]=Ee,pe=br(pe,oL,{get:s(function(){return!!z},"get"),set:et}),{h:pe,dn:s(function(){z=o},"dn")}}s(Hf,"_createTimerHandler");function sL(x,T,B){var Q=ue(T),z=Q?T.length:0,pe=(z>0?T[0]:Q?n:T)||setTimeout,Ee=(z>1?T[1]:n)||clearTimeout,Be=B[0];B[0]=function(){Me.dn(),xu(Be,n,oe[w](arguments))};var Me=Hf(x,function(et){if(et){if(et.refresh)return et.refresh(),et;xu(Ee,n,[et])}return xu(pe,n,B)},function(et){xu(Ee,n,[et])});return Me.h}s(sL,"_createTimeoutWith");function m5(x,T){return sL(!0,n,oe[w](arguments))}s(m5,"scheduleTimeout");var k1=mo,aL=ua,D1="toLowerCase",ls="length",qf="warnToConsole",N1="throwInternal",VS="watch",cL="apply",On="push",EA="splice",Gf="logger",g5="cancel",Q1="name",a0="unload",WS="version",YS="loggingLevelConsole",y5="messageId",IA="message",C5="diagLog",$S="userAgent",E5="split",fp="replace",Vf="type",zS="evtName",jE="traceFlags",I5="getAttribute",KE;function lL(x,T){KE||(KE=nL("AggregationError",function(Q,z){z[ls]>1&&(Q.errors=z[1])}));var B=x||"One or more errors occurred.";throw Os(T,function(Q,z){B+=`
`.concat(z," > ").concat(Ye(Q))}),new KE(B,T||[])}s(lL,"throwAggregationError");var uL="function",jS="object",fL="undefined",Tu="prototype",JE=Object,x5=JE[Tu];(X()||{}).Symbol,(X()||{}).Reflect;var XE="hasOwnProperty",dL=s(function(x){for(var T,B=1,Q=arguments.length;B<Q;B++){T=arguments[B];for(var z in T)x5[XE].call(T,z)&&(x[z]=T[z])}return x},"__objAssignFnImpl"),ZE=Yo||dL,eI=s(function(x,T){return eI=JE.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,Q){B.__proto__=Q}||function(B,Q){for(var z in Q)Q[XE](z)&&(B[z]=Q[z])},eI(x,T)},"extendStaticsFn");function Wf(x,T){typeof T!==uL&&T!==null&&xn("Class extends value "+String(T)+" is not a constructor or null"),eI(x,T);function B(){this.constructor=x}s(B,"__"),x[Tu]=T===null?Lf(T):(B[Tu]=T[Tu],new B)}s(Wf,"__extendsFn");var tI,xA="constructor",Q0="prototype",P0="function",vA="_dynInstFuncs",dp="_isDynProxy",Yf="_dynClass",Ap="_dynCls$",v5="_dynInstChk",bA=v5,hp="_dfOpts",b5="_unknown_",rI="__proto__",pp="_dyn"+rI,P1="__dynProto$Gbl",nI="_dynInstProto",mp="useBaseInst",gp="setInstFuncs",F1=Object,TA=F1.getPrototypeOf,yp=F1.getOwnPropertyNames,T5=X(),iI=T5[P1]||(T5[P1]={o:(tI={},tI[gp]=!0,tI[mp]=!0,tI),n:1e3});function Cp(x){return x&&(x===F1[Q0]||x===Array[Q0])}s(Cp,"_isObjectOrArrayPrototype");function Ep(x){return Cp(x)||x===Function[Q0]}s(Ep,"_isObjectArrayOrFunctionPrototype");function _u(x){var T;if(x){if(TA)return TA(x);var B=x[rI]||x[Q0]||(x[xA]?x[xA][Q0]:null);T=x[pp]||B,rt(x,pp)||(delete x[nI],T=x[pp]=x[nI]||x[pp],x[nI]=B)}return T}s(_u,"_getObjProto");function pl(x,T){var B=[];if(yp)B=yp(x);else for(var Q in x)typeof Q=="string"&&rt(x,Q)&&B.push(Q);if(B&&B.length>0)for(var z=0;z<B.length;z++)T(B[z])}s(pl,"_forEachProp");function Ip(x,T,B){return T!==xA&&typeof x[T]===P0&&(B||rt(x,T))&&T!==rI&&T!==Q0}s(Ip,"_isDynamicCandidate");function xp(x){xn("DynamicProto: "+x)}s(xp,"_throwTypeError");function oI(x){var T=Lf(null);return pl(x,function(B){!T[B]&&Ip(x,B,!1)&&(T[B]=x[B])}),T}s(oI,"_getInstanceFuncs");function _5(x,T){for(var B=x.length-1;B>=0;B--)if(x[B]===T)return!0;return!1}s(_5,"_hasVisited");function w5(x,T,B,Q){function z(Me,et,St){var pr=et[St];if(pr[dp]&&Q){var Rr=Me[vA]||{};Rr[bA]!==!1&&(pr=(Rr[et[Yf]]||{})[St]||pr)}return function(){return pr.apply(Me,arguments)}}s(z,"_instFuncProxy");var pe=Lf(null);pl(B,function(Me){pe[Me]=z(T,B,Me)});for(var Ee=_u(x),Be=[];Ee&&!Ep(Ee)&&!_5(Be,Ee);)pl(Ee,function(Me){!pe[Me]&&Ip(Ee,Me,!TA)&&(pe[Me]=z(T,Ee,Me))}),Be.push(Ee),Ee=_u(Ee);return pe}s(w5,"_getBaseFuncs");function AL(x,T,B,Q){var z=null;if(x&&rt(B,Yf)){var pe=x[vA]||Lf(null);if(z=(pe[B[Yf]]||Lf(null))[T],z||xp("Missing ["+T+"] "+P0),!z[v5]&&pe[bA]!==!1){for(var Ee=!rt(x,T),Be=_u(x),Me=[];Ee&&Be&&!Ep(Be)&&!_5(Me,Be);){var et=Be[T];if(et){Ee=et===Q;break}Me.push(Be),Be=_u(Be)}try{Ee&&(x[T]=z),z[v5]=1}catch{pe[bA]=!1}}}return z}s(AL,"_getInstFunc");function hL(x,T,B){var Q=T[x];return Q===B&&(Q=_u(T)[x]),typeof Q!==P0&&xp("["+x+"] is not a "+P0),Q}s(hL,"_getProtoFunc");function pL(x,T,B,Q,z){function pe(Me,et){var St=s(function(){var pr=AL(this,et,Me,St)||hL(et,Me,St);return pr.apply(this,arguments)},"dynProtoProxy");return St[dp]=1,St}if(s(pe,"_createDynamicPrototype"),!Cp(x)){var Ee=B[vA]=B[vA]||Lf(null);if(!Cp(Ee)){var Be=Ee[T]=Ee[T]||Lf(null);Ee[bA]!==!1&&(Ee[bA]=!!z),Cp(Be)||pl(B,function(Me){Ip(B,Me,!1)&&B[Me]!==Q[Me]&&(Be[Me]=B[Me],delete B[Me],(!rt(x,Me)||x[Me]&&!x[Me][dp])&&(x[Me]=pe(x,Me)))})}}}s(pL,"_populatePrototype");function mL(x,T){if(TA){for(var B=[],Q=_u(T);Q&&!Ep(Q)&&!_5(B,Q);){if(Q===x)return!0;B.push(Q),Q=_u(Q)}return!1}return!0}s(mL,"_checkPrototype");function S5(x,T){return rt(x,Q0)?x.name||T||b5:((x||{})[xA]||{}).name||T||b5}s(S5,"_getObjName");function L1(x,T,B,Q){rt(x,Q0)||xp("theClass is an invalid class definition.");var z=x[Q0];mL(z,T)||xp("["+S5(x)+"] not in hierarchy of ["+S5(T)+"]");var pe=null;rt(z,Yf)?pe=z[Yf]:(pe=Ap+S5(x,"_")+"$"+iI.n,iI.n++,z[Yf]=pe);var Ee=L1[hp],Be=!!Ee[mp];Be&&Q&&Q[mp]!==void 0&&(Be=!!Q[mp]);var Me=oI(T),et=w5(z,T,Me,Be);B(T,et);var St=!!TA&&!!Ee[gp];St&&Q&&(St=!!Q[gp]),pL(z,pe,T,Me,St!==!1)}s(L1,"dynamicProto"),L1[hp]=iI.o;var da=void 0,go="",KS="Not dynamic - ",JS=/-([a-z])/g,M1=/([^\w\d_$])/g,B5=/^(\d+[\w\d_$])/;function R5(x){return!W(x)}s(R5,"isNotNullOrUndefined");function sI(x){var T=x;return T&&re(T)&&(T=T[fp](JS,function(B,Q){return Q.toUpperCase()}),T=T[fp](M1,"_"),T=T[fp](B5,function(B,Q){return"_"+Q})),T}s(sI,"normalizeJsName");function XS(x,T){return x&&T?$t(x,T)!==-1:!1}s(XS,"strContains");function wu(x){return x&&x.toISOString()||""}s(wu,"toISOString");function $f(x){return he(x)?x[Q1]:go}s($f,"getExceptionName");function O1(x){return function(){function T(){var B=this;x&&Vt(x,function(Q,z){B[Q]=z})}return s(T,"class_1"),T}()}s(O1,"createClassFromInterface");var ZS="console",aI="JSON",gL="crypto",zf="msCrypto",vp="msie",Ur="trident/",bp=null,_A=null,Su=null;function cI(){return typeof console!==fL?console:L(ZS)}s(cI,"getConsole");function Un(){return!!(typeof JSON===jS&&JSON||L(aI)!==null)}s(Un,"hasJSON");function Tp(){return Un()?JSON||L(aI):null}s(Tp,"getJSON");function zo(){return L(gL)}s(zo,"getCrypto");function _p(){return L(zf)}s(_p,"getMsCrypto");function U1(){var x=Nn();if(x&&(x[$S]!==_A||bp===null)){_A=x[$S];var T=(_A||go)[D1]();bp=XS(T,vp)||XS(T,Ur)}return bp}s(U1,"isIE");function jf(x){return(Su===null||x===!1)&&(Su=yi()&&!!Nn().sendBeacon),Su}s(jf,"isBeaconsSupported");function H1(x,T){if(x)for(var B=0;B<x[ls];B++){var Q=x[B];if(Q[Q1]&&Q[Q1]===T)return Q}return{}}s(H1,"_getNamedValue");function lI(x){var T=Se();return T&&x?H1(T.querySelectorAll("meta"),x).content:null}s(lI,"findMetaTag");function ml(x){var T,B=R1();if(B){var Q=B.getEntriesByType("navigation")||[];T=H1((Q[ls]>0?Q[0]:{}).serverTiming,x).description}return T}s(ml,"findNamedServerTiming");var wp=4294967296,bc=4294967295,Sp=123456789,Kf=987654321,Us=!1,Bp=Sp,gl=Kf;function e8(x){x<0&&(x>>>=0),Bp=Sp+x&bc,gl=Kf-x&bc,Us=!0}s(e8,"_mwcSeed");function wA(){try{var x=gA()&2147483647;e8((Math.random()*wp^x)+x)}catch{}}s(wA,"_autoSeedMwc");function uI(x){return x>0?Of(Rp()/bc*(x+1))>>>0:0}s(uI,"randomValue");function Rp(x){var T=0,B=zo()||_p();return B&&B.getRandomValues&&(T=B.getRandomValues(new Uint32Array(1))[0]&bc),T===0&&U1()&&(Us||wA(),T=t8()&bc),T===0&&(T=Of(wp*Math.random()|0)),x||(T>>>=0),T}s(Rp,"random32");function t8(x){gl=36969*(gl&65535)+(gl>>16)&bc,Bp=18e3*(Bp&65535)+(Bp>>16)&bc;var T=(gl<<16)+(Bp&65535)>>>0&bc|0;return x||(T>>>=0),T}s(t8,"mwcRandom32");function SA(x){x===void 0&&(x=22);for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=Rp()>>>0,Q=0,z=go;z[ls]<x;)Q++,z+=T.charAt(B&63),B>>>=6,Q===5&&(B=(Rp()<<2&4294967295|B&3)>>>0,Q=0);return z}s(SA,"newId");var yl="3.3.6",fI="."+SA(6),BA=0;function Cl(x){return x.nodeType===1||x.nodeType===9||!+x.nodeType}s(Cl,"_canAcceptData");function dI(x,T){var B=T[x.id];if(!B){B={};try{Cl(T)&&le(T,x.id,{e:!1,v:B})}catch{}}return B}s(dI,"_getCache");function Bu(x,T){return T===void 0&&(T=!1),sI(x+BA+++(T?"."+yl:go)+fI)}s(Bu,"createUniqueNamespace");function El(x){var T={id:Bu("_aiData-"+(x||go)+"."+yl),accept:s(function(B){return Cl(B)},"accept"),get:s(function(B,Q,z,pe){var Ee=B[T.id];return Ee?Ee[sI(Q)]:(pe&&(Ee=dI(T,B),Ee[sI(Q)]=z),z)},"get"),kill:s(function(B,Q){if(B&&B[Q])try{delete B[Q]}catch{}},"kill")};return T}s(El,"createElmNodeData");function Jf(x){return x&&ie(x)&&(x.isVal||x.fb||lt(x,"v")||lt(x,"mrg")||lt(x,"ref")||x.set)}s(Jf,"_isConfigDefaults");function AI(x,T,B){var Q,z=B.dfVal||Z;if(T&&B.fb){var pe=B.fb;ue(pe)||(pe=[pe]);for(var Ee=0;Ee<pe[ls];Ee++){var Be=pe[Ee],Me=T[Be];if(z(Me)?Q=Me:x&&(Me=x.cfg[Be],z(Me)&&(Q=Me),x.set(x.cfg,ft(Be),Me)),z(Q))break}}return!z(Q)&&z(B.v)&&(Q=B.v),Q}s(AI,"_getDefault");function Xf(x,T,B){var Q=B;if(B&&Jf(B)&&(Q=AI(x,T,B)),Q){Jf(Q)&&(Q=Xf(x,T,Q));var z;ue(Q)?(z=[],z[ls]=Q[ls]):Uf(Q)&&(z={}),z&&(Vt(Q,function(pe,Ee){Ee&&Jf(Ee)&&(Ee=Xf(x,T,Ee)),z[pe]=Ee}),Q=z)}return Q}s(Xf,"_resolveDefaultValue");function Zf(x,T,B,Q){var z,pe,Ee,Be=Q,Me,et,St,pr;Jf(Be)?(z=Be.isVal,pe=Be.set,St=Be.rdOnly,pr=Be.blkVal,Me=Be.mrg,et=Be.ref,!et&&ce(et)&&(et=!!Me),Ee=AI(x,T,Be)):Ee=Q,pr&&x.blkVal(T,B);var Rr,Rt=!0,Lt=T[B];(Lt||!W(Lt))&&(Rr=Lt,Rt=!1,z&&Rr!==Ee&&!z(Rr)&&(Rr=Ee,Rt=!0),pe&&(Rr=pe(Rr,Ee,T),Rt=Rr===Ee)),Rt?Ee?Rr=Xf(x,T,Ee):Rr=Ee:(Uf(Rr)||ue(Ee))&&Me&&Ee&&(Uf(Ee)||ue(Ee))&&Vt(Ee,function(_r,mr){Zf(x,Rr,_r,mr)}),x.set(T,B,Rr),et&&x.ref(T,B),St&&x.rdOnly(T,B)}s(Zf,"_applyDefaultValue");var Aa=cs("[[ai_dynCfg_1]]"),k5=cs("[[ai_blkDynCfg_1]]"),q1=cs("[[ai_frcDynCfg_1]]");function D5(x){if(x){var T;if(ue(x)?(T=[],T[ls]=x[ls]):Uf(x)&&(T={}),T)return Vt(x,function(B,Q){T[B]=D5(Q)}),T}return x}s(D5,"_cfgDeepCopy");function N5(x){if(x){var T=x[Aa]||x;if(T.cfg&&(T.cfg===x||T.cfg[Aa]===T))return T}return null}s(N5,"getDynamicConfigHandler");function kp(x){if(x&&(Uf(x)||ue(x)))try{x[k5]=!0}catch{}return x}s(kp,"blockDynamicConversion");function ed(x,T,B){var Q=!1;return B&&!x[T.blkVal]&&(Q=B[q1],!Q&&!B[k5]&&(Q=Uf(B)||ue(B))),Q}s(ed,"_canMakeDynamic");function Tc(x){xn("InvalidAccess:"+x)}s(Tc,"throwInvalidAccess");var r8=["push","pop","shift","unshift","splice"],Ru=s(function(x,T,B,Q){x&&x[N1](3,108,"".concat(B," [").concat(T,"] failed - ")+Ye(Q))},"_throwDynamicError");function Q5(x,T,B){ue(T)&&Os(r8,function(Q){var z=T[Q];T[Q]=function(){for(var pe=[],Ee=0;Ee<arguments.length;Ee++)pe[Ee]=arguments[Ee];var Be=z[cL](this,pe);return RA(x,T,B,"Patching"),Be}})}s(Q5,"_patchArray");function ku(x,T){var B=Je(x,T);return B&&B.get}s(ku,"_getOwnPropGetter");function n8(x,T,B,Q){var z={n:B,h:[],trk:s(function(et){et&&et.fn&&(vu(z.h,et)===-1&&z.h[On](et),x.trk(et,z))},"trk"),clr:s(function(et){var St=vu(z.h,et);St!==-1&&z.h[EA](St,1)},"clr")},pe=!0,Ee=!1;function Be(){pe&&(Ee=Ee||ed(Be,x,Q),Q&&!Q[Aa]&&Ee&&(Q=RA(x,Q,B,"Converting")),pe=!1);var et=x.act;return et&&z.trk(et),Q}s(Be,"_getProperty"),Be[x.prop]={chng:s(function(){x.add(z)},"chng")};function Me(et){if(Q!==et){Be[x.ro]&&!x.upd&&Tc("["+B+"] is read-only:"+Ye(T)),pe&&(Ee=Ee||ed(Be,x,Q),pe=!1);var St=Ee&&Be[x.rf];if(Ee)if(St){Vt(Q,function(Rr){Q[Rr]=et?et[Rr]:da});try{Vt(et,function(Rr,Rt){Dp(x,Q,Rr,Rt)}),et=Q}catch(Rr){Ru((x.hdlr||{})[Gf],B,"Assigning",Rr),Ee=!1}}else Q&&Q[Aa]&&Vt(Q,function(Rr){var Rt=ku(Q,Rr);if(Rt){var Lt=Rt[x.prop];Lt&&Lt.chng()}});if(et!==Q){var pr=et&&ed(Be,x,et);!St&&pr&&(et=RA(x,et,B,"Converting")),Q=et,Ee=pr}x.add(z)}}s(Me,"_setProperty"),le(T,z.n,{g:Be,s:Me})}s(n8,"_createDynamicProperty");function Dp(x,T,B,Q){if(T){var z=ku(T,B),pe=z&&!!z[x.prop];pe?T[B]=Q:n8(x,T,B,Q)}return T}s(Dp,"_setDynamicProperty");function P5(x,T,B,Q){if(T){var z=ku(T,B),pe=z&&!!z[x.prop],Ee=Q&&Q[0],Be=Q&&Q[1],Me=Q&&Q[2];if(!pe){if(Me)try{kp(T)}catch(et){Ru((x.hdlr||{})[Gf],B,"Blocking",et)}try{Dp(x,T,B,T[B]),z=ku(T,B)}catch(et){Ru((x.hdlr||{})[Gf],B,"State",et)}}Ee&&(z[x.rf]=Ee),Be&&(z[x.ro]=Be),Me&&(z[x.blkVal]=!0)}return T}s(P5,"_setDynamicPropertyState");function RA(x,T,B,Q){try{Vt(T,function(z,pe){Dp(x,T,z,pe)}),T[Aa]||(br(T,Aa,{get:s(function(){return x.hdlr},"get")}),Q5(x,T,B))}catch(z){Ru((x.hdlr||{})[Gf],B,Q,z)}return T}s(RA,"_makeDynamicObject");var kA="[[ai_",F0="]]";function i8(x){var T=N0(kA+"get"+x.uid+F0),B=N0(kA+"ro"+x.uid+F0),Q=N0(kA+"rf"+x.uid+F0),z=N0(kA+"blkVal"+x.uid+F0),pe=N0(kA+"dtl"+x.uid+F0),Ee=null,Be=null,Me;function et(Rt,Lt){var _r=Me.act;try{Me.act=Rt,Rt&&Rt[pe]&&(Os(Rt[pe],function(ln){ln.clr(Rt)}),Rt[pe]=[]),Lt({cfg:x.cfg,set:x.set.bind(x),setDf:x.setDf.bind(x),ref:x.ref.bind(x),rdOnly:x.rdOnly.bind(x)})}catch(ln){var mr=x[Gf];throw mr&&mr[N1](1,107,Ye(ln)),ln}finally{Me.act=_r||null}}s(et,"_useHandler");function St(){if(Ee){var Rt=Ee;Ee=null,Be&&Be[g5](),Be=null;var Lt=[];if(Os(Rt,function(_r){if(_r&&(_r[pe]&&(Os(_r[pe],function(mr){mr.clr(_r)}),_r[pe]=null),_r.fn))try{et(_r,_r.fn)}catch(mr){Lt[On](mr)}}),Ee)try{St()}catch(_r){Lt[On](_r)}Lt[ls]>0&&lL("Watcher error(s): ",Lt)}}s(St,"_notifyWatchers");function pr(Rt){if(Rt&&Rt.h[ls]>0){Ee||(Ee=[]),Be||(Be=m5(function(){Be=null,St()},0));for(var Lt=0;Lt<Rt.h[ls];Lt++){var _r=Rt.h[Lt];_r&&vu(Ee,_r)===-1&&Ee[On](_r)}}}s(pr,"_addWatcher");function Rr(Rt,Lt){if(Rt){var _r=Rt[pe]=Rt[pe]||[];vu(_r,Lt)===-1&&_r[On](Lt)}}return s(Rr,"_trackHandler"),Me={prop:T,ro:B,rf:Q,blkVal:z,hdlr:x,add:pr,notify:St,use:et,trk:Rr},Me}s(i8,"_createState");function yL(x,T){var B={fn:T,rm:s(function(){B.fn=null,x=null,T=null},"rm")};return le(B,"toJSON",{v:s(function(){return"WatcherHandler"+(B.fn?"":"[X]")},"v")}),x.use(B,T),B}s(yL,"_createAndUseHandler");function o8(x,T,B){var Q=N5(T);if(Q)return Q;var z=Bu("dyncfg",!0),pe=T&&B!==!1?T:D5(T),Ee;function Be(){Ee.notify()}s(Be,"_notifyWatchers");function Me(mr,ln,Jn){try{mr=Dp(Ee,mr,ln,Jn)}catch(vn){Ru(x,ln,"Setting value",vn)}return mr[ln]}s(Me,"_setValue");function et(mr){return yL(Ee,mr)}s(et,"_watch");function St(mr,ln){Ee.use(null,function(Jn){var vn=Ee.upd;try{ce(ln)||(Ee.upd=ln),mr(Jn)}finally{Ee.upd=vn}})}s(St,"_block");function pr(mr,ln){var Jn;return P5(Ee,mr,ln,(Jn={},Jn[0]=!0,Jn))[ln]}s(pr,"_ref");function Rr(mr,ln){var Jn;return P5(Ee,mr,ln,(Jn={},Jn[1]=!0,Jn))[ln]}s(Rr,"_rdOnly");function Rt(mr,ln){var Jn;return P5(Ee,mr,ln,(Jn={},Jn[2]=!0,Jn))[ln]}s(Rt,"_blkPropValue");function Lt(mr,ln){return ln&&Vt(ln,function(Jn,vn){Zf(_r,mr,Jn,vn)}),mr}s(Lt,"_applyDefaults");var _r={uid:null,cfg:pe,logger:x,notify:Be,set:Me,setDf:Lt,watch:et,ref:pr,rdOnly:Rr,blkVal:Rt,_block:St};return le(_r,"uid",{c:!1,e:!1,w:!1,v:z}),Ee=i8(_r),RA(Ee,pe,"config","Creating"),_r}s(o8,"_createDynamicHandler");function s8(x,T){x?(x[qf](T),x[N1](2,108,T)):Tc(T)}s(s8,"_logInvalidAccess");function G1(x,T,B,Q){var z=o8(B,x||{},Q);return T&&z.setDf(z.cfg,T),z}s(G1,"createDynamicConfig");function a8(x,T,B){var Q=x[Aa]||x;return Q.cfg&&(Q.cfg===x||Q.cfg[Aa]===Q)?Q[VS](T):(s8(B,KS+Ye(x)),G1(x,null,B)[VS](T))}s(a8,"onConfigChange");var hI=null;function c8(){var x=L("Microsoft");return x&&(hI=x.ApplicationInsights),hI}s(c8,"_getExtensionNamespace");function CL(x){var T=hI;return!T&&x.disableDbgExt!==!0&&(T=hI||c8()),T?T.ChromeDbgExt:null}s(CL,"getDebugExt");var Np,pI="warnToConsole",l8="AI (Internal): ",u8="AI: ",EL="AITR_",IL={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},f8=(Np={},Np[0]=null,Np[1]="errorToConsole",Np[2]=pI,Np[3]="debugToConsole",Np);function d8(x){return x?'"'+x[fp](/\"/g,go)+'"':go}s(d8,"_sanitizeDiagnosticText");function mI(x,T){var B=cI();if(B){var Q="log";B[x]&&(Q=x),te(B[Q])&&B[Q](T)}}s(mI,"_logToConsole");var gI=function(){function x(T,B,Q,z){Q===void 0&&(Q=!1);var pe=this;pe[y5]=T,pe[IA]=(Q?u8:l8)+T;var Ee=go;Un()&&(Ee=Tp().stringify(z));var Be=(B?" message:"+d8(B):go)+(z?" props:"+d8(Ee):go);pe[IA]+=Be}return s(x,"_InternalLogMessage"),x.dataType="MessageData",x}();function xL(x,T){return(x||{})[Gf]||new yI(T)}s(xL,"safeGetLogger");var yI=function(){function x(T){this.identifier="DiagnosticLogger",this.queue=[];var B=0,Q={},z,pe,Ee,Be,Me;L1(x,this,function(et){Me=pr(T||{}),et.consoleLoggingLevel=function(){return z},et[N1]=function(Lt,_r,mr,ln,Jn){Jn===void 0&&(Jn=!1);var vn=new gI(_r,mr,Jn,ln);if(Be)throw Ye(vn);var us=f8[Lt]||pI;if(ce(vn[IA]))Rt("throw"+(Lt===1?"Critical":"Warning"),vn);else{if(Jn){var um=+vn[y5];!Q[um]&&z>=Lt&&(et[us](vn[IA]),Q[um]=!0)}else z>=Lt&&et[us](vn[IA]);St(Lt,vn)}},et.debugToConsole=function(Lt){mI("debug",Lt),Rt("warning",Lt)},et[qf]=function(Lt){mI("warn",Lt),Rt("warning",Lt)},et.errorToConsole=function(Lt){mI("error",Lt),Rt("error",Lt)},et.resetInternalMessageCount=function(){B=0,Q={}},et.logInternalMessage=St,et[a0]=function(Lt){Me&&Me.rm(),Me=null};function St(Lt,_r){if(!Rr()){var mr=!0,ln=EL+_r[y5];if(Q[ln]?mr=!1:Q[ln]=!0,mr&&(Lt<=pe&&(et.queue[On](_r),B++,Rt(Lt===1?"error":"warn",_r)),B===Ee)){var Jn="Internal events throttle limit per PageView reached for this app.",vn=new gI(23,Jn,!1);et.queue[On](vn),Lt===1?et.errorToConsole(Jn):et[qf](Jn)}}}s(St,"_logInternalMessage");function pr(Lt){return a8(G1(Lt,IL,et).cfg,function(_r){var mr=_r.cfg;z=mr[YS],pe=mr.loggingLevelTelemetry,Ee=mr.maxMessageLimit,Be=mr.enableDebug})}s(pr,"_setDefaultsFromConfig");function Rr(){return B>=Ee}s(Rr,"_areInternalMessagesThrottled");function Rt(Lt,_r){var mr=CL(T||{});mr&&mr[C5]&&mr[C5](Lt,_r)}s(Rt,"_debugExtMsg")})}return s(x,"DiagnosticLogger"),x.__ieDyn=1,x}();function CI(x){return x||new yI}s(CI,"_getLogger");function c0(x,T,B,Q,z,pe){pe===void 0&&(pe=!1),CI(x)[N1](T,B,Q,z,pe)}s(c0,"_throwInternal");function EI(){for(var x=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],T=go,B,Q=0;Q<4;Q++)B=Rp(),T+=x[B&15]+x[B>>4&15]+x[B>>8&15]+x[B>>12&15]+x[B>>16&15]+x[B>>20&15]+x[B>>24&15]+x[B>>28&15];var z=x[8+(Rp()&3)|0];return Gr(T,0,8)+Gr(T,9,4)+"4"+Gr(T,13,3)+z+Gr(T,16,3)+Gr(T,19,12)}s(EI,"generateW3CId");var Qp=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,F5="00",L0="ff",cn="00000000000000000000000000000000",Du="0000000000000000",jo=1;function _c(x,T,B){return x&&x[ls]===T&&x!==B?!!x.match(/^[\da-f]*$/i):!1}s(_c,"_isValid");function II(x,T,B){return _c(x,T)?x:B}s(II,"_formatValue");function DA(x){(isNaN(x)||x<0||x>255)&&(x=1);for(var T=x.toString(16);T[ls]<2;)T="0"+T;return T}s(DA,"_formatFlags");function Pp(x,T,B,Q){return{version:_c(Q,2,L0)?Q:F5,traceId:Fp(x)?x:EI(),spanId:Lp(T)?T:Vi(EI(),16),traceFlags:B>=0&&B<=255?B:1}}s(Pp,"createTraceParent");function M0(x,T){if(!x||(ue(x)&&(x=x[0]||""),!x||!re(x)||x[ls]>8192))return null;if(x.indexOf(",")!==-1){var B=x[E5](",");x=B[T>0&&B[ls]>T?T:0]}var Q=Qp.exec(La(x));return!Q||Q[1]===L0||Q[2]===cn||Q[3]===Du?null:{version:(Q[1]||go)[D1](),traceId:(Q[2]||go)[D1](),spanId:(Q[3]||go)[D1](),traceFlags:parseInt(Q[4],16)}}s(M0,"parseTraceParent");function Fp(x){return _c(x,32,cn)}s(Fp,"isValidTraceId");function Lp(x){return _c(x,16,Du)}s(Lp,"isValidSpanId");function Mp(x){return!(!x||!_c(x[WS],2,L0)||!_c(x.traceId,32,cn)||!_c(x.spanId,16,Du)||!_c(DA(x[jE]),2))}s(Mp,"isValidTraceParent");function xI(x){return Mp(x)?(x[jE]&jo)===jo:!1}s(xI,"isSampledFlag");function NA(x){if(x){var T=DA(x[jE]);_c(T,2)||(T="01");var B=x[WS]||F5;return B!=="00"&&B!=="ff"&&(B=F5),"".concat(B.toLowerCase(),"-").concat(II(x.traceId,32,cn).toLowerCase(),"-").concat(II(x.spanId,16,Du).toLowerCase(),"-").concat(T.toLowerCase())}return""}s(NA,"formatTraceParent");function L5(x){var T="traceparent",B=M0(lI(T),x);return B||(B=M0(ml(T),x)),B}s(L5,"findW3cTraceParent");function M5(x){var T=x.getElementsByTagName("script"),B=[];return Os(T,function(Q){var z=Q[I5]("src");if(z){var pe=Q[I5]("crossorigin"),Ee=Q.hasAttribute("async")===!0,Be=Q.hasAttribute("defer")===!0,Me=Q[I5]("referrerpolicy"),et={url:z};pe&&(et.crossOrigin=pe),Ee&&(et.async=Ee),Be&&(et.defer=Be),Me&&(et.referrerPolicy=Me),B[On](et)}}),B}s(M5,"findAllScripts");var vI="on",V1="attachEvent",bI="addEventListener",TI="detachEvent",A8="removeEventListener",O5="events";Bu("aiEvtPageHide"),Bu("aiEvtPageShow");var vL=/\.[\.]+/g,bL=/[\.]+$/,_I=1,Op=El("events"),Hs=/^([^.]*)(?:\.(.+)|)/;function W1(x){return x&&x[fp]?x[fp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,go):x}s(W1,"_normalizeNamespace");function _s(x,T){if(T){var B=go;ue(T)?(B=go,Os(T,function(z){z=W1(z),z&&(z[0]!=="."&&(z="."+z),B+=z)})):B=W1(T),B&&(B[0]!=="."&&(B="."+B),x=(x||go)+B)}var Q=Hs.exec(x||go)||[];return{type:Q[1],ns:(Q[2]||go).replace(vL,".").replace(bL,go)[E5](".").sort().join(".")}}s(_s,"_getEvtNamespace");function td(x,T,B){B===void 0&&(B=!0);var Q=Op.get(x,O5,{},B),z=Q[T];return z||(z=Q[T]=[]),z}s(td,"_getRegisteredEvents");function h8(x,T,B,Q){x&&T&&T[Vf]&&(x[A8]?x[A8](T[Vf],B,Q):x[TI]&&x[TI](vI+T[Vf],B))}s(h8,"_doDetach");function TL(x,T,B,Q){var z=!1;return x&&T&&T[Vf]&&B&&(x[bI]?(x[bI](T[Vf],B,Q),z=!0):x[V1]&&(x[V1](vI+T[Vf],B),z=!0)),z}s(TL,"_doAttach");function Y1(x,T,B,Q){for(var z=T[ls];z--;){var pe=T[z];pe&&(!B.ns||B.ns===pe[zS].ns)&&(!Q||Q(pe))&&(h8(x,pe[zS],pe.handler,pe.capture),T[EA](z,1))}}s(Y1,"_doUnregister");function U5(x,T,B){if(T[Vf])Y1(x,td(x,T[Vf]),T,B);else{var Q=Op.get(x,O5,{});Vt(Q,function(z,pe){Y1(x,pe,T,B)}),Mn(Q)[ls]===0&&Op.kill(x,O5)}}s(U5,"_unregisterEvents");function _L(x,T){var B;return T?(ue(T)?B=[x].concat(T):B=[x,T],B=_s("xx",B).ns[E5](".")):B=x,B}s(_L,"mergeEvtNamespace");function H5(x,T,B,Q,z){z===void 0&&(z=!1);var pe=!1;if(x)try{var Ee=_s(T,Q);if(pe=TL(x,Ee,B,z),pe&&Op.accept(x)){var Be={guid:_I++,evtName:Ee,handler:B,capture:z};td(x,Ee.type)[On](Be)}}catch{}return pe}s(H5,"eventOn");function p8(x,T,B,Q,z){if(z===void 0&&(z=!1),x)try{var pe=_s(T,Q),Ee=!1;U5(x,pe,function(Be){return pe.ns&&!B||Be.handler===B?(Ee=!0,!0):!1}),Ee||h8(x,pe,B,z)}catch{}}s(p8,"eventOff");var wI="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",m8="sampleRate",SI="ProcessLegacy",g8="http.method",q5="https://dc.services.visualstudio.com",$1="/v2/track",Il="not_specified",G5="iKey",y8=aL({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),rd="split",hr="length",Up="toLowerCase",QA="ingestionendpoint",PA="toString",V5="removeItem",z1="message",Hp="count",BI="preTriggerDate",W5="getUTCDate",RI="stringify",qp="pathname",FA="match",Y5="correlationHeaderExcludePatterns",O0="name",Gp="extensionConfig",xl="properties",Ma="measurements",Vp="sizeInBytes",j1="typeName",Wp="exceptions",K1="severityLevel",Yp="problemGroup",l0="parsedStack",kI="hasFullStack",DI="assembly",wc="fileName",$p="line",nd="aiDataContract",J1="duration";function $5(x,T,B){var Q=T[hr],z=z5(x,T);if(z[hr]!==Q){for(var pe=0,Ee=z;B[Ee]!==void 0;)pe++,Ee=zr(z,0,147)+C8(pe);z=Ee}return z}s($5,"dataSanitizeKeyAndAddUniqueness");function z5(x,T){var B;return T&&(T=La(ft(T)),T[hr]>150&&(B=zr(T,0,150),c0(x,2,57,"name is too long.  It has been truncated to 150 characters.",{name:T},!0))),B||T}s(z5,"dataSanitizeKey");function ws(x,T,B){B===void 0&&(B=1024);var Q;return T&&(B=B||1024,T=La(ft(T)),T[hr]>B&&(Q=zr(T,0,B),c0(x,2,61,"string value is too long. It has been truncated to "+B+" characters.",{value:T},!0))),Q||T}s(ws,"dataSanitizeString");function vl(x,T){return K5(x,T,2048,66)}s(vl,"dataSanitizeUrl");function NI(x,T){var B;return T&&T[hr]>32768&&(B=zr(T,0,32768),c0(x,2,56,"message is too long, it has been truncated to 32768 characters.",{message:T},!0)),B||T}s(NI,"dataSanitizeMessage");function j5(x,T){var B;if(T){var Q=""+T;Q[hr]>32768&&(B=zr(Q,0,32768),c0(x,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:T},!0))}return B||T}s(j5,"dataSanitizeException");function Nu(x,T){if(T){var B={};Vt(T,function(Q,z){if(ie(z)&&Un())try{z=Tp()[RI](z)}catch(pe){c0(x,2,49,"custom property is not valid",{exception:pe},!0)}z=ws(x,z,8192),Q=$5(x,Q,B),B[Q]=z}),T=B}return T}s(Nu,"dataSanitizeProperties");function U0(x,T){if(T){var B={};Vt(T,function(Q,z){Q=$5(x,Q,B),B[Q]=z}),T=B}return T}s(U0,"dataSanitizeMeasurements");function zp(x,T){return T&&K5(x,T,128,69)[PA]()}s(zp,"dataSanitizeId");function K5(x,T,B,Q){var z;return T&&(T=La(ft(T)),T[hr]>B&&(z=zr(T,0,B),c0(x,2,Q,"input is too long, it has been truncated to "+B+" characters.",{data:T},!0))),z||T}s(K5,"dataSanitizeInput");function C8(x){var T="00"+x;return Gr(T,T[hr]-3)}s(C8,"dsPadNumber");var J5=Se()||{},E8=0,wL=[null,null,null,null,null];function jp(x){var T=E8,B=wL,Q=B[T];return J5.createElement?B[T]||(Q=B[T]=J5.createElement("a")):Q={host:x8(x,!0)},Q.href=x,T++,T>=B[hr]&&(T=0),E8=T,Q}s(jp,"urlParseUrl");function SL(x){var T,B=jp(x);return B&&(T=B.href),T}s(SL,"urlGetAbsoluteUrl");function BL(x){var T,B=jp(x);return B&&(T=B[qp]),T}s(BL,"urlGetPathName");function I8(x,T){return x?x.toUpperCase()+" "+T:T}s(I8,"urlGetCompleteUrl");function x8(x,T){var B=Qu(x,T)||"";if(B){var Q=B[FA](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[hr]>3&&re(Q[2])&&Q[2][hr]>0)return Q[2]+(Q[3]||"")}return B}s(x8,"urlParseHost");function Qu(x,T){var B=null;if(x){var Q=x[FA](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[hr]>2&&re(Q[2])&&Q[2][hr]>0&&(B=Q[2]||"",T&&Q[hr]>2)){var z=(Q[1]||"")[Up](),pe=Q[3]||"";(z==="http"&&pe===":80"||z==="https"&&pe===":443")&&(pe=""),B+=pe}}return B}s(Qu,"urlParseFullHost");var v8=[q5+$1,"https://breeze.aimon.applicationinsights.io"+$1,"https://dc-int.services.visualstudio.com"+$1],Kp="cid-v1:";function b8(x){return vu(v8,x[Up]())!==-1}s(b8,"isInternalApplicationInsightsEndpoint");function X5(x){Kp=x}s(X5,"correlationIdSetPrefix");function Z5(){return Kp}s(Z5,"correlationIdGetPrefix");function id(x,T,B){if(!T||x&&x.disableCorrelationHeaders)return!1;if(x&&x[Y5]){for(var Q=0;Q<x.correlationHeaderExcludePatterns[hr];Q++)if(x[Y5][Q].test(T))return!1}var z=jp(T).host[Up]();if(z&&($t(z,":443")!==-1||$t(z,":80")!==-1)&&(z=(Qu(T,!0)||"")[Up]()),(!x||!x.enableCorsCorrelation)&&z&&z!==B)return!1;var pe=x&&x.correlationHeaderDomains;if(pe){var Ee;if(Os(pe,function(et){var St=new RegExp(et.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ee=Ee||St.test(z)}),!Ee)return!1}var Be=x&&x.correlationHeaderExcludedDomains;if(!Be||Be[hr]===0)return!0;for(var Q=0;Q<Be[hr];Q++){var Me=new RegExp(Be[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Me.test(z))return!1}return z&&z[hr]>0}s(id,"correlationIdCanIncludeCorrelationHeader");function T8(x){if(x){var T=_8(x,y8[1]);if(T&&T!==Kp)return T}}s(T8,"correlationIdGetCorrelationContext");function _8(x,T){if(x)for(var B=x[rd](","),Q=0;Q<B[hr];++Q){var z=B[Q][rd]("=");if(z[hr]===2&&z[0]===T)return z[1]}}s(_8,"correlationIdGetCorrelationContextValue");function w8(x,T,B,Q){var z,pe=Q,Ee=Q;if(T&&T[hr]>0){var Be=jp(T);if(z=Be.host,!pe)if(Be[qp]!=null){var Me=Be.pathname[hr]===0?"/":Be[qp];Me.charAt(0)!=="/"&&(Me="/"+Me),Ee=Be[qp],pe=ws(x,B?B+" "+Me:Me)}else pe=ws(x,T)}else z=Q,pe=Q;return{target:z,name:pe,data:Ee}}s(w8,"AjaxHelperParseDependencyPath");function RL(){var x=R1();if(x&&x.now&&x.timing){var T=x.now()+x.timing.navigationStart;if(T>0)return T}return gA()}s(RL,"dateTimeUtilsNow");function kL(x,T){var B=null;return x!==0&&T!==0&&!W(x)&&!W(T)&&(B=T-x),B}s(kL,"dateTimeUtilsDuration");function eT(x,T){var B=x||{};return{getName:s(function(){return B[O0]},"getName"),setName:s(function(Q){T&&T.setName(Q),B[O0]=Q},"setName"),getTraceId:s(function(){return B.traceID},"getTraceId"),setTraceId:s(function(Q){T&&T.setTraceId(Q),Fp(Q)&&(B.traceID=Q)},"setTraceId"),getSpanId:s(function(){return B.parentID},"getSpanId"),setSpanId:s(function(Q){T&&T.setSpanId(Q),Lp(Q)&&(B.parentID=Q)},"setSpanId"),getTraceFlags:s(function(){return B.traceFlags},"getTraceFlags"),setTraceFlags:s(function(Q){T&&T.setTraceFlags(Q),B.traceFlags=Q},"setTraceFlags")}}s(eT,"createDistributedTraceContextFromTrace");var Jp=k1({LocalStorage:0,SessionStorage:1}),DL=k1({AI:0,AI_AND_W3C:1,W3C:2}),X1=k1({Normal:1,Critical:2}),od=void 0,Sc=void 0,S8="";function Xp(){return QI()?Zp(Jp.LocalStorage):null}s(Xp,"_getLocalStorageObject");function Zp(x){try{if(W(X()))return null;var T=new Date()[PA](),B=L(x===Jp.LocalStorage?"localStorage":"sessionStorage"),Q=S8+T;B.setItem(Q,T);var z=B.getItem(Q)!==T;if(B[V5](Q),!z)return B}catch{}return null}s(Zp,"_getVerifiedStorageObject");function em(){return Pu()?Zp(Jp.SessionStorage):null}s(em,"_getSessionStorageObject");function Z1(){od=!1,Sc=!1}s(Z1,"utlDisableStorage");function ey(x){S8=x||""}s(ey,"utlSetStoragePrefix");function NL(){od=QI(!0),Sc=Pu(!0)}s(NL,"utlEnableStorage");function QI(x){return(x||od===void 0)&&(od=!!Zp(Jp.LocalStorage)),od}s(QI,"utlCanUseLocalStorage");function B8(x,T){var B=Xp();if(B!==null)try{return B.getItem(T)}catch(Q){od=!1,c0(x,2,1,"Browser failed read of local storage. "+$f(Q),{exception:Ye(Q)})}return null}s(B8,"utlGetLocalStorage");function R8(x,T,B){var Q=Xp();if(Q!==null)try{return Q.setItem(T,B),!0}catch(z){od=!1,c0(x,2,3,"Browser failed write to local storage. "+$f(z),{exception:Ye(z)})}return!1}s(R8,"utlSetLocalStorage");function H0(x,T){var B=Xp();if(B!==null)try{return B[V5](T),!0}catch(Q){od=!1,c0(x,2,5,"Browser failed removal of local storage item. "+$f(Q),{exception:Ye(Q)})}return!1}s(H0,"utlRemoveStorage");function Pu(x){return(x||Sc===void 0)&&(Sc=!!Zp(Jp.SessionStorage)),Sc}s(Pu,"utlCanUseSessionStorage");function tm(){var x=[];return Pu()&&Vt(L("sessionStorage"),function(T){x.push(T)}),x}s(tm,"utlGetSessionStorageKeys");function k8(x,T){var B=em();if(B!==null)try{return B.getItem(T)}catch(Q){Sc=!1,c0(x,2,2,"Browser failed read of session storage. "+$f(Q),{exception:Ye(Q)})}return null}s(k8,"utlGetSessionStorage");function QL(x,T,B){var Q=em();if(Q!==null)try{return Q.setItem(T,B),!0}catch(z){Sc=!1,c0(x,2,4,"Browser failed write to session storage. "+$f(z),{exception:Ye(z)})}return!1}s(QL,"utlSetSessionStorage");function D8(x,T){var B=em();if(B!==null)try{return B[V5](T),!0}catch(Q){Sc=!1,c0(x,2,6,"Browser failed removal of session storage item. "+$f(Q),{exception:Ye(Q)})}return!1}s(D8,"utlRemoveSessionStorage");var PL="appInsightsThrottle",FL=function(){function x(T,B){var Q=this,z,pe,Ee,Be,Me,et,St,pr=!1,Rr=!1;Lt(),Q._getDbgPlgTargets=function(){return[St]},Q.getConfig=function(){return Ee},Q.canThrottle=function(ct){var Ht=hT(ct),rr=_r(ct);return Jn(rr,z,Ht)},Q.isTriggered=function(ct){return j8(ct)},Q.isReady=function(){return pr},Q.flush=function(ct){try{var Ht=K8(ct);if(Ht&&Ht[hr]>0){var rr=Ht.slice(0);return St[ct]=[],Os(rr,function(_i){Rt(_i.msgID,_i[z1],_i.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(St){var ct=!0;return Vt(St,function(Ht){var rr=Q.flush(parseInt(Ht));ct=ct&&rr}),ct}}catch{}return!1},Q.onReadyState=function(ct,Ht){return Ht===void 0&&(Ht=!0),pr=W(ct)?!0:ct,pr&&Ht?Q.flushAll():null},Q.sendMessage=function(ct,Ht,rr){return Rt(ct,Ht,rr,!0)};function Rt(ct,Ht,rr,_i){if(pr){var ds=eM(ct);if(!ds)return;var yo=_r(ct),As=hT(ct),MA=Jn(yo,z,As),ud=!1,fm=0,J8=j8(ct);try{MA&&!J8?(fm=Kn(yo.limit.maxSendNumber,As[Hp]+1),As[Hp]=0,ud=!0,Me[ct]=!0,As[BI]=new Date):(Me[ct]=MA,As[Hp]+=1);var X8=vn(ct);AT(pe,X8,As);for(var zI=0;zI<fm;zI++)z8(ct,pe,Ht,rr)}catch{}return{isThrottled:ud,throttleNum:fm}}else if(_i){var tM=K8(ct);tM.push({msgID:ct,message:Ht,severity:rr})}return null}s(Rt,"_flushMessage");function Lt(){pe=xL(T),Me={},Be={},St={},Ee={},mr(109),et=R5(B)?B:"",T.addUnloadHook(a8(T.config,function(ct){var Ht=ct.cfg;z=QI();var rr=Ht.throttleMgrCfg||{};Vt(rr,function(_i,ds){mr(parseInt(_i),ds)})}))}s(Lt,"_initConfig");function _r(ct){return Ee[ct]||Ee[109]}s(_r,"_getCfgByKey");function mr(ct,Ht){var rr,_i;try{var ds=Ht||{},yo={};yo.disabled=!!ds.disabled;var As=ds.interval||{};Rr=As?.daysOfMonth&&As?.daysOfMonth[hr]>0,yo.interval=ln(As);var MA={samplingRate:((rr=ds.limit)===null||rr===void 0?void 0:rr.samplingRate)||100,maxSendNumber:((_i=ds.limit)===null||_i===void 0?void 0:_i.maxSendNumber)||1};yo.limit=MA,Ee[ct]=yo}catch{}}s(mr,"_setCfgByKey");function ln(ct){ct=ct||{};var Ht=ct?.monthInterval,rr=ct?.dayInterval;return W(Ht)&&W(rr)&&(ct.monthInterval=3,Rr||(ct.daysOfMonth=[28],Rr=!0)),ct={monthInterval:ct?.monthInterval,dayInterval:ct?.dayInterval,daysOfMonth:ct?.daysOfMonth},ct}s(ln,"_getIntervalConfig");function Jn(ct,Ht,rr){if(ct&&!ct.disabled&&Ht&&R5(rr)){var _i=cy(),ds=rr.date,yo=ct.interval,As=1;if(yo?.monthInterval){var MA=(_i.getUTCFullYear()-ds.getUTCFullYear())*12+_i.getUTCMonth()-ds.getUTCMonth();As=$I(yo.monthInterval,0,MA)}var ud=1;if(Rr)ud=vu(yo.daysOfMonth,_i[W5]());else if(yo?.dayInterval){var fm=Of((_i.getTime()-ds.getTime())/864e5);ud=$I(yo.dayInterval,0,fm)}return As>=0&&ud>=0}return!1}s(Jn,"_canThrottle");function vn(ct,Ht){var rr=R5(Ht)?Ht:"";return ct?PL+rr+"-"+ct:null}s(vn,"_getLocalStorageName");function us(ct){try{if(ct){var Ht=new Date;return ct.getUTCFullYear()===Ht.getUTCFullYear()&&ct.getUTCMonth()===Ht.getUTCMonth()&&ct[W5]()===Ht[W5]()}}catch{}return!1}s(us,"_isTriggeredOnCurDate");function um(ct,Ht,rr){try{var _i={date:cy(),count:0};if(ct){var ds=JSON.parse(ct),yo={date:cy(ds.date)||_i.date,count:ds[Hp]||_i[Hp],preTriggerDate:ds.preTriggerDate?cy(ds[BI]):void 0};return yo}else return AT(Ht,rr,_i),_i}catch{}return null}s(um,"_getLocalStorageObj");function cy(ct){try{if(ct){var Ht=new Date(ct);if(!isNaN(Ht.getDate()))return Ht}else return new Date}catch{}return null}s(cy,"_getThrottleDate");function AT(ct,Ht,rr){try{return R8(ct,Ht,La(JSON[RI](rr)))}catch{}return!1}s(AT,"_resetLocalStorage");function $I(ct,Ht,rr){return ct<=0?1:rr>=Ht&&(rr-Ht)%ct==0?Of((rr-Ht)/ct)+1:-1}s($I,"_checkInterval");function z8(ct,Ht,rr,_i){c0(Ht,_i||1,ct,rr)}s(z8,"_sendMessage");function eM(ct){try{var Ht=_r(ct);return uI(1e6)<=Ht.limit.samplingRate}catch{}return!1}s(eM,"_canSampledIn");function hT(ct){try{var Ht=Be[ct];if(!Ht){var rr=vn(ct,et);Ht=um(B8(pe,rr),pe,rr),Be[ct]=Ht}return Be[ct]}catch{}return null}s(hT,"_getLocalStorageObjByKey");function j8(ct){var Ht=Me[ct];if(W(Ht)){Ht=!1;var rr=hT(ct);rr&&(Ht=us(rr[BI])),Me[ct]=Ht}return Me[ct]}s(j8,"_isTrigger");function K8(ct){return St=St||{},W(St[ct])&&(St[ct]=[]),St[ct]}s(K8,"_getQueueByKey")}return s(x,"ThrottleMgr"),x}(),tT=";",bl="=";function PI(x){if(!x)return{};var T=x[rd](tT),B=No(T,function(z,pe){var Ee=pe[rd](bl);if(Ee[hr]===2){var Be=Ee[0][Up](),Me=Ee[1];z[Be]=Me}return z},{});if(Mn(B)[hr]>0){if(B.endpointsuffix){var Q=B.location?B.location+".":"";B[QA]=B[QA]||"https://"+Q+"dc."+B.endpointsuffix}B[QA]=B[QA]||q5,cp(B[QA],"/")&&(B[QA]=B[QA].slice(0,-1))}return B}s(PI,"parseConnectionString");var FI={parse:PI},LI=function(){function x(T,B,Q){var z=this,pe=this;pe.ver=1,pe.sampleRate=100,pe.tags={},pe[O0]=ws(T,Q)||Il,pe.data=B,pe.time=wu(new Date),pe[nd]={time:1,iKey:1,name:1,sampleRate:s(function(){return z.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return s(x,"Envelope"),x}(),LL=function(){function x(T,B,Q,z){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var pe=this;pe.ver=2,pe[O0]=ws(T,B)||Il,pe[xl]=Nu(T,Q),pe[Ma]=U0(T,z)}return s(x,"Event"),x.envelopeType="Microsoft.ApplicationInsights.{0}.Event",x.dataType="EventData",x}(),ML=58,N8=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,OL=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,rm=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,Q8=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,UL=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,HL=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,qL=/([^\(\s\n]+):([0-9]+)$/,P8="<no_method>",nm="error",u0="stack",ty="stackDetails",MI="errorSrc",ry="message",ny="description",rT=[{re:OL,len:5,m:1,fn:2,ln:3,col:4},{chk:OI,pre:Mt,re:rm,len:4,m:1,fn:2,ln:3},{re:Q8,len:3,m:1,fn:2,hdl:iT},{re:UL,len:2,fn:1,hdl:iT}];function Mt(x){return x.replace(/(\(anonymous\))/,"<anonymous>")}s(Mt,"_scrubAnonymous");function OI(x){return $t(x,"[native")<0}s(OI,"_ignoreNative");function iy(x,T){var B=x;return B&&!re(B)&&(JSON&&JSON[RI]?(B=JSON[RI](x),T&&(!B||B==="{}")&&(te(x[PA])?B=x[PA]():B=""+x)):B=""+x+" - (Missing JSON.stringify)"),B||""}s(iy,"_stringify");function sd(x,T){var B=x;return x&&(B&&!re(B)&&(B=x[ry]||x[ny]||B),B&&!re(B)&&(B=iy(B,!0)),x.filename&&(B=B+" @"+(x.filename||"")+":"+(x.lineno||"?")+":"+(x.colno||"?"))),T&&T!=="String"&&T!=="Object"&&T!=="Error"&&$t(B||"",T)===-1&&(B=T+": "+B),B||""}s(sd,"_formatMessage");function F8(x){try{if(ie(x))return"hasFullStack"in x&&"typeName"in x}catch{}return!1}s(F8,"_isExceptionDetailsInternal");function L8(x){try{if(ie(x))return"ver"in x&&"exceptions"in x&&"properties"in x}catch{}return!1}s(L8,"_isExceptionInternal");function UI(x){return x&&x.src&&re(x.src)&&x.obj&&ue(x.obj)}s(UI,"_isStackDetails");function Fu(x){var T=x||"";re(T)||(re(T[u0])?T=T[u0]:T=""+T);var B=T[rd](`
`);return{src:T,obj:B}}s(Fu,"_convertStackObj");function M8(x){for(var T=[],B=x[rd](`
`),Q=0;Q<B[hr];Q++){var z=B[Q];B[Q+1]&&(z+="@"+B[Q+1],Q++),T.push(z)}return{src:x,obj:T}}s(M8,"_getOperaStack");function HI(x){var T=null;if(x)try{if(x[u0])T=Fu(x[u0]);else if(x[nm]&&x[nm][u0])T=Fu(x[nm][u0]);else if(x.exception&&x.exception[u0])T=Fu(x.exception[u0]);else if(UI(x))T=x;else if(UI(x[ty]))T=x[ty];else if(nr()&&nr().opera&&x[ry])T=M8(x[z1]);else if(x.reason&&x.reason[u0])T=Fu(x.reason[u0]);else if(re(x))T=Fu(x);else{var B=x[ry]||x[ny]||"";re(x[MI])&&(B&&(B+=`
`),B+=" from "+x[MI]),B&&(T=Fu(B))}}catch(Q){T=Fu(Q)}return T||{src:"",obj:null}}s(HI,"_getStackFromErrorObj");function O8(x){var T="";return x&&(x.obj?T=x.obj.join(`
`):T=x.src||""),T}s(O8,"_formatStackTrace");function qI(x){var T,B=x.obj;if(B&&B[hr]>0){T=[];var Q=0,z=!1,pe=0;Os(B,function(_r){if(z||GL(_r)){var mr=ft(_r);z=!0;var ln=VL(mr,Q);ln&&(pe+=ln[Vp],T.push(ln),Q++)}});var Ee=32*1024;if(pe>Ee)for(var Be=0,Me=T[hr]-1,et=0,St=Be,pr=Me;Be<Me;){var Rr=T[Be][Vp],Rt=T[Me][Vp];if(et+=Rr+Rt,et>Ee){var Lt=pr-St+1;T.splice(St,Lt);break}St=Be,pr=Me,Be++,Me--}}return T}s(qI,"_parseStack");function im(x){var T="";if(x&&(T=x.typeName||x[O0]||"",!T))try{var B=/function (.{1,200})\(/,Q=B.exec(x.constructor[PA]());T=Q&&Q[hr]>1?Q[1]:""}catch{}return T}s(im,"_getErrorType");function GI(x){if(x)try{if(!re(x)){var T=im(x),B=iy(x,!1);return(!B||B==="{}")&&(x[nm]&&(x=x[nm],T=im(x)),B=iy(x,!0)),$t(B,T)!==0&&T!=="String"?T+":"+B:B}}catch{}return""+(x||"")}s(GI,"_formatErrorCode");var Tl=function(){function x(T,B,Q,z,pe,Ee){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Be=this;Be.ver=2,L8(B)?(Be[Wp]=B[Wp]||[],Be[xl]=B[xl],Be[Ma]=B[Ma],B[K1]&&(Be[K1]=B[K1]),B.id&&(Be.id=B.id,B[xl].id=B.id),B[Yp]&&(Be[Yp]=B[Yp]),W(B.isManual)||(Be.isManual=B.isManual)):(Q||(Q={}),Ee&&(Q.id=Ee),Be[Wp]=[q8(T,B,Q)],Be[xl]=Nu(T,Q),Be[Ma]=U0(T,z),pe&&(Be[K1]=pe),Ee&&(Be.id=Ee))}return s(x,"Exception"),x.CreateAutoException=function(T,B,Q,z,pe,Ee,Be,Me){var et=im(pe||Ee||T);return{message:sd(T,et),url:B,lineNumber:Q,columnNumber:z,error:GI(pe||Ee||T),evt:GI(Ee||T),typeName:et,stackDetails:HI(Be||pe||Ee),errorSrc:Me}},x.CreateFromInterface=function(T,B,Q,z){var pe=B[Wp]&&hl(B[Wp],function(Be){return nT(T,Be)}),Ee=new x(T,ZE(ZE({},B),{exceptions:pe}),Q,z);return Ee},x.prototype.toInterface=function(){var T=this,B=T.exceptions,Q=T.properties,z=T.measurements,pe=T.severityLevel,Ee=T.problemGroup,Be=T.id,Me=T.isManual,et=B instanceof Array&&hl(B,function(St){return St.toInterface()})||void 0;return{ver:"4.0",exceptions:et,severityLevel:pe,properties:Q,measurements:z,problemGroup:Ee,id:Be,isManual:Me}},x.CreateSimpleException=function(T,B,Q,z,pe,Ee){var Be;return{exceptions:[(Be={},Be[kI]=!0,Be.message=T,Be.stack=pe,Be.typeName=B,Be)]}},x.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",x.dataType="ExceptionData",x.formatError=GI,x}(),U8=$o({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function H8(){var x=this,T=ue(x[l0])&&hl(x[l0],function(Q){return V8(Q)}),B={id:x.id,outerId:x.outerId,typeName:x[j1],message:x[z1],hasFullStack:x[kI],stack:x[u0],parsedStack:T||void 0};return B}s(H8,"_toInterface");function q8(x,T,B){var Q,z,pe,Ee,Be,Me,et,St;if(F8(T))Ee=T[j1],Be=T[z1],et=T[u0],St=T[l0]||[],Me=T[kI];else{var pr=T,Rr=pr&&pr.evt;he(pr)||(pr=pr[nm]||Rr||pr),Ee=ws(x,im(pr))||Il,Be=NI(x,sd(T||pr,Ee))||Il;var Rt=T[ty]||HI(T);St=qI(Rt),ue(St)&&hl(St,function(Lt){Lt[DI]=ws(x,Lt[DI]),Lt[wc]=ws(x,Lt[wc])}),et=j5(x,O8(Rt)),Me=ue(St)&&St[hr]>0,B&&(B[j1]=B[j1]||Ee)}return Q={},Q[nd]=U8,Q.id=z,Q.outerId=pe,Q.typeName=Ee,Q.message=Be,Q[kI]=Me,Q.stack=et,Q.parsedStack=St,Q.toInterface=H8,Q}s(q8,"_createExceptionDetails");function nT(x,T){var B=ue(T[l0])&&hl(T[l0],function(z){return G8(z)})||T[l0],Q=q8(x,ZE(ZE({},T),{parsedStack:B}));return Q}s(nT,"_createExDetailsFromInterface");function oy(x,T){var B=T[FA](HL);if(B&&B[hr]>=4)x[wc]=B[1],x[$p]=parseInt(B[2]);else{var Q=T[FA](qL);Q&&Q[hr]>=3?(x[wc]=Q[1],x[$p]=parseInt(Q[2])):x[wc]=T}}s(oy,"_parseFilename");function iT(x,T,B){var Q=x[wc];T.fn&&B&&B[hr]>T.fn&&(T.ln&&B[hr]>T.ln?(Q=La(B[T.fn]||""),x[$p]=parseInt(La(B[T.ln]||""))||0):Q=La(B[T.fn]||"")),Q&&oy(x,Q)}s(iT,"_handleFilename");function GL(x){var T=!1;if(x&&re(x)){var B=La(x);B&&(T=N8.test(B))}return T}s(GL,"_isStackFrame");var oT=$o({level:1,method:1,assembly:0,fileName:0,line:0});function VL(x,T){var B,Q;if(x&&re(x)&&La(x)){Q=(B={},B[nd]=oT,B.level=T,B.assembly=La(x),B.method=P8,B.fileName="",B.line=0,B.sizeInBytes=0,B);for(var z=0;z<rT[hr];){var pe=rT[z];if(pe.chk&&!pe.chk(x))break;pe.pre&&(x=pe.pre(x));var Ee=x[FA](pe.re);if(Ee&&Ee[hr]>=pe.len){pe.m&&(Q.method=La(Ee[pe.m]||P8)),pe.hdl?pe.hdl(Q,pe,Ee):pe.fn&&(pe.ln?(Q[wc]=La(Ee[pe.fn]||""),Q[$p]=parseInt(La(Ee[pe.ln]||""))||0):oy(Q,Ee[pe.fn]||""));break}z++}}return sT(Q)}s(VL,"_extractStackFrame");function G8(x){var T,B=(T={},T[nd]=oT,T.level=x.level,T.method=x.method,T.assembly=x[DI],T.fileName=x[wc],T.line=x[$p],T.sizeInBytes=0,T);return sT(B)}s(G8,"_stackFrameFromInterface");function sT(x){var T=ML;return x&&(T+=x.method[hr],T+=x.assembly[hr],T+=x.fileName[hr],T+=x.level.toString()[hr],T+=x.line.toString()[hr],x[Vp]=T),x}s(sT,"_populateFrameSizeInBytes");function V8(x){return{level:x.level,method:x.method,assembly:x[DI],fileName:x[wc],line:x[$p]}}s(V8,"_parsedFrameToInterface");var W8=function(){function x(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(x,"DataPoint"),x}(),WL=function(){function x(T,B,Q,z,pe,Ee,Be,Me,et){this.aiDataContract={ver:1,metrics:1,properties:0};var St=this;St.ver=2;var pr=new W8;pr[Hp]=z>0?z:void 0,pr.max=isNaN(Ee)||Ee===null?void 0:Ee,pr.min=isNaN(pe)||pe===null?void 0:pe,pr[O0]=ws(T,B)||Il,pr.value=Q,pr.stdDev=isNaN(Be)||Be===null?void 0:Be,St.metrics=[pr],St[xl]=Nu(T,Me),St[Ma]=U0(T,et)}return s(x,"Metric"),x.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",x.dataType="MetricData",x}(),om="";function YL(x,T){return T===void 0&&(T=!1),x==null?T:x.toString()[Up]()==="true"}s(YL,"stringToBoolOrDefault");function aT(x){(isNaN(x)||x<0)&&(x=0),x=p5(x);var T=om+x%1e3,B=om+Of(x/1e3)%60,Q=om+Of(x/(1e3*60))%60,z=om+Of(x/(1e3*60*60))%24,pe=Of(x/(1e3*60*60*24));return T=T[hr]===1?"00"+T:T[hr]===2?"0"+T:T,B=B[hr]<2?"0"+B:B,Q=Q[hr]<2?"0"+Q:Q,z=z[hr]<2?"0"+z:z,(pe>0?pe+".":om)+z+":"+Q+":"+B+"."+T}s(aT,"msToTimeSpan");function $L(x,T){var B=null;return Os(x,function(Q){if(Q.identifier===T)return B=Q,-1}),B}s($L,"getExtensionByName");function ad(x,T,B,Q,z){return!z&&re(x)&&(x==="Script error."||x==="Script error")}s(ad,"isCrossOriginError");var zL=function(){function x(T,B,Q,z,pe,Ee,Be){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Me=this;Me.ver=2,Me.id=zp(T,Be),Me.url=vl(T,Q),Me[O0]=ws(T,B)||Il,isNaN(z)||(Me[J1]=aT(z)),Me[xl]=Nu(T,pe),Me[Ma]=U0(T,Ee)}return s(x,"PageView"),x.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",x.dataType="PageviewData",x}(),sm=function(){function x(T,B,Q,z,pe,Ee,Be,Me,et,St,pr,Rr){et===void 0&&(et="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Rt=this;Rt.ver=2,Rt.id=B,Rt[J1]=aT(pe),Rt.success=Ee,Rt.resultCode=Be+"",Rt.type=ws(T,et);var Lt=w8(T,Q,Me,z);Rt.data=vl(T,z)||Lt.data,Rt.target=ws(T,Lt.target),St&&(Rt.target="".concat(Rt.target," | ").concat(St)),Rt[O0]=ws(T,Lt[O0]),Rt[xl]=Nu(T,pr),Rt[Ma]=U0(T,Rr)}return s(x,"RemoteDependencyData"),x.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",x.dataType="RemoteDependencyData",x}(),cT=function(){function x(T,B,Q,z,pe){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ee=this;Ee.ver=2,B=B||Il,Ee[z1]=NI(T,B),Ee[xl]=Nu(T,z),Ee[Ma]=U0(T,pe),Q&&(Ee[K1]=Q)}return s(x,"Trace"),x.envelopeType="Microsoft.ApplicationInsights.{0}.Message",x.dataType="MessageData",x}(),sy=function(){function x(T,B,Q,z,pe,Ee,Be){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Me=this;Me.ver=2,Me.url=vl(T,Q),Me[O0]=ws(T,B)||Il,Me[xl]=Nu(T,pe),Me[Ma]=U0(T,Ee),Be&&(Me.domProcessing=Be.domProcessing,Me[J1]=Be[J1],Me.networkConnect=Be.networkConnect,Me.perfTotal=Be.perfTotal,Me.receivedResponse=Be.receivedResponse,Me.sentRequest=Be.sentRequest)}return s(x,"PageViewPerformance"),x.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",x.dataType="PageviewPerformanceData",x}(),jL=function(){function x(T,B){this.aiDataContract={baseType:1,baseData:1},this.baseType=T,this.baseData=B}return s(x,"Data"),x}(),VI=k1({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),KL=function(){function x(){}return s(x,"ConfigurationManager"),x.getConfig=function(T,B,Q,z){z===void 0&&(z=!1);var pe;return Q&&T[Gp]&&T[Gp][Q]&&!W(T[Gp][Q][B])?pe=T[Gp][Q][B]:pe=T[B],W(pe)?z:pe},x}();function _l(x){var T="ai."+x+".";return function(B){return T+B}}s(_l,"_aiNameFunc");var am=_l("application"),Ko=_l("device"),WI=_l("location"),cm=_l("operation"),YI=_l("session"),cd=_l("user"),LA=_l("cloud"),ay=_l("internal"),ld=function(x){Wf(T,x);function T(){return x.call(this)||this}return s(T,"ContextTagKeys"),T}(O1({applicationVersion:am("ver"),applicationBuild:am("build"),applicationTypeId:am("typeId"),applicationId:am("applicationId"),applicationLayer:am("layer"),deviceId:Ko("id"),deviceIp:Ko("ip"),deviceLanguage:Ko("language"),deviceLocale:Ko("locale"),deviceModel:Ko("model"),deviceFriendlyName:Ko("friendlyName"),deviceNetwork:Ko("network"),deviceNetworkName:Ko("networkName"),deviceOEMName:Ko("oemName"),deviceOS:Ko("os"),deviceOSVersion:Ko("osVersion"),deviceRoleInstance:Ko("roleInstance"),deviceRoleName:Ko("roleName"),deviceScreenResolution:Ko("screenResolution"),deviceType:Ko("type"),deviceMachineName:Ko("machineName"),deviceVMName:Ko("vmName"),deviceBrowser:Ko("browser"),deviceBrowserVersion:Ko("browserVersion"),locationIp:WI("ip"),locationCountry:WI("country"),locationProvince:WI("province"),locationCity:WI("city"),operationId:cm("id"),operationName:cm("name"),operationParentId:cm("parentId"),operationRootId:cm("rootId"),operationSyntheticSource:cm("syntheticSource"),operationCorrelationVector:cm("correlationVector"),sessionId:YI("id"),sessionIsFirst:YI("isFirst"),sessionIsNew:YI("isNew"),userAccountAcquisitionDate:cd("accountAcquisitionDate"),userAccountId:cd("accountId"),userAgent:cd("userAgent"),userId:cd("id"),userStoreRegion:cd("storeRegion"),userAuthUserId:cd("authUserId"),userAnonymousUserAcquisitionDate:cd("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:cd("authUserAcquisitionDate"),cloudName:LA("name"),cloudRole:LA("role"),cloudRoleVer:LA("roleVer"),cloudRoleInstance:LA("roleInstance"),cloudEnvironment:LA("environment"),cloudLocation:LA("location"),cloudDeploymentUnit:LA("deploymentUnit"),internalNodeName:ay("nodeName"),internalSdkVersion:ay("sdkVersion"),internalAgentVersion:ay("agentVersion"),internalSnippet:ay("snippet"),internalSdkSrc:ay("sdkSrc")}));function lT(x,T,B,Q,z,pe){B=ws(Q,B)||Il,(W(x)||W(T)||W(B))&&Mr("Input doesn't contain all required fields");var Ee="";x[G5]&&(Ee=x[G5],delete x[G5]);var Be={name:B,time:wu(new Date),iKey:Ee,ext:pe||{},tags:[],data:{},baseType:T,baseData:x};return W(z)||Vt(z,function(Me,et){Be.data[Me]=et}),Be}s(lT,"createTelemetryItem");var uT=function(){function x(){}return s(x,"TelemetryItemCreator"),x.create=lT,x}(),JL={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},XL=new ld;function Y8(x){var T=null;if(te(Event))T=new Event(x);else{var B=Se();B&&B.createEvent&&(T=B.createEvent("Event"),T.initEvent(x,!0,!0))}return T}s(Y8,"createDomEvent");function fT(x,T){p8(x,null,null,T)}s(fT,"_disableEvents");function $8(x){var T=Se(),B=Nn(),Q=!1,z=[],pe=1;B&&!W(B.onLine)&&!B.onLine&&(pe=2);var Ee=0,Be=Rr(),Me=_L(Bu("OfflineListener"),x);try{if(St(nr())&&(Q=!0),T){var et=T.body||T;et.ononline&&St(et)&&(Q=!0)}}catch{Q=!1}function St(vn){var us=!1;return vn&&(us=H5(vn,"online",_r,Me),us&&H5(vn,"offline",mr,Me)),us}s(St,"_enableEvents");function pr(){return Be}s(pr,"_isOnline");function Rr(){return!(Ee===2||pe===2)}s(Rr,"calCurrentState");function Rt(){var vn=Rr();Be!==vn&&(Be=vn,Os(z,function(us){var um={isOnline:Be,rState:pe,uState:Ee};try{us(um)}catch{}}))}s(Rt,"listnerNoticeCheck");function Lt(vn){Ee=vn,Rt()}s(Lt,"setOnlineState");function _r(){pe=1,Rt()}s(_r,"_setOnline");function mr(){pe=2,Rt()}s(mr,"_setOffline");function ln(){var vn=nr();if(vn&&Q){if(fT(vn,Me),T){var us=T.body||T;ce(us.ononline)||fT(us,Me)}Q=!1}}s(ln,"_unload");function Jn(vn){return z.push(vn),{rm:s(function(){var us=z.indexOf(vn);if(us>-1)return z.splice(us,1)},"rm")}}return s(Jn,"addListener"),{isOnline:pr,isListening:s(function(){return Q},"isListening"),unload:ln,addListener:Jn,setOnlineState:Lt}}s($8,"createOfflineListener");var ZL="AppInsightsPropertiesPlugin",dT="AppInsightsChannelPlugin",lm="ApplicationInsightsAnalytics";t.AnalyticsPluginIdentifier=lm,t.BreezeChannelIdentifier=dT,t.ConfigurationManager=KL,t.ConnectionStringParser=FI,t.ContextTagKeys=ld,t.CtxTagKeys=XL,t.DEFAULT_BREEZE_ENDPOINT=q5,t.DEFAULT_BREEZE_PATH=$1,t.Data=jL,t.DisabledPropertyName=wI,t.DistributedTracingModes=DL,t.Envelope=LI,t.Event=LL,t.EventPersistence=X1,t.Exception=Tl,t.Extensions=JL,t.HttpMethod=g8,t.Metric=WL,t.PageView=zL,t.PageViewPerformance=sy,t.ProcessLegacy=SI,t.PropertiesPluginIdentifier=ZL,t.RemoteDependencyData=sm,t.RequestHeaders=y8,t.SampleRate=m8,t.SeverityLevel=VI,t.TelemetryItemCreator=uT,t.ThrottleMgr=FL,t.Trace=cT,t.correlationIdCanIncludeCorrelationHeader=id,t.correlationIdGetCorrelationContext=T8,t.correlationIdGetCorrelationContextValue=_8,t.correlationIdGetPrefix=Z5,t.correlationIdSetPrefix=X5,t.createDistributedTraceContextFromTrace=eT,t.createDomEvent=Y8,t.createOfflineListener=$8,t.createTelemetryItem=lT,t.createTraceParent=Pp,t.dataSanitizeException=j5,t.dataSanitizeId=zp,t.dataSanitizeInput=K5,t.dataSanitizeKey=z5,t.dataSanitizeKeyAndAddUniqueness=$5,t.dataSanitizeMeasurements=U0,t.dataSanitizeMessage=NI,t.dataSanitizeProperties=Nu,t.dataSanitizeString=ws,t.dataSanitizeUrl=vl,t.dateTimeUtilsDuration=kL,t.dateTimeUtilsNow=RL,t.dsPadNumber=C8,t.findAllScripts=M5,t.findW3cTraceParent=L5,t.formatTraceParent=NA,t.getExtensionByName=$L,t.isBeaconApiSupported=jf,t.isCrossOriginError=ad,t.isInternalApplicationInsightsEndpoint=b8,t.isSampledFlag=xI,t.isValidSpanId=Lp,t.isValidTraceId=Fp,t.isValidTraceParent=Mp,t.msToTimeSpan=aT,t.parseConnectionString=PI,t.parseTraceParent=M0,t.strNotSpecified=Il,t.stringToBoolOrDefault=YL,t.urlGetAbsoluteUrl=SL,t.urlGetCompleteUrl=I8,t.urlGetPathName=BL,t.urlParseFullHost=Qu,t.urlParseHost=x8,t.urlParseUrl=jp,t.utlCanUseLocalStorage=QI,t.utlCanUseSessionStorage=Pu,t.utlDisableStorage=Z1,t.utlEnableStorage=NL,t.utlGetLocalStorage=B8,t.utlGetSessionStorage=k8,t.utlGetSessionStorageKeys=tm,t.utlRemoveSessionStorage=D8,t.utlRemoveStorage=H0,t.utlSetLocalStorage=R8,t.utlSetSessionStorage=QL,t.utlSetStoragePrefix=ey})});var ure=q((C6,lre)=>{f();(function(t,e){typeof C6=="object"&&typeof lre<"u"?e(C6):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(C6,function(t){"use strict";function e(m,g){return m||g}s(e,"_pureAssign");function r(m,g){return m[g]}s(r,"_pureRef");var n=void 0,o=null,a="",c="function",l="object",u="prototype",d="__proto__",A="undefined",h="constructor",p="Symbol",y="_polyfill",E="length",v="name",w="call",_="toString",S=e(Object),D=r(S,u),N=e(String),P=r(N,u),O=e(Math),$=e(Array),ne=r($,u),oe=r(ne,"slice");function Ae(m,g){try{return{v:m.apply(this,g)}}catch(I){return{e:I}}}s(Ae,"safe");function Y(m,g){var I=Ae(m);return I.e?g:I.v}s(Y,"safeGet");var K;function xe(m){return function(g){return typeof g===m}}s(xe,"_createIs");function ce(m){var g="[object "+m+"]";return function(I){return!!(I&&J(I)===g)}}s(ce,"_createObjIs");function J(m){return D[_].call(m)}s(J,"objToString");function W(m){return typeof m===A||m===A}s(W,"isUndefined");function Z(m){return!ie(m)}s(Z,"isStrictUndefined");function re(m){return m===o||W(m)}s(re,"isNullOrUndefined");function te(m){return m===o||!ie(m)}s(te,"isStrictNullOrUndefined");function ie(m){return!!m||m!==n}s(ie,"isDefined");function ue(m){return!K&&(K=["string","number","boolean",A,"symbol","bigint"]),m!==l&&K.indexOf(m)!==-1}s(ue,"isPrimitiveType");var he=xe("string"),Je=xe(c);function rt(m){return!m&&re(m)?!1:!!m&&typeof m===l}s(rt,"isObject");var lt=r($,"isArray"),Ct=ce("Date"),Vt=xe("number"),Hr=xe("boolean"),Dn=ce("Error");function br(m){return!!(m&&m.then&&Je(m.then))}s(br,"isPromiseLike");function le(m){return!(!m||Y(function(){return!(m&&0+m)},!m))}s(le,"isTruthy");var Xe=r(S,"getOwnPropertyDescriptor");function ge(m,g){return!!m&&D.hasOwnProperty[w](m,g)}s(ge,"objHasOwnProperty");var ft=e(r(S,"hasOwn"),st);function st(m,g){return ge(m,g)||!!Xe(m,g)}s(st,"polyObjHasOwn");function Ye(m,g,I){if(m&&rt(m)){for(var b in m)if(ft(m,b)&&g[w](I||m,b,m[b])===-1)break}}s(Ye,"objForEachKey");var Mr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function xn(m){var g={};if(g[Mr.c]=!0,g[Mr.e]=!0,m.l){g.get=function(){return m.l.v};var I=Xe(m.l,"v");I&&I.set&&(g.set=function(b){m.l.v=b})}return Ye(m,function(b,R){g[Mr[b]]=Z(R)?g[Mr[b]]:R}),g}s(xn,"_createProp");var qr=r(S,"defineProperty");function Jt(m,g,I){return qr(m,g,xn(I))}s(Jt,"objDefine");function gi(m,g,I,b,R){var k={};return Ye(m,function(F,V){Yo(k,F,g?V:F),Yo(k,V,I?V:F)}),b?b(k):k}s(gi,"_createKeyValueMap");function Yo(m,g,I,b){qr(m,g,{value:I,enumerable:!0,writable:!1})}s(Yo,"_assignMapValue");var Mn=e(N),$o="[object Error]";function Xt(m,g){var I=a,b=D[_][w](m);b===$o&&(m={stack:Mn(m.stack),message:Mn(m.message),name:Mn(m.name)});try{I=JSON.stringify(m,o,g?typeof g=="number"?g:4:n),I=(I?I.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):o)||Mn(m)}catch(R){I=" - "+Xt(R,g)}return b+": "+I}s(Xt,"dumpObj");function mo(m){throw new Error(m)}s(mo,"throwError");function ko(m){throw new TypeError(m)}s(ko,"throwTypeError");var ua=r(S,"freeze");function de(m){return m}s(de,"_doNothing");function Ve(m){return m[d]||o}s(Ve,"_getProto");var At=r(S,"assign"),vt=r(S,"keys");function $r(m){return ua&&Ye(m,function(g,I){(lt(I)||rt(I))&&$r(I)}),Tr(m)}s($r,"objDeepFreeze");var Tr=e(ua,de),Kn=e(r(S,"getPrototypeOf"),Ve);function ii(m){return gi(m,1,0,Tr)}s(ii,"createEnum");function Or(m){return gi(m,0,0,Tr)}s(Or,"createEnumKeyMap");function zr(m){var g={};return Ye(m,function(I,b){Yo(g,I,b[1]),Yo(g,b[0],b[1])}),Tr(g)}s(zr,"createSimpleMap");function Gr(m){return zr(m)}s(Gr,"createTypeMap");var di=Or({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Vi="__tsUtils$gblCfg",Do;function vc(){var m;return typeof globalThis!==A&&(m=globalThis),!m&&typeof self!==A&&(m=self),!m&&typeof window!==A&&(m=window),!m&&typeof global!==A&&(m=global),m}s(vc,"_getGlobalValue");function Ff(){if(!Do){var m=Ae(vc).v||{};Do=m[Vi]=m[Vi]||{}}return Do}s(Ff,"_getGlobalConfig");var D0=Eu;function Eu(m,g,I){var b=g?g[m]:o;return function(R){var k=(R?R[m]:o)||b;if(k||I){var F=arguments;return(k||I).apply(R,k?oe[w](F,1):F)}ko('"'+Mn(m)+'" not defined for '+Xt(R))}}s(Eu,"_unwrapFunctionWithPoly");function as(m){return function(g){return g[m]}}s(as,"_unwrapProp");var Iu=r(O,"min"),_e=r(O,"max"),M=D0("slice",P),fe=D0("substring",P),Ce=Eu("substr",P,X);function X(m,g,I){return re(m)&&ko("Invalid "+Xt(m)),I<0?a:(g=g||0,g<0&&(g=_e(g+m[E],0)),W(I)?M(m,g):M(m,g,g+I))}s(X,"polyStrSubstr");function L(m,g){return fe(m,0,g)}s(L,"strLeft");var Se="_urid",Ze;function nr(){if(!Ze){var m=Ff();Ze=m.gblSym=m.gblSym||{k:{},s:{}}}return Ze}s(nr,"_globalSymbolRegistry");var yi;function Nn(m){var g={description:Mn(m),toString:s(function(){return p+"("+m+")"},"toString")};return g[y]=!0,g}s(Nn,"polyNewSymbol");function Ms(m){var g=nr();if(!ft(g.k,m)){var I=Nn(m),b=vt(g.s).length;I[Se]=function(){return b+"_"+I[_]()},g.k[m]=I,g.s[I[Se]()]=Mn(m)}return g.k[m]}s(Ms,"polySymbolFor");function fa(m){!yi&&(yi={});var g,I=di[m];return I&&(g=yi[I]=yi[I]||Nn(p+"."+I)),g}s(fa,"polyGetKnownSymbol");var oi;function Dr(){oi=Ff()}s(Dr,"_initTestHooks");function N0(m){var g={};return!oi&&Dr(),g.b=oi.lzy,qr(g,"v",{configurable:!0,get:s(function(){var I=m();return oi.lzy||qr(g,"v",{value:I}),g.b=oi.lzy,I},"get")}),g}s(N0,"getLazy");function cs(m){return qr({toJSON:s(function(){return m},"toJSON")},"v",{value:m})}s(cs,"createCachedValue");var xu="window",Os;function vu(m,g){var I;return function(){return!oi&&Dr(),(!I||oi.lzy)&&(I=cs(Ae(m,g).v)),I.v}}s(vu,"_getGlobalInstFn");function hl(m){return!oi&&Dr(),(!Os||m===!1||oi.lzy)&&(Os=cs(Ae(vc).v||o)),Os.v}s(hl,"getGlobal");function No(m,g){var I;if(!Os||g===!1?I=hl(g):I=Os.v,I&&I[m])return I[m];if(m===xu)try{return window}catch{}return o}s(No,"getInst");function Lf(){return!!ap()}s(Lf,"hasDocument");var ap=vu(No,["document"]);function A5(){return!!bu()}s(A5,"hasWindow");var bu=vu(No,[xu]);function rL(){return!!Mf()}s(rL,"hasNavigator");var Mf=vu(No,["navigator"]),nL=vu(function(){return!!Ae(function(){return process&&(process.versions||{}).node}).v}),gA,h5;function $E(){return gA=cs(Ae(No,[p]).v),gA}s($E,"_initSymbol");function iL(m){var g=(oi.lzy?0:gA)||$E();return g.v?g.v[m]:n}s(iL,"_getSymbolKey");function La(){return!!Of()}s(La,"hasSymbol");function Of(){return!oi&&Dr(),((oi.lzy?0:gA)||$E()).v}s(Of,"getSymbol");function S1(m,g){var I=di[m];!oi&&Dr();var b=(oi.lzy?0:gA)||$E();return b.v?b.v[I||m]:g?n:fa(m)}s(S1,"getKnownSymbol");function yA(m,g){!oi&&Dr();var I=(oi.lzy?0:gA)||$E();return I.v?I.v(m):g?o:Nn(m)}s(yA,"newSymbol");function B1(m){return!oi&&Dr(),h5=(oi.lzy?0:h5)||cs(Ae(iL,["for"]).v),(h5.v||Ms)(m)}s(B1,"symbolFor");function Uf(m){return!!m&&Je(m.next)}s(Uf,"isIterator");function zE(m){return!te(m)&&Je(m[S1(3)])}s(zE,"isIterable");var R1;function p5(m,g,I){if(m&&(Uf(m)||(!R1&&(R1=cs(S1(3))),m=m[R1.v]?m[R1.v]():o),Uf(m))){var b=n,R=n;try{for(var k=0;!(R=m.next()).done&&g[w](I||m,R.value,k,m)!==-1;)k++}catch(F){b={e:F},m.throw&&(R=o,m.throw(b))}finally{try{R&&!R.done&&m.return&&m.return(R)}finally{if(b)throw b.e}}}}s(p5,"iterForOf");function cp(m,g,I){return m.apply(g,I)}s(cp,"fnApply");function lp(m,g){return!W(g)&&m&&(lt(g)?cp(m.push,m,g):Uf(g)||zE(g)?p5(g,function(I){m.push(I)}):m.push(g)),m}s(lp,"arrAppend");function $t(m,g,I){if(m)for(var b=m[E]>>>0,R=0;R<b&&!(R in m&&g[w](I||m,m[R],R,m)===-1);R++);}s($t,"arrForEach");var s0=D0("indexOf",ne),CA=D0("map",ne);function up(m,g,I){return((m?m.slice:o)||oe).apply(m,oe[w](arguments,1))}s(up,"arrSlice");var oL=D0("reduce",ne),Hf=e(r(S,"create"),sL);function sL(m){if(!m)return{};var g=typeof m;g!==l&&g!==c&&ko("Prototype must be an Object or function: "+Xt(m));function I(){}return s(I,"tempFunc"),I[u]=m,new I}s(sL,"polyObjCreate");var m5;function k1(m,g){var I=S.setPrototypeOf||function(b,R){var k;!m5&&(m5=cs((k={},k[d]=[],k instanceof Array))),m5.v?b[d]=R:Ye(R,function(F,V){return b[F]=V})};return I(m,g)}s(k1,"objSetPrototypeOf");function aL(m,g,I){Ae(Jt,[g,v,{v:m,c:!0,e:!1}]),g=k1(g,I);function b(){this[h]=g,Ae(Jt,[this,v,{v:m,c:!0,e:!1}])}return s(b,"__"),g[u]=I===o?Hf(I):(b[u]=I[u],new b),g}s(aL,"_createCustomError");function D1(m,g){g&&(m[v]=g)}s(D1,"_setName");function ls(m,g,I){var b=I||Error,R=b[u][v],k=Error.captureStackTrace;return aL(m,function(){var F=this,V=arguments;try{Ae(D1,[b,m]);var j=cp(b,F,oe[w](V))||F;if(j!==F){var se=Kn(F);se!==Kn(j)&&k1(j,se)}return k&&k(j,F[h]),g&&g(j,V),j}finally{Ae(D1,[b,R])}},b)}s(ls,"createCustomError");function qf(){return(Date.now||N1)()}s(qf,"utcNow");function N1(){return new Date().getTime()}s(N1,"polyUtcNow");function VS(m){return s(function(I){return re(I)&&ko("strTrim called ["+Xt(I)+"]"),I&&I.replace&&(I=I.replace(m,a)),I},"_doTrim")}s(VS,"_createTrimFn");var cL=VS(/^\s+|(?=\s)\s+$/g),On=Eu("trim",P,cL),EA=r(O,"floor"),Gf,g5,Q1;function a0(m){if(!m||typeof m!==l)return!1;Q1||(Q1=A5()?bu():!0);var g=!1;if(m!==Q1){g5||(Gf=Function[u][_],g5=Gf[w](S));try{var I=Kn(m);g=!I,g||(ge(I,h)&&(I=I[h]),g=!!(I&&typeof I===c&&Gf[w](I)===g5))}catch{}}return g}s(a0,"isPlainObject");function WS(m){return m.value&&jE(m),!0}s(WS,"_defaultDeepCopyHandler");var YS=[fp,jE,zS,Vf];function y5(m,g,I,b){var R;return $t(m,function(k){if(k.k===g)return R=k,-1}),R||(R={k:g,v:g},m.push(R),b(R)),R.v}s(y5,"_getSetVisited");function IA(m,g,I,b){var R=I.handler,k=I.path?b?I.path.concat(b):I.path:[],F={handler:I.handler,src:I.src,path:k},V=typeof g,j=!1,se=g===o;se||(g&&V===l?j=a0(g):se=ue(V));var ye={type:V,isPrim:se,isPlain:j,value:g,result:g,path:k,origin:I.src,copy:s(function(Te,Pe){return IA(m,Te,Pe?F:I,Pe)},"copy"),copyTo:s(function(Te,Pe){return C5(m,Te,Pe,F)},"copyTo")};return ye.isPrim?R&&R[w](I,ye)?ye.result:g:y5(m,g,k,function(Te){Jt(ye,"result",{g:s(function(){return Te.v},"g"),s:s(function(De){Te.v=De},"s")});for(var Pe=0,we=R;!(we||(Pe<YS.length?YS[Pe++]:WS))[w](I,ye);)we=o})}s(IA,"_deepCopy");function C5(m,g,I,b){if(!re(I))for(var R in I)g[R]=IA(m,I[R],b,R);return g}s(C5,"_copyProps");function $S(m,g,I){var b={handler:I,src:g,path:[]};return C5([],m,g,b)}s($S,"objCopyProps");function E5(m,g){var I={handler:g,src:m};return IA([],m,I)}s(E5,"objDeepCopy");function fp(m){var g=m.value;if(lt(g)){var I=m.result=[];return I.length=g.length,m.copyTo(I,g),!0}return!1}s(fp,"arrayDeepCopyHandler");function Vf(m){var g=m.value;return Ct(g)?(m.result=new Date(g.getTime()),!0):!1}s(Vf,"dateDeepCopyHandler");function zS(m){return m.type===c}s(zS,"functionDeepCopyHandler");function jE(m){var g=m.value;if(g&&m.isPlain){var I=m.result={};return m.copyTo(I,g),!0}return!1}s(jE,"plainObjDeepCopyHandler");function I5(m,g){return $t(g,function(I){$S(m,I)}),m}s(I5,"_doExtend");function KE(m,g,I,b,R,k,F){return I5(E5(m)||{},oe[w](arguments))}s(KE,"deepExtend");var lL=as(E),uL=r(O,"round"),jS=Eu("endsWith",P,fL);function fL(m,g,I){he(m)||ko("'"+Xt(m)+"' is not a string");var b=he(g)?g:Mn(g),R=!W(I)&&I<m[E]?I:m[E];return fe(m,R-b[E],R)===b}s(fL,"polyStrEndsWith");var Tu=D0("indexOf",P),JE="ref",x5="unref",XE="hasRef",dL="enabled";function ZE(m,g,I){var b=!0,R=m?g(o):o,k;function F(){return b=!1,R&&R[x5]&&R[x5](),k}s(F,"_unref");function V(){R&&I(R),R=o}s(V,"_cancel");function j(){return R=g(R),b||F(),k}s(j,"_refresh");function se(ye){!ye&&R&&V(),ye&&!R&&j()}return s(se,"_setEnabled"),k={cancel:V,refresh:j},k[XE]=function(){return R&&R[XE]?R[XE]():b},k[JE]=function(){return b=!0,R&&R[JE]&&R[JE](),k},k[x5]=F,k=qr(k,dL,{get:s(function(){return!!R},"get"),set:se}),{h:k,dn:s(function(){R=o},"dn")}}s(ZE,"_createTimerHandler");function eI(m,g,I){var b=lt(g),R=b?g.length:0,k=(R>0?g[0]:b?n:g)||setTimeout,F=(R>1?g[1]:n)||clearTimeout,V=I[0];I[0]=function(){j.dn(),cp(V,n,oe[w](arguments))};var j=ZE(m,function(se){if(se){if(se.refresh)return se.refresh(),se;cp(F,n,[se])}return cp(k,n,I)},function(se){cp(F,n,[se])});return j.h}s(eI,"_createTimeoutWith");function Wf(m,g){return eI(!0,n,oe[w](arguments))}s(Wf,"scheduleTimeout");function tI(m,g){return eI(!1,n,oe[w](arguments))}s(tI,"createTimeout");var xA,Q0="constructor",P0="prototype",vA="function",dp="_dynInstFuncs",Yf="_isDynProxy",Ap="_dynClass",v5="_dynCls$",bA="_dynInstChk",hp=bA,b5="_dfOpts",rI="_unknown_",pp="__proto__",P1="_dyn"+pp,nI="__dynProto$Gbl",mp="_dynInstProto",gp="useBaseInst",F1="setInstFuncs",TA=Object,yp=TA.getPrototypeOf,T5=TA.getOwnPropertyNames,iI=hl(),Cp=iI[nI]||(iI[nI]={o:(xA={},xA[F1]=!0,xA[gp]=!0,xA),n:1e3});function Ep(m){return m&&(m===TA[P0]||m===Array[P0])}s(Ep,"_isObjectOrArrayPrototype");function _u(m){return Ep(m)||m===Function[P0]}s(_u,"_isObjectArrayOrFunctionPrototype");function pl(m){var g;if(m){if(yp)return yp(m);var I=m[pp]||m[P0]||(m[Q0]?m[Q0][P0]:null);g=m[P1]||I,ge(m,P1)||(delete m[mp],g=m[P1]=m[mp]||m[P1],m[mp]=I)}return g}s(pl,"_getObjProto");function Ip(m,g){var I=[];if(T5)I=T5(m);else for(var b in m)typeof b=="string"&&ge(m,b)&&I.push(b);if(I&&I.length>0)for(var R=0;R<I.length;R++)g(I[R])}s(Ip,"_forEachProp");function xp(m,g,I){return g!==Q0&&typeof m[g]===vA&&(I||ge(m,g))&&g!==pp&&g!==P0}s(xp,"_isDynamicCandidate");function oI(m){ko("DynamicProto: "+m)}s(oI,"_throwTypeError");function _5(m){var g=Hf(null);return Ip(m,function(I){!g[I]&&xp(m,I,!1)&&(g[I]=m[I])}),g}s(_5,"_getInstanceFuncs");function w5(m,g){for(var I=m.length-1;I>=0;I--)if(m[I]===g)return!0;return!1}s(w5,"_hasVisited");function AL(m,g,I,b){function R(j,se,ye){var Te=se[ye];if(Te[Yf]&&b){var Pe=j[dp]||{};Pe[hp]!==!1&&(Te=(Pe[se[Ap]]||{})[ye]||Te)}return function(){return Te.apply(j,arguments)}}s(R,"_instFuncProxy");var k=Hf(null);Ip(I,function(j){k[j]=R(g,I,j)});for(var F=pl(m),V=[];F&&!_u(F)&&!w5(V,F);)Ip(F,function(j){!k[j]&&xp(F,j,!yp)&&(k[j]=R(g,F,j))}),V.push(F),F=pl(F);return k}s(AL,"_getBaseFuncs");function hL(m,g,I,b){var R=null;if(m&&ge(I,Ap)){var k=m[dp]||Hf(null);if(R=(k[I[Ap]]||Hf(null))[g],R||oI("Missing ["+g+"] "+vA),!R[bA]&&k[hp]!==!1){for(var F=!ge(m,g),V=pl(m),j=[];F&&V&&!_u(V)&&!w5(j,V);){var se=V[g];if(se){F=se===b;break}j.push(V),V=pl(V)}try{F&&(m[g]=R),R[bA]=1}catch{k[hp]=!1}}}return R}s(hL,"_getInstFunc");function pL(m,g,I){var b=g[m];return b===I&&(b=pl(g)[m]),typeof b!==vA&&oI("["+m+"] is not a "+vA),b}s(pL,"_getProtoFunc");function mL(m,g,I,b,R){function k(j,se){var ye=s(function(){var Te=hL(this,se,j,ye)||pL(se,j,ye);return Te.apply(this,arguments)},"dynProtoProxy");return ye[Yf]=1,ye}if(s(k,"_createDynamicPrototype"),!Ep(m)){var F=I[dp]=I[dp]||Hf(null);if(!Ep(F)){var V=F[g]=F[g]||Hf(null);F[hp]!==!1&&(F[hp]=!!R),Ep(V)||Ip(I,function(j){xp(I,j,!1)&&I[j]!==b[j]&&(V[j]=I[j],delete I[j],(!ge(m,j)||m[j]&&!m[j][Yf])&&(m[j]=k(m,j)))})}}}s(mL,"_populatePrototype");function S5(m,g){if(yp){for(var I=[],b=pl(g);b&&!_u(b)&&!w5(I,b);){if(b===m)return!0;I.push(b),b=pl(b)}return!1}return!0}s(S5,"_checkPrototype");function L1(m,g){return ge(m,P0)?m.name||g||rI:((m||{})[Q0]||{}).name||g||rI}s(L1,"_getObjName");function da(m,g,I,b){ge(m,P0)||oI("theClass is an invalid class definition.");var R=m[P0];S5(R,g)||oI("["+L1(m)+"] not in hierarchy of ["+L1(g)+"]");var k=null;ge(R,Ap)?k=R[Ap]:(k=v5+L1(m,"_")+"$"+Cp.n,Cp.n++,R[Ap]=k);var F=da[b5],V=!!F[gp];V&&b&&b[gp]!==void 0&&(V=!!b[gp]);var j=_5(g),se=AL(R,g,j,V);I(g,se);var ye=!!yp&&!!F[F1];ye&&b&&(ye=!!b[F1]),mL(R,k,g,j,ye!==!1)}s(da,"dynamicProto"),da[b5]=Cp.o;var go="function",KS="object",JS="undefined",M1="prototype",B5=Object,R5=B5[M1];(hl()||{}).Symbol,(hl()||{}).Reflect;var sI="hasOwnProperty",XS=s(function(m){for(var g,I=1,b=arguments.length;I<b;I++){g=arguments[I];for(var R in g)R5[sI].call(g,R)&&(m[R]=g[R])}return m},"__objAssignFnImpl"),wu=At||XS,$f=s(function(m,g){return $f=B5.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,b){I.__proto__=b}||function(I,b){for(var R in b)b[sI](R)&&(I[R]=b[R])},$f(m,g)},"extendStaticsFn");function O1(m,g){typeof g!==go&&g!==null&&ko("Class extends value "+String(g)+" is not a constructor or null"),$f(m,g);function I(){this.constructor=m}s(I,"__"),m[M1]=g===null?Hf(g):(I[M1]=g[M1],new I)}s(O1,"__extendsFn");function ZS(m,g){for(var I=0,b=g.length,R=m.length;I<b;I++,R++)m[R]=g[I];return m}s(ZS,"__spreadArrayFn");var aI=ii,gL=Gr,zf=aI({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),vp="toLowerCase",Ur="length",bp="warnToConsole",_A="throwInternal",Su="watch",cI="apply",Un="push",Tp="splice",zo="logger",_p="cancel",U1="initialize",jf="identifier",H1="removeNotificationListener",lI="addNotificationListener",ml="isInitialized",wp="value",bc="getNotifyMgr",Sp="getPlugin",Kf="name",Us="processNext",Bp="getProcessTelContext",gl="enabled",e8="stopPollingInternalLogs",wA="unload",uI="onComplete",Rp="version",t8="loggingLevelConsole",SA="createNew",yl="teardown",fI="messageId",BA="message",Cl="diagLog",dI="_doTeardown",Bu="update",El="getNext",Jf="setNextPlugin",AI="userAgent",Xf="split",Zf="replace",Aa="type",k5="evtName",q1="status",D5="getAllResponseHeaders",N5="isChildEvt",kp="data",ed="getCtx",Tc="setCtx",r8="itemsReceived",Ru="urlString",Q5="headers",ku="timeout",n8="traceFlags",Dp;function P5(m,g){Dp||(Dp=ls("AggregationError",function(b,R){R[Ur]>1&&(b.errors=R[1])}));var I=m||"One or more errors occurred.";throw $t(g,function(b,R){I+=`
`.concat(R," > ").concat(Xt(b))}),new Dp(I,g||[])}s(P5,"throwAggregationError");var RA="Promise",kA="rejected";function F0(m,g){return i8(m,function(I){return g?g({status:"fulfilled",rejected:!1,value:I}):I},function(I){return g?g({status:kA,rejected:!0,reason:I}):I})}s(F0,"doAwaitResponse");function i8(m,g,I,b){var R=m;try{if(br(m))(g||I)&&(R=m.then(g,I));else try{g&&(R=g(m))}catch(k){if(I)R=I(k);else throw k}}finally{b&&yL(R,b)}return R}s(i8,"doAwait");function yL(m,g){var I=m;return g&&(br(m)?m.finally?I=m.finally(g):I=m.then(function(b){return g(),b},function(b){throw g(),b}):g()),I}s(yL,"doFinally");var o8=["pending","resolving","resolved",kA],s8="dispatchEvent",G1;function a8(m){var g;return m&&m.createEvent&&(g=m.createEvent("Event")),!!g&&g.initEvent}s(a8,"_hasInitEventFn");function hI(m,g,I,b){var R=ap();!G1&&(G1=cs(!!Ae(a8,[R]).v));var k=G1.v?R.createEvent("Event"):b?new Event(g):{};if(I&&I(k),G1.v&&k.initEvent(g,!1,!0),k&&m[s8])m[s8](k);else{var F=m["on"+g];if(F)F(k);else{var V=No("console");V&&(V.error||V.log)(g,Xt(k))}}}s(hI,"emitEvent");var c8="unhandledRejection",CL=c8.toLowerCase(),Np=10,pI;function l8(m){return Je(m)?m.toString():Xt(m)}s(l8,"dumpFnObj");function u8(m,g,I){var b=up(arguments,3),R=0,k=!1,F,V=[],j=!1,se=null,ye;function Te(It,Nt){try{j=!0,se&&se.cancel(),se=null;var Nr=m(function(An,hn){V.push(function(){try{var si=R===2?It:Nt,sr=W(si)?F:Je(si)?si(F):si;br(sr)?sr.then(An,hn):si?An(sr):R===3?hn(sr):An(sr)}catch(Wt){hn(Wt)}}),k&&$e()},b);return Nr}finally{}}s(Te,"_then");function Pe(It){return Te(void 0,It)}s(Pe,"_catch");function we(It){var Nt=It,Nr=It;return Je(It)&&(Nt=s(function(An){return It&&It(),An},"thenFinally"),Nr=s(function(An){throw It&&It(),An},"catchFinally")),Te(Nt,Nr)}s(we,"_finally");function De(){return o8[R]}s(De,"_strState");function $e(){if(V.length>0){var It=V.slice();V=[],j=!0,se&&se.cancel(),se=null,g(It)}}s($e,"_processQueue");function Ue(It,Nt){return function(Nr){if(R===Nt){if(It===2&&br(Nr)){R=1,Nr.then(Ue(2,1),Ue(3,1));return}R=It,k=!0,F=Nr,$e(),!j&&It===3&&!se&&(se=Wf(nt,Np))}}}s(Ue,"_createSettleIfFn");function nt(){if(!j)if(j=!0,nL())process.emit(c8,F,ye);else{var It=bu()||hl();!pI&&(pI=cs(Ae(No,[RA+"RejectionEvent"]).v)),hI(It,CL,function(Nt){return Jt(Nt,"promise",{g:s(function(){return ye},"g")}),Nt.reason=F,Nt},!!pI.v)}}s(nt,"_notifyUnhandledRejection"),ye={then:Te,catch:Pe,finally:we},qr(ye,"state",{get:De}),La()&&(ye[S1(11)]="IPromise");function ht(){return"IPromise "+De()+(k?" - "+l8(F):"")}return s(ht,"_toString"),ye.toString=ht,s(function(){Je(I)||ko(RA+": executor is not a function - "+l8(I));var Nt=Ue(3,0);try{I.call(ye,Ue(2,0),Nt)}catch(Nr){Nt(Nr)}},"_initialize")(),ye}s(u8,"_createPromise");function EL(m){return function(g){var I=up(arguments,1);return m(function(b,R){try{var k=[],F=1;p5(g,function(V,j){V&&(F++,i8(V,function(se){k[j]=se,--F===0&&b(k)},R))}),F--,F===0&&b(k)}catch(V){R(V)}},I)}}s(EL,"_createAllPromise");function IL(m){return cs(function(g){var I=up(arguments,1);return m(function(b,R){var k=[],F=1;function V(j,se){F++,F0(j,function(ye){ye.rejected?k[se]={status:kA,reason:ye.reason}:k[se]={status:"fulfilled",value:ye.value},--F===0&&b(k)})}s(V,"processItem");try{lt(g)?$t(g,V):zE(g)?p5(g,V):ko("Input is not an iterable"),F--,F===0&&b(k)}catch(j){R(j)}},I)})}s(IL,"_createAllSettledPromise");function f8(m){$t(m,function(g){try{g()}catch{}})}s(f8,"syncItemProcessor");function d8(m){var g=Vt(m)?m:0;return function(I){Wf(function(){f8(I)},g)}}s(d8,"timeoutItemProcessor");function mI(m,g){return u8(mI,d8(g),m,g)}s(mI,"createAsyncPromise");var gI;function xL(m,g){!gI&&(gI=cs(Ae(No,[RA]).v||null));var I=gI.v;if(!I)return mI(m);Je(m)||ko(RA+": executor is not a function - "+Xt(m));var b=0;function R(){return o8[b]}s(R,"_strState");var k=new I(function(F,V){function j(ye){b=2,F(ye)}s(j,"_resolve");function se(ye){b=3,V(ye)}s(se,"_reject"),m(j,se)});return qr(k,"state",{get:R}),k}s(xL,"createNativePromise");var yI;function CI(m){return u8(CI,f8,m)}s(CI,"createSyncPromise");function c0(m,g){return!yI&&(yI=IL(CI)),yI.v(m,g)}s(c0,"createSyncAllSettledPromise");var EI;function Qp(m,g){return!EI&&(EI=cs(xL)),EI.v.call(this,m,g)}s(Qp,"createPromise");var F5=EL(Qp),L0=void 0,cn="",Du="channels",jo="core",_c="createPerfMgr",II="disabled",DA="extensionConfig",Pp="extensions",M0="processTelemetry",Fp="priority",Lp="eventsSent",Mp="eventsDiscarded",xI="eventsSendRequest",NA="perfEvent",L5="offlineEventsStored",M5="offlineBatchSent",vI="offlineBatchDrop",V1="getPerfMgr",bI="domain",TI="path",A8="Not dynamic - ",O5=/-([a-z])/g,vL=/([^\w\d_$])/g,bL=/^(\d+[\w\d_$])/;function _I(m){return!re(m)}s(_I,"isNotNullOrUndefined");function Op(m){var g=m;return g&&he(g)&&(g=g[Zf](O5,function(I,b){return b.toUpperCase()}),g=g[Zf](vL,"_"),g=g[Zf](bL,function(I,b){return"_"+b})),g}s(Op,"normalizeJsName");function Hs(m,g){return m&&g?Tu(m,g)!==-1:!1}s(Hs,"strContains");function W1(m){return m&&m.toISOString()||""}s(W1,"toISOString");function _s(m){return Dn(m)?m[Kf]:cn}s(_s,"getExceptionName");function td(m,g,I,b,R){var k=I;return m&&(k=m[g],k!==I&&(!R||R(k))&&(!b||b(I))&&(k=I,m[g]=k)),k}s(td,"setValue");function h8(m,g,I){var b;return m?(b=m[g],!b&&re(b)&&(b=W(I)?{}:I,m[g]=b)):b=W(I)?{}:I,b}s(h8,"getSetValue");function TL(m,g){var I=null,b=null;return Je(m)?I=m:b=m,function(){var R=arguments;if(I&&(b=I()),b)return b[g][cI](b,R)}}s(TL,"_createProxyFunction");function Y1(m,g,I,b,R){m&&g&&I&&(R!==!1||W(m[g]))&&(m[g]=TL(I,b))}s(Y1,"proxyFunctionAs");function U5(m,g,I,b){return m&&g&&rt(m)&&lt(I)&&$t(I,function(R){he(R)&&Y1(m,R,g,R,b)}),m}s(U5,"proxyFunctions");function _L(m){return function(){function g(){var I=this;m&&Ye(m,function(b,R){I[b]=R})}return s(g,"class_1"),g}()}s(_L,"createClassFromInterface");function H5(m){return m&&At&&(m=B5(At({},m))),m}s(H5,"optimizeObject");function p8(m,g,I,b,R,k){var F=arguments,V=F[0]||{},j=F[Ur],se=!1,ye=1;for(j>0&&Hr(V)&&(se=V,V=F[ye]||{},ye++),rt(V)||(V={});ye<j;ye++){var Te=F[ye],Pe=lt(Te),we=rt(Te);for(var De in Te){var $e=Pe&&De in Te||we&&ft(Te,De);if($e){var Ue=Te[De],nt=void 0;if(se&&Ue&&((nt=lt(Ue))||a0(Ue))){var ht=V[De];nt?lt(ht)||(ht=[]):a0(ht)||(ht={}),Ue=p8(se,ht,Ue)}Ue!==void 0&&(V[De]=Ue)}}}return V}s(p8,"objExtend");function wI(m){try{return m.responseText}catch{}return null}s(wI,"getResponseText");function m8(m,g){return m?"XDomainRequest,Response:"+wI(m)||"":g}s(m8,"formatErrorMessageXdr");function SI(m,g){return m?"XMLHttpRequest,Status:"+m[q1]+",Response:"+wI(m)||m.response||"":g}s(SI,"formatErrorMessageXhr");function g8(m,g){return g&&(Vt(g)?m=[g].concat(m):lt(g)&&(m=g.concat(m))),m}s(g8,"prependTransports");var q5="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",$1="withCredentials",Il="timeout";function G5(m,g,I,b,R,k){b===void 0&&(b=!1),R===void 0&&(R=!1);function F(j,se,ye){try{j[se]=ye}catch{}}s(F,"_wrapSetXhrProp");var V=new XMLHttpRequest;return b&&F(V,q5,b),I&&F(V,$1,I),V.open(m,g,!R),I&&F(V,$1,I),!R&&k&&F(V,Il,k),V}s(G5,"openXhr");function y8(m){var g={};if(he(m)){var I=On(m)[Xf](/[\r\n]+/);$t(I,function(b){if(b){var R=b.indexOf(": ");if(R!==-1){var k=On(b.substring(0,R))[vp](),F=On(b.substring(R+1));g[k]=F}else g[On(b)]=1}})}return g}s(y8,"convertAllHeadersToMap");function rd(m,g,I){if(!m[I]&&g&&g.getResponseHeader){var b=g.getResponseHeader(I);b&&(m[I]=On(b))}return m}s(rd,"_appendHeader");var hr="kill-duration",Up="kill-duration-seconds",QA="time-delta-millis";function PA(m,g){var I={};return m[D5]?I=y8(m[D5]()):g&&(I=rd(I,m,QA),I=rd(I,m,hr),I=rd(I,m,Up)),I}s(PA,"_getAllResponseHeaders");var V5="documentMode",z1="location",Hp="console",BI="JSON",W5="crypto",RI="msCrypto",qp="msie",FA="trident/",Y5="XMLHttpRequest",O0=null,Gp=null,xl=!1,Ma=null,Vp=null;function j1(m,g){var I=!1;if(m){try{if(I=g in m,!I){var b=m[M1];b&&(I=g in b)}}catch{}if(!I)try{var R=new m;I=!W(R[g])}catch{}}return I}s(j1,"_hasProperty");function Wp(m){if(m&&xl){var g=No("__mockLocation");if(g)return g}return typeof location===KS&&location?location:No(z1)}s(Wp,"getLocation");function K1(){return typeof console!==JS?console:No(Hp)}s(K1,"getConsole");function Yp(){return!!(typeof JSON===KS&&JSON||No(BI)!==null)}s(Yp,"hasJSON");function l0(){return Yp()?JSON||No(BI):null}s(l0,"getJSON");function kI(){return No(W5)}s(kI,"getCrypto");function DI(){return No(RI)}s(DI,"getMsCrypto");function wc(){var m=Mf();if(m&&(m[AI]!==Gp||O0===null)){Gp=m[AI];var g=(Gp||cn)[vp]();O0=Hs(g,qp)||Hs(g,FA)}return O0}s(wc,"isIE");function $p(m){if(m===void 0&&(m=null),!m){var g=Mf()||{};m=g?(g.userAgent||cn)[vp]():cn}var I=(m||cn)[vp]();if(Hs(I,qp)){var b=ap()||{};return _e(parseInt(I[Xf](qp)[1]),b[V5]||0)}else if(Hs(I,FA)){var R=parseInt(I[Xf](FA)[1]);if(R)return R+4}return null}s($p,"getIEVersion");function nd(m){return(Vp===null||m===!1)&&(Vp=rL()&&!!Mf().sendBeacon),Vp}s(nd,"isBeaconsSupported");function J1(m){var g=!1;try{g=!!No("fetch");var I=No("Request");g&&m&&I&&(g=j1(I,"keepalive"))}catch{}return g}s(J1,"isFetchSupported");function $5(){return Ma===null&&(Ma=typeof XDomainRequest!==JS,Ma&&z5()&&(Ma=Ma&&!j1(No(Y5),"withCredentials"))),Ma}s($5,"useXDomainRequest");function z5(){var m=!1;try{var g=No(Y5);m=!!g}catch{}return m}s(z5,"isXhrSupported");var ws=4294967296,vl=4294967295,NI=123456789,j5=987654321,Nu=!1,U0=NI,zp=j5;function K5(m){m<0&&(m>>>=0),U0=NI+m&vl,zp=j5-m&vl,Nu=!0}s(K5,"_mwcSeed");function C8(){try{var m=qf()&2147483647;K5((Math.random()*ws^m)+m)}catch{}}s(C8,"_autoSeedMwc");function J5(m){var g=0,I=kI()||DI();return I&&I.getRandomValues&&(g=I.getRandomValues(new Uint32Array(1))[0]&vl),g===0&&wc()&&(Nu||C8(),g=E8()&vl),g===0&&(g=EA(ws*Math.random()|0)),m||(g>>>=0),g}s(J5,"random32");function E8(m){zp=36969*(zp&65535)+(zp>>16)&vl,U0=18e3*(U0&65535)+(U0>>16)&vl;var g=(zp<<16)+(U0&65535)>>>0&vl|0;return m||(g>>>=0),g}s(E8,"mwcRandom32");function wL(m){m===void 0&&(m=22);for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=J5()>>>0,b=0,R=cn;R[Ur]<m;)b++,R+=g.charAt(I&63),I>>>=6,b===5&&(I=(J5()<<2&4294967295|I&3)>>>0,b=0);return R}s(wL,"newId");var jp="3.3.6",SL="."+wL(6),BL=0;function I8(m){return m.nodeType===1||m.nodeType===9||!+m.nodeType}s(I8,"_canAcceptData");function x8(m,g){var I=g[m.id];if(!I){I={};try{I8(g)&&Jt(g,m.id,{e:!1,v:I})}catch{}}return I}s(x8,"_getCache");function Qu(m,g){return g===void 0&&(g=!1),Op(m+BL+++(g?"."+jp:cn)+SL)}s(Qu,"createUniqueNamespace");function v8(m){var g={id:Qu("_aiData-"+(m||cn)+"."+jp),accept:s(function(I){return I8(I)},"accept"),get:s(function(I,b,R,k){var F=I[g.id];return F?F[Op(b)]:(k&&(F=x8(g,I),F[Op(b)]=R),R)},"get"),kill:s(function(I,b){if(I&&I[b])try{delete I[b]}catch{}},"kill")};return g}s(v8,"createElmNodeData");function Kp(m){return m&&rt(m)&&(m.isVal||m.fb||ft(m,"v")||ft(m,"mrg")||ft(m,"ref")||m.set)}s(Kp,"_isConfigDefaults");function b8(m,g,I){var b,R=I.dfVal||ie;if(g&&I.fb){var k=I.fb;lt(k)||(k=[k]);for(var F=0;F<k[Ur];F++){var V=k[F],j=g[V];if(R(j)?b=j:m&&(j=m.cfg[V],R(j)&&(b=j),m.set(m.cfg,Mn(V),j)),R(b))break}}return!R(b)&&R(I.v)&&(b=I.v),b}s(b8,"_getDefault");function X5(m,g,I){var b=I;if(I&&Kp(I)&&(b=b8(m,g,I)),b){Kp(b)&&(b=X5(m,g,b));var R;lt(b)?(R=[],R[Ur]=b[Ur]):a0(b)&&(R={}),R&&(Ye(b,function(k,F){F&&Kp(F)&&(F=X5(m,g,F)),R[k]=F}),b=R)}return b}s(X5,"_resolveDefaultValue");function Z5(m,g,I,b){var R,k,F,V=b,j,se,ye,Te;Kp(V)?(R=V.isVal,k=V.set,ye=V.rdOnly,Te=V.blkVal,j=V.mrg,se=V.ref,!se&&W(se)&&(se=!!j),F=b8(m,g,V)):F=b,Te&&m.blkVal(g,I);var Pe,we=!0,De=g[I];(De||!re(De))&&(Pe=De,we=!1,R&&Pe!==F&&!R(Pe)&&(Pe=F,we=!0),k&&(Pe=k(Pe,F,g),we=Pe===F)),we?F?Pe=X5(m,g,F):Pe=F:(a0(Pe)||lt(F))&&j&&F&&(a0(F)||lt(F))&&Ye(F,function($e,Ue){Z5(m,Pe,$e,Ue)}),m.set(g,I,Pe),se&&m.ref(g,I),ye&&m.rdOnly(g,I)}s(Z5,"_applyDefaultValue");var id=B1("[[ai_dynCfg_1]]"),T8=B1("[[ai_blkDynCfg_1]]"),_8=B1("[[ai_frcDynCfg_1]]");function w8(m){if(m){var g;if(lt(m)?(g=[],g[Ur]=m[Ur]):a0(m)&&(g={}),g)return Ye(m,function(I,b){g[I]=w8(b)}),g}return m}s(w8,"_cfgDeepCopy");function RL(m){if(m){var g=m[id]||m;if(g.cfg&&(g.cfg===m||g.cfg[id]===g))return g}return null}s(RL,"getDynamicConfigHandler");function kL(m){if(m&&(a0(m)||lt(m)))try{m[T8]=!0}catch{}return m}s(kL,"blockDynamicConversion");function eT(m,g,I){var b=!1;return I&&!m[g.blkVal]&&(b=I[_8],!b&&!I[T8]&&(b=a0(I)||lt(I))),b}s(eT,"_canMakeDynamic");function Jp(m){ko("InvalidAccess:"+m)}s(Jp,"throwInvalidAccess");var DL=["push","pop","shift","unshift","splice"],X1=s(function(m,g,I,b){m&&m[_A](3,108,"".concat(I," [").concat(g,"] failed - ")+Xt(b))},"_throwDynamicError");function od(m,g,I){lt(g)&&$t(DL,function(b){var R=g[b];g[b]=function(){for(var k=[],F=0;F<arguments.length;F++)k[F]=arguments[F];var V=R[cI](this,k);return em(m,g,I,"Patching"),V}})}s(od,"_patchArray");function Sc(m,g){var I=Xe(m,g);return I&&I.get}s(Sc,"_getOwnPropGetter");function S8(m,g,I,b){var R={n:I,h:[],trk:s(function(se){se&&se.fn&&(s0(R.h,se)===-1&&R.h[Un](se),m.trk(se,R))},"trk"),clr:s(function(se){var ye=s0(R.h,se);ye!==-1&&R.h[Tp](ye,1)},"clr")},k=!0,F=!1;function V(){k&&(F=F||eT(V,m,b),b&&!b[id]&&F&&(b=em(m,b,I,"Converting")),k=!1);var se=m.act;return se&&R.trk(se),b}s(V,"_getProperty"),V[m.prop]={chng:s(function(){m.add(R)},"chng")};function j(se){if(b!==se){V[m.ro]&&!m.upd&&Jp("["+I+"] is read-only:"+Xt(g)),k&&(F=F||eT(V,m,b),k=!1);var ye=F&&V[m.rf];if(F)if(ye){Ye(b,function(Pe){b[Pe]=se?se[Pe]:L0});try{Ye(se,function(Pe,we){Xp(m,b,Pe,we)}),se=b}catch(Pe){X1((m.hdlr||{})[zo],I,"Assigning",Pe),F=!1}}else b&&b[id]&&Ye(b,function(Pe){var we=Sc(b,Pe);if(we){var De=we[m.prop];De&&De.chng()}});if(se!==b){var Te=se&&eT(V,m,se);!ye&&Te&&(se=em(m,se,I,"Converting")),b=se,F=Te}m.add(R)}}s(j,"_setProperty"),Jt(g,R.n,{g:V,s:j})}s(S8,"_createDynamicProperty");function Xp(m,g,I,b){if(g){var R=Sc(g,I),k=R&&!!R[m.prop];k?g[I]=b:S8(m,g,I,b)}return g}s(Xp,"_setDynamicProperty");function Zp(m,g,I,b){if(g){var R=Sc(g,I),k=R&&!!R[m.prop],F=b&&b[0],V=b&&b[1],j=b&&b[2];if(!k){if(j)try{kL(g)}catch(se){X1((m.hdlr||{})[zo],I,"Blocking",se)}try{Xp(m,g,I,g[I]),R=Sc(g,I)}catch(se){X1((m.hdlr||{})[zo],I,"State",se)}}F&&(R[m.rf]=F),V&&(R[m.ro]=V),j&&(R[m.blkVal]=!0)}return g}s(Zp,"_setDynamicPropertyState");function em(m,g,I,b){try{Ye(g,function(R,k){Xp(m,g,R,k)}),g[id]||(qr(g,id,{get:s(function(){return m.hdlr},"get")}),od(m,g,I))}catch(R){X1((m.hdlr||{})[zo],I,b,R)}return g}s(em,"_makeDynamicObject");var Z1="[[ai_",ey="]]";function NL(m){var g=yA(Z1+"get"+m.uid+ey),I=yA(Z1+"ro"+m.uid+ey),b=yA(Z1+"rf"+m.uid+ey),R=yA(Z1+"blkVal"+m.uid+ey),k=yA(Z1+"dtl"+m.uid+ey),F=null,V=null,j;function se(we,De){var $e=j.act;try{j.act=we,we&&we[k]&&($t(we[k],function(nt){nt.clr(we)}),we[k]=[]),De({cfg:m.cfg,set:m.set.bind(m),setDf:m.setDf.bind(m),ref:m.ref.bind(m),rdOnly:m.rdOnly.bind(m)})}catch(nt){var Ue=m[zo];throw Ue&&Ue[_A](1,107,Xt(nt)),nt}finally{j.act=$e||null}}s(se,"_useHandler");function ye(){if(F){var we=F;F=null,V&&V[_p](),V=null;var De=[];if($t(we,function($e){if($e&&($e[k]&&($t($e[k],function(Ue){Ue.clr($e)}),$e[k]=null),$e.fn))try{se($e,$e.fn)}catch(Ue){De[Un](Ue)}}),F)try{ye()}catch($e){De[Un]($e)}De[Ur]>0&&P5("Watcher error(s): ",De)}}s(ye,"_notifyWatchers");function Te(we){if(we&&we.h[Ur]>0){F||(F=[]),V||(V=Wf(function(){V=null,ye()},0));for(var De=0;De<we.h[Ur];De++){var $e=we.h[De];$e&&s0(F,$e)===-1&&F[Un]($e)}}}s(Te,"_addWatcher");function Pe(we,De){if(we){var $e=we[k]=we[k]||[];s0($e,De)===-1&&$e[Un](De)}}return s(Pe,"_trackHandler"),j={prop:g,ro:I,rf:b,blkVal:R,hdlr:m,add:Te,notify:ye,use:se,trk:Pe},j}s(NL,"_createState");function QI(m,g){var I={fn:g,rm:s(function(){I.fn=null,m=null,g=null},"rm")};return Jt(I,"toJSON",{v:s(function(){return"WatcherHandler"+(I.fn?"":"[X]")},"v")}),m.use(I,g),I}s(QI,"_createAndUseHandler");function B8(m,g,I){var b=RL(g);if(b)return b;var R=Qu("dyncfg",!0),k=g&&I!==!1?g:w8(g),F;function V(){F.notify()}s(V,"_notifyWatchers");function j(Ue,nt,ht){try{Ue=Xp(F,Ue,nt,ht)}catch(It){X1(m,nt,"Setting value",It)}return Ue[nt]}s(j,"_setValue");function se(Ue){return QI(F,Ue)}s(se,"_watch");function ye(Ue,nt){F.use(null,function(ht){var It=F.upd;try{W(nt)||(F.upd=nt),Ue(ht)}finally{F.upd=It}})}s(ye,"_block");function Te(Ue,nt){var ht;return Zp(F,Ue,nt,(ht={},ht[0]=!0,ht))[nt]}s(Te,"_ref");function Pe(Ue,nt){var ht;return Zp(F,Ue,nt,(ht={},ht[1]=!0,ht))[nt]}s(Pe,"_rdOnly");function we(Ue,nt){var ht;return Zp(F,Ue,nt,(ht={},ht[2]=!0,ht))[nt]}s(we,"_blkPropValue");function De(Ue,nt){return nt&&Ye(nt,function(ht,It){Z5($e,Ue,ht,It)}),Ue}s(De,"_applyDefaults");var $e={uid:null,cfg:k,logger:m,notify:V,set:j,setDf:De,watch:se,ref:Te,rdOnly:Pe,blkVal:we,_block:ye};return Jt($e,"uid",{c:!1,e:!1,w:!1,v:R}),F=NL($e),em(F,k,"config","Creating"),$e}s(B8,"_createDynamicHandler");function R8(m,g){m?(m[bp](g),m[_A](2,108,g)):Jp(g)}s(R8,"_logInvalidAccess");function H0(m,g,I,b){var R=B8(I,m||{},b);return g&&R.setDf(R.cfg,g),R}s(H0,"createDynamicConfig");function Pu(m,g,I){var b=m[id]||m;return b.cfg&&(b.cfg===m||b.cfg[id]===b)?b[Su](g):(R8(I,A8+Xt(m)),H0(m,null,I)[Su](g))}s(Pu,"onConfigChange");function tm(m,g){if(m&&m[wA])return m[wA](g)}s(tm,"runTargetUnload");function k8(m,g,I){var b;return I||(b=Qp(function(R){I=R})),m&&lL(m)>0?F0(tm(m[0],g),function(){k8(up(m,1),g,I)}):I(),b}s(k8,"doUnloadAll");var QL=500,D8="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function PL(m,g,I){return!m&&re(m)?g:Hr(m)?m:Mn(m)[vp]()==="true"}s(PL,"_stringToBoolOrDefault");function FL(m){return{mrg:!0,v:m}}s(FL,"cfgDfMerge");function tT(m,g,I){return{fb:I,isVal:m,v:g}}s(tT,"cfgDfValidate");function bl(m,g){return{fb:g,set:PL,v:!!m}}s(bl,"cfgDfBoolean");var PI=[Lp,Mp,xI,NA],FI=null,LI;function LL(m,g){return function(){var I=arguments,b=N8(g);if(b){var R=b.listener;R&&R[m]&&R[m][cI](R,I)}}}s(LL,"_listenerProxyFunc");function ML(){var m=No("Microsoft");return m&&(FI=m.ApplicationInsights),FI}s(ML,"_getExtensionNamespace");function N8(m){var g=FI;return!g&&m.disableDbgExt!==!0&&(g=FI||ML()),g?g.ChromeDbgExt:null}s(N8,"getDebugExt");function OL(m){if(!LI){LI={};for(var g=0;g<PI[Ur];g++)LI[PI[g]]=LL(PI[g],m)}return LI}s(OL,"getDebugListener");var rm,Q8="warnToConsole",UL="AI (Internal): ",HL="AI: ",qL="AITR_",P8={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},nm=(rm={},rm[0]=null,rm[1]="errorToConsole",rm[2]=Q8,rm[3]="debugToConsole",rm);function u0(m){return m?'"'+m[Zf](/\"/g,cn)+'"':cn}s(u0,"_sanitizeDiagnosticText");function ty(m,g){var I=K1();if(I){var b="log";I[m]&&(b=m),Je(I[b])&&I[b](g)}}s(ty,"_logToConsole");var MI=function(){function m(g,I,b,R){b===void 0&&(b=!1);var k=this;k[fI]=g,k[BA]=(b?HL:UL)+g;var F=cn;Yp()&&(F=l0().stringify(R));var V=(I?" message:"+u0(I):cn)+(R?" props:"+u0(F):cn);k[BA]+=V}return s(m,"_InternalLogMessage"),m.dataType="MessageData",m}();function ry(m,g){return(m||{})[zo]||new ny(g)}s(ry,"safeGetLogger");var ny=function(){function m(g){this.identifier="DiagnosticLogger",this.queue=[];var I=0,b={},R,k,F,V,j;da(m,this,function(se){j=Te(g||{}),se.consoleLoggingLevel=function(){return R},se[_A]=function(De,$e,Ue,nt,ht){ht===void 0&&(ht=!1);var It=new MI($e,Ue,ht,nt);if(V)throw Xt(It);var Nt=nm[De]||Q8;if(W(It[BA]))we("throw"+(De===1?"Critical":"Warning"),It);else{if(ht){var Nr=+It[fI];!b[Nr]&&R>=De&&(se[Nt](It[BA]),b[Nr]=!0)}else R>=De&&se[Nt](It[BA]);ye(De,It)}},se.debugToConsole=function(De){ty("debug",De),we("warning",De)},se[bp]=function(De){ty("warn",De),we("warning",De)},se.errorToConsole=function(De){ty("error",De),we("error",De)},se.resetInternalMessageCount=function(){I=0,b={}},se.logInternalMessage=ye,se[wA]=function(De){j&&j.rm(),j=null};function ye(De,$e){if(!Pe()){var Ue=!0,nt=qL+$e[fI];if(b[nt]?Ue=!1:b[nt]=!0,Ue&&(De<=k&&(se.queue[Un]($e),I++,we(De===1?"error":"warn",$e)),I===F)){var ht="Internal events throttle limit per PageView reached for this app.",It=new MI(23,ht,!1);se.queue[Un](It),De===1?se.errorToConsole(ht):se[bp](ht)}}}s(ye,"_logInternalMessage");function Te(De){return Pu(H0(De,P8,se).cfg,function($e){var Ue=$e.cfg;R=Ue[t8],k=Ue.loggingLevelTelemetry,F=Ue.maxMessageLimit,V=Ue.enableDebug})}s(Te,"_setDefaultsFromConfig");function Pe(){return I>=F}s(Pe,"_areInternalMessagesThrottled");function we(De,$e){var Ue=N8(g||{});Ue&&Ue[Cl]&&Ue[Cl](De,$e)}s(we,"_debugExtMsg")})}return s(m,"DiagnosticLogger"),m.__ieDyn=1,m}();function rT(m){return m||new ny}s(rT,"_getLogger");function Mt(m,g,I,b,R,k){k===void 0&&(k=!1),rT(m)[_A](g,I,b,R,k)}s(Mt,"_throwInternal");function OI(m,g){rT(m)[bp](g)}s(OI,"_warnToConsole");var iy,sd,F8="toGMTString",L8="toUTCString",UI="cookie",Fu="expires",M8="isCookieUseDisabled",HI="disableCookiesUsage",O8="_ckMgr",qI=null,im=null,GI=null,Tl,U8={},H8={},q8=(iy={cookieCfg:FL((sd={},sd[bI]={fb:"cookieDomain",dfVal:_I},sd.path={fb:"cookiePath",dfVal:_I},sd.enabled=L0,sd.ignoreCookies=L0,sd.blockedCookies=L0,sd)),cookieDomain:L0,cookiePath:L0},iy[HI]=L0,iy);function nT(){!Tl&&(Tl=N0(function(){return ap()}))}s(nT,"_getDoc");function oy(m){return m?m.isEnabled():!0}s(oy,"_isMgrEnabled");function iT(m,g){return g&&m&&lt(m.ignoreCookies)?s0(m.ignoreCookies,g)!==-1:!1}s(iT,"_isIgnoredCookie");function GL(m,g){return g&&m&&lt(m.blockedCookies)&&s0(m.blockedCookies,g)!==-1?!0:iT(m,g)}s(GL,"_isBlockedCookie");function oT(m,g){var I=g[gl];if(re(I)){var b=void 0;W(m[M8])||(b=!m[M8]),W(m[HI])||(b=!m[HI]),I=b}return I}s(oT,"_isCfgEnabled");function VL(m,g){var I,b,R,k,F,V,j,se;m=H0(m||H8,null,g).cfg,k=Pu(m,function(Te){Te.setDf(Te.cfg,q8),I=Te.ref(Te.cfg,"cookieCfg"),b=I[TI]||"/",R=I[bI],F=oT(m,I)!==!1,V=I.getCookie||WL,j=I.setCookie||om,se=I.delCookie||om},g);var ye={isEnabled:s(function(){var Te=oT(m,I)!==!1&&F&&G8(g),Pe=H8[O8];return Te&&Pe&&ye!==Pe&&(Te=oy(Pe)),Te},"isEnabled"),setEnabled:s(function(Te){F=Te!==!1,I[gl]=Te},"setEnabled"),set:s(function(Te,Pe,we,De,$e){var Ue=!1;if(oy(ye)&&!GL(I,Te)){var nt={},ht=On(Pe||cn),It=Tu(ht,";");if(It!==-1&&(ht=On(L(Pe,It)),nt=sT(fe(Pe,It+1))),td(nt,bI,De||R,le,W),!re(we)){var Nt=wc();if(W(nt[Fu])){var Nr=qf(),An=Nr+we*1e3;if(An>0){var hn=new Date;hn.setTime(An),td(nt,Fu,V8(hn,Nt?F8:L8)||V8(hn,Nt?F8:L8)||cn,le)}}Nt||td(nt,"max-age",cn+we,null,W)}var si=Wp();si&&si.protocol==="https:"&&(td(nt,"secure",null,null,W),im===null&&(im=!YL((Mf()||{})[AI])),im&&td(nt,"SameSite","None",null,W)),td(nt,TI,$e||b,null,W),j(Te,W8(ht,nt)),Ue=!0}return Ue},"set"),get:s(function(Te){var Pe=cn;return oy(ye)&&!iT(I,Te)&&(Pe=V(Te)),Pe},"get"),del:s(function(Te,Pe){var we=!1;return oy(ye)&&(we=ye.purge(Te,Pe)),we},"del"),purge:s(function(Te,Pe){var we,De=!1;if(G8(g)){var $e=(we={},we[TI]=Pe||"/",we[Fu]="Thu, 01 Jan 1970 00:00:01 GMT",we);wc()||($e["max-age"]="0"),se(Te,W8(cn,$e)),De=!0}return De},"purge"),unload:s(function(Te){k&&k.rm(),k=null},"unload")};return ye[O8]=ye,ye}s(VL,"createCookieMgr");function G8(m){if(qI===null){qI=!1,!Tl&&nT();try{var g=Tl.v||{};qI=g[UI]!==void 0}catch(I){Mt(m,2,68,"Cannot access document.cookie - "+_s(I),{exception:Xt(I)})}}return qI}s(G8,"areCookiesSupported");function sT(m){var g={};if(m&&m[Ur]){var I=On(m)[Xf](";");$t(I,function(b){if(b=On(b||cn),b){var R=Tu(b,"=");R===-1?g[b]=null:g[On(L(b,R))]=On(fe(b,R+1))}})}return g}s(sT,"_extractParts");function V8(m,g){return Je(m[g])?m[g]():null}s(V8,"_formatDate");function W8(m,g){var I=m||cn;return Ye(g,function(b,R){I+="; "+b+(re(R)?cn:"="+R)}),I}s(W8,"_formatCookieValue");function WL(m){var g=cn;if(!Tl&&nT(),Tl.v){var I=Tl.v[UI]||cn;GI!==I&&(U8=sT(I),GI=I),g=On(U8[m]||cn)}return g}s(WL,"_getCookieValue");function om(m,g){!Tl&&nT(),Tl.v&&(Tl.v[UI]=m+"="+g)}s(om,"_setCookieValue");function YL(m){return he(m)?!!(Hs(m,"CPU iPhone OS 12")||Hs(m,"iPad; CPU OS 12")||Hs(m,"Macintosh; Intel Mac OS X 10_14")&&Hs(m,"Version/")&&Hs(m,"Safari")||Hs(m,"Macintosh; Intel Mac OS X 10_14")&&jS(m,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Hs(m,"Chrome/5")||Hs(m,"Chrome/6")||Hs(m,"UnrealEngine")&&!Hs(m,"Chrome")||Hs(m,"UCBrowser/12")||Hs(m,"UCBrowser/11")):!1}s(YL,"uaDisallowsSameSiteNone");var aT={perfEvtsSendAll:!1};function $L(m){m.h=null;var g=m.cb;m.cb=[],$t(g,function(I){Ae(I.fn,[I.arg])})}s($L,"_runScheduledListeners");function ad(m,g,I,b){$t(m,function(R){R&&R[g]&&(I?(I.cb[Un]({fn:b,arg:R}),I.h=I.h||Wf($L,0,I)):Ae(b,[R]))})}s(ad,"_runListeners");var zL=function(){function m(g){this.listeners=[];var I,b,R=[],k={h:null,cb:[]},F=H0(g,aT);b=F[Su](function(V){I=!!V.cfg.perfEvtsSendAll}),da(m,this,function(V){Jt(V,"listeners",{g:s(function(){return R},"g")}),V[lI]=function(j){R[Un](j)},V[H1]=function(j){for(var se=s0(R,j);se>-1;)R[Tp](se,1),se=s0(R,j)},V[Lp]=function(j){ad(R,Lp,k,function(se){se[Lp](j)})},V[Mp]=function(j,se){ad(R,Mp,k,function(ye){ye[Mp](j,se)})},V[xI]=function(j,se){ad(R,xI,se?k:null,function(ye){ye[xI](j,se)})},V[NA]=function(j){j&&(I||!j[N5]())&&ad(R,NA,null,function(se){j.isAsync?Wf(function(){return se[NA](j)},0):se[NA](j)})},V[L5]=function(j){j&&j[Ur]&&ad(R,L5,k,function(se){se[L5](j)})},V[M5]=function(j){j&&j[kp]&&ad(R,M5,k,function(se){se[M5](j)})},V[vI]=function(j,se){if(j>0){var ye=se||0;ad(R,vI,k,function(Te){Te[vI](j,ye)})}},V[wA]=function(j){var se=s(function(){b&&b.rm(),b=null,R=[],k.h&&k.h[_p](),k.h=null,k.cb=[]},"_finishUnload"),ye;if(ad(R,"unload",null,function(Te){var Pe=Te[wA](j);Pe&&(ye||(ye=[]),ye[Un](Pe))}),ye)return Qp(function(Te){return F0(F5(ye),function(){se(),Te()})});se()}})}return s(m,"NotificationManager"),m.__ieDyn=1,m}(),sm="ctx",cT="ParentContextKey",sy="ChildrenContextKey",jL=null,VI=function(){function m(g,I,b){var R=this;if(R.start=qf(),R[Kf]=g,R.isAsync=b,R[N5]=function(){return!1},Je(I)){var k;Jt(R,"payload",{g:s(function(){return!k&&Je(I)&&(k=I(),I=null),k},"g")})}R[ed]=function(F){return F?F===m[cT]||F===m[sy]?R[F]:(R[sm]||{})[F]:null},R[Tc]=function(F,V){if(F)if(F===m[cT])R[F]||(R[N5]=function(){return!0}),R[F]=V;else if(F===m[sy])R[F]=V;else{var j=R[sm]=R[sm]||{};j[F]=V}},R.complete=function(){var F=0,V=R[ed](m[sy]);if(lt(V))for(var j=0;j<V[Ur];j++){var se=V[j];se&&(F+=se.time)}R.time=qf()-R.start,R.exTime=R.time-F,R.complete=function(){}}}return s(m,"PerfEvent"),m.ParentContextKey="parent",m.ChildrenContextKey="childEvts",m}(),KL=function(){function m(g){this.ctx={},da(m,this,function(I){I.create=function(b,R,k){return new VI(b,R,k)},I.fire=function(b){b&&(b.complete(),g&&Je(g[NA])&&g[NA](b))},I[Tc]=function(b,R){if(b){var k=I[sm]=I[sm]||{};k[b]=R}},I[ed]=function(b){return(I[sm]||{})[b]}})}return s(m,"PerfManager"),m.__ieDyn=1,m}(),_l="CoreUtils.doPerf";function am(m,g,I,b,R){if(m){var k=m;if(k[V1]&&(k=k[V1]()),k){var F=void 0,V=k[ed](_l);try{if(F=k.create(g(),b,R),F){if(V&&F[Tc]&&(F[Tc](VI[cT],V),V[ed]&&V[Tc])){var j=V[ed](VI[sy]);j||(j=[],V[Tc](VI[sy],j)),j[Un](F)}return k[Tc](_l,F),I(F)}}catch(se){F&&F[Tc]&&F[Tc]("exception",se)}finally{F&&k.fire(F),k[Tc](_l,V)}}}return I()}s(am,"doPerf");function Ko(){return jL}s(Ko,"getGblPerfMgr");var WI="00000000000000000000000000000000",cm="0000000000000000";function YI(m,g,I){return m&&m[Ur]===g&&m!==I?!!m.match(/^[\da-f]*$/i):!1}s(YI,"_isValid");function cd(m){return YI(m,32,WI)}s(cd,"isValidTraceId");function LA(m){return YI(m,16,cm)}s(LA,"isValidSpanId");var ay=v8("plugin");function ld(m){return ay.get(m,"state",{},!0)}s(ld,"_getPluginState");function lT(m,g){for(var I=[],b=null,R=m[El](),k;R;){var F=R[Sp]();if(F){b&&b[Jf]&&F[M0]&&b[Jf](F),k=ld(F);var V=!!k[ml];F[ml]&&(V=F[ml]()),V||I[Un](F),b=F,R=R[El]()}}$t(I,function(j){var se=m[jo]();j[U1](m.getCfg(),se,g,m[El]()),k=ld(j),!j[jo]&&!k[jo]&&(k[jo]=se),k[ml]=!0,delete k[yl]})}s(lT,"initializePlugins");function uT(m){return m.sort(function(g,I){var b=0;if(I){var R=I[M0];g[M0]?b=R?g[Fp]-I[Fp]:1:R&&(b=-1)}else b=g?1:-1;return b})}s(uT,"sortPlugins");function JL(m){var g={};return{getName:s(function(){return g[Kf]},"getName"),setName:s(function(I){m&&m.setName(I),g[Kf]=I},"setName"),getTraceId:s(function(){return g.traceId},"getTraceId"),setTraceId:s(function(I){m&&m.setTraceId(I),cd(I)&&(g.traceId=I)},"setTraceId"),getSpanId:s(function(){return g.spanId},"getSpanId"),setSpanId:s(function(I){m&&m.setSpanId(I),LA(I)&&(g.spanId=I)},"setSpanId"),getTraceFlags:s(function(){return g[n8]},"getTraceFlags"),setTraceFlags:s(function(I){m&&m.setTraceFlags(I),g[n8]=I},"setTraceFlags")}}s(JL,"createDistributedTraceContext");var XL="TelemetryPluginChain",Y8="_hasRun",fT="_getTelCtx",$8=0;function ZL(m,g,I){for(;m;){if(m[Sp]()===I)return m;m=m[El]()}return B([I],g.config||{},g)}s(ZL,"_getNextProxyStart");function dT(m,g,I,b){var R=null,k=[];g||(g=H0({},null,I[zo])),b!==null&&(R=b?ZL(m,I,b):m);var F={_next:j,ctx:{core:s(function(){return I},"core"),diagLog:s(function(){return ry(I,g.cfg)},"diagLog"),getCfg:s(function(){return g.cfg},"getCfg"),getExtCfg:ye,getConfig:Te,hasNext:s(function(){return!!R},"hasNext"),getNext:s(function(){return R},"getNext"),setNext:s(function(we){R=we},"setNext"),iterate:Pe,onComplete:V}};function V(we,De){for(var $e=[],Ue=2;Ue<arguments.length;Ue++)$e[Ue-2]=arguments[Ue];we&&k[Un]({func:we,self:W(De)?F.ctx:De,args:$e})}s(V,"_addOnComplete");function j(){var we=R;if(R=we?we[El]():null,!we){var De=k;De&&De[Ur]>0&&($t(De,function($e){try{$e.func.call($e.self,$e.args)}catch(Ue){Mt(I[zo],2,73,"Unexpected Exception during onComplete - "+Xt(Ue))}}),k=[])}return we}s(j,"_moveNext");function se(we,De){var $e=null,Ue=g.cfg;if(Ue&&we){var nt=Ue[DA];!nt&&De&&(nt={}),Ue[DA]=nt,nt=g.ref(Ue,DA),nt&&($e=nt[we],!$e&&De&&($e={}),nt[we]=$e,$e=g.ref(nt,we))}return $e}s(se,"_getExtCfg");function ye(we,De){var $e=se(we,!0);return De&&Ye(De,function(Ue,nt){if(re($e[Ue])){var ht=g.cfg[Ue];(ht||!re(ht))&&($e[Ue]=ht)}Z5(g,$e,Ue,nt)}),g.setDf($e,De)}s(ye,"_resolveExtCfg");function Te(we,De,$e){$e===void 0&&($e=!1);var Ue,nt=se(we,!1),ht=g.cfg;return nt&&(nt[De]||!re(nt[De]))?Ue=nt[De]:(ht[De]||!re(ht[De]))&&(Ue=ht[De]),Ue||!re(Ue)?Ue:$e}s(Te,"_getConfig");function Pe(we){for(var De;De=F._next();){var $e=De[Sp]();$e&&we($e)}}return s(Pe,"_iterateChain"),F}s(dT,"_createInternalContext");function lm(m,g,I,b){var R=H0(g),k=dT(m,R,I,b),F=k.ctx;function V(se){var ye=k._next();return ye&&ye[M0](se,F),!ye}s(V,"_processNext");function j(se,ye){return se===void 0&&(se=null),lt(se)&&(se=B(se,R.cfg,I,ye)),lm(se||F[El](),R.cfg,I,ye)}return s(j,"_createNew"),F[Us]=V,F[SA]=j,F}s(lm,"createProcessTelemetryContext");function x(m,g,I){var b=H0(g.config),R=dT(m,b,g,I),k=R.ctx;function F(j){var se=R._next();return se&&se[wA](k,j),!se}s(F,"_processNext");function V(j,se){return j===void 0&&(j=null),lt(j)&&(j=B(j,b.cfg,g,se)),x(j||k[El](),g,se)}return s(V,"_createNew"),k[Us]=F,k[SA]=V,k}s(x,"createProcessTelemetryUnloadContext");function T(m,g,I){var b=H0(g.config),R=dT(m,b,g,I),k=R.ctx;function F(j){return k.iterate(function(se){Je(se[Bu])&&se[Bu](k,j)})}s(F,"_processNext");function V(j,se){return j===void 0&&(j=null),lt(j)&&(j=B(j,b.cfg,g,se)),T(j||k[El](),g,se)}return s(V,"_createNew"),k[Us]=F,k[SA]=V,k}s(T,"createProcessTelemetryUpdateContext");function B(m,g,I,b){var R=null,k=!b;if(lt(m)&&m[Ur]>0){var F=null;$t(m,function(V){if(!k&&b===V&&(k=!0),k&&V&&Je(V[M0])){var j=Q(V,g,I);R||(R=j),F&&F._setNext(j),F=j}})}return b&&!R?B([b],g,I):R}s(B,"createTelemetryProxyChain");function Q(m,g,I){var b=null,R=Je(m[M0]),k=Je(m[Jf]),F;m?F=m[jf]+"-"+m[Fp]+"-"+$8++:F="Unknown-0-"+$8++;var V={getPlugin:s(function(){return m},"getPlugin"),getNext:s(function(){return b},"getNext"),processTelemetry:ye,unload:Te,update:Pe,_id:F,_setNext:s(function(we){b=we},"_setNext")};function j(){var we;return m&&Je(m[fT])&&(we=m[fT]()),we||(we=lm(V,g,I)),we}s(j,"_getTelCtx");function se(we,De,$e,Ue,nt){var ht=!1,It=m?m[jf]:XL,Nt=we[Y8];return Nt||(Nt=we[Y8]={}),we.setNext(b),m&&am(we[jo](),function(){return It+":"+$e},function(){Nt[F]=!0;try{var Nr=b?b._id:cn;Nr&&(Nt[Nr]=!1),ht=De(we)}catch(hn){var An=b?Nt[b._id]:!0;An&&(ht=!0),(!b||!An)&&Mt(we[Cl](),1,73,"Plugin ["+It+"] failed during "+$e+" - "+Xt(hn)+", run flags: "+Xt(Nt))}},Ue,nt),ht}s(se,"_processChain");function ye(we,De){De=De||j();function $e(Ue){if(!m||!R)return!1;var nt=ld(m);return nt[yl]||nt[II]?!1:(k&&m[Jf](b),m[M0](we,Ue),!0)}s($e,"_callProcessTelemetry"),se(De,$e,"processTelemetry",function(){return{item:we}},!we.sync)||De[Us](we)}s(ye,"_processTelemetry");function Te(we,De){function $e(){var Ue=!1;if(m){var nt=ld(m),ht=m[jo]||nt[jo];m&&(!ht||ht===we.core())&&!nt[yl]&&(nt[jo]=null,nt[yl]=!0,nt[ml]=!1,m[yl]&&m[yl](we,De)===!0&&(Ue=!0))}return Ue}s($e,"_callTeardown"),se(we,$e,"unload",function(){},De.isAsync)||we[Us](De)}s(Te,"_unloadPlugin");function Pe(we,De){function $e(){var Ue=!1;if(m){var nt=ld(m),ht=m[jo]||nt[jo];m&&(!ht||ht===we.core())&&!nt[yl]&&m[Bu]&&m[Bu](we,De)===!0&&(Ue=!0)}return Ue}s($e,"_callUpdate"),se(we,$e,"update",function(){},!1)||we[Us](De)}return s(Pe,"_updatePlugin"),Tr(V)}s(Q,"createTelemetryPluginProxy");function z(){var m=[];function g(b){b&&m[Un](b)}s(g,"_addHandler");function I(b,R){$t(m,function(k){try{k(b,R)}catch(F){Mt(b[Cl](),2,73,"Unexpected error calling unload handler - "+Xt(F))}}),m=[]}return s(I,"_runHandlers"),{add:g,run:I}}s(z,"createUnloadHandlerContainer");function pe(){var m=[];function g(b){var R=m;m=[],$t(R,function(k){try{(k.rm||k.remove).call(k)}catch(F){Mt(b,2,73,"Unloading:"+Xt(F))}})}s(g,"_doUnload");function I(b){b&&lp(m,b)}return s(I,"_addHook"),{run:g,add:I}}s(pe,"createUnloadHookContainer");var Ee,Be="getPlugin",Me=(Ee={},Ee[DA]={isVal:_I,v:{}},Ee),et=function(){function m(){var g=this,I,b,R,k,F;se(),da(m,g,function(ye){ye[U1]=function(Te,Pe,we,De){j(Te,Pe,De),I=!0},ye[yl]=function(Te,Pe){var we=ye[jo];if(!we||Te&&we!==Te[jo]())return;var De,$e=!1,Ue=Te||x(null,we,R&&R[Be]?R[Be]():R),nt=Pe||{reason:0,isAsync:!1};function ht(){$e||($e=!0,k.run(Ue,Pe),F.run(Ue[Cl]()),De===!0&&Ue[Us](nt),se())}return s(ht,"_unloadCallback"),!ye[dI]||ye[dI](Ue,nt,ht)!==!0?ht():De=!0,De},ye[Bu]=function(Te,Pe){var we=ye[jo];if(!we||Te&&we!==Te[jo]())return;var De,$e=!1,Ue=Te||T(null,we,R&&R[Be]?R[Be]():R),nt=Pe||{reason:0};function ht(){$e||($e=!0,j(Ue.getCfg(),Ue.core(),Ue[El]()))}return s(ht,"_updateCallback"),!ye._doUpdate||ye._doUpdate(Ue,nt,ht)!==!0?ht():De=!0,De},Y1(ye,"_addUnloadCb",function(){return k},"add"),Y1(ye,"_addHook",function(){return F},"add"),Jt(ye,"_unloadHooks",{g:s(function(){return F},"g")})}),g[Cl]=function(ye){return V(ye)[Cl]()},g[ml]=function(){return I},g.setInitialized=function(ye){I=ye},g[Jf]=function(ye){R=ye},g[Us]=function(ye,Te){Te?Te[Us](ye):R&&Je(R[M0])&&R[M0](ye,null)},g._getTelCtx=V;function V(ye){ye===void 0&&(ye=null);var Te=ye;if(!Te){var Pe=b||lm(null,{},g[jo]);R&&R[Be]?Te=Pe[SA](null,R[Be]):Te=Pe[SA](null,R)}return Te}s(V,"_getTelCtx");function j(ye,Te,Pe){H0(ye,Me,ry(Te)),!Pe&&Te&&(Pe=Te[Bp]()[El]());var we=R;R&&R[Be]&&(we=R[Be]()),g[jo]=Te,b=lm(Pe,ye,Te,we)}s(j,"_setDefaults");function se(){I=!1,g[jo]=null,b=null,R=null,F=pe(),k=z()}s(se,"_initDefaults")}return s(m,"BaseTelemetryPlugin"),m.__ieDyn=1,m}();function St(m,g,I){var b={id:g,fn:I};lp(m,b);var R={remove:s(function(){$t(m,function(k,F){if(k.id===b.id)return m[Tp](F,1),-1})},"remove")};return R}s(St,"_addInitializer");function pr(m,g,I){for(var b=!1,R=m[Ur],k=0;k<R;++k){var F=m[k];if(F)try{if(F.fn[cI](null,[g])===!1){b=!0;break}}catch(V){Mt(I,2,64,"Telemetry initializer failed: "+_s(V),{exception:Xt(V)},!0)}}return!b}s(pr,"_runInitializers");var Rr=function(m){O1(g,m);function g(){var I=m.call(this)||this;I.identifier="TelemetryInitializerPlugin",I.priority=199;var b,R;k(),da(g,I,function(F,V){F.addTelemetryInitializer=function(j){return St(R,b++,j)},F[M0]=function(j,se){pr(R,j,se?se[Cl]():F[Cl]())&&F[Us](j,se)},F[dI]=function(){k()}});function k(){b=0,R=[]}return s(k,"_initDefaults"),I}return s(g,"TelemetryInitializerPlugin"),g.__ieDyn=1,g}(et),Rt,Lt="Plugins must provide initialize method",_r="_notificationManager",mr="SDK is still unloading...",ln="SDK is not initialized",Jn=100,vn=5e4,us=$r((Rt={cookieCfg:{}},Rt[Pp]={rdOnly:!0,ref:!0,v:[]},Rt[Du]={rdOnly:!0,ref:!0,v:[]},Rt[DA]={ref:!0,v:{}},Rt[_c]=L0,Rt.loggingLevelConsole=0,Rt.diagnosticLogInterval=L0,Rt));function um(m,g){return new KL(g)}s(um,"_createPerfManager");function cy(m,g,I){var b=[],R=[],k={};return $t(I,function(F){(re(F)||re(F[U1]))&&mo(Lt);var V=F[Fp],j=F[jf];F&&V&&(re(k[V])?k[V]=j:OI(m,"Two extensions have same priority #"+V+" - "+k[V]+", "+j)),!V||V<g?b[Un](F):R[Un](F)}),{core:b,channels:R}}s(cy,"_validateExtensions");function AT(m,g){var I=!1;return $t(g,function(b){if(b===m)return I=!0,-1}),I}s(AT,"_isPluginPresent");function $I(m,g,I,b){I&&Ye(I,function(R,k){b&&a0(k)&&a0(g[R])&&$I(m,g[R],k,b),b&&a0(k)&&a0(g[R])?$I(m,g[R],k,b):m.set(g,R,k)})}s($I,"_deepMergeConfig");function z8(m,g){var I=null,b=-1;return $t(m,function(R,k){if(R.w===g)return I=R,b=k,-1}),{i:b,l:I}}s(z8,"_findWatcher");function eM(m,g){var I=z8(m,g).l;return I||(I={w:g,rm:s(function(){var b=z8(m,g);b.i!==-1&&m[Tp](b.i,1)},"rm")},m[Un](I)),I}s(eM,"_addDelayedCfgListener");function hT(m,g,I){$t(g,function(b){var R=Pu(m,b.w,I);delete b.w,b.rm=function(){R.rm()}})}s(hT,"_registerDelayedCfgListener");function j8(m,g,I,b){return g.add(m[Su](function(R){var k=R.cfg.disableDbgExt;k===!0&&b&&(I[H1](b),b=null),I&&!b&&k!==!0&&(b=OL(R.cfg),I[lI](b))})),b}s(j8,"_initDebugListener");function K8(m){return Jt({rm:s(function(){m.rm()},"rm")},"toJSON",{v:s(function(){return"aicore::onCfgChange<"+JSON.stringify(m)+">"},"v")})}s(K8,"_createUnloadHook");var ct=function(){function m(){var g,I,b,R,k,F,V,j,se,ye,Te,Pe,we,De,$e,Ue,nt,ht,It,Nt,Nr,An,hn,si,sr,Wt,pn,so,Ri,pt,Yt,Xn;da(m,this,function(at){Ge(),at._getDbgPlgTargets=function(){return[hn,R]},at[ml]=function(){return I},at.activeStatus=function(){return Wt},at._setPendingStatus=function(){Wt=3},at[U1]=function(je,Dt,Ir,qt){we&&mo(mr),at[ml]()&&mo("Core cannot be initialized more than once"),g=H0(je,us,Ir||at[zo],!1),je=g.cfg,pa(g[Su](function(Ci){var Yi=Ci.cfg,Ha=Wt===3;if(!Ha){so=Yi.initInMemoMaxSize||Jn;var q0=Yi.instrumentationKey,Ou=Yi.endpointUrl;if(re(q0)){Nr=null,Wt=zf.INACTIVE;var Uu="Please provide instrumentation key";I?(Mt(b,1,100,Uu),Co()):mo(Uu);return}var s2=[];if(br(q0)?(s2[Un](q0),Nr=null):Nr=q0,br(Ou)?(s2[Un](Ou),pn=null):pn=Ou,s2[Ur]){Ri=!1,Wt=3;var QT=_I(Yi.initTimeOut)?Yi.initTimeOut:vn,DM=c0(s2);Wf(function(){Ri||gr()},QT),F0(DM,function(Im){try{if(Ri)return;if(!Im.rejected){var xm=Im[wp];if(xm&&xm[Ur]){var EB=xm[0];if(Nr=EB&&EB[wp],xm[Ur]>1){var IB=xm[1];pn=IB&&IB[wp]}}Nr&&(je.instrumentationKey=Nr,je.endpointUrl=pn)}gr()}catch{Ri||gr()}})}else gr();var a2=Ci.ref(Ci.cfg,DA);Ye(a2,function(Im){Ci.ref(a2,Im)})}})),k=qt,It=j8(g,ht,k&&at[bc](),It),Cm(),at[zo]=Ir;var xr=je[Pp];if(ye=[],ye[Un].apply(ye,ZS(ZS([],Dt,!1),xr)),Te=je[Du],Eo(null),(!Pe||Pe[Ur]===0)&&mo("No "+Du+" available"),Te&&Te[Ur]>1){var Ai=at[Sp]("TeeChannelController");(!Ai||!Ai.plugin)&&Mt(b,1,28,"TeeChannel required")}hT(je,An,b),An=null,I=!0,Wt===zf.ACTIVE&&Co()},at.getChannels=function(){var je=[];return Pe&&$t(Pe,function(Dt){je[Un](Dt)}),Tr(je)},at.track=function(je){am(at[V1](),function(){return"AppInsightsCore:track"},function(){je===null&&(ao(je),mo("Invalid telemetry item")),!je[Kf]&&re(je[Kf])&&(ao(je),mo("telemetry name required")),je.iKey=je.iKey||Nr,je.time=je.time||W1(new Date),je.ver=je.ver||"4.0",!we&&at[ml]()&&Wt===zf.ACTIVE?hs()[Us](je):Wt!==zf.INACTIVE&&R[Ur]<=so&&R[Un](je)},function(){return{item:je}},!je.sync)},at[Bp]=hs,at[bc]=function(){return k||(k=new zL(g.cfg),at[_r]=k),k},at[lI]=function(je){at.getNotifyMgr()[lI](je)},at[H1]=function(je){k&&k[H1](je)},at.getCookieMgr=function(){return j||(j=VL(g.cfg,at[zo])),j},at.setCookieMgr=function(je){j!==je&&(tm(j,!1),j=je)},at[V1]=function(){return F||V||Ko()},at.setPerfMgr=function(je){F=je},at.eventCnt=function(){return R[Ur]},at.releaseQueue=function(){if(I&&R[Ur]>0){var je=R;R=[],Wt===2?$t(je,function(Dt){Dt.iKey=Dt.iKey||Nr,hs()[Us](Dt)}):Mt(b,2,20,"core init status is not active")}},at.pollInternalLogs=function(je){return $e=je||null,Xn=!1,pt&&pt[_p](),ai(!0)};function gr(){Ri=!0,re(Nr)?(Wt=zf.INACTIVE,Mt(b,1,112,"ikey can't be resolved from promises")):Wt=zf.ACTIVE,Co()}s(gr,"_setStatus");function Co(){I&&(at.releaseQueue(),at.pollInternalLogs())}s(Co,"_releaseQueues");function ai(je){if((!pt||!pt[gl])&&!Xn){var Dt=je||b&&b.queue[Ur]>0;Dt&&(Yt||(Yt=!0,pa(g[Su](function(Ir){var qt=Ir.cfg.diagnosticLogInterval;(!qt||!(qt>0))&&(qt=1e4);var xr=!1;pt&&(xr=pt[gl],pt[_p]()),pt=tI(ym,qt),pt.unref(),pt[gl]=xr}))),pt[gl]=!0)}return pt}s(ai,"_startLogPoller"),at[e8]=function(){Xn=!0,pt&&pt[_p](),ym()},U5(at,function(){return De},["addTelemetryInitializer"]),at[wA]=function(je,Dt,Ir){je===void 0&&(je=!0),I||mo(ln),we&&mo(mr);var qt={reason:50,isAsync:je,flushComplete:!1},xr;je&&!Dt&&(xr=Qp(function(Yi){Dt=Yi}));var Ai=x(Sl(),at);Ai[uI](function(){ht.run(at[zo]),k8([j,k,b],je,function(){Ge(),Dt&&Dt(qt)})},at);function Ci(Yi){qt.flushComplete=Yi,we=!0,nt.run(Ai,qt),at[e8](),Ai[Us](qt)}return s(Ci,"_doUnload"),ym(),Lu(je,Ci,6,Ir),xr},at[Sp]=Ws,at.addPlugin=function(je,Dt,Ir,qt){if(!je){qt&&qt(!1),Em(Lt);return}var xr=Ws(je[jf]);if(xr&&!Dt){qt&&qt(!1),Em("Plugin ["+je[jf]+"] is already loaded!");return}var Ai={reason:16};function Ci(q0){ye[Un](je),Ai.added=[je],Eo(Ai),qt&&qt(!0)}if(s(Ci,"_addPlugin"),xr){var Yi=[xr.plugin],Ha={reason:2,isAsync:!!Ir};f0(Yi,Ha,function(q0){q0?(Ai.removed=Yi,Ai.reason|=32,Ci()):qt&&qt(!1)})}else Ci()},at.updateCfg=function(je,Dt){Dt===void 0&&(Dt=!0);var Ir;if(at[ml]()){Ir={reason:1,cfg:g.cfg,oldCfg:KE({},g.cfg),newConfig:KE({},je),merge:Dt},je=Ir.newConfig;var qt=g.cfg;je[Pp]=qt[Pp],je[Du]=qt[Du]}g._block(function(xr){var Ai=xr.cfg;$I(xr,Ai,je,Dt),Dt||Ye(Ai,function(Ci){ft(je,Ci)||xr.set(Ai,Ci,L0)}),xr.setDf(Ai,us)},!0),g.notify(),Ir&&Mu(Ir)},at.evtNamespace=function(){return Ue},at.flush=Lu,at.getTraceCtx=function(je){return Nt||(Nt=JL()),Nt},at.setTraceCtx=function(je){Nt=je||null},at.addUnloadHook=pa,Y1(at,"addUnloadCb",function(){return nt},"add"),at.onCfgChange=function(je){var Dt;return I?Dt=Pu(g.cfg,je,at[zo]):Dt=eM(An,je),K8(Dt)},at.getWParam=function(){return Lf()||g.cfg.enableWParam?0:-1};function Vs(){var je={};si=[];var Dt=s(function(Ir){Ir&&$t(Ir,function(qt){if(qt[jf]&&qt[Rp]&&!je[qt.identifier]){var xr=qt[jf]+"="+qt[Rp];si[Un](xr),je[qt.identifier]=qt}})},"_addPluginVersions");Dt(Pe),Te&&$t(Te,function(Ir){Dt(Ir)}),Dt(ye)}s(Vs,"_setPluginVersions");function Ge(){I=!1,g=H0({},us,at[zo]),g.cfg[t8]=1,Jt(at,"config",{g:s(function(){return g.cfg},"g"),s:s(function(Dt){at.updateCfg(Dt,!1)},"s")}),Jt(at,"pluginVersionStringArr",{g:s(function(){return si||Vs(),si},"g")}),Jt(at,"pluginVersionString",{g:s(function(){return sr||(si||Vs(),sr=si.join(";")),sr||cn},"g")}),Jt(at,"logger",{g:s(function(){return b||(b=new ny(g.cfg),g[zo]=b),b},"g"),s:s(function(Dt){g[zo]=Dt,b!==Dt&&(tm(b,!1),b=Dt)},"s")}),at[zo]=new ny(g.cfg),hn=[];var je=at.config[Pp]||[];je.splice(0,je[Ur]),lp(je,hn),De=new Rr,R=[],tm(k,!1),k=null,F=null,V=null,tm(j,!1),j=null,se=null,ye=[],Te=null,Pe=null,we=!1,$e=null,Ue=Qu("AIBaseCore",!0),nt=z(),Nt=null,Nr=null,ht=pe(),An=[],sr=null,si=null,Xn=!1,pt=null,Yt=!1,Wt=0,pn=null,so=null,Ri=!1}s(Ge,"_initDefaults");function hs(){var je=lm(Sl(),g.cfg,at);return je[uI](ai),je}s(hs,"_createTelCtx");function Eo(je){var Dt=cy(at[zo],QL,ye);se=null,sr=null,si=null,Pe=(Te||[])[0]||[],Pe=uT(lp(Pe,Dt[Du]));var Ir=lp(uT(Dt[jo]),Pe);hn=Tr(Ir);var qt=at.config[Pp]||[];qt.splice(0,qt[Ur]),lp(qt,hn);var xr=hs();Pe&&Pe[Ur]>0&&lT(xr[SA](Pe),Ir),lT(xr,Ir),je&&Mu(je)}s(Eo,"_initPluginChain");function Ws(je){var Dt=null,Ir=null,qt=[];return $t(hn,function(xr){if(xr[jf]===je&&xr!==De)return Ir=xr,-1;xr.getChannel&&qt[Un](xr)}),!Ir&&qt[Ur]>0&&$t(qt,function(xr){if(Ir=xr.getChannel(je),!Ir)return-1}),Ir&&(Dt={plugin:Ir,setEnabled:s(function(xr){ld(Ir)[II]=!xr},"setEnabled"),isEnabled:s(function(){var xr=ld(Ir);return!xr[yl]&&!xr[II]},"isEnabled"),remove:s(function(xr,Ai){xr===void 0&&(xr=!0);var Ci=[Ir],Yi={reason:1,isAsync:xr};f0(Ci,Yi,function(Ha){Ha&&Eo({reason:32,removed:Ci}),Ai&&Ai(Ha)})},"remove")}),Dt}s(Ws,"_getPlugin");function Sl(){if(!se){var je=(hn||[]).slice();s0(je,De)===-1&&je[Un](De),se=B(uT(je),g.cfg,at)}return se}s(Sl,"_getPluginChain");function f0(je,Dt,Ir){if(je&&je[Ur]>0){var qt=B(je,g.cfg,at),xr=x(qt,at);xr[uI](function(){var Ai=!1,Ci=[];$t(ye,function(Ha,q0){AT(Ha,je)?Ai=!0:Ci[Un](Ha)}),ye=Ci,sr=null,si=null;var Yi=[];Te&&($t(Te,function(Ha,q0){var Ou=[];$t(Ha,function(Uu){AT(Uu,je)?Ai=!0:Ou[Un](Uu)}),Yi[Un](Ou)}),Te=Yi),Ir&&Ir(Ai),ai()}),xr[Us](Dt)}else Ir(!1)}s(f0,"_removePlugins");function ym(){if(b&&b.queue){var je=b.queue.slice(0);b.queue[Ur]=0,$t(je,function(Dt){var Ir={name:$e||"InternalMessageId: "+Dt[fI],iKey:Nr,time:W1(new Date),baseType:MI.dataType,baseData:{message:Dt[BA]}};at.track(Ir)})}}s(ym,"_flushInternalLogs");function Lu(je,Dt,Ir,qt){var xr=1,Ai=!1,Ci=null;qt=qt||5e3;function Yi(){xr--,Ai&&xr===0&&(Ci&&Ci[_p](),Ci=null,Dt&&Dt(Ai),Dt=null)}if(s(Yi,"doCallback"),Pe&&Pe[Ur]>0){var Ha=hs()[SA](Pe);Ha.iterate(function(q0){if(q0.flush){xr++;var Ou=!1;q0.flush(je,function(){Ou=!0,Yi()},Ir)||Ou||(je&&Ci==null?Ci=Wf(function(){Ci=null,Yi()},qt):Yi())}})}return Ai=!0,Yi(),!0}s(Lu,"_flushChannels");function Cm(){var je;pa(g[Su](function(Dt){var Ir=Dt.cfg.enablePerfMgr;if(Ir){var qt=Dt.cfg[_c];(je!==qt||!je)&&(qt||(qt=um),h8(Dt.cfg,_c,qt),je=qt,V=null),!F&&!V&&Je(qt)&&(V=qt(at,at[bc]()))}else V=null,je=null}))}s(Cm,"_initPerfManager");function Mu(je){var Dt=T(Sl(),at);Dt[uI](ai),(!at._updateHook||at._updateHook(Dt,je)!==!0)&&Dt[Us](je)}s(Mu,"_doUpdate");function Em(je){var Dt=at[zo];Dt?(Mt(Dt,2,73,je),ai()):mo(je)}s(Em,"_logOrThrowError");function ao(je){var Dt=at[bc]();Dt&&Dt[Mp]([je],2)}s(ao,"_notifyInvalidEvent");function pa(je){ht.add(je)}s(pa,"_addUnloadHook")})}return s(m,"AppInsightsCore"),m.__ieDyn=1,m}();function Ht(m,g){try{if(m&&m!==""){var I=l0().parse(m);if(I&&I[r8]&&I[r8]>=I.itemsAccepted&&I.itemsReceived-I.itemsAccepted===I.errors[Ur])return I}}catch(b){Mt(g,1,43,"Cannot parse the response. "+(b[Kf]||Xt(b)),{response:m})}return null}s(Ht,"parseResponse");var rr="",_i="NoResponseBody",ds="&"+_i+"=true",yo="POST",As=function(){function m(){var g=0,I,b,R,k,F,V,j,se,ye,Te,Pe,we,De,$e;da(m,this,function(Ue,nt){var ht=!0;Ri(),Ue[U1]=function(pt,Yt){R=Yt,b&&Mt(R,1,28,"Sender is already initialized"),Ue.SetConfig(pt),b=!0},Ue._getDbgPlgTargets=function(){return[b,k,V,I]},Ue.SetConfig=function(pt){try{if(F=pt.senderOnCompleteCallBack||{},V=!!pt.disableCredentials,j=pt.fetchCredentials,k=!!pt.isOneDs,I=!!pt.enableSendPromise,ye=!!pt.disableXhr,Te=!!pt.disableBeacon,Pe=!!pt.disableBeaconSync,$e=pt.timeWrapper,De=!!pt.addNoResponse,we=!!pt.disableFetchKeepAlive,se={sendPOST:Wt},k||(ht=!1),V){var Yt=Wp();Yt&&Yt.protocol&&Yt.protocol[vp]()==="file:"&&(ht=!1)}return!0}catch{}return!1},Ue.getSyncFetchPayload=function(){return g},Ue.getSenderInst=function(pt,Yt){return pt&&pt[Ur]?An(pt,Yt):null},Ue.getFallbackInst=function(){return se},Ue[dI]=function(pt,Yt){Ri()};function It(pt,Yt){hn(Yt,200,{},pt)}s(It,"_onSuccess");function Nt(pt,Yt){Mt(R,2,26,"Failed to send telemetry.",{message:pt}),hn(Yt,400,{})}s(Nt,"_onError");function Nr(pt){Nt("No endpoint url is provided for the batch",pt)}s(Nr,"_onNoPayloadUrl");function An(pt,Yt){for(var Xn=0,at=null,gr=0;at==null&&gr<pt[Ur];)Xn=pt[gr],!ye&&Xn===1?$5()?at=so:z5()&&(at=Wt):Xn===2&&J1(Yt)&&(!Yt||!we)?at=pn:Xn===3&&nd()&&(Yt?!Pe:!Te)&&(at=sr),gr++;return at?{_transport:Xn,_isSync:Yt,sendPOST:at}:null}s(An,"_getSenderInterface");function hn(pt,Yt,Xn,at){try{pt&&pt(Yt,Xn,at)}catch{}}s(hn,"_doOnComplete");function si(pt,Yt){var Xn=Mf(),at=pt[Ru];if(!at)return Nr(Yt),!0;at=pt[Ru]+(De?ds:rr);var gr=pt[kp],Co=k?gr:new Blob([gr],{type:"text/plain;charset=UTF-8"}),ai=Xn.sendBeacon(at,Co);return ai}s(si,"_doBeaconSend");function sr(pt,Yt,Xn){var at=pt[kp];try{if(at)if(si(pt,Yt))It(rr,Yt);else{var gr=F&&F.beaconOnRetry;gr&&Je(gr)?gr(pt,Yt,si):(se&&se.sendPOST(pt,Yt,!0),Mt(R,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Co){k&&OI(R,"Failed to send telemetry using sendBeacon API. Ex:"+Xt(Co)),hn(Yt,k?0:400,{},rr)}}s(sr,"_beaconSender");function Wt(pt,Yt,Xn){var at,gr,Co,ai=pt[Q5]||{};!Xn&&I&&(at=Qp(function(Eo,Ws){gr=Eo,Co=Ws})),k&&Xn&&pt.disableXhrSync&&(Xn=!1);var Vs=pt[Ru];if(!Vs){Nr(Yt),gr&&gr(!1);return}var Ge=G5(yo,Vs,ht,!0,Xn,pt[ku]);k||Ge.setRequestHeader("Content-type","application/json"),$t(vt(ai),function(Eo){Ge.setRequestHeader(Eo,ai[Eo])}),Ge.onreadystatechange=function(){k||(hs(Ge),Ge.readyState===4&&gr&&gr(!0))},Ge.onload=function(){k&&hs(Ge)};function hs(Eo){var Ws=F&&F.xhrOnComplete,Sl=Ws&&Je(Ws);if(Sl)Ws(Eo,Yt,pt);else{var f0=wI(Eo);hn(Yt,Eo[q1],PA(Eo,k),f0)}}return s(hs,"_doOnReadyFunc"),Ge.onerror=function(Eo){hn(Yt,k?Ge[q1]:400,PA(Ge,k),k?rr:SI(Ge)),Co&&Co(Eo)},Ge.ontimeout=function(){hn(Yt,k?Ge[q1]:500,PA(Ge,k),k?rr:SI(Ge)),gr&&gr(!1)},Ge.send(pt[kp]),at}s(Wt,"_xhrSender");function pn(pt,Yt,Xn){var at,gr=pt[Ru],Co=pt[kp],ai=k?Co:new Blob([Co],{type:"application/json"}),Vs,Ge,hs,Eo=new Headers,Ws=Co[Ur],Sl=!1,f0=!1,ym=pt[Q5]||{},Lu=(at={method:yo,body:ai},at[D8]=!0,at);pt.headers&&vt(pt.headers)[Ur]>0&&($t(vt(ym),function(ao){Eo.append(ao,ym[ao])}),Lu[Q5]=Eo),j?Lu.credentials=j:ht&&k&&(Lu.credentials="include"),Xn&&(Lu.keepalive=!0,g+=Ws,k?pt._sendReason===2&&(Sl=!0,De&&(gr+=ds)):Sl=!0);var Cm=new Request(gr,Lu);try{Cm[D8]=!0}catch{}if(!Xn&&I&&(Vs=Qp(function(ao,pa){Ge=ao,hs=pa})),!gr){Nr(Yt),Ge&&Ge(!1);return}function Mu(ao){hn(Yt,k?0:400,{},k?rr:ao)}s(Mu,"_handleError");function Em(ao,pa,je){var Dt=ao[q1],Ir=F.fetchOnComplete;Ir&&Je(Ir)?Ir(ao,Yt,je||rr,pa):hn(Yt,Dt,{},je||rr)}s(Em,"_onFetchComplete");try{F0(fetch(k?gr:Cm,k?Lu:null),function(ao){if(Xn&&(g-=Ws,Ws=0),!f0)if(f0=!0,ao.rejected)Mu(ao.reason&&ao.reason[BA]),hs&&hs(ao.reason);else{var pa=ao[wp];try{!k&&!pa.ok?(Mu(pa.statusText),Ge&&Ge(!1)):k&&!pa.body?(Em(pa,null,rr),Ge&&Ge(!0)):F0(pa.text(),function(je){Em(pa,pt,je[wp]),Ge&&Ge(!0)})}catch(je){Mu(Xt(je)),hs&&hs(je)}}})}catch(ao){f0||(Mu(Xt(ao)),hs&&hs(ao))}return Sl&&!f0&&(f0=!0,hn(Yt,200,{}),Ge&&Ge(!0)),k&&!f0&&pt[ku]>0&&$e&&$e.set(function(){f0||(f0=!0,hn(Yt,500,{}),Ge&&Ge(!0))},pt[ku]),Vs}s(pn,"_doFetchSender");function so(pt,Yt,Xn){var at=bu(),gr=new XDomainRequest,Co=pt[kp];gr.onload=function(){var Eo=wI(gr),Ws=F&&F.xdrOnComplete;Ws&&Je(Ws)?Ws(gr,Yt,pt):hn(Yt,200,{},Eo)},gr.onerror=function(){hn(Yt,400,{},k?rr:m8(gr))},gr.ontimeout=function(){hn(Yt,500,{})},gr.onprogress=function(){};var ai=at&&at.location&&at.location.protocol||"",Vs=pt[Ru];if(!Vs){Nr(Yt);return}if(!k&&Vs.lastIndexOf(ai,0)!==0){var Ge="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Mt(R,2,40,". "+Ge),Nt(Ge,Yt);return}var hs=k?Vs:Vs[Zf](/^(https?:)/,"");gr.open(yo,hs),pt[ku]&&(gr[ku]=pt[ku]),gr.send(Co),k&&Xn?$e&&$e.set(function(){gr.send(Co)},0):gr.send(Co)}s(so,"_xdrSender");function Ri(){g=0,b=!1,I=!1,R=null,k=null,F=null,V=null,j=null,se=null,ye=!1,Te=!1,Pe=!1,we=!1,De=!1,$e=null}s(Ri,"_initDefaults")})}return s(m,"SenderPostManager"),m.__ieDyn=1,m}(),MA="on",ud="attachEvent",fm="addEventListener",J8="detachEvent",X8="removeEventListener",zI="events";Qu("aiEvtPageHide"),Qu("aiEvtPageShow");var tM=/\.[\.]+/g,PZ=/[\.]+$/,V3e=1,Z8=v8("events"),W3e=/^([^.]*)(?:\.(.+)|)/;function FZ(m){return m&&m[Zf]?m[Zf](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,cn):m}s(FZ,"_normalizeNamespace");function rM(m,g){if(g){var I=cn;lt(g)?(I=cn,$t(g,function(R){R=FZ(R),R&&(R[0]!=="."&&(R="."+R),I+=R)})):I=FZ(g),I&&(I[0]!=="."&&(I="."+I),m=(m||cn)+I)}var b=W3e.exec(m||cn)||[];return{type:b[1],ns:(b[2]||cn).replace(tM,".").replace(PZ,cn)[Xf](".").sort().join(".")}}s(rM,"_getEvtNamespace");function LZ(m,g,I){I===void 0&&(I=!0);var b=Z8.get(m,zI,{},I),R=b[g];return R||(R=b[g]=[]),R}s(LZ,"_getRegisteredEvents");function MZ(m,g,I,b){m&&g&&g[Aa]&&(m[X8]?m[X8](g[Aa],I,b):m[J8]&&m[J8](MA+g[Aa],I))}s(MZ,"_doDetach");function Y3e(m,g,I,b){var R=!1;return m&&g&&g[Aa]&&I&&(m[fm]?(m[fm](g[Aa],I,b),R=!0):m[ud]&&(m[ud](MA+g[Aa],I),R=!0)),R}s(Y3e,"_doAttach");function OZ(m,g,I,b){for(var R=g[Ur];R--;){var k=g[R];k&&(!I.ns||I.ns===k[k5].ns)&&(!b||b(k))&&(MZ(m,k[k5],k.handler,k.capture),g[Tp](R,1))}}s(OZ,"_doUnregister");function $3e(m,g,I){if(g[Aa])OZ(m,LZ(m,g[Aa]),g,I);else{var b=Z8.get(m,zI,{});Ye(b,function(R,k){OZ(m,k,g,I)}),vt(b)[Ur]===0&&Z8.kill(m,zI)}}s($3e,"_unregisterEvents");function UZ(m,g){var I;return g?(lt(g)?I=[m].concat(g):I=[m,g],I=rM("xx",I).ns[Xf](".")):I=m,I}s(UZ,"mergeEvtNamespace");function HZ(m,g,I,b,R){R===void 0&&(R=!1);var k=!1;if(m)try{var F=rM(g,b);if(k=Y3e(m,F,I,R),k&&Z8.accept(m)){var V={guid:V3e++,evtName:F,handler:I,capture:R};LZ(m,F.type)[Un](V)}}catch{}return k}s(HZ,"eventOn");function z3e(m,g,I,b,R){if(R===void 0&&(R=!1),m)try{var k=rM(g,b),F=!1;$3e(m,k,function(V){return k.ns&&!I||V.handler===I?(F=!0,!0):!1}),F||MZ(m,k,I,R)}catch{}}s(z3e,"eventOff");var qZ="sampleRate",nM="ProcessLegacy",GZ="http.method",iM="https://dc.services.visualstudio.com",jI="/v2/track",dm="not_specified",VZ=gL({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),eB="split",rn="length",oM="toLowerCase",ly="ingestionendpoint",pT="toString",WZ="removeItem",tB="message",j3e="count",sM="stringify",aM="pathname",mT="match",Am="name",fd="properties",OA="measurements",rB="sizeInBytes",nB="typeName",gT="exceptions",yT="severityLevel",cM="problemGroup",KI="parsedStack",iB="hasFullStack",oB="assembly",UA="fileName",JI="line",sB="aiDataContract",aB="duration";function YZ(m,g,I){var b=g[rn],R=K3e(m,g);if(R[rn]!==b){for(var k=0,F=R;I[F]!==void 0;)k++,F=fe(R,0,147)+Z3e(k);R=F}return R}s(YZ,"dataSanitizeKeyAndAddUniqueness");function K3e(m,g){var I;return g&&(g=On(Mn(g)),g[rn]>150&&(I=fe(g,0,150),Mt(m,2,57,"name is too long.  It has been truncated to 150 characters.",{name:g},!0))),I||g}s(K3e,"dataSanitizeKey");function Oa(m,g,I){I===void 0&&(I=1024);var b;return g&&(I=I||1024,g=On(Mn(g)),g[rn]>I&&(b=fe(g,0,I),Mt(m,2,61,"string value is too long. It has been truncated to "+I+" characters.",{value:g},!0))),b||g}s(Oa,"dataSanitizeString");function lM(m,g){return zZ(m,g,2048,66)}s(lM,"dataSanitizeUrl");function $Z(m,g){var I;return g&&g[rn]>32768&&(I=fe(g,0,32768),Mt(m,2,56,"message is too long, it has been truncated to 32768 characters.",{message:g},!0)),I||g}s($Z,"dataSanitizeMessage");function J3e(m,g){var I;if(g){var b=""+g;b[rn]>32768&&(I=fe(b,0,32768),Mt(m,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:g},!0))}return I||g}s(J3e,"dataSanitizeException");function uy(m,g){if(g){var I={};Ye(g,function(b,R){if(rt(R)&&Yp())try{R=l0()[sM](R)}catch(k){Mt(m,2,49,"custom property is not valid",{exception:k},!0)}R=Oa(m,R,8192),b=YZ(m,b,I),I[b]=R}),g=I}return g}s(uy,"dataSanitizeProperties");function fy(m,g){if(g){var I={};Ye(g,function(b,R){b=YZ(m,b,I),I[b]=R}),g=I}return g}s(fy,"dataSanitizeMeasurements");function X3e(m,g){return g&&zZ(m,g,128,69)[pT]()}s(X3e,"dataSanitizeId");function zZ(m,g,I,b){var R;return g&&(g=On(Mn(g)),g[rn]>I&&(R=fe(g,0,I),Mt(m,2,b,"input is too long, it has been truncated to "+I+" characters.",{data:g},!0))),R||g}s(zZ,"dataSanitizeInput");function Z3e(m){var g="00"+m;return Ce(g,g[rn]-3)}s(Z3e,"dsPadNumber");var jZ=ap()||{},KZ=0,eSe=[null,null,null,null,null];function tSe(m){var g=KZ,I=eSe,b=I[g];return jZ.createElement?I[g]||(b=I[g]=jZ.createElement("a")):b={host:rSe(m,!0)},b.href=m,g++,g>=I[rn]&&(g=0),KZ=g,b}s(tSe,"urlParseUrl");function rSe(m,g){var I=nSe(m,g)||"";if(I){var b=I[mT](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[rn]>3&&he(b[2])&&b[2][rn]>0)return b[2]+(b[3]||"")}return I}s(rSe,"urlParseHost");function nSe(m,g){var I=null;if(m){var b=m[mT](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[rn]>2&&he(b[2])&&b[2][rn]>0&&(I=b[2]||"",g&&b[rn]>2)){var R=(b[1]||"")[oM](),k=b[3]||"";(R==="http"&&k===":80"||R==="https"&&k===":443")&&(k=""),I+=k}}return I}s(nSe,"urlParseFullHost");var iSe=[iM+jI,"https://breeze.aimon.applicationinsights.io"+jI,"https://dc-int.services.visualstudio.com"+jI];function JZ(m){return s0(iSe,m[oM]())!==-1}s(JZ,"isInternalApplicationInsightsEndpoint");function oSe(m,g,I,b){var R,k=b,F=b;if(g&&g[rn]>0){var V=tSe(g);if(R=V.host,!k)if(V[aM]!=null){var j=V.pathname[rn]===0?"/":V[aM];j.charAt(0)!=="/"&&(j="/"+j),F=V[aM],k=Oa(m,I?I+" "+j:j)}else k=Oa(m,g)}else R=b,k=b;return{target:R,name:k,data:F}}s(oSe,"AjaxHelperParseDependencyPath");var uM=aI({LocalStorage:0,SessionStorage:1}),XI=void 0,XZ="";function ZZ(m){try{if(re(hl()))return null;var g=new Date()[pT](),I=No(m===uM.LocalStorage?"localStorage":"sessionStorage"),b=XZ+g;I.setItem(b,g);var R=I.getItem(b)!==g;if(I[WZ](b),!R)return I}catch{}return null}s(ZZ,"_getVerifiedStorageObject");function fM(){return eee()?ZZ(uM.SessionStorage):null}s(fM,"_getSessionStorageObject");function sSe(m){XZ=m||""}s(sSe,"utlSetStoragePrefix");function eee(m){return(m||XI===void 0)&&(XI=!!ZZ(uM.SessionStorage)),XI}s(eee,"utlCanUseSessionStorage");function aSe(m,g){var I=fM();if(I!==null)try{return I.getItem(g)}catch(b){XI=!1,Mt(m,2,2,"Browser failed read of session storage. "+_s(b),{exception:Xt(b)})}return null}s(aSe,"utlGetSessionStorage");function cSe(m,g,I){var b=fM();if(b!==null)try{return b.setItem(g,I),!0}catch(R){XI=!1,Mt(m,2,4,"Browser failed write to session storage. "+_s(R),{exception:Xt(R)})}return!1}s(cSe,"utlSetSessionStorage");function lSe(m,g){var I=fM();if(I!==null)try{return I[WZ](g),!0}catch(b){XI=!1,Mt(m,2,6,"Browser failed removal of session storage item. "+_s(b),{exception:Xt(b)})}return!1}s(lSe,"utlRemoveSessionStorage");var uSe=";",fSe="=";function dM(m){if(!m)return{};var g=m[eB](uSe),I=oL(g,function(R,k){var F=k[eB](fSe);if(F[rn]===2){var V=F[0][oM](),j=F[1];R[V]=j}return R},{});if(vt(I)[rn]>0){if(I.endpointsuffix){var b=I.location?I.location+".":"";I[ly]=I[ly]||"https://"+b+"dc."+I.endpointsuffix}I[ly]=I[ly]||iM,jS(I[ly],"/")&&(I[ly]=I[ly].slice(0,-1))}return I}s(dM,"parseConnectionString");var dSe=function(){function m(g,I,b){var R=this,k=this;k.ver=1,k.sampleRate=100,k.tags={},k[Am]=Oa(g,b)||dm,k.data=I,k.time=W1(new Date),k[sB]={time:1,iKey:1,name:1,sampleRate:s(function(){return R.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return s(m,"Envelope"),m}(),ZI=function(){function m(g,I,b,R){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var k=this;k.ver=2,k[Am]=Oa(g,I)||dm,k[fd]=uy(g,b),k[OA]=fy(g,R)}return s(m,"Event"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Event",m.dataType="EventData",m}(),ASe=58,hSe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,pSe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,mSe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,gSe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,ySe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,CSe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,ESe=/([^\(\s\n]+):([0-9]+)$/,tee="<no_method>",e2="error",wl="stack",AM="stackDetails",ree="errorSrc",hM="message",nee="description",iee=[{re:pSe,len:5,m:1,fn:2,ln:3,col:4},{chk:xSe,pre:ISe,re:mSe,len:4,m:1,fn:2,ln:3},{re:gSe,len:3,m:1,fn:2,hdl:uee},{re:ySe,len:2,fn:1,hdl:uee}];function ISe(m){return m.replace(/(\(anonymous\))/,"<anonymous>")}s(ISe,"_scrubAnonymous");function xSe(m){return Tu(m,"[native")<0}s(xSe,"_ignoreNative");function pM(m,g){var I=m;return I&&!he(I)&&(JSON&&JSON[sM]?(I=JSON[sM](m),g&&(!I||I==="{}")&&(Je(m[pT])?I=m[pT]():I=""+m)):I=""+m+" - (Missing JSON.stringify)"),I||""}s(pM,"_stringify");function oee(m,g){var I=m;return m&&(I&&!he(I)&&(I=m[hM]||m[nee]||I),I&&!he(I)&&(I=pM(I,!0)),m.filename&&(I=I+" @"+(m.filename||"")+":"+(m.lineno||"?")+":"+(m.colno||"?"))),g&&g!=="String"&&g!=="Object"&&g!=="Error"&&Tu(I||"",g)===-1&&(I=g+": "+I),I||""}s(oee,"_formatMessage");function vSe(m){try{if(rt(m))return"hasFullStack"in m&&"typeName"in m}catch{}return!1}s(vSe,"_isExceptionDetailsInternal");function bSe(m){try{if(rt(m))return"ver"in m&&"exceptions"in m&&"properties"in m}catch{}return!1}s(bSe,"_isExceptionInternal");function see(m){return m&&m.src&&he(m.src)&&m.obj&&lt(m.obj)}s(see,"_isStackDetails");function dy(m){var g=m||"";he(g)||(he(g[wl])?g=g[wl]:g=""+g);var I=g[eB](`
`);return{src:g,obj:I}}s(dy,"_convertStackObj");function TSe(m){for(var g=[],I=m[eB](`
`),b=0;b<I[rn];b++){var R=I[b];I[b+1]&&(R+="@"+I[b+1],b++),g.push(R)}return{src:m,obj:g}}s(TSe,"_getOperaStack");function aee(m){var g=null;if(m)try{if(m[wl])g=dy(m[wl]);else if(m[e2]&&m[e2][wl])g=dy(m[e2][wl]);else if(m.exception&&m.exception[wl])g=dy(m.exception[wl]);else if(see(m))g=m;else if(see(m[AM]))g=m[AM];else if(bu()&&bu().opera&&m[hM])g=TSe(m[tB]);else if(m.reason&&m.reason[wl])g=dy(m.reason[wl]);else if(he(m))g=dy(m);else{var I=m[hM]||m[nee]||"";he(m[ree])&&(I&&(I+=`
`),I+=" from "+m[ree]),I&&(g=dy(I))}}catch(b){g=dy(b)}return g||{src:"",obj:null}}s(aee,"_getStackFromErrorObj");function _Se(m){var g="";return m&&(m.obj?g=m.obj.join(`
`):g=m.src||""),g}s(_Se,"_formatStackTrace");function wSe(m){var g,I=m.obj;if(I&&I[rn]>0){g=[];var b=0,R=!1,k=0;$t(I,function($e){if(R||kSe($e)){var Ue=Mn($e);R=!0;var nt=DSe(Ue,b);nt&&(k+=nt[rB],g.push(nt),b++)}});var F=32*1024;if(k>F)for(var V=0,j=g[rn]-1,se=0,ye=V,Te=j;V<j;){var Pe=g[V][rB],we=g[j][rB];if(se+=Pe+we,se>F){var De=Te-ye+1;g.splice(ye,De);break}ye=V,Te=j,V++,j--}}return g}s(wSe,"_parseStack");function cB(m){var g="";if(m&&(g=m.typeName||m[Am]||"",!g))try{var I=/function (.{1,200})\(/,b=I.exec(m.constructor[pT]());g=b&&b[rn]>1?b[1]:""}catch{}return g}s(cB,"_getErrorType");function mM(m){if(m)try{if(!he(m)){var g=cB(m),I=pM(m,!1);return(!I||I==="{}")&&(m[e2]&&(m=m[e2],g=cB(m)),I=pM(m,!0)),Tu(I,g)!==0&&g!=="String"?g+":"+I:I}}catch{}return""+(m||"")}s(mM,"_formatErrorCode");var lB=function(){function m(g,I,b,R,k,F){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var V=this;V.ver=2,bSe(I)?(V[gT]=I[gT]||[],V[fd]=I[fd],V[OA]=I[OA],I[yT]&&(V[yT]=I[yT]),I.id&&(V.id=I.id,I[fd].id=I.id),I[cM]&&(V[cM]=I[cM]),re(I.isManual)||(V.isManual=I.isManual)):(b||(b={}),F&&(b.id=F),V[gT]=[cee(g,I,b)],V[fd]=uy(g,b),V[OA]=fy(g,R),k&&(V[yT]=k),F&&(V.id=F))}return s(m,"Exception"),m.CreateAutoException=function(g,I,b,R,k,F,V,j){var se=cB(k||F||g);return{message:oee(g,se),url:I,lineNumber:b,columnNumber:R,error:mM(k||F||g),evt:mM(F||g),typeName:se,stackDetails:aee(V||k||F),errorSrc:j}},m.CreateFromInterface=function(g,I,b,R){var k=I[gT]&&CA(I[gT],function(V){return RSe(g,V)}),F=new m(g,wu(wu({},I),{exceptions:k}),b,R);return F},m.prototype.toInterface=function(){var g=this,I=g.exceptions,b=g.properties,R=g.measurements,k=g.severityLevel,F=g.problemGroup,V=g.id,j=g.isManual,se=I instanceof Array&&CA(I,function(ye){return ye.toInterface()})||void 0;return{ver:"4.0",exceptions:se,severityLevel:k,properties:b,measurements:R,problemGroup:F,id:V,isManual:j}},m.CreateSimpleException=function(g,I,b,R,k,F){var V;return{exceptions:[(V={},V[iB]=!0,V.message=g,V.stack=k,V.typeName=I,V)]}},m.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",m.dataType="ExceptionData",m.formatError=mM,m}(),SSe=Tr({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function BSe(){var m=this,g=lt(m[KI])&&CA(m[KI],function(b){return QSe(b)}),I={id:m.id,outerId:m.outerId,typeName:m[nB],message:m[tB],hasFullStack:m[iB],stack:m[wl],parsedStack:g||void 0};return I}s(BSe,"_toInterface");function cee(m,g,I){var b,R,k,F,V,j,se,ye;if(vSe(g))F=g[nB],V=g[tB],se=g[wl],ye=g[KI]||[],j=g[iB];else{var Te=g,Pe=Te&&Te.evt;Dn(Te)||(Te=Te[e2]||Pe||Te),F=Oa(m,cB(Te))||dm,V=$Z(m,oee(g||Te,F))||dm;var we=g[AM]||aee(g);ye=wSe(we),lt(ye)&&CA(ye,function(De){De[oB]=Oa(m,De[oB]),De[UA]=Oa(m,De[UA])}),se=J3e(m,_Se(we)),j=lt(ye)&&ye[rn]>0,I&&(I[nB]=I[nB]||F)}return b={},b[sB]=SSe,b.id=R,b.outerId=k,b.typeName=F,b.message=V,b[iB]=j,b.stack=se,b.parsedStack=ye,b.toInterface=BSe,b}s(cee,"_createExceptionDetails");function RSe(m,g){var I=lt(g[KI])&&CA(g[KI],function(R){return NSe(R)})||g[KI],b=cee(m,wu(wu({},g),{parsedStack:I}));return b}s(RSe,"_createExDetailsFromInterface");function lee(m,g){var I=g[mT](CSe);if(I&&I[rn]>=4)m[UA]=I[1],m[JI]=parseInt(I[2]);else{var b=g[mT](ESe);b&&b[rn]>=3?(m[UA]=b[1],m[JI]=parseInt(b[2])):m[UA]=g}}s(lee,"_parseFilename");function uee(m,g,I){var b=m[UA];g.fn&&I&&I[rn]>g.fn&&(g.ln&&I[rn]>g.ln?(b=On(I[g.fn]||""),m[JI]=parseInt(On(I[g.ln]||""))||0):b=On(I[g.fn]||"")),b&&lee(m,b)}s(uee,"_handleFilename");function kSe(m){var g=!1;if(m&&he(m)){var I=On(m);I&&(g=hSe.test(I))}return g}s(kSe,"_isStackFrame");var fee=Tr({level:1,method:1,assembly:0,fileName:0,line:0});function DSe(m,g){var I,b;if(m&&he(m)&&On(m)){b=(I={},I[sB]=fee,I.level=g,I.assembly=On(m),I.method=tee,I.fileName="",I.line=0,I.sizeInBytes=0,I);for(var R=0;R<iee[rn];){var k=iee[R];if(k.chk&&!k.chk(m))break;k.pre&&(m=k.pre(m));var F=m[mT](k.re);if(F&&F[rn]>=k.len){k.m&&(b.method=On(F[k.m]||tee)),k.hdl?k.hdl(b,k,F):k.fn&&(k.ln?(b[UA]=On(F[k.fn]||""),b[JI]=parseInt(On(F[k.ln]||""))||0):lee(b,F[k.fn]||""));break}R++}}return dee(b)}s(DSe,"_extractStackFrame");function NSe(m){var g,I=(g={},g[sB]=fee,g.level=m.level,g.method=m.method,g.assembly=m[oB],g.fileName=m[UA],g.line=m[JI],g.sizeInBytes=0,g);return dee(I)}s(NSe,"_stackFrameFromInterface");function dee(m){var g=ASe;return m&&(g+=m.method[rn],g+=m.assembly[rn],g+=m.fileName[rn],g+=m.level.toString()[rn],g+=m.line.toString()[rn],m[rB]=g),m}s(dee,"_populateFrameSizeInBytes");function QSe(m){return{level:m.level,method:m.method,assembly:m[oB],fileName:m[UA],line:m[JI]}}s(QSe,"_parsedFrameToInterface");var PSe=function(){function m(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(m,"DataPoint"),m}(),CT=function(){function m(g,I,b,R,k,F,V,j,se){this.aiDataContract={ver:1,metrics:1,properties:0};var ye=this;ye.ver=2;var Te=new PSe;Te[j3e]=R>0?R:void 0,Te.max=isNaN(F)||F===null?void 0:F,Te.min=isNaN(k)||k===null?void 0:k,Te[Am]=Oa(g,I)||dm,Te.value=b,Te.stdDev=isNaN(V)||V===null?void 0:V,ye.metrics=[Te],ye[fd]=uy(g,j),ye[OA]=fy(g,se)}return s(m,"Metric"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",m.dataType="MetricData",m}(),ET="";function Aee(m){(isNaN(m)||m<0)&&(m=0),m=uL(m);var g=ET+m%1e3,I=ET+EA(m/1e3)%60,b=ET+EA(m/(1e3*60))%60,R=ET+EA(m/(1e3*60*60))%24,k=EA(m/(1e3*60*60*24));return g=g[rn]===1?"00"+g:g[rn]===2?"0"+g:g,I=I[rn]<2?"0"+I:I,b=b[rn]<2?"0"+b:b,R=R[rn]<2?"0"+R:R,(k>0?k+".":ET)+R+":"+b+":"+I+"."+g}s(Aee,"msToTimeSpan");var uB=function(){function m(g,I,b,R,k,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var j=this;j.ver=2,j.id=X3e(g,V),j.url=lM(g,b),j[Am]=Oa(g,I)||dm,isNaN(R)||(j[aB]=Aee(R)),j[fd]=uy(g,k),j[OA]=fy(g,F)}return s(m,"PageView"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",m.dataType="PageviewData",m}(),fB=function(){function m(g,I,b,R,k,F,V,j,se,ye,Te,Pe){se===void 0&&(se="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var we=this;we.ver=2,we.id=I,we[aB]=Aee(k),we.success=F,we.resultCode=V+"",we.type=Oa(g,se);var De=oSe(g,b,j,R);we.data=lM(g,R)||De.data,we.target=Oa(g,De.target),ye&&(we.target="".concat(we.target," | ").concat(ye)),we[Am]=Oa(g,De[Am]),we[fd]=uy(g,Te),we[OA]=fy(g,Pe)}return s(m,"RemoteDependencyData"),m.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",m.dataType="RemoteDependencyData",m}(),dB=function(){function m(g,I,b,R,k){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var F=this;F.ver=2,I=I||dm,F[tB]=$Z(g,I),F[fd]=uy(g,R),F[OA]=fy(g,k),b&&(F[yT]=b)}return s(m,"Trace"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Message",m.dataType="MessageData",m}(),AB=function(){function m(g,I,b,R,k,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var j=this;j.ver=2,j.url=lM(g,b),j[Am]=Oa(g,I)||dm,j[fd]=uy(g,k),j[OA]=fy(g,F),V&&(j.domProcessing=V.domProcessing,j[aB]=V[aB],j.networkConnect=V.networkConnect,j.perfTotal=V.perfTotal,j.receivedResponse=V.receivedResponse,j.sentRequest=V.sentRequest)}return s(m,"PageViewPerformance"),m.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",m.dataType="PageviewPerformanceData",m}(),Ay=function(){function m(g,I){this.aiDataContract={baseType:1,baseData:1},this.baseType=g,this.baseData=I}return s(m,"Data"),m}(),FSe=aI({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function hm(m){var g="ai."+m+".";return function(I){return g+I}}s(hm,"_aiNameFunc");var IT=hm("application"),Ss=hm("device"),hB=hm("location"),t2=hm("operation"),gM=hm("session"),pm=hm("user"),hy=hm("cloud"),xT=hm("internal"),hee=function(m){O1(g,m);function g(){return m.call(this)||this}return s(g,"ContextTagKeys"),g}(_L({applicationVersion:IT("ver"),applicationBuild:IT("build"),applicationTypeId:IT("typeId"),applicationId:IT("applicationId"),applicationLayer:IT("layer"),deviceId:Ss("id"),deviceIp:Ss("ip"),deviceLanguage:Ss("language"),deviceLocale:Ss("locale"),deviceModel:Ss("model"),deviceFriendlyName:Ss("friendlyName"),deviceNetwork:Ss("network"),deviceNetworkName:Ss("networkName"),deviceOEMName:Ss("oemName"),deviceOS:Ss("os"),deviceOSVersion:Ss("osVersion"),deviceRoleInstance:Ss("roleInstance"),deviceRoleName:Ss("roleName"),deviceScreenResolution:Ss("screenResolution"),deviceType:Ss("type"),deviceMachineName:Ss("machineName"),deviceVMName:Ss("vmName"),deviceBrowser:Ss("browser"),deviceBrowserVersion:Ss("browserVersion"),locationIp:hB("ip"),locationCountry:hB("country"),locationProvince:hB("province"),locationCity:hB("city"),operationId:t2("id"),operationName:t2("name"),operationParentId:t2("parentId"),operationRootId:t2("rootId"),operationSyntheticSource:t2("syntheticSource"),operationCorrelationVector:t2("correlationVector"),sessionId:gM("id"),sessionIsFirst:gM("isFirst"),sessionIsNew:gM("isNew"),userAccountAcquisitionDate:pm("accountAcquisitionDate"),userAccountId:pm("accountId"),userAgent:pm("userAgent"),userId:pm("id"),userStoreRegion:pm("storeRegion"),userAuthUserId:pm("authUserId"),userAnonymousUserAcquisitionDate:pm("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:pm("authUserAcquisitionDate"),cloudName:hy("name"),cloudRole:hy("role"),cloudRoleVer:hy("roleVer"),cloudRoleInstance:hy("roleInstance"),cloudEnvironment:hy("environment"),cloudLocation:hy("location"),cloudDeploymentUnit:hy("deploymentUnit"),internalNodeName:xT("nodeName"),internalSdkVersion:xT("sdkVersion"),internalAgentVersion:xT("agentVersion"),internalSnippet:xT("snippet"),internalSdkSrc:xT("sdkSrc")})),qs=new hee;function pee(m,g){z3e(m,null,null,g)}s(pee,"_disableEvents");function LSe(m){var g=ap(),I=Mf(),b=!1,R=[],k=1;I&&!re(I.onLine)&&!I.onLine&&(k=2);var F=0,V=Pe(),j=UZ(Qu("OfflineListener"),m);try{if(ye(bu())&&(b=!0),g){var se=g.body||g;se.ononline&&ye(se)&&(b=!0)}}catch{b=!1}function ye(It){var Nt=!1;return It&&(Nt=HZ(It,"online",$e,j),Nt&&HZ(It,"offline",Ue,j)),Nt}s(ye,"_enableEvents");function Te(){return V}s(Te,"_isOnline");function Pe(){return!(F===2||k===2)}s(Pe,"calCurrentState");function we(){var It=Pe();V!==It&&(V=It,$t(R,function(Nt){var Nr={isOnline:V,rState:k,uState:F};try{Nt(Nr)}catch{}}))}s(we,"listnerNoticeCheck");function De(It){F=It,we()}s(De,"setOnlineState");function $e(){k=1,we()}s($e,"_setOnline");function Ue(){k=2,we()}s(Ue,"_setOffline");function nt(){var It=bu();if(It&&b){if(pee(It,j),g){var Nt=g.body||g;W(Nt.ononline)||pee(Nt,j)}b=!1}}s(nt,"_unload");function ht(It){return R.push(It),{rm:s(function(){var Nt=R.indexOf(It);if(Nt>-1)return R.splice(Nt,1)},"rm")}}return s(ht,"addListener"),{isOnline:Te,isListening:s(function(){return b},"isListening"),unload:nt,addListener:ht,setOnlineState:De}}s(LSe,"createOfflineListener");var MSe="AppInsightsChannelPlugin",py="duration",ha="tags",yM="deviceType",Bc="data",HA="name",vT="traceID",un="length",bT="stringify",my="measurements",dd="dataType",gy="envelopeType",yy="toString",Cy="enqueue",Ey="count",qA="push",CM="emitLineDelimitedJson",r2="clear",pB="markAsSent",TT="clearSent",EM="bufferOverride",_T="BUFFER_KEY",mm="SENT_BUFFER_KEY",n2="concat",wT="MAX_BUFFER_SIZE",ST="triggerSend",Ua="diagLog",IM="initialize",BT="_sender",RT="endpointUrl",kT="instrumentationKey",xM="customHeaders",mee="maxBatchSizeInBytes",vM="onunloadDisableBeacon",bM="isBeaconApiDisabled",gee="alwaysUseXhrOverride",yee="enableSessionStorageBuffer",Ad="_buffer",Cee="onunloadDisableFetch",Eee="disableSendBeaconSplit",mB="getSenderInst",Iy="_onError",TM="_onPartialSuccess",gB="_onSuccess",_M="itemsReceived",wM="itemsAccepted",SM="baseType",yB="sampleRate",OSe="getHashCodeScore",BM="baseType",oo="baseData",Gs="properties",Iee="true";function Jo(m,g,I){return td(m,g,I,le)}s(Jo,"_setValueIf");function USe(m,g,I){var b=I[ha]=I[ha]||{},R=g.ext=g.ext||{},k=g[ha]=g[ha]||[],F=R.user;F&&(Jo(b,qs.userAuthUserId,F.authId),Jo(b,qs.userId,F.id||F.localId));var V=R.app;V&&Jo(b,qs.sessionId,V.sesId);var j=R.device;j&&(Jo(b,qs.deviceId,j.id||j.localId),Jo(b,qs[yM],j.deviceClass),Jo(b,qs.deviceIp,j.ip),Jo(b,qs.deviceModel,j.model),Jo(b,qs[yM],j[yM]));var se=g.ext.web;if(se){Jo(b,qs.deviceLanguage,se.browserLang),Jo(b,qs.deviceBrowserVersion,se.browserVer),Jo(b,qs.deviceBrowser,se.browser);var ye=I[Bc]=I[Bc]||{},Te=ye[oo]=ye[oo]||{},Pe=Te[Gs]=Te[Gs]||{};Jo(Pe,"domain",se.domain),Jo(Pe,"isManual",se.isManual?Iee:null),Jo(Pe,"screenRes",se.screenRes),Jo(Pe,"userConsent",se.userConsent?Iee:null)}var we=R.os;we&&(Jo(b,qs.deviceOS,we[HA]),Jo(b,qs.deviceOSVersion,we.osVer));var De=R.trace;De&&(Jo(b,qs.operationParentId,De.parentID),Jo(b,qs.operationName,Oa(m,De[HA])),Jo(b,qs.operationId,De[vT]));for(var $e={},Ue=k[un]-1;Ue>=0;Ue--){var nt=k[Ue];Ye(nt,function(It,Nt){$e[It]=Nt}),k.splice(Ue,1)}Ye(k,function(It,Nt){$e[It]=Nt});var ht=wu(wu({},b),$e);ht[qs.internalSdkVersion]||(ht[qs.internalSdkVersion]=Oa(m,"javascript:".concat(HSe.Version),64)),I[ha]=H5(ht)}s(USe,"_extractPartAExtensions");function gm(m,g,I){re(m)||Ye(m,function(b,R){Vt(R)?I[b]=R:he(R)?g[b]=R:Yp()&&(g[b]=l0()[bT](R))})}s(gm,"_extractPropsAndMeasurements");function xy(m,g){re(m)||Ye(m,function(I,b){m[I]=b||g})}s(xy,"_convertPropsUndefinedToCustomDefinedValue");function vy(m,g,I,b){var R=new dSe(m,b,g);Jo(R,"sampleRate",I[qZ]),(I[oo]||{}).startTime&&(R.time=W1(I[oo].startTime)),R.iKey=I.iKey;var k=I.iKey.replace(/-/g,"");return R[HA]=R[HA].replace("{0}",k),USe(m,I,R),I[ha]=I[ha]||[],H5(R)}s(vy,"_createEnvelope");function by(m,g){re(g[oo])&&Mt(m,1,46,"telemetryItem.baseData cannot be null.")}s(by,"EnvelopeCreatorInit");var HSe={Version:"3.3.6"};function qSe(m,g,I){by(m,g);var b=g[oo][my]||{},R=g[oo][Gs]||{};gm(g[Bc],R,b),re(I)||xy(R,I);var k=g[oo];if(re(k))return OI(m,"Invalid input for dependency data"),null;var F=k[Gs]&&k[Gs][GZ]?k[Gs][GZ]:"GET",V=new fB(m,k.id,k.target,k[HA],k[py],k.success,k.responseCode,F,k.type,k.correlationContext,R,b),j=new Ay(fB[dd],V);return vy(m,fB[gy],g,j)}s(qSe,"DependencyEnvelopeCreator");function xee(m,g,I){by(m,g);var b={},R={};g[BM]!==ZI[dd]&&(b.baseTypeSource=g[BM]),g[BM]===ZI[dd]?(b=g[oo][Gs]||{},R=g[oo][my]||{}):g[oo]&&gm(g[oo],b,R),gm(g[Bc],b,R),re(I)||xy(b,I);var k=g[oo][HA],F=new ZI(m,k,b,R),V=new Ay(ZI[dd],F);return vy(m,ZI[gy],g,V)}s(xee,"EventEnvelopeCreator");function GSe(m,g,I){by(m,g);var b=g[oo][my]||{},R=g[oo][Gs]||{};gm(g[Bc],R,b),re(I)||xy(R,I);var k=g[oo],F=lB.CreateFromInterface(m,k,R,b),V=new Ay(lB[dd],F);return vy(m,lB[gy],g,V)}s(GSe,"ExceptionEnvelopeCreator");function VSe(m,g,I){by(m,g);var b=g[oo],R=b[Gs]||{},k=b[my]||{};gm(g[Bc],R,k),re(I)||xy(R,I);var F=new CT(m,b[HA],b.average,b.sampleCount,b.min,b.max,b.stdDev,R,k),V=new Ay(CT[dd],F);return vy(m,CT[gy],g,V)}s(VSe,"MetricEnvelopeCreator");function WSe(m,g,I){by(m,g);var b,R=g[oo];!re(R)&&!re(R[Gs])&&!re(R[Gs][py])?(b=R[Gs][py],delete R[Gs][py]):!re(g[Bc])&&!re(g[Bc][py])&&(b=g[Bc][py],delete g[Bc][py]);var k=g[oo],F;((g.ext||{}).trace||{})[vT]&&(F=g.ext.trace[vT]);var V=k.id||F,j=k[HA],se=k.uri,ye=k[Gs]||{},Te=k[my]||{};if(re(k.refUri)||(ye.refUri=k.refUri),re(k.pageType)||(ye.pageType=k.pageType),re(k.isLoggedIn)||(ye.isLoggedIn=k.isLoggedIn[yy]()),!re(k[Gs])){var Pe=k[Gs];Ye(Pe,function($e,Ue){ye[$e]=Ue})}gm(g[Bc],ye,Te),re(I)||xy(ye,I);var we=new uB(m,j,se,b,ye,Te,V),De=new Ay(uB[dd],we);return vy(m,uB[gy],g,De)}s(WSe,"PageViewEnvelopeCreator");function YSe(m,g,I){by(m,g);var b=g[oo],R=b[HA],k=b.uri||b.url,F=b[Gs]||{},V=b[my]||{};gm(g[Bc],F,V),re(I)||xy(F,I);var j=new AB(m,R,k,void 0,F,V,b),se=new Ay(AB[dd],j);return vy(m,AB[gy],g,se)}s(YSe,"PageViewPerformanceEnvelopeCreator");function $Se(m,g,I){by(m,g);var b=g[oo].message,R=g[oo].severityLevel,k=g[oo][Gs]||{},F=g[oo][my]||{};gm(g[Bc],k,F),re(I)||xy(k,I);var V=new dB(m,b,R,k,F),j=new Ay(dB[dd],V);return vy(m,dB[gy],g,j)}s($Se,"TraceEnvelopeCreator");var vee=function(){function m(g,I){var b=[],R=!1,k=I.maxRetryCnt;this._get=function(){return b},this._set=function(F){return b=F,b},da(m,this,function(F){F[Cy]=function(V){if(F[Ey]()>=I.eventsLimitInMem){R||(Mt(g,2,105,"Maximum in-memory buffer size reached: "+F[Ey](),!0),R=!0);return}V.cnt=V.cnt||0,!(!re(k)&&V.cnt>k)&&b[qA](V)},F[Ey]=function(){return b[un]},F.size=function(){for(var V=b[un],j=0;j<b[un];j++)V+=b[j].item[un];return I[CM]||(V+=2),V},F[r2]=function(){b=[],R=!1},F.getItems=function(){return b.slice(0)},F.batchPayloads=function(V){if(V&&V[un]>0){var j=[];$t(V,function(ye){j[qA](ye.item)});var se=I[CM]?j.join(`
`):"["+j.join(",")+"]";return se}return null},F.createNew=function(V,j,se){var ye=b.slice(0);V=V||g,j=j||{};var Te=se?new bee(V,j):new RM(V,j);return $t(ye,function(Pe){Te[Cy](Pe)}),Te}})}return s(m,"BaseSendBuffer"),m.__ieDyn=1,m}(),RM=function(m){O1(g,m);function g(I,b){var R=m.call(this,I,b)||this;return da(g,R,function(k,F){k[pB]=function(V){F[r2]()},k[TT]=function(V){}}),R}return s(g,"ArraySendBuffer"),g.__ieDyn=1,g}(vee),zSe=["AI_buffer","AI_sentBuffer"],bee=function(m){O1(g,m);function g(b,R){var k=m.call(this,b,R)||this,F=!1,V=R?.namePrefix,j=R[EM]||{getItem:aSe,setItem:cSe},se=j.getItem,ye=j.setItem,Te=R.maxRetryCnt;return da(g,k,function(Pe,we){var De=Nt(g[_T]),$e=Nt(g[mm]),Ue=hn(),nt=$e[n2](Ue),ht=Pe._set(De[n2](nt));ht[un]>g[wT]&&(ht[un]=g[wT]),An(g[mm],[]),An(g[_T],ht),Pe[Cy]=function(sr){if(Pe[Ey]()>=g[wT]){F||(Mt(b,2,67,"Maximum buffer size reached: "+Pe[Ey](),!0),F=!0);return}sr.cnt=sr.cnt||0,!(!re(Te)&&sr.cnt>Te)&&(we[Cy](sr),An(g[_T],Pe._get()))},Pe[r2]=function(){we[r2](),An(g[_T],Pe._get()),An(g[mm],[]),F=!1},Pe[pB]=function(sr){An(g[_T],Pe._set(It(sr,Pe._get())));var Wt=Nt(g[mm]);Wt instanceof Array&&sr instanceof Array&&(Wt=Wt[n2](sr),Wt[un]>g[wT]&&(Mt(b,1,67,"Sent buffer reached its maximum size: "+Wt[un],!0),Wt[un]=g[wT]),An(g[mm],Wt))},Pe[TT]=function(sr){var Wt=Nt(g[mm]);Wt=It(sr,Wt),An(g[mm],Wt)},Pe.createNew=function(sr,Wt,pn){pn=!!pn;var so=Pe._get().slice(0),Ri=Nt(g[mm]).slice(0);sr=sr||b,Wt=Wt||{},Pe[r2]();var pt=pn?new g(sr,Wt):new RM(sr,Wt);return $t(so,function(Yt){pt[Cy](Yt)}),pn&&pt[pB](Ri),pt};function It(sr,Wt){var pn=[],so=[];return $t(sr,function(Ri){so[qA](Ri.item)}),$t(Wt,function(Ri){!Je(Ri)&&s0(so,Ri.item)===-1&&pn[qA](Ri)}),pn}s(It,"_removePayloadsFromBuffer");function Nt(sr){var Wt=sr;return Wt=V?V+"_"+Wt:Wt,Nr(Wt)}s(Nt,"_getBuffer");function Nr(sr){try{var Wt=se(b,sr);if(Wt){var pn=l0().parse(Wt);if(he(pn)&&(pn=l0().parse(pn)),pn&&lt(pn))return pn}}catch(so){Mt(b,1,42," storage key: "+sr+", "+_s(so),{exception:Xt(so)})}return[]}s(Nr,"_getBufferBase");function An(sr,Wt){var pn=sr;try{pn=V?V+"_"+pn:pn;var so=JSON[bT](Wt);ye(b,pn,so)}catch(Ri){ye(b,pn,JSON[bT]([])),Mt(b,2,41," storage key: "+pn+", "+_s(Ri)+". Buffer cleared",{exception:Xt(Ri)})}}s(An,"_setBuffer");function hn(){var sr=[];try{return $t(zSe,function(Wt){var pn=si(Wt);if(sr=sr[n2](pn),V){var so=V+"_"+Wt,Ri=si(so);sr=sr[n2](Ri)}}),sr}catch(Wt){Mt(b,2,41,"Transfer events from previous buffers: "+_s(Wt)+". previous Buffer items can not be removed",{exception:Xt(Wt)})}return[]}s(hn,"_getPreviousEvents");function si(sr){try{var Wt=Nr(sr),pn=[];return $t(Wt,function(so){var Ri={item:so,cnt:0};pn[qA](Ri)}),lSe(b,sr),pn}catch{}return[]}s(si,"_getItemsFromPreviousKey")}),k}s(g,"SessionStorageSendBuffer");var I;return I=g,g.VERSION="_1",g.BUFFER_KEY="AI_buffer"+I.VERSION,g.SENT_BUFFER_KEY="AI_sentBuffer"+I.VERSION,g.MAX_BUFFER_SIZE=2e3,g}(vee),jSe=function(){function m(g){da(m,this,function(I){I.serialize=function(F){var V=b(F,"root");try{return l0()[bT](V)}catch(j){Mt(g,1,48,j&&Je(j[yy])?j[yy]():"Error serializing object",null,!0)}};function b(F,V){var j="__aiCircularRefCheck",se={};if(!F)return Mt(g,1,48,"cannot serialize object because it is null or undefined",{name:V},!0),se;if(F[j])return Mt(g,2,50,"Circular reference detected while serializing object",{name:V},!0),se;if(!F.aiDataContract){if(V==="measurements")se=k(F,"number",V);else if(V==="properties")se=k(F,"string",V);else if(V==="tags")se=k(F,"string",V);else if(lt(F))se=R(F,V);else{Mt(g,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:V},!0);try{l0()[bT](F),se=F}catch(ye){Mt(g,1,48,ye&&Je(ye[yy])?ye[yy]():"Error serializing object",null,!0)}}return se}return F[j]=!0,Ye(F.aiDataContract,function(ye,Te){var Pe=Je(Te)?Te()&1:Te&1,we=Je(Te)?Te()&4:Te&4,De=Te&2,$e=F[ye]!==void 0,Ue=rt(F[ye])&&F[ye]!==null;if(Pe&&!$e&&!De)Mt(g,1,24,"Missing required field specification. The field is required but not present on source",{field:ye,name:V});else if(!we){var nt=void 0;Ue?De?nt=R(F[ye],ye):nt=b(F[ye],ye):nt=F[ye],nt!==void 0&&(se[ye]=nt)}}),delete F[j],se}s(b,"_serializeObject");function R(F,V){var j;if(F)if(!lt(F))Mt(g,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:V},!0);else{j=[];for(var se=0;se<F[un];se++){var ye=F[se],Te=b(ye,V+"["+se+"]");j[qA](Te)}}return j}s(R,"_serializeArray");function k(F,V,j){var se;return F&&(se={},Ye(F,function(ye,Te){if(V==="string")Te===void 0?se[ye]="undefined":Te===null?se[ye]="null":Te[yy]?se[ye]=Te[yy]():se[ye]="invalid field: toString() is not defined.";else if(V==="number")if(Te===void 0)se[ye]="undefined";else if(Te===null)se[ye]="null";else{var Pe=parseFloat(Te);se[ye]=Pe}else se[ye]="invalid field: "+j+" is of unknown type.",Mt(g,1,se[ye],null,!0)})),se}s(k,"_serializeStringMap")})}return s(m,"Serializer"),m.__ieDyn=1,m}(),KSe=8,JSe=function(){function m(){}return s(m,"HashCodeScoreGenerator"),m.prototype.getHashCodeScore=function(g){var I=this.getHashCode(g)/m.INT_MAX_VALUE;return I*100},m.prototype.getHashCode=function(g){if(g==="")return 0;for(;g[un]<KSe;)g=g[n2](g);for(var I=5381,b=0;b<g[un];++b)I=(I<<5)+I+g.charCodeAt(b),I=I&I;return Math.abs(I)},m.INT_MAX_VALUE=2147483647,m}(),XSe=function(){function m(){var g=this,I=new JSe,b=new hee;g.getSamplingScore=function(R){var k=0;return R[ha]&&R[ha][b.userId]?k=I.getHashCodeScore(R[ha][b.userId]):R.ext&&R.ext.user&&R.ext.user.id?k=I[OSe](R.ext.user.id):R[ha]&&R[ha][b.operationId]?k=I.getHashCodeScore(R[ha][b.operationId]):R.ext&&R.ext.telemetryTrace&&R.ext.telemetryTrace[vT]?k=I.getHashCodeScore(R.ext.telemetryTrace[vT]):k=Math.random()*100,k}}return s(m,"SamplingScoreGenerator"),m}(),ZSe=function(){function m(g,I){this.INT_MAX_VALUE=2147483647;var b=I||ry(null);(g>100||g<0)&&(b.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:g},!0),g=100),this[yB]=g,this.samplingScoreGenerator=new XSe}return s(m,"Sample"),m.prototype.isSampledIn=function(g){var I=this[yB],b=!1;return I==null||I>=100||g.baseType===CT[dd]?!0:(b=this.samplingScoreGenerator.getSamplingScore(g)<I,b)},m}(),Wi,GA,hd=void 0,Tee="",e8e=65e3;function _ee(m){try{return m.responseText}catch{}return null}s(_ee,"_getResponseText");function t8e(m){return m&&m.sendPOST}s(t8e,"isOverrideFn");var wee=$r((Wi={endpointUrl:tT(le,iM+jI)},Wi[CM]=bl(),Wi.maxBatchInterval=15e3,Wi[mee]=102400,Wi.disableTelemetry=bl(),Wi[yee]=bl(!0),Wi.isRetryDisabled=bl(),Wi[bM]=bl(!0),Wi[Eee]=bl(!0),Wi.disableXhr=bl(),Wi[Cee]=bl(),Wi[vM]=bl(),Wi[kT]=hd,Wi.namePrefix=hd,Wi.samplingPercentage=tT(r8e,100),Wi[xM]=hd,Wi.convertUndefined=hd,Wi.eventsLimitInMem=1e4,Wi[EM]=!1,Wi.httpXHROverride={isVal:t8e,v:hd},Wi[gee]=bl(),Wi.transports=hd,Wi.retryCodes=hd,Wi.maxRetryCnt={isVal:Vt,v:10},Wi));function r8e(m){return!isNaN(m)&&m>0&&m<=100}s(r8e,"_chkSampling");var n8e=(GA={},GA[ZI.dataType]=xee,GA[dB.dataType]=$Se,GA[uB.dataType]=WSe,GA[AB.dataType]=YSe,GA[lB.dataType]=GSe,GA[CT.dataType]=VSe,GA[fB.dataType]=qSe,GA),See=function(m){O1(g,m);function g(){var I=m.call(this)||this;I.priority=1001,I.identifier=MSe;var b,R,k,F,V,j,se,ye=0,Te,Pe,we,De,$e,Ue,nt,ht,It,Nt,Nr,An,hn,si,sr,Wt,pn,so,Ri,pt,Yt,Xn,at,gr,Co,ai,Vs;return da(g,I,function(Ge,hs){Ree(),Ge.pause=function(){Im(),k=!0},Ge.resume=function(){k&&(k=!1,R=null,Ci(),a2())},Ge.flush=function(Re,tt,bt){if(Re===void 0&&(Re=!0),!k){Im();try{return Ge[ST](Re,null,bt||1)}catch(Ut){Mt(Ge[Ua](),1,22,"flush failed, telemetry will not be collected: "+_s(Ut),{exception:Xt(Ut)})}}},Ge.onunloadFlush=function(){if(!k)if(nt||pt)try{return Ge[ST](!0,q0,2)}catch(Re){Mt(Ge[Ua](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+_s(Re),{exception:Xt(Re)})}else Ge.flush(!1)},Ge.addHeader=function(Re,tt){se[Re]=tt},Ge[IM]=function(Re,tt,bt,Ut){Ge.isInitialized()&&Mt(Ge[Ua](),1,28,"Sender is already initialized"),hs[IM](Re,tt,bt,Ut);var vr=Ge.identifier;V=new jSe(tt.logger),b=0,R=null,Ge[BT]=null,j=0;var ar=Ge[Ua]();we=UZ(Qu("Sender"),tt.evtNamespace&&tt.evtNamespace()),Pe=LSe(we),Ge._addHook(Pu(Re,function(Hn){var Xo=Hn.cfg;Xo.storagePrefix&&sSe(Xo.storagePrefix);var Rc=lm(null,Xo,tt),Zr=Rc.getExtCfg(vr,wee),kee=Zr[RT];if(De&&kee===De){var NM=Xo[RT];NM&&NM!==kee&&(Zr[RT]=NM)}br(Zr[kT])&&(Zr[kT]=Xo[kT]),Jt(Ge,"_senderConfig",{g:s(function(){return Zr},"g")}),$e!==Zr[RT]&&(De=$e=Zr[RT]),tt.activeStatus()===zf.PENDING?Ge.pause():tt.activeStatus()===zf.ACTIVE&&Ge.resume(),Nt&&Nt!==Zr[xM]&&$t(Nt,function(ma){delete se[ma.header]}),Ue=Zr[mee],nt=(Zr[vM]===!1||Zr[bM]===!1)&&nd(),ht=Zr[vM]===!1&&nd(),It=Zr[bM]===!1&&nd(),pt=Zr[gee],Yt=!!Zr.disableXhr,Vs=Zr.retryCodes;var QM=Zr[EM],c2=!!Zr[yee]&&(!!QM||eee()),Dee=Zr.namePrefix,a8e=c2!==Wt||c2&&so!==Dee||c2&&pn!==QM;if(Ge[Ad]){if(a8e)try{Ge[Ad]=Ge[Ad].createNew(ar,Zr,c2)}catch(ma){Mt(Ge[Ua](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+_s(ma),{exception:Xt(ma)})}Ci()}else Ge[Ad]=c2?new bee(ar,Zr):new RM(ar,Zr);so=Dee,Wt=c2,pn=QM,Xn=!Zr[Cee]&&J1(!0),Co=!!Zr[Eee],Ge._sample=new ZSe(Zr.samplingPercentage,ar),An=Zr[kT],!br(An)&&!Bee(An,Xo)&&Mt(ar,1,100,"Invalid Instrumentation key "+An),Nt=Zr[xM],he(De)&&!JZ(De)&&Nt&&Nt[un]>0?$t(Nt,function(ma){I.addHeader(ma.header,ma.value)}):Nt=null,Ri=Zr.enableSendPromise;var Nee=Ws();ai?ai.SetConfig(Nee):(ai=new As,ai[IM](Nee,ar));var xB=Zr.httpXHROverride,vB=null,PT=null,c8e=g8([3,1,2],Zr.transports);vB=ai&&ai[mB](c8e,!1);var PM=ai&&ai.getFallbackInst();at=s(function(ma,Ty){return qt(PM,ma,Ty)},"_xhrSend"),gr=s(function(ma,Ty){return qt(PM,ma,Ty,!1)},"_fallbackSend"),vB=pt?xB:vB||xB||PM,Ge[BT]=function(ma,Ty){return qt(vB,ma,Ty)},Xn&&(Te=s2);var FM=g8([3,1],Zr.unloadTransports);Xn||(FM=FM.filter(function(ma){return ma!==2})),PT=ai&&ai[mB](FM,!0),PT=pt?xB:PT||xB,(pt||Zr.unloadTransports||!Te)&&PT&&(Te=s(function(ma,Ty){return qt(PT,ma,Ty)},"_syncUnloadSender")),Te||(Te=at),Nr=Zr.disableTelemetry,hn=Zr.convertUndefined||hd,si=Zr.isRetryDisabled,sr=Zr.maxBatchInterval}))},Ge.processTelemetry=function(Re,tt){tt=Ge._getTelCtx(tt);var bt=tt[Ua]();try{var Ut=Mu(Re,bt);if(!Ut)return;var vr=Em(Re,bt);if(!vr)return;var ar=V.serialize(vr),Hn=Ge[Ad];Ci(ar);var Xo={item:ar,cnt:0};Hn[Cy](Xo),a2()}catch(Rc){Mt(bt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+_s(Rc),{exception:Xt(Rc)})}Ge.processNext(Re,tt)},Ge.isCompletelyIdle=function(){return!k&&ye===0&&Ge._buffer[Ey]()===0},Ge.getOfflineListener=function(){return Pe},Ge._xhrReadyStateChange=function(Re,tt,bt){if(!Uu(tt))return Sl(Re,tt,bt)},Ge[ST]=function(Re,tt,bt){Re===void 0&&(Re=!0);var Ut;if(!k)try{var vr=Ge[Ad];if(Nr)vr[r2]();else if(vr[Ey]()>0){var ar=vr.getItems();IB(bt||0,Re),tt?Ut=tt.call(Ge,ar,Re):Ut=Ge[BT](ar,Re)}Im()}catch(Xo){var Hn=$p();(!Hn||Hn>9)&&Mt(Ge[Ua](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+_s(Xo),{exception:Xt(Xo)})}return Ut},Ge.getOfflineSupport=function(){return{getUrl:s(function(){return De},"getUrl"),createPayload:je,serialize:ao,batch:pa,shouldProcess:s(function(Re){return!!Mu(Re)},"shouldProcess")}},Ge._doTeardown=function(Re,tt){Ge.onunloadFlush(),tm(Pe,!1),Ree()},Ge[Iy]=function(Re,tt,bt){if(!Uu(Re))return f0(Re,tt)},Ge[TM]=function(Re,tt){if(!Uu(Re))return ym(Re,tt)},Ge[gB]=function(Re,tt){if(!Uu(Re))return Lu(Re)},Ge._xdrOnLoad=function(Re,tt){if(!Uu(tt))return Eo(Re,tt)};function Eo(Re,tt){var bt=_ee(Re);if(Re&&(bt+""=="200"||bt===""))b=0,Ge[gB](tt,0);else{var Ut=Ht(bt);Ut&&Ut[_M]&&Ut[_M]>Ut[wM]&&!si?Ge[TM](tt,Ut):Ge[Iy](tt,m8(Re))}}s(Eo,"_xdrOnLoad");function Ws(){try{var Re={xdrOnComplete:s(function(bt,Ut,vr){var ar=Cm(vr);if(ar)return Eo(bt,ar)},"xdrOnComplete"),fetchOnComplete:s(function(bt,Ut,vr,ar){var Hn=Cm(ar);if(Hn)return Yi(bt.status,Hn,bt.url,Hn[un],bt.statusText,vr||"")},"fetchOnComplete"),xhrOnComplete:s(function(bt,Ut,vr){var ar=Cm(vr);if(ar)return Sl(bt,ar,ar[un])},"xhrOnComplete"),beaconOnRetry:s(function(bt,Ut,vr){return Ou(bt,Ut,vr)},"beaconOnRetry")},tt={enableSendPromise:Ri,isOneDs:!1,disableCredentials:!1,disableXhr:Yt,disableBeacon:!It,disableBeaconSync:!ht,senderOnCompleteCallBack:Re};return tt}catch{}return null}s(Ws,"_getSendPostMgrConfig");function Sl(Re,tt,bt){Re.readyState===4&&Yi(Re.status,tt,Re.responseURL,bt,SI(Re),_ee(Re)||Re.response)}s(Sl,"_xhrReadyStateChange");function f0(Re,tt,bt){Mt(Ge[Ua](),2,26,"Failed to send telemetry.",{message:tt}),Ge._buffer&&Ge._buffer[TT](Re)}s(f0,"_onError");function ym(Re,tt){for(var bt=[],Ut=[],vr=tt.errors.reverse(),ar=0,Hn=vr;ar<Hn.length;ar++){var Xo=Hn[ar],Rc=Re.splice(Xo.index,1)[0];xm(Xo.statusCode)?Ut[qA](Rc):bt[qA](Rc)}Re[un]>0&&Ge[gB](Re,tt[wM]),bt[un]>0&&Ge[Iy](bt,SI(null,["partial success",tt[wM],"of",tt.itemsReceived].join(" "))),Ut[un]>0&&(QT(Ut),Mt(Ge[Ua](),2,40,"Partial success. Delivered: "+Re[un]+", Failed: "+bt[un]+". Will retry to send "+Ut[un]+" our of "+tt[_M]+" items"))}s(ym,"_onPartialSuccess");function Lu(Re,tt){Ge._buffer&&Ge._buffer[TT](Re)}s(Lu,"_onSuccess");function Cm(Re){try{if(Re){var tt=Re,bt=tt.oriPayload;return bt&&bt[un]?bt:null}}catch{}return null}s(Cm,"_getPayloadArr");function Mu(Re,tt){if(Nr)return!1;if(!Re)return tt&&Mt(tt,1,7,"Cannot send empty telemetry"),!1;if(Re.baseData&&!Re[SM])return tt&&Mt(tt,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(Re[SM]||(Re[SM]="EventData"),!Ge[BT])return tt&&Mt(tt,1,28,"Sender was not initialized"),!1;if(Dt(Re))Re[qZ]=Ge._sample[yB];else return tt&&Mt(tt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Ge._sample[yB]}),!1;return!0}s(Mu,"_validate");function Em(Re,tt){var bt=Re.iKey||An,Ut=g.constructEnvelope(Re,bt,tt,hn);if(!Ut){Mt(tt,1,47,"Unable to create an AppInsights envelope");return}var vr=!1;if(Re[ha]&&Re[ha][nM]&&($t(Re[ha][nM],function(ar){try{ar&&ar(Ut)===!1&&(vr=!0,OI(tt,"Telemetry processor check returns false"))}catch(Hn){Mt(tt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+_s(Hn),{exception:Xt(Hn)},!0)}}),delete Re[ha][nM]),!vr)return Ut}s(Em,"_getEnvelope");function ao(Re){var tt=Tee,bt=Ge[Ua]();try{var Ut=Mu(Re,bt),vr=null;Ut&&(vr=Em(Re,bt)),vr&&(tt=V.serialize(vr))}catch{}return tt}s(ao,"_serialize");function pa(Re){var tt=Tee;return Re&&Re[un]&&(tt="["+Re.join(",")+"]"),tt}s(pa,"_batch");function je(Re){var tt=Ai();return{urlString:De,data:Re,headers:tt}}s(je,"_createPayload");function Dt(Re){return Ge._sample.isSampledIn(Re)}s(Dt,"_isSampledIn");function Ir(Re,tt,bt,Ut){tt===200&&Re?Ge._onSuccess(Re,Re[un]):Ut&&Ge[Iy](Re,Ut)}s(Ir,"_getOnComplete");function qt(Re,tt,bt,Ut){Ut===void 0&&(Ut=!0);var vr=s(function(Xo,Rc,Zr){return Ir(tt,Xo,Rc,Zr)},"onComplete"),ar=xr(tt),Hn=Re&&Re.sendPOST;return Hn&&ar?(Ut&&Ge._buffer[pB](tt),Hn(ar,vr,!bt)):null}s(qt,"_doSend");function xr(Re){if(lt(Re)&&Re[un]>0){var tt=Ge[Ad].batchPayloads(Re),bt=Ai(),Ut={data:tt,urlString:De,headers:bt,disableXhrSync:Yt,disableFetchKeepAlive:!Xn,oriPayload:Re};return Ut}return null}s(xr,"_getPayload");function Ai(){try{var Re=se||{};return JZ(De)&&(Re[VZ[6]]=VZ[7]),Re}catch{}return null}s(Ai,"_getHeaders");function Ci(Re){var tt=Re?Re[un]:0;return Ge[Ad].size()+tt>Ue?((!Pe||Pe.isOnline())&&Ge[ST](!0,null,10),!0):!1}s(Ci,"_checkMaxSize");function Yi(Re,tt,bt,Ut,vr,ar){var Hn=null;if(Ge._appId||(Hn=Ht(ar),Hn&&Hn.appId&&(Ge._appId=Hn.appId)),(Re<200||Re>=300)&&Re!==0){if((Re===301||Re===307||Re===308)&&!Ha(bt)){Ge[Iy](tt,vr);return}if(Pe&&!Pe.isOnline()){if(!si){var Xo=10;QT(tt,Xo),Mt(Ge[Ua](),2,40,". Offline - Response Code: ".concat(Re,". Offline status: ").concat(!Pe.isOnline(),". Will retry to send ").concat(tt.length," items."))}return}!si&&xm(Re)?(QT(tt),Mt(Ge[Ua](),2,40,". Response code "+Re+". Will retry to send "+tt[un]+" items.")):Ge[Iy](tt,vr)}else Ha(bt),Re===206?(Hn||(Hn=Ht(ar)),Hn&&!si?Ge[TM](tt,Hn):Ge[Iy](tt,vr)):(b=0,Ge[gB](tt,Ut))}s(Yi,"_checkResponsStatus");function Ha(Re){return j>=10?!1:!re(Re)&&Re!==""&&Re!==De?(De=Re,++j,!0):!1}s(Ha,"_checkAndUpdateEndPointUrl");function q0(Re,tt){if(Te)Te(Re,!1);else{var bt=ai&&ai[mB]([3],!0);return qt(bt,Re,tt)}}s(q0,"_doUnloadSend");function Ou(Re,tt,bt){var Ut=Re,vr=Ut&&Ut.oriPayload;if(Co)gr&&gr(vr,!0),Mt(Ge[Ua](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var ar=[],Hn=0;Hn<vr[un];Hn++){var Xo=vr[Hn],Rc=[Xo],Zr=xr(Rc);bt(Zr,tt)?Ge._onSuccess(Rc,Rc[un]):ar[qA](Xo)}ar[un]>0&&(gr&&gr(ar,!0),Mt(Ge[Ua](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}s(Ou,"_onBeaconRetry");function Uu(Re){try{if(Re&&Re[un])return he(Re[0])}catch{}return null}s(Uu,"_isStringArr");function s2(Re,tt){var bt=null;if(lt(Re)){for(var Ut=Re[un],vr=0;vr<Re[un];vr++)Ut+=Re[vr].item[un];var ar=ai.getSyncFetchPayload();ar+Ut<=e8e?bt=2:nd()?bt=3:(bt=1,Mt(Ge[Ua](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Hn=ai&&ai[mB]([bt],!0);return qt(Hn,Re,tt)}return null}s(s2,"_fetchKeepAliveSender");function QT(Re,tt){if(tt===void 0&&(tt=1),!(!Re||Re[un]===0)){var bt=Ge[Ad];bt[TT](Re),b++;for(var Ut=0,vr=Re;Ut<vr.length;Ut++){var ar=vr[Ut];ar.cnt=ar.cnt||0,ar.cnt++,bt[Cy](ar)}DM(tt),a2()}}s(QT,"_resendPayload");function DM(Re){var tt=10,bt;if(b<=1)bt=tt;else{var Ut=(Math.pow(2,b)-1)/2,vr=EA(Math.random()*Ut*tt)+1;vr=Re*vr,bt=_e(Iu(vr,3600),tt)}var ar=qf()+bt*1e3;R=ar}s(DM,"_setRetryTime");function a2(){if(!F&&!k){var Re=R?_e(0,R-qf()):0,tt=_e(sr,Re);F=Wf(function(){F=null,Ge[ST](!0,null,1)},tt)}}s(a2,"_setupTimer");function Im(){F&&F.cancel(),F=null,R=null}s(Im,"_clearScheduledTimer");function xm(Re){return re(Vs)?Re===401||Re===408||Re===429||Re===500||Re===502||Re===503||Re===504:Vs[un]&&Vs.indexOf(Re)>-1}s(xm,"_isRetriable");function EB(){var Re="getNotifyMgr";return Ge.core[Re]?Ge.core[Re]():Ge.core._notificationManager}s(EB,"_getNotifyMgr");function IB(Re,tt){var bt=EB();if(bt&&bt.eventsSendRequest)try{bt.eventsSendRequest(Re,tt)}catch(Ut){Mt(Ge[Ua](),1,74,"send request notification failed: "+_s(Ut),{exception:Xt(Ut)})}}s(IB,"_notifySendRequest");function Bee(Re,tt){var bt=tt.disableInstrumentationKeyValidation,Ut=re(bt)?!1:bt;if(Ut)return!0;var vr="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ar=new RegExp(vr);return ar.test(Re)}s(Bee,"_validateInstrumentationKey");function Ree(){Ge[BT]=null,Ge[Ad]=null,Ge._appId=null,Ge._sample=null,se={},Pe=null,b=0,R=null,k=!1,F=null,V=null,j=0,ye=0,Te=null,we=null,De=null,$e=null,Ue=0,nt=!1,Nt=null,Nr=!1,An=null,hn=hd,si=!1,Wt=null,so=hd,Yt=!1,Xn=!1,Co=!1,at=null,gr=null,ai=null,Jt(Ge,"_senderConfig",{g:s(function(){return p8({},wee)},"g")})}s(Ree,"_initDefaults")}),I}return s(g,"Sender"),g.constructEnvelope=function(I,b,R,k){var F;b!==I.iKey&&!re(b)?F=wu(wu({},I),{iKey:b}):F=I;var V=n8e[F.baseType]||xee;return V(R,F,k)},g}(et),i2="instrumentationKey",CB="connectionString",DT="endpointUrl",NT="userOverrideEndpointUrl",o2,kM=void 0,i8e=(o2={diagnosticLogInterval:tT(o8e,1e4)},o2[CB]=kM,o2.endpointUrl=kM,o2[i2]=kM,o2.extensionConfig={},o2);function o8e(m){return m&&m>0}s(o8e,"_chkDiagLevel");var s8e=function(){function m(g){var I=new ct,b;(re(g)||re(g[i2])&&re(g[CB]))&&mo("Invalid input configuration"),da(m,this,function(k){Jt(k,"config",{g:s(function(){return b},"g")}),F(),k.initialize=F,k.track=R,U5(k,I,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function F(){var V=H0(g||{},i8e);b=V.cfg,I.addUnloadHook(Pu(V,function(){var j=b[CB];if(br(j)){var se=CI(function(we,De){F0(j,function($e){var Ue=$e.value,nt=b[i2];if(!$e.rejected&&Ue){b[CB]=Ue;var ht=dM(Ue);nt=ht.instrumentationkey||nt}we(nt)})}),ye=CI(function(we,De){F0(j,function($e){var Ue=$e.value,nt=b[DT];if(!$e.rejected&&Ue){var ht=dM(Ue),It=ht.ingestionendpoint;nt=It?It+jI:nt}we(nt)})});b[i2]=se,b[DT]=b[NT]||ye}if(he(j)){var Te=dM(j),Pe=Te.ingestionendpoint;b[DT]=b[NT]?b[NT]:Pe+jI,b[i2]=Te.instrumentationkey||b[i2]}b[DT]=b[NT]?b[NT]:b[DT]})),I.initialize(b,[new See])}s(F,"_initialize")});function R(k){k&&(k.baseData=k.baseData||{},k.baseType=k.baseType||"EventData"),I.track(k)}s(R,"_track")}return s(m,"ApplicationInsights"),m.__ieDyn=1,m}();t.AppInsightsCore=ct,t.ApplicationInsights=s8e,t.Sender=See,t.SeverityLevel=FSe,t.arrForEach=$t,t.isNullOrUndefined=re,t.proxyFunctions=U5,t.throwError=mo})});var p2=q(qa=>{"use strict";f();Object.defineProperty(qa,"__esModule",{value:!0});qa.stringArray=qa.array=qa.func=qa.error=qa.number=qa.string=qa.boolean=void 0;function R8e(t){return t===!0||t===!1}s(R8e,"boolean");qa.boolean=R8e;function yre(t){return typeof t=="string"||t instanceof String}s(yre,"string");qa.string=yre;function k8e(t){return typeof t=="number"||t instanceof Number}s(k8e,"number");qa.number=k8e;function D8e(t){return t instanceof Error}s(D8e,"error");qa.error=D8e;function N8e(t){return typeof t=="function"}s(N8e,"func");qa.func=N8e;function Cre(t){return Array.isArray(t)}s(Cre,"array");qa.array=Cre;function Q8e(t){return Cre(t)&&t.every(e=>yre(e))}s(Q8e,"stringArray");qa.stringArray=Q8e});var EO=q(jt=>{"use strict";f();Object.defineProperty(jt,"__esModule",{value:!0});jt.Message=jt.NotificationType9=jt.NotificationType8=jt.NotificationType7=jt.NotificationType6=jt.NotificationType5=jt.NotificationType4=jt.NotificationType3=jt.NotificationType2=jt.NotificationType1=jt.NotificationType0=jt.NotificationType=jt.RequestType9=jt.RequestType8=jt.RequestType7=jt.RequestType6=jt.RequestType5=jt.RequestType4=jt.RequestType3=jt.RequestType2=jt.RequestType1=jt.RequestType=jt.RequestType0=jt.AbstractMessageSignature=jt.ParameterStructures=jt.ResponseError=jt.ErrorCodes=void 0;var ky=p2(),KM;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(KM||(jt.ErrorCodes=KM={}));var JM=class t extends Error{static{s(this,"ResponseError")}constructor(e,r,n){super(r),this.code=ky.number(e)?e:KM.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};jt.ResponseError=JM;var Y0=class t{static{s(this,"ParameterStructures")}constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};jt.ParameterStructures=Y0;Y0.auto=new Y0("auto");Y0.byPosition=new Y0("byPosition");Y0.byName=new Y0("byName");var $i=class{static{s(this,"AbstractMessageSignature")}constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return Y0.auto}};jt.AbstractMessageSignature=$i;var XM=class extends $i{static{s(this,"RequestType0")}constructor(e){super(e,0)}};jt.RequestType0=XM;var ZM=class extends $i{static{s(this,"RequestType")}constructor(e,r=Y0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};jt.RequestType=ZM;var eO=class extends $i{static{s(this,"RequestType1")}constructor(e,r=Y0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};jt.RequestType1=eO;var tO=class extends $i{static{s(this,"RequestType2")}constructor(e){super(e,2)}};jt.RequestType2=tO;var rO=class extends $i{static{s(this,"RequestType3")}constructor(e){super(e,3)}};jt.RequestType3=rO;var nO=class extends $i{static{s(this,"RequestType4")}constructor(e){super(e,4)}};jt.RequestType4=nO;var iO=class extends $i{static{s(this,"RequestType5")}constructor(e){super(e,5)}};jt.RequestType5=iO;var oO=class extends $i{static{s(this,"RequestType6")}constructor(e){super(e,6)}};jt.RequestType6=oO;var sO=class extends $i{static{s(this,"RequestType7")}constructor(e){super(e,7)}};jt.RequestType7=sO;var aO=class extends $i{static{s(this,"RequestType8")}constructor(e){super(e,8)}};jt.RequestType8=aO;var cO=class extends $i{static{s(this,"RequestType9")}constructor(e){super(e,9)}};jt.RequestType9=cO;var lO=class extends $i{static{s(this,"NotificationType")}constructor(e,r=Y0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};jt.NotificationType=lO;var uO=class extends $i{static{s(this,"NotificationType0")}constructor(e){super(e,0)}};jt.NotificationType0=uO;var fO=class extends $i{static{s(this,"NotificationType1")}constructor(e,r=Y0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};jt.NotificationType1=fO;var dO=class extends $i{static{s(this,"NotificationType2")}constructor(e){super(e,2)}};jt.NotificationType2=dO;var AO=class extends $i{static{s(this,"NotificationType3")}constructor(e){super(e,3)}};jt.NotificationType3=AO;var hO=class extends $i{static{s(this,"NotificationType4")}constructor(e){super(e,4)}};jt.NotificationType4=hO;var pO=class extends $i{static{s(this,"NotificationType5")}constructor(e){super(e,5)}};jt.NotificationType5=pO;var mO=class extends $i{static{s(this,"NotificationType6")}constructor(e){super(e,6)}};jt.NotificationType6=mO;var gO=class extends $i{static{s(this,"NotificationType7")}constructor(e){super(e,7)}};jt.NotificationType7=gO;var yO=class extends $i{static{s(this,"NotificationType8")}constructor(e){super(e,8)}};jt.NotificationType8=yO;var CO=class extends $i{static{s(this,"NotificationType9")}constructor(e){super(e,9)}};jt.NotificationType9=CO;var Ere;(function(t){function e(o){let a=o;return a&&ky.string(a.method)&&(ky.string(a.id)||ky.number(a.id))}s(e,"isRequest"),t.isRequest=e;function r(o){let a=o;return a&&ky.string(a.method)&&o.id===void 0}s(r,"isNotification"),t.isNotification=r;function n(o){let a=o;return a&&(a.result!==void 0||!!a.error)&&(ky.string(a.id)||ky.number(a.id)||a.id===null)}s(n,"isResponse"),t.isResponse=n})(Ere||(jt.Message=Ere={}))});var xO=q(Qm=>{"use strict";f();var Ire;Object.defineProperty(Qm,"__esModule",{value:!0});Qm.LRUCache=Qm.LinkedMap=Qm.Touch=void 0;var Ga;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Ga||(Qm.Touch=Ga={}));var I6=class{static{s(this,"LinkedMap")}constructor(){this[Ire]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=Ga.None){let n=this._map.get(e);if(n)return r!==Ga.None&&this.touch(n,r),n.value}set(e,r,n=Ga.None){let o=this._map.get(e);if(o)o.value=r,n!==Ga.None&&this.touch(o,n);else{switch(o={key:e,value:r,next:void 0,previous:void 0},n){case Ga.None:this.addItemLast(o);break;case Ga.First:this.addItemFirst(o);break;case Ga.Last:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,o=this._head;for(;o;){if(r?e.bind(r)(o.value,o.key,this):e(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.key,done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.value,done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:[r.key,r.value],done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}[(Ire=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Ga.First&&r!==Ga.Last)){if(r===Ga.First){if(e===this._head)return;let n=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===Ga.Last){if(e===this._tail)return;let n=e.next,o=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};Qm.LinkedMap=I6;var IO=class extends I6{static{s(this,"LRUCache")}constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=Ga.AsNew){return super.get(e,r)}peek(e){return super.get(e,Ga.None)}set(e,r){return super.set(e,r,Ga.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Qm.LRUCache=IO});var vre=q(x6=>{"use strict";f();Object.defineProperty(x6,"__esModule",{value:!0});x6.Disposable=void 0;var xre;(function(t){function e(r){return{dispose:r}}s(e,"create"),t.create=e})(xre||(x6.Disposable=xre={}))});var Pm=q(TO=>{"use strict";f();Object.defineProperty(TO,"__esModule",{value:!0});var vO;function bO(){if(vO===void 0)throw new Error("No runtime abstraction layer installed");return vO}s(bO,"RAL");(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");vO=r}s(e,"install"),t.install=e})(bO||(bO={}));TO.default=bO});var g2=q(m2=>{"use strict";f();Object.defineProperty(m2,"__esModule",{value:!0});m2.Emitter=m2.Event=void 0;var P8e=Pm(),bre;(function(t){let e={dispose(){}};t.None=function(){return e}})(bre||(m2.Event=bre={}));var _O=class{static{s(this,"CallbackList")}add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:s(()=>this.remove(e,r),"dispose")})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let o=0,a=this._callbacks.length;o<a;o++)if(this._callbacks[o]===e)if(this._contexts[o]===r){this._callbacks.splice(o,1),this._contexts.splice(o,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),o=this._contexts.slice(0);for(let a=0,c=n.length;a<c;a++)try{r.push(n[a].apply(o[a],e))}catch(l){(0,P8e.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},v6=class t{static{s(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new _O),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let o={dispose:s(()=>{this._callbacks&&(this._callbacks.remove(e,r),o.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};m2.Emitter=v6;v6._noop=function(){}});var _6=q(y2=>{"use strict";f();Object.defineProperty(y2,"__esModule",{value:!0});y2.CancellationTokenSource=y2.CancellationToken=void 0;var F8e=Pm(),L8e=p2(),wO=g2(),b6;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:wO.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:wO.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||L8e.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}s(e,"is"),t.is=e})(b6||(y2.CancellationToken=b6={}));var M8e=Object.freeze(function(t,e){let r=(0,F8e.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),T6=class{static{s(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?M8e:(this._emitter||(this._emitter=new wO.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},SO=class{static{s(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new T6),this._token}cancel(){this._token?this._token.cancel():this._token=b6.Cancelled}dispose(){this._token?this._token instanceof T6&&this._token.dispose():this._token=b6.None}};y2.CancellationTokenSource=SO});var Tre=q(C2=>{"use strict";f();Object.defineProperty(C2,"__esModule",{value:!0});C2.SharedArrayReceiverStrategy=C2.SharedArraySenderStrategy=void 0;var O8e=_6(),YT;(function(t){t.Continue=0,t.Cancelled=1})(YT||(YT={}));var BO=class{static{s(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=YT.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let o=new Int32Array(n,0,1);Atomics.store(o,0,YT.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};C2.SharedArraySenderStrategy=BO;var RO=class{static{s(this,"SharedArrayBufferCancellationToken")}constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===YT.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},kO=class{static{s(this,"SharedArrayBufferCancellationTokenSource")}constructor(e){this.token=new RO(e)}cancel(){}dispose(){}},DO=class{static{s(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new O8e.CancellationTokenSource:new kO(r)}};C2.SharedArrayReceiverStrategy=DO});var QO=q(w6=>{"use strict";f();Object.defineProperty(w6,"__esModule",{value:!0});w6.Semaphore=void 0;var U8e=Pm(),NO=class{static{s(this,"Semaphore")}constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,U8e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};w6.Semaphore=NO});var wre=q(Fm=>{"use strict";f();Object.defineProperty(Fm,"__esModule",{value:!0});Fm.ReadableStreamMessageReader=Fm.AbstractMessageReader=Fm.MessageReader=void 0;var FO=Pm(),E2=p2(),PO=g2(),H8e=QO(),_re;(function(t){function e(r){let n=r;return n&&E2.func(n.listen)&&E2.func(n.dispose)&&E2.func(n.onError)&&E2.func(n.onClose)&&E2.func(n.onPartialMessage)}s(e,"is"),t.is=e})(_re||(Fm.MessageReader=_re={}));var S6=class{static{s(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new PO.Emitter,this.closeEmitter=new PO.Emitter,this.partialMessageEmitter=new PO.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${E2.string(e.message)?e.message:"unknown"}`)}};Fm.AbstractMessageReader=S6;var LO;(function(t){function e(r){let n,o,a,c=new Map,l,u=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(a=r.contentDecoder,c.set(a.name,a)),r.contentDecoders!==void 0)for(let d of r.contentDecoders)c.set(d.name,d);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,u.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let d of r.contentTypeDecoders)u.set(d.name,d)}return l===void 0&&(l=(0,FO.default)().applicationJson.decoder,u.set(l.name,l)),{charset:n,contentDecoder:a,contentDecoders:c,contentTypeDecoder:l,contentTypeDecoders:u}}s(e,"fromOptions"),t.fromOptions=e})(LO||(LO={}));var MO=class extends S6{static{s(this,"ReadableStreamMessageReader")}constructor(e,r){super(),this.readable=e,this.options=LO.fromOptions(r),this.buffer=(0,FO.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new H8e.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let o=n.get("content-length");if(!o){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let a=parseInt(o);if(isNaN(a)){this.fireError(new Error(`Content-Length value must be a number. Got ${o}`));return}this.nextMessageLength=a}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,o=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(o)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,FO.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Fm.ReadableStreamMessageReader=MO});var Dre=q(Lm=>{"use strict";f();Object.defineProperty(Lm,"__esModule",{value:!0});Lm.WriteableStreamMessageWriter=Lm.AbstractMessageWriter=Lm.MessageWriter=void 0;var Sre=Pm(),$T=p2(),q8e=QO(),Bre=g2(),G8e="Content-Length: ",Rre=`\r
`,kre;(function(t){function e(r){let n=r;return n&&$T.func(n.dispose)&&$T.func(n.onClose)&&$T.func(n.onError)&&$T.func(n.write)}s(e,"is"),t.is=e})(kre||(Lm.MessageWriter=kre={}));var B6=class{static{s(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new Bre.Emitter,this.closeEmitter=new Bre.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${$T.string(e.message)?e.message:"unknown"}`)}};Lm.AbstractMessageWriter=B6;var OO;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,Sre.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,Sre.default)().applicationJson.encoder}}s(e,"fromOptions"),t.fromOptions=e})(OO||(OO={}));var UO=class extends B6{static{s(this,"WriteableStreamMessageWriter")}constructor(e,r){super(),this.writable=e,this.options=OO.fromOptions(r),this.errorCount=0,this.writeSemaphore=new q8e.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let o=[];return o.push(G8e,n.byteLength.toString(),Rre),o.push(Rre),this.doWrite(e,o,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(o){return this.handleError(o,e),Promise.reject(o)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};Lm.WriteableStreamMessageWriter=UO});var Nre=q(R6=>{"use strict";f();Object.defineProperty(R6,"__esModule",{value:!0});R6.AbstractMessageBuffer=void 0;var V8e=13,W8e=10,Y8e=`\r
`,HO=class{static{s(this,"AbstractMessageBuffer")}constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,o=0,a=0;e:for(;n<this._chunks.length;){let d=this._chunks[n];for(o=0;o<d.length;){switch(d[o]){case V8e:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case W8e:switch(r){case 1:r=2;break;case 3:r=4,o++;break e;default:r=0}break;default:r=0}o++}a+=d.byteLength,n++}if(r!==4)return;let c=this._read(a+o),l=new Map,u=this.toString(c,"ascii").split(Y8e);if(u.length<2)return l;for(let d=0;d<u.length-2;d++){let A=u[d],h=A.indexOf(":");if(h===-1)throw new Error(`Message header must separate key and value using ':'
${A}`);let p=A.substr(0,h),y=A.substr(h+1).trim();l.set(e?p.toLowerCase():p,y)}return l}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(a)}if(this._chunks[0].byteLength>e){let a=this._chunks[0],c=this.asNative(a,e);return this._chunks[0]=a.slice(e),this._totalLength-=e,c}let r=this.allocNative(e),n=0,o=0;for(;e>0;){let a=this._chunks[o];if(a.byteLength>e){let c=a.slice(0,e);r.set(c,n),n+=e,this._chunks[o]=a.slice(e),this._totalLength-=e,e-=e}else r.set(a,n),n+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,e-=a.byteLength}return r}};R6.AbstractMessageBuffer=HO});var Mre=q(Vr=>{"use strict";f();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.createMessageConnection=Vr.ConnectionOptions=Vr.MessageStrategy=Vr.CancellationStrategy=Vr.CancellationSenderStrategy=Vr.CancellationReceiverStrategy=Vr.RequestCancellationReceiverStrategy=Vr.IdCancellationReceiverStrategy=Vr.ConnectionStrategy=Vr.ConnectionError=Vr.ConnectionErrors=Vr.LogTraceNotification=Vr.SetTraceNotification=Vr.TraceFormat=Vr.TraceValues=Vr.Trace=Vr.NullLogger=Vr.ProgressType=Vr.ProgressToken=void 0;var Qre=Pm(),xo=p2(),yr=EO(),Pre=xO(),zT=g2(),qO=_6(),JT;(function(t){t.type=new yr.NotificationType("$/cancelRequest")})(JT||(JT={}));var GO;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}s(e,"is"),t.is=e})(GO||(Vr.ProgressToken=GO={}));var jT;(function(t){t.type=new yr.NotificationType("$/progress")})(jT||(jT={}));var VO=class{static{s(this,"ProgressType")}constructor(){}};Vr.ProgressType=VO;var WO;(function(t){function e(r){return xo.func(r)}s(e,"is"),t.is=e})(WO||(WO={}));Vr.NullLogger=Object.freeze({error:s(()=>{},"error"),warn:s(()=>{},"warn"),info:s(()=>{},"info"),log:s(()=>{},"log")});var ci;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(ci||(Vr.Trace=ci={}));var Fre;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(Fre||(Vr.TraceValues=Fre={}));(function(t){function e(n){if(!xo.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}s(e,"fromString"),t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}s(r,"toString"),t.toString=r})(ci||(Vr.Trace=ci={}));var Nc;(function(t){t.Text="text",t.JSON="json"})(Nc||(Vr.TraceFormat=Nc={}));(function(t){function e(r){return xo.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}s(e,"fromString"),t.fromString=e})(Nc||(Vr.TraceFormat=Nc={}));var YO;(function(t){t.type=new yr.NotificationType("$/setTrace")})(YO||(Vr.SetTraceNotification=YO={}));var k6;(function(t){t.type=new yr.NotificationType("$/logTrace")})(k6||(Vr.LogTraceNotification=k6={}));var KT;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(KT||(Vr.ConnectionErrors=KT={}));var I2=class t extends Error{static{s(this,"ConnectionError")}constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Vr.ConnectionError=I2;var $O;(function(t){function e(r){let n=r;return n&&xo.func(n.cancelUndispatched)}s(e,"is"),t.is=e})($O||(Vr.ConnectionStrategy=$O={}));var D6;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&xo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||xo.func(n.dispose))}s(e,"is"),t.is=e})(D6||(Vr.IdCancellationReceiverStrategy=D6={}));var zO;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&xo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||xo.func(n.dispose))}s(e,"is"),t.is=e})(zO||(Vr.RequestCancellationReceiverStrategy=zO={}));var N6;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new qO.CancellationTokenSource}});function e(r){return D6.is(r)||zO.is(r)}s(e,"is"),t.is=e})(N6||(Vr.CancellationReceiverStrategy=N6={}));var Q6;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(JT.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&xo.func(n.sendCancellation)&&xo.func(n.cleanup)}s(e,"is"),t.is=e})(Q6||(Vr.CancellationSenderStrategy=Q6={}));var P6;(function(t){t.Message=Object.freeze({receiver:N6.Message,sender:Q6.Message});function e(r){let n=r;return n&&N6.is(n.receiver)&&Q6.is(n.sender)}s(e,"is"),t.is=e})(P6||(Vr.CancellationStrategy=P6={}));var F6;(function(t){function e(r){let n=r;return n&&xo.func(n.handleMessage)}s(e,"is"),t.is=e})(F6||(Vr.MessageStrategy=F6={}));var Lre;(function(t){function e(r){let n=r;return n&&(P6.is(n.cancellationStrategy)||$O.is(n.connectionStrategy)||F6.is(n.messageStrategy))}s(e,"is"),t.is=e})(Lre||(Vr.ConnectionOptions=Lre={}));var qu;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(qu||(qu={}));function $8e(t,e,r,n){let o=r!==void 0?r:Vr.NullLogger,a=0,c=0,l=0,u="2.0",d,A=new Map,h,p=new Map,y=new Map,E,v=new Pre.LinkedMap,w=new Map,_=new Set,S=new Map,D=ci.Off,N=Nc.Text,P,O=qu.New,$=new zT.Emitter,ne=new zT.Emitter,oe=new zT.Emitter,Ae=new zT.Emitter,Y=new zT.Emitter,K=n&&n.cancellationStrategy?n.cancellationStrategy:P6.Message;function xe(de){if(de===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+de.toString()}s(xe,"createRequestQueueKey");function ce(de){return de===null?"res-unknown-"+(++l).toString():"res-"+de.toString()}s(ce,"createResponseQueueKey");function J(){return"not-"+(++c).toString()}s(J,"createNotificationQueueKey");function W(de,Ve){yr.Message.isRequest(Ve)?de.set(xe(Ve.id),Ve):yr.Message.isResponse(Ve)?de.set(ce(Ve.id),Ve):de.set(J(),Ve)}s(W,"addMessageToQueue");function Z(de){}s(Z,"cancelUndispatched");function re(){return O===qu.Listening}s(re,"isListening");function te(){return O===qu.Closed}s(te,"isClosed");function ie(){return O===qu.Disposed}s(ie,"isDisposed");function ue(){(O===qu.New||O===qu.Listening)&&(O=qu.Closed,ne.fire(void 0))}s(ue,"closeHandler");function he(de){$.fire([de,void 0,void 0])}s(he,"readErrorHandler");function Je(de){$.fire(de)}s(Je,"writeErrorHandler"),t.onClose(ue),t.onError(he),e.onClose(ue),e.onError(Je);function rt(){E||v.size===0||(E=(0,Qre.default)().timer.setImmediate(()=>{E=void 0,Ct()}))}s(rt,"triggerMessageQueue");function lt(de){yr.Message.isRequest(de)?Hr(de):yr.Message.isNotification(de)?br(de):yr.Message.isResponse(de)?Dn(de):le(de)}s(lt,"handleMessage");function Ct(){if(v.size===0)return;let de=v.shift();try{let Ve=n?.messageStrategy;F6.is(Ve)?Ve.handleMessage(de,lt):lt(de)}finally{rt()}}s(Ct,"processMessageQueue");let Vt=s(de=>{try{if(yr.Message.isNotification(de)&&de.method===JT.type.method){let Ve=de.params.id,At=xe(Ve),vt=v.get(At);if(yr.Message.isRequest(vt)){let Tr=n?.connectionStrategy,Kn=Tr&&Tr.cancelUndispatched?Tr.cancelUndispatched(vt,Z):void 0;if(Kn&&(Kn.error!==void 0||Kn.result!==void 0)){v.delete(At),S.delete(Ve),Kn.id=vt.id,st(Kn,de.method,Date.now()),e.write(Kn).catch(()=>o.error("Sending response for canceled message failed."));return}}let $r=S.get(Ve);if($r!==void 0){$r.cancel(),Mr(de);return}else _.add(Ve)}W(v,de)}finally{rt()}},"callback");function Hr(de){if(ie())return;function Ve(Or,zr,Gr){let di={jsonrpc:u,id:de.id};Or instanceof yr.ResponseError?di.error=Or.toJson():di.result=Or===void 0?null:Or,st(di,zr,Gr),e.write(di).catch(()=>o.error("Sending response failed."))}s(Ve,"reply");function At(Or,zr,Gr){let di={jsonrpc:u,id:de.id,error:Or.toJson()};st(di,zr,Gr),e.write(di).catch(()=>o.error("Sending response failed."))}s(At,"replyError");function vt(Or,zr,Gr){Or===void 0&&(Or=null);let di={jsonrpc:u,id:de.id,result:Or};st(di,zr,Gr),e.write(di).catch(()=>o.error("Sending response failed."))}s(vt,"replySuccess"),Ye(de);let $r=A.get(de.method),Tr,Kn;$r&&(Tr=$r.type,Kn=$r.handler);let ii=Date.now();if(Kn||d){let Or=de.id??String(Date.now()),zr=D6.is(K.receiver)?K.receiver.createCancellationTokenSource(Or):K.receiver.createCancellationTokenSource(de);de.id!==null&&_.has(de.id)&&zr.cancel(),de.id!==null&&S.set(Or,zr);try{let Gr;if(Kn)if(de.params===void 0){if(Tr!==void 0&&Tr.numberOfParams!==0){At(new yr.ResponseError(yr.ErrorCodes.InvalidParams,`Request ${de.method} defines ${Tr.numberOfParams} params but received none.`),de.method,ii);return}Gr=Kn(zr.token)}else if(Array.isArray(de.params)){if(Tr!==void 0&&Tr.parameterStructures===yr.ParameterStructures.byName){At(new yr.ResponseError(yr.ErrorCodes.InvalidParams,`Request ${de.method} defines parameters by name but received parameters by position`),de.method,ii);return}Gr=Kn(...de.params,zr.token)}else{if(Tr!==void 0&&Tr.parameterStructures===yr.ParameterStructures.byPosition){At(new yr.ResponseError(yr.ErrorCodes.InvalidParams,`Request ${de.method} defines parameters by position but received parameters by name`),de.method,ii);return}Gr=Kn(de.params,zr.token)}else d&&(Gr=d(de.method,de.params,zr.token));let di=Gr;Gr?di.then?di.then(Vi=>{S.delete(Or),Ve(Vi,de.method,ii)},Vi=>{S.delete(Or),Vi instanceof yr.ResponseError?At(Vi,de.method,ii):Vi&&xo.string(Vi.message)?At(new yr.ResponseError(yr.ErrorCodes.InternalError,`Request ${de.method} failed with message: ${Vi.message}`),de.method,ii):At(new yr.ResponseError(yr.ErrorCodes.InternalError,`Request ${de.method} failed unexpectedly without providing any details.`),de.method,ii)}):(S.delete(Or),Ve(Gr,de.method,ii)):(S.delete(Or),vt(Gr,de.method,ii))}catch(Gr){S.delete(Or),Gr instanceof yr.ResponseError?Ve(Gr,de.method,ii):Gr&&xo.string(Gr.message)?At(new yr.ResponseError(yr.ErrorCodes.InternalError,`Request ${de.method} failed with message: ${Gr.message}`),de.method,ii):At(new yr.ResponseError(yr.ErrorCodes.InternalError,`Request ${de.method} failed unexpectedly without providing any details.`),de.method,ii)}}else At(new yr.ResponseError(yr.ErrorCodes.MethodNotFound,`Unhandled method ${de.method}`),de.method,ii)}s(Hr,"handleRequest");function Dn(de){if(!ie())if(de.id===null)de.error?o.error(`Received response message without id: Error is: 
${JSON.stringify(de.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{let Ve=de.id,At=w.get(Ve);if(xn(de,At),At!==void 0){w.delete(Ve);try{if(de.error){let vt=de.error;At.reject(new yr.ResponseError(vt.code,vt.message,vt.data))}else if(de.result!==void 0)At.resolve(de.result);else throw new Error("Should never happen.")}catch(vt){vt.message?o.error(`Response handler '${At.method}' failed with message: ${vt.message}`):o.error(`Response handler '${At.method}' failed unexpectedly.`)}}}}s(Dn,"handleResponse");function br(de){if(ie())return;let Ve,At;if(de.method===JT.type.method){let vt=de.params.id;_.delete(vt),Mr(de);return}else{let vt=p.get(de.method);vt&&(At=vt.handler,Ve=vt.type)}if(At||h)try{if(Mr(de),At)if(de.params===void 0)Ve!==void 0&&Ve.numberOfParams!==0&&Ve.parameterStructures!==yr.ParameterStructures.byName&&o.error(`Notification ${de.method} defines ${Ve.numberOfParams} params but received none.`),At();else if(Array.isArray(de.params)){let vt=de.params;de.method===jT.type.method&&vt.length===2&&GO.is(vt[0])?At({token:vt[0],value:vt[1]}):(Ve!==void 0&&(Ve.parameterStructures===yr.ParameterStructures.byName&&o.error(`Notification ${de.method} defines parameters by name but received parameters by position`),Ve.numberOfParams!==de.params.length&&o.error(`Notification ${de.method} defines ${Ve.numberOfParams} params but received ${vt.length} arguments`)),At(...vt))}else Ve!==void 0&&Ve.parameterStructures===yr.ParameterStructures.byPosition&&o.error(`Notification ${de.method} defines parameters by position but received parameters by name`),At(de.params);else h&&h(de.method,de.params)}catch(vt){vt.message?o.error(`Notification handler '${de.method}' failed with message: ${vt.message}`):o.error(`Notification handler '${de.method}' failed unexpectedly.`)}else oe.fire(de)}s(br,"handleNotification");function le(de){if(!de){o.error("Received empty message.");return}o.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(de,null,4)}`);let Ve=de;if(xo.string(Ve.id)||xo.number(Ve.id)){let At=Ve.id,vt=w.get(At);vt&&vt.reject(new Error("The received response has neither a result nor an error property."))}}s(le,"handleInvalidMessage");function Xe(de){if(de!=null)switch(D){case ci.Verbose:return JSON.stringify(de,null,4);case ci.Compact:return JSON.stringify(de);default:return}}s(Xe,"stringifyTrace");function ge(de){if(!(D===ci.Off||!P))if(N===Nc.Text){let Ve;(D===ci.Verbose||D===ci.Compact)&&de.params&&(Ve=`Params: ${Xe(de.params)}

`),P.log(`Sending request '${de.method} - (${de.id})'.`,Ve)}else qr("send-request",de)}s(ge,"traceSendingRequest");function ft(de){if(!(D===ci.Off||!P))if(N===Nc.Text){let Ve;(D===ci.Verbose||D===ci.Compact)&&(de.params?Ve=`Params: ${Xe(de.params)}

`:Ve=`No parameters provided.

`),P.log(`Sending notification '${de.method}'.`,Ve)}else qr("send-notification",de)}s(ft,"traceSendingNotification");function st(de,Ve,At){if(!(D===ci.Off||!P))if(N===Nc.Text){let vt;(D===ci.Verbose||D===ci.Compact)&&(de.error&&de.error.data?vt=`Error data: ${Xe(de.error.data)}

`:de.result?vt=`Result: ${Xe(de.result)}

`:de.error===void 0&&(vt=`No result returned.

`)),P.log(`Sending response '${Ve} - (${de.id})'. Processing request took ${Date.now()-At}ms`,vt)}else qr("send-response",de)}s(st,"traceSendingResponse");function Ye(de){if(!(D===ci.Off||!P))if(N===Nc.Text){let Ve;(D===ci.Verbose||D===ci.Compact)&&de.params&&(Ve=`Params: ${Xe(de.params)}

`),P.log(`Received request '${de.method} - (${de.id})'.`,Ve)}else qr("receive-request",de)}s(Ye,"traceReceivedRequest");function Mr(de){if(!(D===ci.Off||!P||de.method===k6.type.method))if(N===Nc.Text){let Ve;(D===ci.Verbose||D===ci.Compact)&&(de.params?Ve=`Params: ${Xe(de.params)}

`:Ve=`No parameters provided.

`),P.log(`Received notification '${de.method}'.`,Ve)}else qr("receive-notification",de)}s(Mr,"traceReceivedNotification");function xn(de,Ve){if(!(D===ci.Off||!P))if(N===Nc.Text){let At;if((D===ci.Verbose||D===ci.Compact)&&(de.error&&de.error.data?At=`Error data: ${Xe(de.error.data)}

`:de.result?At=`Result: ${Xe(de.result)}

`:de.error===void 0&&(At=`No result returned.

`)),Ve){let vt=de.error?` Request failed: ${de.error.message} (${de.error.code}).`:"";P.log(`Received response '${Ve.method} - (${de.id})' in ${Date.now()-Ve.timerStart}ms.${vt}`,At)}else P.log(`Received response ${de.id} without active response promise.`,At)}else qr("receive-response",de)}s(xn,"traceReceivedResponse");function qr(de,Ve){if(!P||D===ci.Off)return;let At={isLSPMessage:!0,type:de,message:Ve,timestamp:Date.now()};P.log(At)}s(qr,"logLSPMessage");function Jt(){if(te())throw new I2(KT.Closed,"Connection is closed.");if(ie())throw new I2(KT.Disposed,"Connection is disposed.")}s(Jt,"throwIfClosedOrDisposed");function gi(){if(re())throw new I2(KT.AlreadyListening,"Connection is already listening")}s(gi,"throwIfListening");function Yo(){if(!re())throw new Error("Call listen() first.")}s(Yo,"throwIfNotListening");function Mn(de){return de===void 0?null:de}s(Mn,"undefinedToNull");function $o(de){if(de!==null)return de}s($o,"nullToUndefined");function Xt(de){return de!=null&&!Array.isArray(de)&&typeof de=="object"}s(Xt,"isNamedParam");function mo(de,Ve){switch(de){case yr.ParameterStructures.auto:return Xt(Ve)?$o(Ve):[Mn(Ve)];case yr.ParameterStructures.byName:if(!Xt(Ve))throw new Error("Received parameters by name but param is not an object literal.");return $o(Ve);case yr.ParameterStructures.byPosition:return[Mn(Ve)];default:throw new Error(`Unknown parameter structure ${de.toString()}`)}}s(mo,"computeSingleParam");function ko(de,Ve){let At,vt=de.numberOfParams;switch(vt){case 0:At=void 0;break;case 1:At=mo(de.parameterStructures,Ve[0]);break;default:At=[];for(let $r=0;$r<Ve.length&&$r<vt;$r++)At.push(Mn(Ve[$r]));if(Ve.length<vt)for(let $r=Ve.length;$r<vt;$r++)At.push(null);break}return At}s(ko,"computeMessageParams");let ua={sendNotification:s((de,...Ve)=>{Jt();let At,vt;if(xo.string(de)){At=de;let Tr=Ve[0],Kn=0,ii=yr.ParameterStructures.auto;yr.ParameterStructures.is(Tr)&&(Kn=1,ii=Tr);let Or=Ve.length,zr=Or-Kn;switch(zr){case 0:vt=void 0;break;case 1:vt=mo(ii,Ve[Kn]);break;default:if(ii===yr.ParameterStructures.byName)throw new Error(`Received ${zr} parameters for 'by Name' notification parameter structure.`);vt=Ve.slice(Kn,Or).map(Gr=>Mn(Gr));break}}else{let Tr=Ve;At=de.method,vt=ko(de,Tr)}let $r={jsonrpc:u,method:At,params:vt};return ft($r),e.write($r).catch(Tr=>{throw o.error("Sending notification failed."),Tr})},"sendNotification"),onNotification:s((de,Ve)=>{Jt();let At;return xo.func(de)?h=de:Ve&&(xo.string(de)?(At=de,p.set(de,{type:void 0,handler:Ve})):(At=de.method,p.set(de.method,{type:de,handler:Ve}))),{dispose:s(()=>{At!==void 0?p.delete(At):h=void 0},"dispose")}},"onNotification"),onProgress:s((de,Ve,At)=>{if(y.has(Ve))throw new Error(`Progress handler for token ${Ve} already registered`);return y.set(Ve,At),{dispose:s(()=>{y.delete(Ve)},"dispose")}},"onProgress"),sendProgress:s((de,Ve,At)=>ua.sendNotification(jT.type,{token:Ve,value:At}),"sendProgress"),onUnhandledProgress:Ae.event,sendRequest:s((de,...Ve)=>{Jt(),Yo();let At,vt,$r;if(xo.string(de)){At=de;let Or=Ve[0],zr=Ve[Ve.length-1],Gr=0,di=yr.ParameterStructures.auto;yr.ParameterStructures.is(Or)&&(Gr=1,di=Or);let Vi=Ve.length;qO.CancellationToken.is(zr)&&(Vi=Vi-1,$r=zr);let Do=Vi-Gr;switch(Do){case 0:vt=void 0;break;case 1:vt=mo(di,Ve[Gr]);break;default:if(di===yr.ParameterStructures.byName)throw new Error(`Received ${Do} parameters for 'by Name' request parameter structure.`);vt=Ve.slice(Gr,Vi).map(vc=>Mn(vc));break}}else{let Or=Ve;At=de.method,vt=ko(de,Or);let zr=de.numberOfParams;$r=qO.CancellationToken.is(Or[zr])?Or[zr]:void 0}let Tr=a++,Kn;$r&&(Kn=$r.onCancellationRequested(()=>{let Or=K.sender.sendCancellation(ua,Tr);return Or===void 0?(o.log(`Received no promise from cancellation strategy when cancelling id ${Tr}`),Promise.resolve()):Or.catch(()=>{o.log(`Sending cancellation messages for id ${Tr} failed`)})}));let ii={jsonrpc:u,id:Tr,method:At,params:vt};return ge(ii),typeof K.sender.enableCancellation=="function"&&K.sender.enableCancellation(ii),new Promise(async(Or,zr)=>{let Gr=s(Do=>{Or(Do),K.sender.cleanup(Tr),Kn?.dispose()},"resolveWithCleanup"),di=s(Do=>{zr(Do),K.sender.cleanup(Tr),Kn?.dispose()},"rejectWithCleanup"),Vi={method:At,timerStart:Date.now(),resolve:Gr,reject:di};try{await e.write(ii),w.set(Tr,Vi)}catch(Do){throw o.error("Sending request failed."),Vi.reject(new yr.ResponseError(yr.ErrorCodes.MessageWriteError,Do.message?Do.message:"Unknown reason")),Do}})},"sendRequest"),onRequest:s((de,Ve)=>{Jt();let At=null;return WO.is(de)?(At=void 0,d=de):xo.string(de)?(At=null,Ve!==void 0&&(At=de,A.set(de,{handler:Ve,type:void 0}))):Ve!==void 0&&(At=de.method,A.set(de.method,{type:de,handler:Ve})),{dispose:s(()=>{At!==null&&(At!==void 0?A.delete(At):d=void 0)},"dispose")}},"onRequest"),hasPendingResponse:s(()=>w.size>0,"hasPendingResponse"),trace:s(async(de,Ve,At)=>{let vt=!1,$r=Nc.Text;At!==void 0&&(xo.boolean(At)?vt=At:(vt=At.sendNotification||!1,$r=At.traceFormat||Nc.Text)),D=de,N=$r,D===ci.Off?P=void 0:P=Ve,vt&&!te()&&!ie()&&await ua.sendNotification(YO.type,{value:ci.toString(de)})},"trace"),onError:$.event,onClose:ne.event,onUnhandledNotification:oe.event,onDispose:Y.event,end:s(()=>{e.end()},"end"),dispose:s(()=>{if(ie())return;O=qu.Disposed,Y.fire(void 0);let de=new yr.ResponseError(yr.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Ve of w.values())Ve.reject(de);w=new Map,S=new Map,_=new Set,v=new Pre.LinkedMap,xo.func(e.dispose)&&e.dispose(),xo.func(t.dispose)&&t.dispose()},"dispose"),listen:s(()=>{Jt(),gi(),O=qu.Listening,t.listen(Vt)},"listen"),inspect:s(()=>{(0,Qre.default)().console.log("inspect")},"inspect")};return ua.onNotification(k6.type,de=>{if(D===ci.Off||!P)return;let Ve=D===ci.Verbose||D===ci.Compact;P.log(de.message,Ve?de.verbose:void 0)}),ua.onNotification(jT.type,de=>{let Ve=y.get(de.token);Ve?Ve(de.value):Ae.fire(de)}),ua}s($8e,"createMessageConnection");Vr.createMessageConnection=$8e});var L6=q(ze=>{"use strict";f();Object.defineProperty(ze,"__esModule",{value:!0});ze.ProgressType=ze.ProgressToken=ze.createMessageConnection=ze.NullLogger=ze.ConnectionOptions=ze.ConnectionStrategy=ze.AbstractMessageBuffer=ze.WriteableStreamMessageWriter=ze.AbstractMessageWriter=ze.MessageWriter=ze.ReadableStreamMessageReader=ze.AbstractMessageReader=ze.MessageReader=ze.SharedArrayReceiverStrategy=ze.SharedArraySenderStrategy=ze.CancellationToken=ze.CancellationTokenSource=ze.Emitter=ze.Event=ze.Disposable=ze.LRUCache=ze.Touch=ze.LinkedMap=ze.ParameterStructures=ze.NotificationType9=ze.NotificationType8=ze.NotificationType7=ze.NotificationType6=ze.NotificationType5=ze.NotificationType4=ze.NotificationType3=ze.NotificationType2=ze.NotificationType1=ze.NotificationType0=ze.NotificationType=ze.ErrorCodes=ze.ResponseError=ze.RequestType9=ze.RequestType8=ze.RequestType7=ze.RequestType6=ze.RequestType5=ze.RequestType4=ze.RequestType3=ze.RequestType2=ze.RequestType1=ze.RequestType0=ze.RequestType=ze.Message=ze.RAL=void 0;ze.MessageStrategy=ze.CancellationStrategy=ze.CancellationSenderStrategy=ze.CancellationReceiverStrategy=ze.ConnectionError=ze.ConnectionErrors=ze.LogTraceNotification=ze.SetTraceNotification=ze.TraceFormat=ze.TraceValues=ze.Trace=void 0;var Pi=EO();Object.defineProperty(ze,"Message",{enumerable:!0,get:s(function(){return Pi.Message},"get")});Object.defineProperty(ze,"RequestType",{enumerable:!0,get:s(function(){return Pi.RequestType},"get")});Object.defineProperty(ze,"RequestType0",{enumerable:!0,get:s(function(){return Pi.RequestType0},"get")});Object.defineProperty(ze,"RequestType1",{enumerable:!0,get:s(function(){return Pi.RequestType1},"get")});Object.defineProperty(ze,"RequestType2",{enumerable:!0,get:s(function(){return Pi.RequestType2},"get")});Object.defineProperty(ze,"RequestType3",{enumerable:!0,get:s(function(){return Pi.RequestType3},"get")});Object.defineProperty(ze,"RequestType4",{enumerable:!0,get:s(function(){return Pi.RequestType4},"get")});Object.defineProperty(ze,"RequestType5",{enumerable:!0,get:s(function(){return Pi.RequestType5},"get")});Object.defineProperty(ze,"RequestType6",{enumerable:!0,get:s(function(){return Pi.RequestType6},"get")});Object.defineProperty(ze,"RequestType7",{enumerable:!0,get:s(function(){return Pi.RequestType7},"get")});Object.defineProperty(ze,"RequestType8",{enumerable:!0,get:s(function(){return Pi.RequestType8},"get")});Object.defineProperty(ze,"RequestType9",{enumerable:!0,get:s(function(){return Pi.RequestType9},"get")});Object.defineProperty(ze,"ResponseError",{enumerable:!0,get:s(function(){return Pi.ResponseError},"get")});Object.defineProperty(ze,"ErrorCodes",{enumerable:!0,get:s(function(){return Pi.ErrorCodes},"get")});Object.defineProperty(ze,"NotificationType",{enumerable:!0,get:s(function(){return Pi.NotificationType},"get")});Object.defineProperty(ze,"NotificationType0",{enumerable:!0,get:s(function(){return Pi.NotificationType0},"get")});Object.defineProperty(ze,"NotificationType1",{enumerable:!0,get:s(function(){return Pi.NotificationType1},"get")});Object.defineProperty(ze,"NotificationType2",{enumerable:!0,get:s(function(){return Pi.NotificationType2},"get")});Object.defineProperty(ze,"NotificationType3",{enumerable:!0,get:s(function(){return Pi.NotificationType3},"get")});Object.defineProperty(ze,"NotificationType4",{enumerable:!0,get:s(function(){return Pi.NotificationType4},"get")});Object.defineProperty(ze,"NotificationType5",{enumerable:!0,get:s(function(){return Pi.NotificationType5},"get")});Object.defineProperty(ze,"NotificationType6",{enumerable:!0,get:s(function(){return Pi.NotificationType6},"get")});Object.defineProperty(ze,"NotificationType7",{enumerable:!0,get:s(function(){return Pi.NotificationType7},"get")});Object.defineProperty(ze,"NotificationType8",{enumerable:!0,get:s(function(){return Pi.NotificationType8},"get")});Object.defineProperty(ze,"NotificationType9",{enumerable:!0,get:s(function(){return Pi.NotificationType9},"get")});Object.defineProperty(ze,"ParameterStructures",{enumerable:!0,get:s(function(){return Pi.ParameterStructures},"get")});var jO=xO();Object.defineProperty(ze,"LinkedMap",{enumerable:!0,get:s(function(){return jO.LinkedMap},"get")});Object.defineProperty(ze,"LRUCache",{enumerable:!0,get:s(function(){return jO.LRUCache},"get")});Object.defineProperty(ze,"Touch",{enumerable:!0,get:s(function(){return jO.Touch},"get")});var z8e=vre();Object.defineProperty(ze,"Disposable",{enumerable:!0,get:s(function(){return z8e.Disposable},"get")});var Ore=g2();Object.defineProperty(ze,"Event",{enumerable:!0,get:s(function(){return Ore.Event},"get")});Object.defineProperty(ze,"Emitter",{enumerable:!0,get:s(function(){return Ore.Emitter},"get")});var Ure=_6();Object.defineProperty(ze,"CancellationTokenSource",{enumerable:!0,get:s(function(){return Ure.CancellationTokenSource},"get")});Object.defineProperty(ze,"CancellationToken",{enumerable:!0,get:s(function(){return Ure.CancellationToken},"get")});var Hre=Tre();Object.defineProperty(ze,"SharedArraySenderStrategy",{enumerable:!0,get:s(function(){return Hre.SharedArraySenderStrategy},"get")});Object.defineProperty(ze,"SharedArrayReceiverStrategy",{enumerable:!0,get:s(function(){return Hre.SharedArrayReceiverStrategy},"get")});var KO=wre();Object.defineProperty(ze,"MessageReader",{enumerable:!0,get:s(function(){return KO.MessageReader},"get")});Object.defineProperty(ze,"AbstractMessageReader",{enumerable:!0,get:s(function(){return KO.AbstractMessageReader},"get")});Object.defineProperty(ze,"ReadableStreamMessageReader",{enumerable:!0,get:s(function(){return KO.ReadableStreamMessageReader},"get")});var JO=Dre();Object.defineProperty(ze,"MessageWriter",{enumerable:!0,get:s(function(){return JO.MessageWriter},"get")});Object.defineProperty(ze,"AbstractMessageWriter",{enumerable:!0,get:s(function(){return JO.AbstractMessageWriter},"get")});Object.defineProperty(ze,"WriteableStreamMessageWriter",{enumerable:!0,get:s(function(){return JO.WriteableStreamMessageWriter},"get")});var j8e=Nre();Object.defineProperty(ze,"AbstractMessageBuffer",{enumerable:!0,get:s(function(){return j8e.AbstractMessageBuffer},"get")});var ga=Mre();Object.defineProperty(ze,"ConnectionStrategy",{enumerable:!0,get:s(function(){return ga.ConnectionStrategy},"get")});Object.defineProperty(ze,"ConnectionOptions",{enumerable:!0,get:s(function(){return ga.ConnectionOptions},"get")});Object.defineProperty(ze,"NullLogger",{enumerable:!0,get:s(function(){return ga.NullLogger},"get")});Object.defineProperty(ze,"createMessageConnection",{enumerable:!0,get:s(function(){return ga.createMessageConnection},"get")});Object.defineProperty(ze,"ProgressToken",{enumerable:!0,get:s(function(){return ga.ProgressToken},"get")});Object.defineProperty(ze,"ProgressType",{enumerable:!0,get:s(function(){return ga.ProgressType},"get")});Object.defineProperty(ze,"Trace",{enumerable:!0,get:s(function(){return ga.Trace},"get")});Object.defineProperty(ze,"TraceValues",{enumerable:!0,get:s(function(){return ga.TraceValues},"get")});Object.defineProperty(ze,"TraceFormat",{enumerable:!0,get:s(function(){return ga.TraceFormat},"get")});Object.defineProperty(ze,"SetTraceNotification",{enumerable:!0,get:s(function(){return ga.SetTraceNotification},"get")});Object.defineProperty(ze,"LogTraceNotification",{enumerable:!0,get:s(function(){return ga.LogTraceNotification},"get")});Object.defineProperty(ze,"ConnectionErrors",{enumerable:!0,get:s(function(){return ga.ConnectionErrors},"get")});Object.defineProperty(ze,"ConnectionError",{enumerable:!0,get:s(function(){return ga.ConnectionError},"get")});Object.defineProperty(ze,"CancellationReceiverStrategy",{enumerable:!0,get:s(function(){return ga.CancellationReceiverStrategy},"get")});Object.defineProperty(ze,"CancellationSenderStrategy",{enumerable:!0,get:s(function(){return ga.CancellationSenderStrategy},"get")});Object.defineProperty(ze,"CancellationStrategy",{enumerable:!0,get:s(function(){return ga.CancellationStrategy},"get")});Object.defineProperty(ze,"MessageStrategy",{enumerable:!0,get:s(function(){return ga.MessageStrategy},"get")});var K8e=Pm();ze.RAL=K8e.default});var Vre=q(tU=>{"use strict";f();Object.defineProperty(tU,"__esModule",{value:!0});var qre=require("util"),jA=L6(),M6=class t extends jA.AbstractMessageBuffer{static{s(this,"MessageBuffer")}constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new qre.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};M6.emptyBuffer=Buffer.allocUnsafe(0);var XO=class{static{s(this,"ReadableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),jA.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),jA.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),jA.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),jA.Disposable.create(()=>this.stream.off("data",e))}},ZO=class{static{s(this,"WritableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),jA.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),jA.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),jA.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,o)=>{let a=s(c=>{c==null?n():o(c)},"callback");typeof e=="string"?this.stream.write(e,r,a):this.stream.write(e,a)})}end(){this.stream.end()}},Gre=Object.freeze({messageBuffer:Object.freeze({create:s(t=>new M6(t),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:s((t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:s((t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new qre.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:s(t=>new XO(t),"asReadableStream"),asWritableStream:s(t=>new ZO(t),"asWritableStream")}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:s(()=>clearTimeout(n),"dispose")}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:s(()=>clearImmediate(r),"dispose")}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:s(()=>clearInterval(n),"dispose")}}})});function eU(){return Gre}s(eU,"RIL");(function(t){function e(){jA.RAL.install(Gre)}s(e,"install"),t.install=e})(eU||(eU={}));tU.default=eU});var Qy=q(Qn=>{"use strict";f();var J8e=Qn&&Qn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),X8e=Qn&&Qn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&J8e(e,t,r)};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.createMessageConnection=Qn.createServerSocketTransport=Qn.createClientSocketTransport=Qn.createServerPipeTransport=Qn.createClientPipeTransport=Qn.generateRandomPipeName=Qn.StreamMessageWriter=Qn.StreamMessageReader=Qn.SocketMessageWriter=Qn.SocketMessageReader=Qn.PortMessageWriter=Qn.PortMessageReader=Qn.IPCMessageWriter=Qn.IPCMessageReader=void 0;var x2=Vre();x2.default.install();var Wre=require("path"),Z8e=require("os"),eBe=require("crypto"),H6=require("net"),Qc=L6();X8e(L6(),Qn);var rU=class extends Qc.AbstractMessageReader{static{s(this,"IPCMessageReader")}constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Qc.Disposable.create(()=>this.process.off("message",e))}};Qn.IPCMessageReader=rU;var nU=class extends Qc.AbstractMessageWriter{static{s(this,"IPCMessageWriter")}constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Qn.IPCMessageWriter=nU;var iU=class extends Qc.AbstractMessageReader{static{s(this,"PortMessageReader")}constructor(e){super(),this.onData=new Qc.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};Qn.PortMessageReader=iU;var oU=class extends Qc.AbstractMessageWriter{static{s(this,"PortMessageWriter")}constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Qn.PortMessageWriter=oU;var Dy=class extends Qc.ReadableStreamMessageReader{static{s(this,"SocketMessageReader")}constructor(e,r="utf-8"){super((0,x2.default)().stream.asReadableStream(e),r)}};Qn.SocketMessageReader=Dy;var Ny=class extends Qc.WriteableStreamMessageWriter{static{s(this,"SocketMessageWriter")}constructor(e,r){super((0,x2.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Qn.SocketMessageWriter=Ny;var O6=class extends Qc.ReadableStreamMessageReader{static{s(this,"StreamMessageReader")}constructor(e,r){super((0,x2.default)().stream.asReadableStream(e),r)}};Qn.StreamMessageReader=O6;var U6=class extends Qc.WriteableStreamMessageWriter{static{s(this,"StreamMessageWriter")}constructor(e,r){super((0,x2.default)().stream.asWritableStream(e),r)}};Qn.StreamMessageWriter=U6;var Yre=process.env.XDG_RUNTIME_DIR,tBe=new Map([["linux",107],["darwin",103]]);function rBe(){let t=(0,eBe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Yre?e=Wre.join(Yre,`vscode-ipc-${t}.sock`):e=Wre.join(Z8e.tmpdir(),`vscode-${t}.sock`);let r=tBe.get(process.platform);return r!==void 0&&e.length>r&&(0,x2.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}s(rBe,"generateRandomPipeName");Qn.generateRandomPipeName=rBe;function nBe(t,e="utf-8"){let r,n=new Promise((o,a)=>{r=o});return new Promise((o,a)=>{let c=(0,H6.createServer)(l=>{c.close(),r([new Dy(l,e),new Ny(l,e)])});c.on("error",a),c.listen(t,()=>{c.removeListener("error",a),o({onConnected:s(()=>n,"onConnected")})})})}s(nBe,"createClientPipeTransport");Qn.createClientPipeTransport=nBe;function iBe(t,e="utf-8"){let r=(0,H6.createConnection)(t);return[new Dy(r,e),new Ny(r,e)]}s(iBe,"createServerPipeTransport");Qn.createServerPipeTransport=iBe;function oBe(t,e="utf-8"){let r,n=new Promise((o,a)=>{r=o});return new Promise((o,a)=>{let c=(0,H6.createServer)(l=>{c.close(),r([new Dy(l,e),new Ny(l,e)])});c.on("error",a),c.listen(t,"127.0.0.1",()=>{c.removeListener("error",a),o({onConnected:s(()=>n,"onConnected")})})})}s(oBe,"createClientSocketTransport");Qn.createClientSocketTransport=oBe;function sBe(t,e="utf-8"){let r=(0,H6.createConnection)(t,"127.0.0.1");return[new Dy(r,e),new Ny(r,e)]}s(sBe,"createServerSocketTransport");Qn.createServerSocketTransport=sBe;function aBe(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}s(aBe,"isReadableStream");function cBe(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}s(cBe,"isWritableStream");function lBe(t,e,r,n){r||(r=Qc.NullLogger);let o=aBe(t)?new O6(t):t,a=cBe(e)?new U6(e):e;return Qc.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Qc.createMessageConnection)(o,a,r,n)}s(lBe,"createMessageConnection");Qn.createMessageConnection=lBe});var sU=q((G2t,$re)=>{"use strict";f();$re.exports=Qy()});var G6=q((zre,q6)=>{f();(function(t){if(typeof q6=="object"&&typeof q6.exports=="object"){var e=t(require,zre);e!==void 0&&(q6.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(M){function fe(Ce){return typeof Ce=="string"}s(fe,"is"),M.is=fe})(r||(e.DocumentUri=r={}));var n;(function(M){function fe(Ce){return typeof Ce=="string"}s(fe,"is"),M.is=fe})(n||(e.URI=n={}));var o;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function fe(Ce){return typeof Ce=="number"&&M.MIN_VALUE<=Ce&&Ce<=M.MAX_VALUE}s(fe,"is"),M.is=fe})(o||(e.integer=o={}));var a;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function fe(Ce){return typeof Ce=="number"&&M.MIN_VALUE<=Ce&&Ce<=M.MAX_VALUE}s(fe,"is"),M.is=fe})(a||(e.uinteger=a={}));var c;(function(M){function fe(X,L){return X===Number.MAX_VALUE&&(X=a.MAX_VALUE),L===Number.MAX_VALUE&&(L=a.MAX_VALUE),{line:X,character:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.uinteger(L.line)&&_e.uinteger(L.character)}s(Ce,"is"),M.is=Ce})(c||(e.Position=c={}));var l;(function(M){function fe(X,L,Se,Ze){if(_e.uinteger(X)&&_e.uinteger(L)&&_e.uinteger(Se)&&_e.uinteger(Ze))return{start:c.create(X,L),end:c.create(Se,Ze)};if(c.is(X)&&c.is(L))return{start:X,end:L};throw new Error("Range#create called with invalid arguments[".concat(X,", ").concat(L,", ").concat(Se,", ").concat(Ze,"]"))}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&c.is(L.start)&&c.is(L.end)}s(Ce,"is"),M.is=Ce})(l||(e.Range=l={}));var u;(function(M){function fe(X,L){return{uri:X,range:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&l.is(L.range)&&(_e.string(L.uri)||_e.undefined(L.uri))}s(Ce,"is"),M.is=Ce})(u||(e.Location=u={}));var d;(function(M){function fe(X,L,Se,Ze){return{targetUri:X,targetRange:L,targetSelectionRange:Se,originSelectionRange:Ze}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&l.is(L.targetRange)&&_e.string(L.targetUri)&&l.is(L.targetSelectionRange)&&(l.is(L.originSelectionRange)||_e.undefined(L.originSelectionRange))}s(Ce,"is"),M.is=Ce})(d||(e.LocationLink=d={}));var A;(function(M){function fe(X,L,Se,Ze){return{red:X,green:L,blue:Se,alpha:Ze}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.numberRange(L.red,0,1)&&_e.numberRange(L.green,0,1)&&_e.numberRange(L.blue,0,1)&&_e.numberRange(L.alpha,0,1)}s(Ce,"is"),M.is=Ce})(A||(e.Color=A={}));var h;(function(M){function fe(X,L){return{range:X,color:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&l.is(L.range)&&A.is(L.color)}s(Ce,"is"),M.is=Ce})(h||(e.ColorInformation=h={}));var p;(function(M){function fe(X,L,Se){return{label:X,textEdit:L,additionalTextEdits:Se}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.string(L.label)&&(_e.undefined(L.textEdit)||P.is(L))&&(_e.undefined(L.additionalTextEdits)||_e.typedArray(L.additionalTextEdits,P.is))}s(Ce,"is"),M.is=Ce})(p||(e.ColorPresentation=p={}));var y;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(y||(e.FoldingRangeKind=y={}));var E;(function(M){function fe(X,L,Se,Ze,nr,yi){var Nn={startLine:X,endLine:L};return _e.defined(Se)&&(Nn.startCharacter=Se),_e.defined(Ze)&&(Nn.endCharacter=Ze),_e.defined(nr)&&(Nn.kind=nr),_e.defined(yi)&&(Nn.collapsedText=yi),Nn}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.uinteger(L.startLine)&&_e.uinteger(L.startLine)&&(_e.undefined(L.startCharacter)||_e.uinteger(L.startCharacter))&&(_e.undefined(L.endCharacter)||_e.uinteger(L.endCharacter))&&(_e.undefined(L.kind)||_e.string(L.kind))}s(Ce,"is"),M.is=Ce})(E||(e.FoldingRange=E={}));var v;(function(M){function fe(X,L){return{location:X,message:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&u.is(L.location)&&_e.string(L.message)}s(Ce,"is"),M.is=Ce})(v||(e.DiagnosticRelatedInformation=v={}));var w;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(w||(e.DiagnosticSeverity=w={}));var _;(function(M){M.Unnecessary=1,M.Deprecated=2})(_||(e.DiagnosticTag=_={}));var S;(function(M){function fe(Ce){var X=Ce;return _e.objectLiteral(X)&&_e.string(X.href)}s(fe,"is"),M.is=fe})(S||(e.CodeDescription=S={}));var D;(function(M){function fe(X,L,Se,Ze,nr,yi){var Nn={range:X,message:L};return _e.defined(Se)&&(Nn.severity=Se),_e.defined(Ze)&&(Nn.code=Ze),_e.defined(nr)&&(Nn.source=nr),_e.defined(yi)&&(Nn.relatedInformation=yi),Nn}s(fe,"create"),M.create=fe;function Ce(X){var L,Se=X;return _e.defined(Se)&&l.is(Se.range)&&_e.string(Se.message)&&(_e.number(Se.severity)||_e.undefined(Se.severity))&&(_e.integer(Se.code)||_e.string(Se.code)||_e.undefined(Se.code))&&(_e.undefined(Se.codeDescription)||_e.string((L=Se.codeDescription)===null||L===void 0?void 0:L.href))&&(_e.string(Se.source)||_e.undefined(Se.source))&&(_e.undefined(Se.relatedInformation)||_e.typedArray(Se.relatedInformation,v.is))}s(Ce,"is"),M.is=Ce})(D||(e.Diagnostic=D={}));var N;(function(M){function fe(X,L){for(var Se=[],Ze=2;Ze<arguments.length;Ze++)Se[Ze-2]=arguments[Ze];var nr={title:X,command:L};return _e.defined(Se)&&Se.length>0&&(nr.arguments=Se),nr}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.title)&&_e.string(L.command)}s(Ce,"is"),M.is=Ce})(N||(e.Command=N={}));var P;(function(M){function fe(Se,Ze){return{range:Se,newText:Ze}}s(fe,"replace"),M.replace=fe;function Ce(Se,Ze){return{range:{start:Se,end:Se},newText:Ze}}s(Ce,"insert"),M.insert=Ce;function X(Se){return{range:Se,newText:""}}s(X,"del"),M.del=X;function L(Se){var Ze=Se;return _e.objectLiteral(Ze)&&_e.string(Ze.newText)&&l.is(Ze.range)}s(L,"is"),M.is=L})(P||(e.TextEdit=P={}));var O;(function(M){function fe(X,L,Se){var Ze={label:X};return L!==void 0&&(Ze.needsConfirmation=L),Se!==void 0&&(Ze.description=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.string(L.label)&&(_e.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(_e.string(L.description)||L.description===void 0)}s(Ce,"is"),M.is=Ce})(O||(e.ChangeAnnotation=O={}));var $;(function(M){function fe(Ce){var X=Ce;return _e.string(X)}s(fe,"is"),M.is=fe})($||(e.ChangeAnnotationIdentifier=$={}));var ne;(function(M){function fe(Se,Ze,nr){return{range:Se,newText:Ze,annotationId:nr}}s(fe,"replace"),M.replace=fe;function Ce(Se,Ze,nr){return{range:{start:Se,end:Se},newText:Ze,annotationId:nr}}s(Ce,"insert"),M.insert=Ce;function X(Se,Ze){return{range:Se,newText:"",annotationId:Ze}}s(X,"del"),M.del=X;function L(Se){var Ze=Se;return P.is(Ze)&&(O.is(Ze.annotationId)||$.is(Ze.annotationId))}s(L,"is"),M.is=L})(ne||(e.AnnotatedTextEdit=ne={}));var oe;(function(M){function fe(X,L){return{textDocument:X,edits:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&te.is(L.textDocument)&&Array.isArray(L.edits)}s(Ce,"is"),M.is=Ce})(oe||(e.TextDocumentEdit=oe={}));var Ae;(function(M){function fe(X,L,Se){var Ze={kind:"create",uri:X};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Ze.options=L),Se!==void 0&&(Ze.annotationId=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&L.kind==="create"&&_e.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||_e.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||_e.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||$.is(L.annotationId))}s(Ce,"is"),M.is=Ce})(Ae||(e.CreateFile=Ae={}));var Y;(function(M){function fe(X,L,Se,Ze){var nr={kind:"rename",oldUri:X,newUri:L};return Se!==void 0&&(Se.overwrite!==void 0||Se.ignoreIfExists!==void 0)&&(nr.options=Se),Ze!==void 0&&(nr.annotationId=Ze),nr}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&L.kind==="rename"&&_e.string(L.oldUri)&&_e.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||_e.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||_e.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||$.is(L.annotationId))}s(Ce,"is"),M.is=Ce})(Y||(e.RenameFile=Y={}));var K;(function(M){function fe(X,L,Se){var Ze={kind:"delete",uri:X};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Ze.options=L),Se!==void 0&&(Ze.annotationId=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&L.kind==="delete"&&_e.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||_e.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||_e.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||$.is(L.annotationId))}s(Ce,"is"),M.is=Ce})(K||(e.DeleteFile=K={}));var xe;(function(M){function fe(Ce){var X=Ce;return X&&(X.changes!==void 0||X.documentChanges!==void 0)&&(X.documentChanges===void 0||X.documentChanges.every(function(L){return _e.string(L.kind)?Ae.is(L)||Y.is(L)||K.is(L):oe.is(L)}))}s(fe,"is"),M.is=fe})(xe||(e.WorkspaceEdit=xe={}));var ce=function(){function M(fe,Ce){this.edits=fe,this.changeAnnotations=Ce}return s(M,"TextEditChangeImpl"),M.prototype.insert=function(fe,Ce,X){var L,Se;if(X===void 0?L=P.insert(fe,Ce):$.is(X)?(Se=X,L=ne.insert(fe,Ce,X)):(this.assertChangeAnnotations(this.changeAnnotations),Se=this.changeAnnotations.manage(X),L=ne.insert(fe,Ce,Se)),this.edits.push(L),Se!==void 0)return Se},M.prototype.replace=function(fe,Ce,X){var L,Se;if(X===void 0?L=P.replace(fe,Ce):$.is(X)?(Se=X,L=ne.replace(fe,Ce,X)):(this.assertChangeAnnotations(this.changeAnnotations),Se=this.changeAnnotations.manage(X),L=ne.replace(fe,Ce,Se)),this.edits.push(L),Se!==void 0)return Se},M.prototype.delete=function(fe,Ce){var X,L;if(Ce===void 0?X=P.del(fe):$.is(Ce)?(L=Ce,X=ne.del(fe,Ce)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(Ce),X=ne.del(fe,L)),this.edits.push(X),L!==void 0)return L},M.prototype.add=function(fe){this.edits.push(fe)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(fe){if(fe===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),J=function(){function M(fe){this._annotations=fe===void 0?Object.create(null):fe,this._counter=0,this._size=0}return s(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:s(function(){return this._size},"get"),enumerable:!1,configurable:!0}),M.prototype.manage=function(fe,Ce){var X;if($.is(fe)?X=fe:(X=this.nextId(),Ce=fe),this._annotations[X]!==void 0)throw new Error("Id ".concat(X," is already in use."));if(Ce===void 0)throw new Error("No annotation provided for id ".concat(X));return this._annotations[X]=Ce,this._size++,X},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),W=function(){function M(fe){var Ce=this;this._textEditChanges=Object.create(null),fe!==void 0?(this._workspaceEdit=fe,fe.documentChanges?(this._changeAnnotations=new J(fe.changeAnnotations),fe.changeAnnotations=this._changeAnnotations.all(),fe.documentChanges.forEach(function(X){if(oe.is(X)){var L=new ce(X.edits,Ce._changeAnnotations);Ce._textEditChanges[X.textDocument.uri]=L}})):fe.changes&&Object.keys(fe.changes).forEach(function(X){var L=new ce(fe.changes[X]);Ce._textEditChanges[X]=L})):this._workspaceEdit={}}return s(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:s(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(fe){if(te.is(fe)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Ce={uri:fe.uri,version:fe.version},X=this._textEditChanges[Ce.uri];if(!X){var L=[],Se={textDocument:Ce,edits:L};this._workspaceEdit.documentChanges.push(Se),X=new ce(L,this._changeAnnotations),this._textEditChanges[Ce.uri]=X}return X}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var X=this._textEditChanges[fe];if(!X){var L=[];this._workspaceEdit.changes[fe]=L,X=new ce(L),this._textEditChanges[fe]=X}return X}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new J,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(fe,Ce,X){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;O.is(Ce)||$.is(Ce)?L=Ce:X=Ce;var Se,Ze;if(L===void 0?Se=Ae.create(fe,X):(Ze=$.is(L)?L:this._changeAnnotations.manage(L),Se=Ae.create(fe,X,Ze)),this._workspaceEdit.documentChanges.push(Se),Ze!==void 0)return Ze},M.prototype.renameFile=function(fe,Ce,X,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Se;O.is(X)||$.is(X)?Se=X:L=X;var Ze,nr;if(Se===void 0?Ze=Y.create(fe,Ce,L):(nr=$.is(Se)?Se:this._changeAnnotations.manage(Se),Ze=Y.create(fe,Ce,L,nr)),this._workspaceEdit.documentChanges.push(Ze),nr!==void 0)return nr},M.prototype.deleteFile=function(fe,Ce,X){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;O.is(Ce)||$.is(Ce)?L=Ce:X=Ce;var Se,Ze;if(L===void 0?Se=K.create(fe,X):(Ze=$.is(L)?L:this._changeAnnotations.manage(L),Se=K.create(fe,X,Ze)),this._workspaceEdit.documentChanges.push(Se),Ze!==void 0)return Ze},M}();e.WorkspaceChange=W;var Z;(function(M){function fe(X){return{uri:X}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.uri)}s(Ce,"is"),M.is=Ce})(Z||(e.TextDocumentIdentifier=Z={}));var re;(function(M){function fe(X,L){return{uri:X,version:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.uri)&&_e.integer(L.version)}s(Ce,"is"),M.is=Ce})(re||(e.VersionedTextDocumentIdentifier=re={}));var te;(function(M){function fe(X,L){return{uri:X,version:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.uri)&&(L.version===null||_e.integer(L.version))}s(Ce,"is"),M.is=Ce})(te||(e.OptionalVersionedTextDocumentIdentifier=te={}));var ie;(function(M){function fe(X,L,Se,Ze){return{uri:X,languageId:L,version:Se,text:Ze}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.uri)&&_e.string(L.languageId)&&_e.integer(L.version)&&_e.string(L.text)}s(Ce,"is"),M.is=Ce})(ie||(e.TextDocumentItem=ie={}));var ue;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function fe(Ce){var X=Ce;return X===M.PlainText||X===M.Markdown}s(fe,"is"),M.is=fe})(ue||(e.MarkupKind=ue={}));var he;(function(M){function fe(Ce){var X=Ce;return _e.objectLiteral(Ce)&&ue.is(X.kind)&&_e.string(X.value)}s(fe,"is"),M.is=fe})(he||(e.MarkupContent=he={}));var Je;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(Je||(e.CompletionItemKind=Je={}));var rt;(function(M){M.PlainText=1,M.Snippet=2})(rt||(e.InsertTextFormat=rt={}));var lt;(function(M){M.Deprecated=1})(lt||(e.CompletionItemTag=lt={}));var Ct;(function(M){function fe(X,L,Se){return{newText:X,insert:L,replace:Se}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&_e.string(L.newText)&&l.is(L.insert)&&l.is(L.replace)}s(Ce,"is"),M.is=Ce})(Ct||(e.InsertReplaceEdit=Ct={}));var Vt;(function(M){M.asIs=1,M.adjustIndentation=2})(Vt||(e.InsertTextMode=Vt={}));var Hr;(function(M){function fe(Ce){var X=Ce;return X&&(_e.string(X.detail)||X.detail===void 0)&&(_e.string(X.description)||X.description===void 0)}s(fe,"is"),M.is=fe})(Hr||(e.CompletionItemLabelDetails=Hr={}));var Dn;(function(M){function fe(Ce){return{label:Ce}}s(fe,"create"),M.create=fe})(Dn||(e.CompletionItem=Dn={}));var br;(function(M){function fe(Ce,X){return{items:Ce||[],isIncomplete:!!X}}s(fe,"create"),M.create=fe})(br||(e.CompletionList=br={}));var le;(function(M){function fe(X){return X.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(fe,"fromPlainText"),M.fromPlainText=fe;function Ce(X){var L=X;return _e.string(L)||_e.objectLiteral(L)&&_e.string(L.language)&&_e.string(L.value)}s(Ce,"is"),M.is=Ce})(le||(e.MarkedString=le={}));var Xe;(function(M){function fe(Ce){var X=Ce;return!!X&&_e.objectLiteral(X)&&(he.is(X.contents)||le.is(X.contents)||_e.typedArray(X.contents,le.is))&&(Ce.range===void 0||l.is(Ce.range))}s(fe,"is"),M.is=fe})(Xe||(e.Hover=Xe={}));var ge;(function(M){function fe(Ce,X){return X?{label:Ce,documentation:X}:{label:Ce}}s(fe,"create"),M.create=fe})(ge||(e.ParameterInformation=ge={}));var ft;(function(M){function fe(Ce,X){for(var L=[],Se=2;Se<arguments.length;Se++)L[Se-2]=arguments[Se];var Ze={label:Ce};return _e.defined(X)&&(Ze.documentation=X),_e.defined(L)?Ze.parameters=L:Ze.parameters=[],Ze}s(fe,"create"),M.create=fe})(ft||(e.SignatureInformation=ft={}));var st;(function(M){M.Text=1,M.Read=2,M.Write=3})(st||(e.DocumentHighlightKind=st={}));var Ye;(function(M){function fe(Ce,X){var L={range:Ce};return _e.number(X)&&(L.kind=X),L}s(fe,"create"),M.create=fe})(Ye||(e.DocumentHighlight=Ye={}));var Mr;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(Mr||(e.SymbolKind=Mr={}));var xn;(function(M){M.Deprecated=1})(xn||(e.SymbolTag=xn={}));var qr;(function(M){function fe(Ce,X,L,Se,Ze){var nr={name:Ce,kind:X,location:{uri:Se,range:L}};return Ze&&(nr.containerName=Ze),nr}s(fe,"create"),M.create=fe})(qr||(e.SymbolInformation=qr={}));var Jt;(function(M){function fe(Ce,X,L,Se){return Se!==void 0?{name:Ce,kind:X,location:{uri:L,range:Se}}:{name:Ce,kind:X,location:{uri:L}}}s(fe,"create"),M.create=fe})(Jt||(e.WorkspaceSymbol=Jt={}));var gi;(function(M){function fe(X,L,Se,Ze,nr,yi){var Nn={name:X,detail:L,kind:Se,range:Ze,selectionRange:nr};return yi!==void 0&&(Nn.children=yi),Nn}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&_e.string(L.name)&&_e.number(L.kind)&&l.is(L.range)&&l.is(L.selectionRange)&&(L.detail===void 0||_e.string(L.detail))&&(L.deprecated===void 0||_e.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}s(Ce,"is"),M.is=Ce})(gi||(e.DocumentSymbol=gi={}));var Yo;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(Yo||(e.CodeActionKind=Yo={}));var Mn;(function(M){M.Invoked=1,M.Automatic=2})(Mn||(e.CodeActionTriggerKind=Mn={}));var $o;(function(M){function fe(X,L,Se){var Ze={diagnostics:X};return L!=null&&(Ze.only=L),Se!=null&&(Ze.triggerKind=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.typedArray(L.diagnostics,D.is)&&(L.only===void 0||_e.typedArray(L.only,_e.string))&&(L.triggerKind===void 0||L.triggerKind===Mn.Invoked||L.triggerKind===Mn.Automatic)}s(Ce,"is"),M.is=Ce})($o||(e.CodeActionContext=$o={}));var Xt;(function(M){function fe(X,L,Se){var Ze={title:X},nr=!0;return typeof L=="string"?(nr=!1,Ze.kind=L):N.is(L)?Ze.command=L:Ze.edit=L,nr&&Se!==void 0&&(Ze.kind=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&_e.string(L.title)&&(L.diagnostics===void 0||_e.typedArray(L.diagnostics,D.is))&&(L.kind===void 0||_e.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||N.is(L.command))&&(L.isPreferred===void 0||_e.boolean(L.isPreferred))&&(L.edit===void 0||xe.is(L.edit))}s(Ce,"is"),M.is=Ce})(Xt||(e.CodeAction=Xt={}));var mo;(function(M){function fe(X,L){var Se={range:X};return _e.defined(L)&&(Se.data=L),Se}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&l.is(L.range)&&(_e.undefined(L.command)||N.is(L.command))}s(Ce,"is"),M.is=Ce})(mo||(e.CodeLens=mo={}));var ko;(function(M){function fe(X,L){return{tabSize:X,insertSpaces:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.uinteger(L.tabSize)&&_e.boolean(L.insertSpaces)}s(Ce,"is"),M.is=Ce})(ko||(e.FormattingOptions=ko={}));var ua;(function(M){function fe(X,L,Se){return{range:X,target:L,data:Se}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&l.is(L.range)&&(_e.undefined(L.target)||_e.string(L.target))}s(Ce,"is"),M.is=Ce})(ua||(e.DocumentLink=ua={}));var de;(function(M){function fe(X,L){return{range:X,parent:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&l.is(L.range)&&(L.parent===void 0||M.is(L.parent))}s(Ce,"is"),M.is=Ce})(de||(e.SelectionRange=de={}));var Ve;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(Ve||(e.SemanticTokenTypes=Ve={}));var At;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(At||(e.SemanticTokenModifiers=At={}));var vt;(function(M){function fe(Ce){var X=Ce;return _e.objectLiteral(X)&&(X.resultId===void 0||typeof X.resultId=="string")&&Array.isArray(X.data)&&(X.data.length===0||typeof X.data[0]=="number")}s(fe,"is"),M.is=fe})(vt||(e.SemanticTokens=vt={}));var $r;(function(M){function fe(X,L){return{range:X,text:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L!=null&&l.is(L.range)&&_e.string(L.text)}s(Ce,"is"),M.is=Ce})($r||(e.InlineValueText=$r={}));var Tr;(function(M){function fe(X,L,Se){return{range:X,variableName:L,caseSensitiveLookup:Se}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L!=null&&l.is(L.range)&&_e.boolean(L.caseSensitiveLookup)&&(_e.string(L.variableName)||L.variableName===void 0)}s(Ce,"is"),M.is=Ce})(Tr||(e.InlineValueVariableLookup=Tr={}));var Kn;(function(M){function fe(X,L){return{range:X,expression:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L!=null&&l.is(L.range)&&(_e.string(L.expression)||L.expression===void 0)}s(Ce,"is"),M.is=Ce})(Kn||(e.InlineValueEvaluatableExpression=Kn={}));var ii;(function(M){function fe(X,L){return{frameId:X,stoppedLocation:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&l.is(X.stoppedLocation)}s(Ce,"is"),M.is=Ce})(ii||(e.InlineValueContext=ii={}));var Or;(function(M){M.Type=1,M.Parameter=2;function fe(Ce){return Ce===1||Ce===2}s(fe,"is"),M.is=fe})(Or||(e.InlayHintKind=Or={}));var zr;(function(M){function fe(X){return{value:X}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&(L.tooltip===void 0||_e.string(L.tooltip)||he.is(L.tooltip))&&(L.location===void 0||u.is(L.location))&&(L.command===void 0||N.is(L.command))}s(Ce,"is"),M.is=Ce})(zr||(e.InlayHintLabelPart=zr={}));var Gr;(function(M){function fe(X,L,Se){var Ze={position:X,label:L};return Se!==void 0&&(Ze.kind=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&c.is(L.position)&&(_e.string(L.label)||_e.typedArray(L.label,zr.is))&&(L.kind===void 0||Or.is(L.kind))&&L.textEdits===void 0||_e.typedArray(L.textEdits,P.is)&&(L.tooltip===void 0||_e.string(L.tooltip)||he.is(L.tooltip))&&(L.paddingLeft===void 0||_e.boolean(L.paddingLeft))&&(L.paddingRight===void 0||_e.boolean(L.paddingRight))}s(Ce,"is"),M.is=Ce})(Gr||(e.InlayHint=Gr={}));var di;(function(M){function fe(Ce){return{kind:"snippet",value:Ce}}s(fe,"createSnippet"),M.createSnippet=fe})(di||(e.StringValue=di={}));var Vi;(function(M){function fe(Ce,X,L,Se){return{insertText:Ce,filterText:X,range:L,command:Se}}s(fe,"create"),M.create=fe})(Vi||(e.InlineCompletionItem=Vi={}));var Do;(function(M){function fe(Ce){return{items:Ce}}s(fe,"create"),M.create=fe})(Do||(e.InlineCompletionList=Do={}));var vc;(function(M){M.Invoked=0,M.Automatic=1})(vc||(e.InlineCompletionTriggerKind=vc={}));var Ff;(function(M){function fe(Ce,X){return{range:Ce,text:X}}s(fe,"create"),M.create=fe})(Ff||(e.SelectedCompletionInfo=Ff={}));var D0;(function(M){function fe(Ce,X){return{triggerKind:Ce,selectedCompletionInfo:X}}s(fe,"create"),M.create=fe})(D0||(e.InlineCompletionContext=D0={}));var Eu;(function(M){function fe(Ce){var X=Ce;return _e.objectLiteral(X)&&n.is(X.uri)&&_e.string(X.name)}s(fe,"is"),M.is=fe})(Eu||(e.WorkspaceFolder=Eu={})),e.EOL=[`
`,`\r
`,"\r"];var as;(function(M){function fe(Se,Ze,nr,yi){return new Iu(Se,Ze,nr,yi)}s(fe,"create"),M.create=fe;function Ce(Se){var Ze=Se;return!!(_e.defined(Ze)&&_e.string(Ze.uri)&&(_e.undefined(Ze.languageId)||_e.string(Ze.languageId))&&_e.uinteger(Ze.lineCount)&&_e.func(Ze.getText)&&_e.func(Ze.positionAt)&&_e.func(Ze.offsetAt))}s(Ce,"is"),M.is=Ce;function X(Se,Ze){for(var nr=Se.getText(),yi=L(Ze,function(N0,cs){var xu=N0.range.start.line-cs.range.start.line;return xu===0?N0.range.start.character-cs.range.start.character:xu}),Nn=nr.length,Ms=yi.length-1;Ms>=0;Ms--){var fa=yi[Ms],oi=Se.offsetAt(fa.range.start),Dr=Se.offsetAt(fa.range.end);if(Dr<=Nn)nr=nr.substring(0,oi)+fa.newText+nr.substring(Dr,nr.length);else throw new Error("Overlapping edit");Nn=oi}return nr}s(X,"applyEdits"),M.applyEdits=X;function L(Se,Ze){if(Se.length<=1)return Se;var nr=Se.length/2|0,yi=Se.slice(0,nr),Nn=Se.slice(nr);L(yi,Ze),L(Nn,Ze);for(var Ms=0,fa=0,oi=0;Ms<yi.length&&fa<Nn.length;){var Dr=Ze(yi[Ms],Nn[fa]);Dr<=0?Se[oi++]=yi[Ms++]:Se[oi++]=Nn[fa++]}for(;Ms<yi.length;)Se[oi++]=yi[Ms++];for(;fa<Nn.length;)Se[oi++]=Nn[fa++];return Se}s(L,"mergeSort")})(as||(e.TextDocument=as={}));var Iu=function(){function M(fe,Ce,X,L){this._uri=fe,this._languageId=Ce,this._version=X,this._content=L,this._lineOffsets=void 0}return s(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:s(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:s(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:s(function(){return this._version},"get"),enumerable:!1,configurable:!0}),M.prototype.getText=function(fe){if(fe){var Ce=this.offsetAt(fe.start),X=this.offsetAt(fe.end);return this._content.substring(Ce,X)}return this._content},M.prototype.update=function(fe,Ce){this._content=fe.text,this._version=Ce,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var fe=[],Ce=this._content,X=!0,L=0;L<Ce.length;L++){X&&(fe.push(L),X=!1);var Se=Ce.charAt(L);X=Se==="\r"||Se===`
`,Se==="\r"&&L+1<Ce.length&&Ce.charAt(L+1)===`
`&&L++}X&&Ce.length>0&&fe.push(Ce.length),this._lineOffsets=fe}return this._lineOffsets},M.prototype.positionAt=function(fe){fe=Math.max(Math.min(fe,this._content.length),0);var Ce=this.getLineOffsets(),X=0,L=Ce.length;if(L===0)return c.create(0,fe);for(;X<L;){var Se=Math.floor((X+L)/2);Ce[Se]>fe?L=Se:X=Se+1}var Ze=X-1;return c.create(Ze,fe-Ce[Ze])},M.prototype.offsetAt=function(fe){var Ce=this.getLineOffsets();if(fe.line>=Ce.length)return this._content.length;if(fe.line<0)return 0;var X=Ce[fe.line],L=fe.line+1<Ce.length?Ce[fe.line+1]:this._content.length;return Math.max(Math.min(X+fe.character,L),X)},Object.defineProperty(M.prototype,"lineCount",{get:s(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),M}(),_e;(function(M){var fe=Object.prototype.toString;function Ce(Dr){return typeof Dr<"u"}s(Ce,"defined"),M.defined=Ce;function X(Dr){return typeof Dr>"u"}s(X,"undefined"),M.undefined=X;function L(Dr){return Dr===!0||Dr===!1}s(L,"boolean"),M.boolean=L;function Se(Dr){return fe.call(Dr)==="[object String]"}s(Se,"string"),M.string=Se;function Ze(Dr){return fe.call(Dr)==="[object Number]"}s(Ze,"number"),M.number=Ze;function nr(Dr,N0,cs){return fe.call(Dr)==="[object Number]"&&N0<=Dr&&Dr<=cs}s(nr,"numberRange"),M.numberRange=nr;function yi(Dr){return fe.call(Dr)==="[object Number]"&&-2147483648<=Dr&&Dr<=2147483647}s(yi,"integer"),M.integer=yi;function Nn(Dr){return fe.call(Dr)==="[object Number]"&&0<=Dr&&Dr<=2147483647}s(Nn,"uinteger"),M.uinteger=Nn;function Ms(Dr){return fe.call(Dr)==="[object Function]"}s(Ms,"func"),M.func=Ms;function fa(Dr){return Dr!==null&&typeof Dr=="object"}s(fa,"objectLiteral"),M.objectLiteral=fa;function oi(Dr,N0){return Array.isArray(Dr)&&Dr.every(N0)}s(oi,"typedArray"),M.typedArray=oi})(_e||(_e={}))})});var co=q($0=>{"use strict";f();Object.defineProperty($0,"__esModule",{value:!0});$0.ProtocolNotificationType=$0.ProtocolNotificationType0=$0.ProtocolRequestType=$0.ProtocolRequestType0=$0.RegistrationType=$0.MessageDirection=void 0;var v2=Qy(),jre;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(jre||($0.MessageDirection=jre={}));var aU=class{static{s(this,"RegistrationType")}constructor(e){this.method=e}};$0.RegistrationType=aU;var cU=class extends v2.RequestType0{static{s(this,"ProtocolRequestType0")}constructor(e){super(e)}};$0.ProtocolRequestType0=cU;var lU=class extends v2.RequestType{static{s(this,"ProtocolRequestType")}constructor(e){super(e,v2.ParameterStructures.byName)}};$0.ProtocolRequestType=lU;var uU=class extends v2.NotificationType0{static{s(this,"ProtocolNotificationType0")}constructor(e){super(e)}};$0.ProtocolNotificationType0=uU;var fU=class extends v2.NotificationType{static{s(this,"ProtocolNotificationType")}constructor(e){super(e,v2.ParameterStructures.byName)}};$0.ProtocolNotificationType=fU});var V6=q(ms=>{"use strict";f();Object.defineProperty(ms,"__esModule",{value:!0});ms.objectLiteral=ms.typedArray=ms.stringArray=ms.array=ms.func=ms.error=ms.number=ms.string=ms.boolean=void 0;function uBe(t){return t===!0||t===!1}s(uBe,"boolean");ms.boolean=uBe;function Kre(t){return typeof t=="string"||t instanceof String}s(Kre,"string");ms.string=Kre;function fBe(t){return typeof t=="number"||t instanceof Number}s(fBe,"number");ms.number=fBe;function dBe(t){return t instanceof Error}s(dBe,"error");ms.error=dBe;function ABe(t){return typeof t=="function"}s(ABe,"func");ms.func=ABe;function Jre(t){return Array.isArray(t)}s(Jre,"array");ms.array=Jre;function hBe(t){return Jre(t)&&t.every(e=>Kre(e))}s(hBe,"stringArray");ms.stringArray=hBe;function pBe(t,e){return Array.isArray(t)&&t.every(e)}s(pBe,"typedArray");ms.typedArray=pBe;function mBe(t){return t!==null&&typeof t=="object"}s(mBe,"objectLiteral");ms.objectLiteral=mBe});var ene=q(W6=>{"use strict";f();Object.defineProperty(W6,"__esModule",{value:!0});W6.ImplementationRequest=void 0;var Xre=co(),Zre;(function(t){t.method="textDocument/implementation",t.messageDirection=Xre.MessageDirection.clientToServer,t.type=new Xre.ProtocolRequestType(t.method)})(Zre||(W6.ImplementationRequest=Zre={}))});var nne=q(Y6=>{"use strict";f();Object.defineProperty(Y6,"__esModule",{value:!0});Y6.TypeDefinitionRequest=void 0;var tne=co(),rne;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=tne.MessageDirection.clientToServer,t.type=new tne.ProtocolRequestType(t.method)})(rne||(Y6.TypeDefinitionRequest=rne={}))});var sne=q(b2=>{"use strict";f();Object.defineProperty(b2,"__esModule",{value:!0});b2.DidChangeWorkspaceFoldersNotification=b2.WorkspaceFoldersRequest=void 0;var $6=co(),ine;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=$6.MessageDirection.serverToClient,t.type=new $6.ProtocolRequestType0(t.method)})(ine||(b2.WorkspaceFoldersRequest=ine={}));var one;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=$6.MessageDirection.clientToServer,t.type=new $6.ProtocolNotificationType(t.method)})(one||(b2.DidChangeWorkspaceFoldersNotification=one={}))});var lne=q(z6=>{"use strict";f();Object.defineProperty(z6,"__esModule",{value:!0});z6.ConfigurationRequest=void 0;var ane=co(),cne;(function(t){t.method="workspace/configuration",t.messageDirection=ane.MessageDirection.serverToClient,t.type=new ane.ProtocolRequestType(t.method)})(cne||(z6.ConfigurationRequest=cne={}))});var dne=q(T2=>{"use strict";f();Object.defineProperty(T2,"__esModule",{value:!0});T2.ColorPresentationRequest=T2.DocumentColorRequest=void 0;var j6=co(),une;(function(t){t.method="textDocument/documentColor",t.messageDirection=j6.MessageDirection.clientToServer,t.type=new j6.ProtocolRequestType(t.method)})(une||(T2.DocumentColorRequest=une={}));var fne;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=j6.MessageDirection.clientToServer,t.type=new j6.ProtocolRequestType(t.method)})(fne||(T2.ColorPresentationRequest=fne={}))});var pne=q(_2=>{"use strict";f();Object.defineProperty(_2,"__esModule",{value:!0});_2.FoldingRangeRefreshRequest=_2.FoldingRangeRequest=void 0;var K6=co(),Ane;(function(t){t.method="textDocument/foldingRange",t.messageDirection=K6.MessageDirection.clientToServer,t.type=new K6.ProtocolRequestType(t.method)})(Ane||(_2.FoldingRangeRequest=Ane={}));var hne;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=K6.MessageDirection.serverToClient,t.type=new K6.ProtocolRequestType0(t.method)})(hne||(_2.FoldingRangeRefreshRequest=hne={}))});var yne=q(J6=>{"use strict";f();Object.defineProperty(J6,"__esModule",{value:!0});J6.DeclarationRequest=void 0;var mne=co(),gne;(function(t){t.method="textDocument/declaration",t.messageDirection=mne.MessageDirection.clientToServer,t.type=new mne.ProtocolRequestType(t.method)})(gne||(J6.DeclarationRequest=gne={}))});var Ine=q(X6=>{"use strict";f();Object.defineProperty(X6,"__esModule",{value:!0});X6.SelectionRangeRequest=void 0;var Cne=co(),Ene;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Cne.MessageDirection.clientToServer,t.type=new Cne.ProtocolRequestType(t.method)})(Ene||(X6.SelectionRangeRequest=Ene={}))});var Tne=q(Mm=>{"use strict";f();Object.defineProperty(Mm,"__esModule",{value:!0});Mm.WorkDoneProgressCancelNotification=Mm.WorkDoneProgressCreateRequest=Mm.WorkDoneProgress=void 0;var gBe=Qy(),Z6=co(),xne;(function(t){t.type=new gBe.ProgressType;function e(r){return r===t.type}s(e,"is"),t.is=e})(xne||(Mm.WorkDoneProgress=xne={}));var vne;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Z6.MessageDirection.serverToClient,t.type=new Z6.ProtocolRequestType(t.method)})(vne||(Mm.WorkDoneProgressCreateRequest=vne={}));var bne;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Z6.MessageDirection.clientToServer,t.type=new Z6.ProtocolNotificationType(t.method)})(bne||(Mm.WorkDoneProgressCancelNotification=bne={}))});var Bne=q(Om=>{"use strict";f();Object.defineProperty(Om,"__esModule",{value:!0});Om.CallHierarchyOutgoingCallsRequest=Om.CallHierarchyIncomingCallsRequest=Om.CallHierarchyPrepareRequest=void 0;var w2=co(),_ne;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=w2.MessageDirection.clientToServer,t.type=new w2.ProtocolRequestType(t.method)})(_ne||(Om.CallHierarchyPrepareRequest=_ne={}));var wne;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=w2.MessageDirection.clientToServer,t.type=new w2.ProtocolRequestType(t.method)})(wne||(Om.CallHierarchyIncomingCallsRequest=wne={}));var Sne;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=w2.MessageDirection.clientToServer,t.type=new w2.ProtocolRequestType(t.method)})(Sne||(Om.CallHierarchyOutgoingCallsRequest=Sne={}))});var Pne=q(z0=>{"use strict";f();Object.defineProperty(z0,"__esModule",{value:!0});z0.SemanticTokensRefreshRequest=z0.SemanticTokensRangeRequest=z0.SemanticTokensDeltaRequest=z0.SemanticTokensRequest=z0.SemanticTokensRegistrationType=z0.TokenFormat=void 0;var KA=co(),Rne;(function(t){t.Relative="relative"})(Rne||(z0.TokenFormat=Rne={}));var XT;(function(t){t.method="textDocument/semanticTokens",t.type=new KA.RegistrationType(t.method)})(XT||(z0.SemanticTokensRegistrationType=XT={}));var kne;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=KA.MessageDirection.clientToServer,t.type=new KA.ProtocolRequestType(t.method),t.registrationMethod=XT.method})(kne||(z0.SemanticTokensRequest=kne={}));var Dne;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=KA.MessageDirection.clientToServer,t.type=new KA.ProtocolRequestType(t.method),t.registrationMethod=XT.method})(Dne||(z0.SemanticTokensDeltaRequest=Dne={}));var Nne;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=KA.MessageDirection.clientToServer,t.type=new KA.ProtocolRequestType(t.method),t.registrationMethod=XT.method})(Nne||(z0.SemanticTokensRangeRequest=Nne={}));var Qne;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=KA.MessageDirection.serverToClient,t.type=new KA.ProtocolRequestType0(t.method)})(Qne||(z0.SemanticTokensRefreshRequest=Qne={}))});var Mne=q(eR=>{"use strict";f();Object.defineProperty(eR,"__esModule",{value:!0});eR.ShowDocumentRequest=void 0;var Fne=co(),Lne;(function(t){t.method="window/showDocument",t.messageDirection=Fne.MessageDirection.serverToClient,t.type=new Fne.ProtocolRequestType(t.method)})(Lne||(eR.ShowDocumentRequest=Lne={}))});var Hne=q(tR=>{"use strict";f();Object.defineProperty(tR,"__esModule",{value:!0});tR.LinkedEditingRangeRequest=void 0;var One=co(),Une;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=One.MessageDirection.clientToServer,t.type=new One.ProtocolRequestType(t.method)})(Une||(tR.LinkedEditingRangeRequest=Une={}))});var jne=q(Va=>{"use strict";f();Object.defineProperty(Va,"__esModule",{value:!0});Va.WillDeleteFilesRequest=Va.DidDeleteFilesNotification=Va.DidRenameFilesNotification=Va.WillRenameFilesRequest=Va.DidCreateFilesNotification=Va.WillCreateFilesRequest=Va.FileOperationPatternKind=void 0;var Rl=co(),qne;(function(t){t.file="file",t.folder="folder"})(qne||(Va.FileOperationPatternKind=qne={}));var Gne;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Rl.MessageDirection.clientToServer,t.type=new Rl.ProtocolRequestType(t.method)})(Gne||(Va.WillCreateFilesRequest=Gne={}));var Vne;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Rl.MessageDirection.clientToServer,t.type=new Rl.ProtocolNotificationType(t.method)})(Vne||(Va.DidCreateFilesNotification=Vne={}));var Wne;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Rl.MessageDirection.clientToServer,t.type=new Rl.ProtocolRequestType(t.method)})(Wne||(Va.WillRenameFilesRequest=Wne={}));var Yne;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Rl.MessageDirection.clientToServer,t.type=new Rl.ProtocolNotificationType(t.method)})(Yne||(Va.DidRenameFilesNotification=Yne={}));var $ne;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Rl.MessageDirection.clientToServer,t.type=new Rl.ProtocolNotificationType(t.method)})($ne||(Va.DidDeleteFilesNotification=$ne={}));var zne;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Rl.MessageDirection.clientToServer,t.type=new Rl.ProtocolRequestType(t.method)})(zne||(Va.WillDeleteFilesRequest=zne={}))});var eie=q(Um=>{"use strict";f();Object.defineProperty(Um,"__esModule",{value:!0});Um.MonikerRequest=Um.MonikerKind=Um.UniquenessLevel=void 0;var Kne=co(),Jne;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Jne||(Um.UniquenessLevel=Jne={}));var Xne;(function(t){t.$import="import",t.$export="export",t.local="local"})(Xne||(Um.MonikerKind=Xne={}));var Zne;(function(t){t.method="textDocument/moniker",t.messageDirection=Kne.MessageDirection.clientToServer,t.type=new Kne.ProtocolRequestType(t.method)})(Zne||(Um.MonikerRequest=Zne={}))});var iie=q(Hm=>{"use strict";f();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.TypeHierarchySubtypesRequest=Hm.TypeHierarchySupertypesRequest=Hm.TypeHierarchyPrepareRequest=void 0;var S2=co(),tie;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=S2.MessageDirection.clientToServer,t.type=new S2.ProtocolRequestType(t.method)})(tie||(Hm.TypeHierarchyPrepareRequest=tie={}));var rie;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=S2.MessageDirection.clientToServer,t.type=new S2.ProtocolRequestType(t.method)})(rie||(Hm.TypeHierarchySupertypesRequest=rie={}));var nie;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=S2.MessageDirection.clientToServer,t.type=new S2.ProtocolRequestType(t.method)})(nie||(Hm.TypeHierarchySubtypesRequest=nie={}))});var aie=q(B2=>{"use strict";f();Object.defineProperty(B2,"__esModule",{value:!0});B2.InlineValueRefreshRequest=B2.InlineValueRequest=void 0;var rR=co(),oie;(function(t){t.method="textDocument/inlineValue",t.messageDirection=rR.MessageDirection.clientToServer,t.type=new rR.ProtocolRequestType(t.method)})(oie||(B2.InlineValueRequest=oie={}));var sie;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=rR.MessageDirection.serverToClient,t.type=new rR.ProtocolRequestType0(t.method)})(sie||(B2.InlineValueRefreshRequest=sie={}))});var fie=q(qm=>{"use strict";f();Object.defineProperty(qm,"__esModule",{value:!0});qm.InlayHintRefreshRequest=qm.InlayHintResolveRequest=qm.InlayHintRequest=void 0;var R2=co(),cie;(function(t){t.method="textDocument/inlayHint",t.messageDirection=R2.MessageDirection.clientToServer,t.type=new R2.ProtocolRequestType(t.method)})(cie||(qm.InlayHintRequest=cie={}));var lie;(function(t){t.method="inlayHint/resolve",t.messageDirection=R2.MessageDirection.clientToServer,t.type=new R2.ProtocolRequestType(t.method)})(lie||(qm.InlayHintResolveRequest=lie={}));var uie;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=R2.MessageDirection.serverToClient,t.type=new R2.ProtocolRequestType0(t.method)})(uie||(qm.InlayHintRefreshRequest=uie={}))});var yie=q(kl=>{"use strict";f();Object.defineProperty(kl,"__esModule",{value:!0});kl.DiagnosticRefreshRequest=kl.WorkspaceDiagnosticRequest=kl.DocumentDiagnosticRequest=kl.DocumentDiagnosticReportKind=kl.DiagnosticServerCancellationData=void 0;var gie=Qy(),yBe=V6(),k2=co(),die;(function(t){function e(r){let n=r;return n&&yBe.boolean(n.retriggerRequest)}s(e,"is"),t.is=e})(die||(kl.DiagnosticServerCancellationData=die={}));var Aie;(function(t){t.Full="full",t.Unchanged="unchanged"})(Aie||(kl.DocumentDiagnosticReportKind=Aie={}));var hie;(function(t){t.method="textDocument/diagnostic",t.messageDirection=k2.MessageDirection.clientToServer,t.type=new k2.ProtocolRequestType(t.method),t.partialResult=new gie.ProgressType})(hie||(kl.DocumentDiagnosticRequest=hie={}));var pie;(function(t){t.method="workspace/diagnostic",t.messageDirection=k2.MessageDirection.clientToServer,t.type=new k2.ProtocolRequestType(t.method),t.partialResult=new gie.ProgressType})(pie||(kl.WorkspaceDiagnosticRequest=pie={}));var mie;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=k2.MessageDirection.serverToClient,t.type=new k2.ProtocolRequestType0(t.method)})(mie||(kl.DiagnosticRefreshRequest=mie={}))});var Tie=q(Po=>{"use strict";f();Object.defineProperty(Po,"__esModule",{value:!0});Po.DidCloseNotebookDocumentNotification=Po.DidSaveNotebookDocumentNotification=Po.DidChangeNotebookDocumentNotification=Po.NotebookCellArrayChange=Po.DidOpenNotebookDocumentNotification=Po.NotebookDocumentSyncRegistrationType=Po.NotebookDocument=Po.NotebookCell=Po.ExecutionSummary=Po.NotebookCellKind=void 0;var ZT=G6(),Gu=V6(),pd=co(),dU;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}s(e,"is"),t.is=e})(dU||(Po.NotebookCellKind=dU={}));var AU;(function(t){function e(o,a){let c={executionOrder:o};return(a===!0||a===!1)&&(c.success=a),c}s(e,"create"),t.create=e;function r(o){let a=o;return Gu.objectLiteral(a)&&ZT.uinteger.is(a.executionOrder)&&(a.success===void 0||Gu.boolean(a.success))}s(r,"is"),t.is=r;function n(o,a){return o===a?!0:o==null||a===null||a===void 0?!1:o.executionOrder===a.executionOrder&&o.success===a.success}s(n,"equals"),t.equals=n})(AU||(Po.ExecutionSummary=AU={}));var nR;(function(t){function e(a,c){return{kind:a,document:c}}s(e,"create"),t.create=e;function r(a){let c=a;return Gu.objectLiteral(c)&&dU.is(c.kind)&&ZT.DocumentUri.is(c.document)&&(c.metadata===void 0||Gu.objectLiteral(c.metadata))}s(r,"is"),t.is=r;function n(a,c){let l=new Set;return a.document!==c.document&&l.add("document"),a.kind!==c.kind&&l.add("kind"),a.executionSummary!==c.executionSummary&&l.add("executionSummary"),(a.metadata!==void 0||c.metadata!==void 0)&&!o(a.metadata,c.metadata)&&l.add("metadata"),(a.executionSummary!==void 0||c.executionSummary!==void 0)&&!AU.equals(a.executionSummary,c.executionSummary)&&l.add("executionSummary"),l}s(n,"diff"),t.diff=n;function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let l=Array.isArray(a),u=Array.isArray(c);if(l!==u)return!1;if(l&&u){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(Gu.objectLiteral(a)&&Gu.objectLiteral(c)){let d=Object.keys(a),A=Object.keys(c);if(d.length!==A.length||(d.sort(),A.sort(),!o(d,A)))return!1;for(let h=0;h<d.length;h++){let p=d[h];if(!o(a[p],c[p]))return!1}}return!0}s(o,"equalsMetadata")})(nR||(Po.NotebookCell=nR={}));var Cie;(function(t){function e(n,o,a,c){return{uri:n,notebookType:o,version:a,cells:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Gu.objectLiteral(o)&&Gu.string(o.uri)&&ZT.integer.is(o.version)&&Gu.typedArray(o.cells,nR.is)}s(r,"is"),t.is=r})(Cie||(Po.NotebookDocument=Cie={}));var D2;(function(t){t.method="notebookDocument/sync",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.RegistrationType(t.method)})(D2||(Po.NotebookDocumentSyncRegistrationType=D2={}));var Eie;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.ProtocolNotificationType(t.method),t.registrationMethod=D2.method})(Eie||(Po.DidOpenNotebookDocumentNotification=Eie={}));var Iie;(function(t){function e(n){let o=n;return Gu.objectLiteral(o)&&ZT.uinteger.is(o.start)&&ZT.uinteger.is(o.deleteCount)&&(o.cells===void 0||Gu.typedArray(o.cells,nR.is))}s(e,"is"),t.is=e;function r(n,o,a){let c={start:n,deleteCount:o};return a!==void 0&&(c.cells=a),c}s(r,"create"),t.create=r})(Iie||(Po.NotebookCellArrayChange=Iie={}));var xie;(function(t){t.method="notebookDocument/didChange",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.ProtocolNotificationType(t.method),t.registrationMethod=D2.method})(xie||(Po.DidChangeNotebookDocumentNotification=xie={}));var vie;(function(t){t.method="notebookDocument/didSave",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.ProtocolNotificationType(t.method),t.registrationMethod=D2.method})(vie||(Po.DidSaveNotebookDocumentNotification=vie={}));var bie;(function(t){t.method="notebookDocument/didClose",t.messageDirection=pd.MessageDirection.clientToServer,t.type=new pd.ProtocolNotificationType(t.method),t.registrationMethod=D2.method})(bie||(Po.DidCloseNotebookDocumentNotification=bie={}))});var Sie=q(iR=>{"use strict";f();Object.defineProperty(iR,"__esModule",{value:!0});iR.InlineCompletionRequest=void 0;var _ie=co(),wie;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=_ie.MessageDirection.clientToServer,t.type=new _ie.ProtocolRequestType(t.method)})(wie||(iR.InlineCompletionRequest=wie={}))});var Hoe=q(ae=>{"use strict";f();Object.defineProperty(ae,"__esModule",{value:!0});ae.WorkspaceSymbolRequest=ae.CodeActionResolveRequest=ae.CodeActionRequest=ae.DocumentSymbolRequest=ae.DocumentHighlightRequest=ae.ReferencesRequest=ae.DefinitionRequest=ae.SignatureHelpRequest=ae.SignatureHelpTriggerKind=ae.HoverRequest=ae.CompletionResolveRequest=ae.CompletionRequest=ae.CompletionTriggerKind=ae.PublishDiagnosticsNotification=ae.WatchKind=ae.RelativePattern=ae.FileChangeType=ae.DidChangeWatchedFilesNotification=ae.WillSaveTextDocumentWaitUntilRequest=ae.WillSaveTextDocumentNotification=ae.TextDocumentSaveReason=ae.DidSaveTextDocumentNotification=ae.DidCloseTextDocumentNotification=ae.DidChangeTextDocumentNotification=ae.TextDocumentContentChangeEvent=ae.DidOpenTextDocumentNotification=ae.TextDocumentSyncKind=ae.TelemetryEventNotification=ae.LogMessageNotification=ae.ShowMessageRequest=ae.ShowMessageNotification=ae.MessageType=ae.DidChangeConfigurationNotification=ae.ExitNotification=ae.ShutdownRequest=ae.InitializedNotification=ae.InitializeErrorCodes=ae.InitializeRequest=ae.WorkDoneProgressOptions=ae.TextDocumentRegistrationOptions=ae.StaticRegistrationOptions=ae.PositionEncodingKind=ae.FailureHandlingKind=ae.ResourceOperationKind=ae.UnregistrationRequest=ae.RegistrationRequest=ae.DocumentSelector=ae.NotebookCellTextDocumentFilter=ae.NotebookDocumentFilter=ae.TextDocumentFilter=void 0;ae.MonikerRequest=ae.MonikerKind=ae.UniquenessLevel=ae.WillDeleteFilesRequest=ae.DidDeleteFilesNotification=ae.WillRenameFilesRequest=ae.DidRenameFilesNotification=ae.WillCreateFilesRequest=ae.DidCreateFilesNotification=ae.FileOperationPatternKind=ae.LinkedEditingRangeRequest=ae.ShowDocumentRequest=ae.SemanticTokensRegistrationType=ae.SemanticTokensRefreshRequest=ae.SemanticTokensRangeRequest=ae.SemanticTokensDeltaRequest=ae.SemanticTokensRequest=ae.TokenFormat=ae.CallHierarchyPrepareRequest=ae.CallHierarchyOutgoingCallsRequest=ae.CallHierarchyIncomingCallsRequest=ae.WorkDoneProgressCancelNotification=ae.WorkDoneProgressCreateRequest=ae.WorkDoneProgress=ae.SelectionRangeRequest=ae.DeclarationRequest=ae.FoldingRangeRefreshRequest=ae.FoldingRangeRequest=ae.ColorPresentationRequest=ae.DocumentColorRequest=ae.ConfigurationRequest=ae.DidChangeWorkspaceFoldersNotification=ae.WorkspaceFoldersRequest=ae.TypeDefinitionRequest=ae.ImplementationRequest=ae.ApplyWorkspaceEditRequest=ae.ExecuteCommandRequest=ae.PrepareRenameRequest=ae.RenameRequest=ae.PrepareSupportDefaultBehavior=ae.DocumentOnTypeFormattingRequest=ae.DocumentRangesFormattingRequest=ae.DocumentRangeFormattingRequest=ae.DocumentFormattingRequest=ae.DocumentLinkResolveRequest=ae.DocumentLinkRequest=ae.CodeLensRefreshRequest=ae.CodeLensResolveRequest=ae.CodeLensRequest=ae.WorkspaceSymbolResolveRequest=void 0;ae.InlineCompletionRequest=ae.DidCloseNotebookDocumentNotification=ae.DidSaveNotebookDocumentNotification=ae.DidChangeNotebookDocumentNotification=ae.NotebookCellArrayChange=ae.DidOpenNotebookDocumentNotification=ae.NotebookDocumentSyncRegistrationType=ae.NotebookDocument=ae.NotebookCell=ae.ExecutionSummary=ae.NotebookCellKind=ae.DiagnosticRefreshRequest=ae.WorkspaceDiagnosticRequest=ae.DocumentDiagnosticRequest=ae.DocumentDiagnosticReportKind=ae.DiagnosticServerCancellationData=ae.InlayHintRefreshRequest=ae.InlayHintResolveRequest=ae.InlayHintRequest=ae.InlineValueRefreshRequest=ae.InlineValueRequest=ae.TypeHierarchySupertypesRequest=ae.TypeHierarchySubtypesRequest=ae.TypeHierarchyPrepareRequest=void 0;var mt=co(),Bie=G6(),Ks=V6(),CBe=ene();Object.defineProperty(ae,"ImplementationRequest",{enumerable:!0,get:s(function(){return CBe.ImplementationRequest},"get")});var EBe=nne();Object.defineProperty(ae,"TypeDefinitionRequest",{enumerable:!0,get:s(function(){return EBe.TypeDefinitionRequest},"get")});var Loe=sne();Object.defineProperty(ae,"WorkspaceFoldersRequest",{enumerable:!0,get:s(function(){return Loe.WorkspaceFoldersRequest},"get")});Object.defineProperty(ae,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:s(function(){return Loe.DidChangeWorkspaceFoldersNotification},"get")});var IBe=lne();Object.defineProperty(ae,"ConfigurationRequest",{enumerable:!0,get:s(function(){return IBe.ConfigurationRequest},"get")});var Moe=dne();Object.defineProperty(ae,"DocumentColorRequest",{enumerable:!0,get:s(function(){return Moe.DocumentColorRequest},"get")});Object.defineProperty(ae,"ColorPresentationRequest",{enumerable:!0,get:s(function(){return Moe.ColorPresentationRequest},"get")});var Ooe=pne();Object.defineProperty(ae,"FoldingRangeRequest",{enumerable:!0,get:s(function(){return Ooe.FoldingRangeRequest},"get")});Object.defineProperty(ae,"FoldingRangeRefreshRequest",{enumerable:!0,get:s(function(){return Ooe.FoldingRangeRefreshRequest},"get")});var xBe=yne();Object.defineProperty(ae,"DeclarationRequest",{enumerable:!0,get:s(function(){return xBe.DeclarationRequest},"get")});var vBe=Ine();Object.defineProperty(ae,"SelectionRangeRequest",{enumerable:!0,get:s(function(){return vBe.SelectionRangeRequest},"get")});var yU=Tne();Object.defineProperty(ae,"WorkDoneProgress",{enumerable:!0,get:s(function(){return yU.WorkDoneProgress},"get")});Object.defineProperty(ae,"WorkDoneProgressCreateRequest",{enumerable:!0,get:s(function(){return yU.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(ae,"WorkDoneProgressCancelNotification",{enumerable:!0,get:s(function(){return yU.WorkDoneProgressCancelNotification},"get")});var CU=Bne();Object.defineProperty(ae,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:s(function(){return CU.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(ae,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:s(function(){return CU.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(ae,"CallHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return CU.CallHierarchyPrepareRequest},"get")});var N2=Pne();Object.defineProperty(ae,"TokenFormat",{enumerable:!0,get:s(function(){return N2.TokenFormat},"get")});Object.defineProperty(ae,"SemanticTokensRequest",{enumerable:!0,get:s(function(){return N2.SemanticTokensRequest},"get")});Object.defineProperty(ae,"SemanticTokensDeltaRequest",{enumerable:!0,get:s(function(){return N2.SemanticTokensDeltaRequest},"get")});Object.defineProperty(ae,"SemanticTokensRangeRequest",{enumerable:!0,get:s(function(){return N2.SemanticTokensRangeRequest},"get")});Object.defineProperty(ae,"SemanticTokensRefreshRequest",{enumerable:!0,get:s(function(){return N2.SemanticTokensRefreshRequest},"get")});Object.defineProperty(ae,"SemanticTokensRegistrationType",{enumerable:!0,get:s(function(){return N2.SemanticTokensRegistrationType},"get")});var bBe=Mne();Object.defineProperty(ae,"ShowDocumentRequest",{enumerable:!0,get:s(function(){return bBe.ShowDocumentRequest},"get")});var TBe=Hne();Object.defineProperty(ae,"LinkedEditingRangeRequest",{enumerable:!0,get:s(function(){return TBe.LinkedEditingRangeRequest},"get")});var Py=jne();Object.defineProperty(ae,"FileOperationPatternKind",{enumerable:!0,get:s(function(){return Py.FileOperationPatternKind},"get")});Object.defineProperty(ae,"DidCreateFilesNotification",{enumerable:!0,get:s(function(){return Py.DidCreateFilesNotification},"get")});Object.defineProperty(ae,"WillCreateFilesRequest",{enumerable:!0,get:s(function(){return Py.WillCreateFilesRequest},"get")});Object.defineProperty(ae,"DidRenameFilesNotification",{enumerable:!0,get:s(function(){return Py.DidRenameFilesNotification},"get")});Object.defineProperty(ae,"WillRenameFilesRequest",{enumerable:!0,get:s(function(){return Py.WillRenameFilesRequest},"get")});Object.defineProperty(ae,"DidDeleteFilesNotification",{enumerable:!0,get:s(function(){return Py.DidDeleteFilesNotification},"get")});Object.defineProperty(ae,"WillDeleteFilesRequest",{enumerable:!0,get:s(function(){return Py.WillDeleteFilesRequest},"get")});var EU=eie();Object.defineProperty(ae,"UniquenessLevel",{enumerable:!0,get:s(function(){return EU.UniquenessLevel},"get")});Object.defineProperty(ae,"MonikerKind",{enumerable:!0,get:s(function(){return EU.MonikerKind},"get")});Object.defineProperty(ae,"MonikerRequest",{enumerable:!0,get:s(function(){return EU.MonikerRequest},"get")});var IU=iie();Object.defineProperty(ae,"TypeHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return IU.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(ae,"TypeHierarchySubtypesRequest",{enumerable:!0,get:s(function(){return IU.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(ae,"TypeHierarchySupertypesRequest",{enumerable:!0,get:s(function(){return IU.TypeHierarchySupertypesRequest},"get")});var Uoe=aie();Object.defineProperty(ae,"InlineValueRequest",{enumerable:!0,get:s(function(){return Uoe.InlineValueRequest},"get")});Object.defineProperty(ae,"InlineValueRefreshRequest",{enumerable:!0,get:s(function(){return Uoe.InlineValueRefreshRequest},"get")});var xU=fie();Object.defineProperty(ae,"InlayHintRequest",{enumerable:!0,get:s(function(){return xU.InlayHintRequest},"get")});Object.defineProperty(ae,"InlayHintResolveRequest",{enumerable:!0,get:s(function(){return xU.InlayHintResolveRequest},"get")});Object.defineProperty(ae,"InlayHintRefreshRequest",{enumerable:!0,get:s(function(){return xU.InlayHintRefreshRequest},"get")});var e_=yie();Object.defineProperty(ae,"DiagnosticServerCancellationData",{enumerable:!0,get:s(function(){return e_.DiagnosticServerCancellationData},"get")});Object.defineProperty(ae,"DocumentDiagnosticReportKind",{enumerable:!0,get:s(function(){return e_.DocumentDiagnosticReportKind},"get")});Object.defineProperty(ae,"DocumentDiagnosticRequest",{enumerable:!0,get:s(function(){return e_.DocumentDiagnosticRequest},"get")});Object.defineProperty(ae,"WorkspaceDiagnosticRequest",{enumerable:!0,get:s(function(){return e_.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(ae,"DiagnosticRefreshRequest",{enumerable:!0,get:s(function(){return e_.DiagnosticRefreshRequest},"get")});var md=Tie();Object.defineProperty(ae,"NotebookCellKind",{enumerable:!0,get:s(function(){return md.NotebookCellKind},"get")});Object.defineProperty(ae,"ExecutionSummary",{enumerable:!0,get:s(function(){return md.ExecutionSummary},"get")});Object.defineProperty(ae,"NotebookCell",{enumerable:!0,get:s(function(){return md.NotebookCell},"get")});Object.defineProperty(ae,"NotebookDocument",{enumerable:!0,get:s(function(){return md.NotebookDocument},"get")});Object.defineProperty(ae,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:s(function(){return md.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(ae,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:s(function(){return md.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(ae,"NotebookCellArrayChange",{enumerable:!0,get:s(function(){return md.NotebookCellArrayChange},"get")});Object.defineProperty(ae,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:s(function(){return md.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(ae,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:s(function(){return md.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(ae,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:s(function(){return md.DidCloseNotebookDocumentNotification},"get")});var _Be=Sie();Object.defineProperty(ae,"InlineCompletionRequest",{enumerable:!0,get:s(function(){return _Be.InlineCompletionRequest},"get")});var hU;(function(t){function e(r){let n=r;return Ks.string(n)||Ks.string(n.language)||Ks.string(n.scheme)||Ks.string(n.pattern)}s(e,"is"),t.is=e})(hU||(ae.TextDocumentFilter=hU={}));var pU;(function(t){function e(r){let n=r;return Ks.objectLiteral(n)&&(Ks.string(n.notebookType)||Ks.string(n.scheme)||Ks.string(n.pattern))}s(e,"is"),t.is=e})(pU||(ae.NotebookDocumentFilter=pU={}));var mU;(function(t){function e(r){let n=r;return Ks.objectLiteral(n)&&(Ks.string(n.notebook)||pU.is(n.notebook))&&(n.language===void 0||Ks.string(n.language))}s(e,"is"),t.is=e})(mU||(ae.NotebookCellTextDocumentFilter=mU={}));var gU;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Ks.string(n)&&!hU.is(n)&&!mU.is(n))return!1;return!0}s(e,"is"),t.is=e})(gU||(ae.DocumentSelector=gU={}));var Rie;(function(t){t.method="client/registerCapability",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType(t.method)})(Rie||(ae.RegistrationRequest=Rie={}));var kie;(function(t){t.method="client/unregisterCapability",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType(t.method)})(kie||(ae.UnregistrationRequest=kie={}));var Die;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(Die||(ae.ResourceOperationKind=Die={}));var Nie;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Nie||(ae.FailureHandlingKind=Nie={}));var Qie;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(Qie||(ae.PositionEncodingKind=Qie={}));var Pie;(function(t){function e(r){let n=r;return n&&Ks.string(n.id)&&n.id.length>0}s(e,"hasId"),t.hasId=e})(Pie||(ae.StaticRegistrationOptions=Pie={}));var Fie;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||gU.is(n.documentSelector))}s(e,"is"),t.is=e})(Fie||(ae.TextDocumentRegistrationOptions=Fie={}));var Lie;(function(t){function e(n){let o=n;return Ks.objectLiteral(o)&&(o.workDoneProgress===void 0||Ks.boolean(o.workDoneProgress))}s(e,"is"),t.is=e;function r(n){let o=n;return o&&Ks.boolean(o.workDoneProgress)}s(r,"hasWorkDoneProgress"),t.hasWorkDoneProgress=r})(Lie||(ae.WorkDoneProgressOptions=Lie={}));var Mie;(function(t){t.method="initialize",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Mie||(ae.InitializeRequest=Mie={}));var Oie;(function(t){t.unknownProtocolVersion=1})(Oie||(ae.InitializeErrorCodes=Oie={}));var Uie;(function(t){t.method="initialized",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Uie||(ae.InitializedNotification=Uie={}));var Hie;(function(t){t.method="shutdown",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType0(t.method)})(Hie||(ae.ShutdownRequest=Hie={}));var qie;(function(t){t.method="exit",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType0(t.method)})(qie||(ae.ExitNotification=qie={}));var Gie;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Gie||(ae.DidChangeConfigurationNotification=Gie={}));var Vie;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(Vie||(ae.MessageType=Vie={}));var Wie;(function(t){t.method="window/showMessage",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolNotificationType(t.method)})(Wie||(ae.ShowMessageNotification=Wie={}));var Yie;(function(t){t.method="window/showMessageRequest",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType(t.method)})(Yie||(ae.ShowMessageRequest=Yie={}));var $ie;(function(t){t.method="window/logMessage",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolNotificationType(t.method)})($ie||(ae.LogMessageNotification=$ie={}));var zie;(function(t){t.method="telemetry/event",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolNotificationType(t.method)})(zie||(ae.TelemetryEventNotification=zie={}));var jie;(function(t){t.None=0,t.Full=1,t.Incremental=2})(jie||(ae.TextDocumentSyncKind=jie={}));var Kie;(function(t){t.method="textDocument/didOpen",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Kie||(ae.DidOpenTextDocumentNotification=Kie={}));var Jie;(function(t){function e(n){let o=n;return o!=null&&typeof o.text=="string"&&o.range!==void 0&&(o.rangeLength===void 0||typeof o.rangeLength=="number")}s(e,"isIncremental"),t.isIncremental=e;function r(n){let o=n;return o!=null&&typeof o.text=="string"&&o.range===void 0&&o.rangeLength===void 0}s(r,"isFull"),t.isFull=r})(Jie||(ae.TextDocumentContentChangeEvent=Jie={}));var Xie;(function(t){t.method="textDocument/didChange",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Xie||(ae.DidChangeTextDocumentNotification=Xie={}));var Zie;(function(t){t.method="textDocument/didClose",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Zie||(ae.DidCloseTextDocumentNotification=Zie={}));var eoe;(function(t){t.method="textDocument/didSave",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(eoe||(ae.DidSaveTextDocumentNotification=eoe={}));var toe;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(toe||(ae.TextDocumentSaveReason=toe={}));var roe;(function(t){t.method="textDocument/willSave",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(roe||(ae.WillSaveTextDocumentNotification=roe={}));var noe;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(noe||(ae.WillSaveTextDocumentWaitUntilRequest=noe={}));var ioe;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(ioe||(ae.DidChangeWatchedFilesNotification=ioe={}));var ooe;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(ooe||(ae.FileChangeType=ooe={}));var soe;(function(t){function e(r){let n=r;return Ks.objectLiteral(n)&&(Bie.URI.is(n.baseUri)||Bie.WorkspaceFolder.is(n.baseUri))&&Ks.string(n.pattern)}s(e,"is"),t.is=e})(soe||(ae.RelativePattern=soe={}));var aoe;(function(t){t.Create=1,t.Change=2,t.Delete=4})(aoe||(ae.WatchKind=aoe={}));var coe;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolNotificationType(t.method)})(coe||(ae.PublishDiagnosticsNotification=coe={}));var loe;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(loe||(ae.CompletionTriggerKind=loe={}));var uoe;(function(t){t.method="textDocument/completion",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(uoe||(ae.CompletionRequest=uoe={}));var foe;(function(t){t.method="completionItem/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(foe||(ae.CompletionResolveRequest=foe={}));var doe;(function(t){t.method="textDocument/hover",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(doe||(ae.HoverRequest=doe={}));var Aoe;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Aoe||(ae.SignatureHelpTriggerKind=Aoe={}));var hoe;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(hoe||(ae.SignatureHelpRequest=hoe={}));var poe;(function(t){t.method="textDocument/definition",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(poe||(ae.DefinitionRequest=poe={}));var moe;(function(t){t.method="textDocument/references",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(moe||(ae.ReferencesRequest=moe={}));var goe;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(goe||(ae.DocumentHighlightRequest=goe={}));var yoe;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(yoe||(ae.DocumentSymbolRequest=yoe={}));var Coe;(function(t){t.method="textDocument/codeAction",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Coe||(ae.CodeActionRequest=Coe={}));var Eoe;(function(t){t.method="codeAction/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Eoe||(ae.CodeActionResolveRequest=Eoe={}));var Ioe;(function(t){t.method="workspace/symbol",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Ioe||(ae.WorkspaceSymbolRequest=Ioe={}));var xoe;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(xoe||(ae.WorkspaceSymbolResolveRequest=xoe={}));var voe;(function(t){t.method="textDocument/codeLens",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(voe||(ae.CodeLensRequest=voe={}));var boe;(function(t){t.method="codeLens/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(boe||(ae.CodeLensResolveRequest=boe={}));var Toe;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType0(t.method)})(Toe||(ae.CodeLensRefreshRequest=Toe={}));var _oe;(function(t){t.method="textDocument/documentLink",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(_oe||(ae.DocumentLinkRequest=_oe={}));var woe;(function(t){t.method="documentLink/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(woe||(ae.DocumentLinkResolveRequest=woe={}));var Soe;(function(t){t.method="textDocument/formatting",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Soe||(ae.DocumentFormattingRequest=Soe={}));var Boe;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Boe||(ae.DocumentRangeFormattingRequest=Boe={}));var Roe;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Roe||(ae.DocumentRangesFormattingRequest=Roe={}));var koe;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(koe||(ae.DocumentOnTypeFormattingRequest=koe={}));var Doe;(function(t){t.Identifier=1})(Doe||(ae.PrepareSupportDefaultBehavior=Doe={}));var Noe;(function(t){t.method="textDocument/rename",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Noe||(ae.RenameRequest=Noe={}));var Qoe;(function(t){t.method="textDocument/prepareRename",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Qoe||(ae.PrepareRenameRequest=Qoe={}));var Poe;(function(t){t.method="workspace/executeCommand",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Poe||(ae.ExecuteCommandRequest=Poe={}));var Foe;(function(t){t.method="workspace/applyEdit",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType("workspace/applyEdit")})(Foe||(ae.ApplyWorkspaceEditRequest=Foe={}))});var Goe=q(oR=>{"use strict";f();Object.defineProperty(oR,"__esModule",{value:!0});oR.createProtocolConnection=void 0;var qoe=Qy();function wBe(t,e,r,n){return qoe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,qoe.createMessageConnection)(t,e,r,n)}s(wBe,"createProtocolConnection");oR.createProtocolConnection=wBe});var Woe=q(j0=>{"use strict";f();var SBe=j0&&j0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sR=j0&&j0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&SBe(e,t,r)};Object.defineProperty(j0,"__esModule",{value:!0});j0.LSPErrorCodes=j0.createProtocolConnection=void 0;sR(Qy(),j0);sR(G6(),j0);sR(co(),j0);sR(Hoe(),j0);var BBe=Goe();Object.defineProperty(j0,"createProtocolConnection",{enumerable:!0,get:s(function(){return BBe.createProtocolConnection},"get")});var Voe;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Voe||(j0.LSPErrorCodes=Voe={}))});var ya=q(gd=>{"use strict";f();var RBe=gd&&gd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yoe=gd&&gd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&RBe(e,t,r)};Object.defineProperty(gd,"__esModule",{value:!0});gd.createProtocolConnection=void 0;var kBe=sU();Yoe(sU(),gd);Yoe(Woe(),gd);function DBe(t,e,r,n){return(0,kBe.createMessageConnection)(t,e,r,n)}s(DBe,"createProtocolConnection");gd.createProtocolConnection=DBe});var wse=q(xR=>{"use strict";f();Object.defineProperty(xR,"__esModule",{value:!0});xR.state=void 0;xR.state={instrumenterImplementation:void 0}});var ex=q((oq,yae)=>{f();var p9=require("buffer"),_d=p9.Buffer;function gae(t,e){for(var r in t)e[r]=t[r]}s(gae,"copyProps");_d.from&&_d.alloc&&_d.allocUnsafe&&_d.allocUnsafeSlow?yae.exports=p9:(gae(p9,oq),oq.Buffer=wC);function wC(t,e,r){return _d(t,e,r)}s(wC,"SafeBuffer");wC.prototype=Object.create(_d.prototype);gae(_d,wC);wC.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return _d(t,e,r)};wC.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=_d(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};wC.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return _d(t)};wC.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return p9.SlowBuffer(t)}});var sq=q((L6t,Cae)=>{f();var m9=ex().Buffer,aRe=require("stream"),cRe=require("util");function g9(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=m9.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=m9.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}s(g9,"DataStream");cRe.inherits(g9,aRe);g9.prototype.write=s(function(e){this.buffer=m9.concat([this.buffer,m9.from(e)]),this.emit("data",e)},"write");g9.prototype.end=s(function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},"end");Cae.exports=g9});var Iae=q((U6t,Eae)=>{"use strict";f();function aq(t){var e=(t/8|0)+(t%8===0?0:1);return e}s(aq,"getParamSize");var lRe={ES256:aq(256),ES384:aq(384),ES512:aq(521)};function uRe(t){var e=lRe[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}s(uRe,"getParamBytesForAlg");Eae.exports=uRe});var Sae=q((G6t,wae)=>{"use strict";f();var y9=ex().Buffer,vae=Iae(),C9=128,bae=0,fRe=32,dRe=16,ARe=2,Tae=dRe|fRe|bae<<6,E9=ARe|bae<<6;function hRe(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}s(hRe,"base64Url");function _ae(t){if(y9.isBuffer(t))return t;if(typeof t=="string")return y9.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}s(_ae,"signatureAsBuffer");function pRe(t,e){t=_ae(t);var r=vae(e),n=r+1,o=t.length,a=0;if(t[a++]!==Tae)throw new Error('Could not find expected "seq"');var c=t[a++];if(c===(C9|1)&&(c=t[a++]),o-a<c)throw new Error('"seq" specified length of "'+c+'", only "'+(o-a)+'" remaining');if(t[a++]!==E9)throw new Error('Could not find expected "int" for "r"');var l=t[a++];if(o-a-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(o-a-2)+'" available');if(n<l)throw new Error('"r" specified length of "'+l+'", max of "'+n+'" is acceptable');var u=a;if(a+=l,t[a++]!==E9)throw new Error('Could not find expected "int" for "s"');var d=t[a++];if(o-a!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(o-a)+'"');if(n<d)throw new Error('"s" specified length of "'+d+'", max of "'+n+'" is acceptable');var A=a;if(a+=d,a!==o)throw new Error('Expected to consume entire buffer, but "'+(o-a)+'" bytes remain');var h=r-l,p=r-d,y=y9.allocUnsafe(h+l+p+d);for(a=0;a<h;++a)y[a]=0;t.copy(y,a,u+Math.max(-h,0),u+l),a=r;for(var E=a;a<E+p;++a)y[a]=0;return t.copy(y,a,A+Math.max(-p,0),A+d),y=y.toString("base64"),y=hRe(y),y}s(pRe,"derToJose");function xae(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var o=t[e+n]>=C9;return o&&--n,n}s(xae,"countPadding");function mRe(t,e){t=_ae(t);var r=vae(e),n=t.length;if(n!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var o=xae(t,0,r),a=xae(t,r,t.length),c=r-o,l=r-a,u=2+c+1+1+l,d=u<C9,A=y9.allocUnsafe((d?2:3)+u),h=0;return A[h++]=Tae,d?A[h++]=u:(A[h++]=C9|1,A[h++]=u&255),A[h++]=E9,A[h++]=c,o<0?(A[h++]=0,h+=t.copy(A,h,0,r)):h+=t.copy(A,h,o,r),A[h++]=E9,A[h++]=l,a<0?(A[h++]=0,t.copy(A,h,r)):t.copy(A,h,r+a),A}s(mRe,"joseToDer");wae.exports={derToJose:pRe,joseToDer:mRe}});var Rae=q((Y6t,Bae)=>{"use strict";f();var u4=require("buffer").Buffer,cq=require("buffer").SlowBuffer;Bae.exports=I9;function I9(t,e){if(!u4.isBuffer(t)||!u4.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}s(I9,"bufferEq");I9.install=function(){u4.prototype.equal=cq.prototype.equal=s(function(e){return I9(this,e)},"equal")};var gRe=u4.prototype.equal,yRe=cq.prototype.equal;I9.restore=function(){u4.prototype.equal=gRe,cq.prototype.equal=yRe}});var dq=q((j6t,Oae)=>{f();var rx=ex().Buffer,Fl=require("crypto"),Dae=Sae(),kae=require("util"),CRe=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,f4="secret must be a string or buffer",tx="key must be a string or a buffer",ERe="key must be a string, a buffer or an object",uq=typeof Fl.createPublicKey=="function";uq&&(tx+=" or a KeyObject",f4+="or a KeyObject");function Nae(t){if(!rx.isBuffer(t)&&typeof t!="string"&&(!uq||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw $u(tx)}s(Nae,"checkIsPublicKey");function Qae(t){if(!rx.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw $u(ERe)}s(Qae,"checkIsPrivateKey");function IRe(t){if(!rx.isBuffer(t)){if(typeof t=="string")return t;if(!uq||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw $u(f4)}}s(IRe,"checkIsSecretKey");function fq(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}s(fq,"fromBase64");function Pae(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}s(Pae,"toBase64");function $u(t){var e=[].slice.call(arguments,1),r=kae.format.bind(kae,t).apply(null,e);return new TypeError(r)}s($u,"typeError");function xRe(t){return rx.isBuffer(t)||typeof t=="string"}s(xRe,"bufferOrString");function d4(t){return xRe(t)||(t=JSON.stringify(t)),t}s(d4,"normalizeInput");function Fae(t){return s(function(r,n){IRe(n),r=d4(r);var o=Fl.createHmac("sha"+t,n),a=(o.update(r),o.digest("base64"));return fq(a)},"sign")}s(Fae,"createHmacSigner");var lq,vRe="timingSafeEqual"in Fl?s(function(e,r){return e.byteLength!==r.byteLength?!1:Fl.timingSafeEqual(e,r)},"timingSafeEqual"):s(function(e,r){return lq||(lq=Rae()),lq(e,r)},"timingSafeEqual");function bRe(t){return s(function(r,n,o){var a=Fae(t)(r,o);return vRe(rx.from(n),rx.from(a))},"verify")}s(bRe,"createHmacVerifier");function Lae(t){return s(function(r,n){Qae(n),r=d4(r);var o=Fl.createSign("RSA-SHA"+t),a=(o.update(r),o.sign(n,"base64"));return fq(a)},"sign")}s(Lae,"createKeySigner");function Mae(t){return s(function(r,n,o){Nae(o),r=d4(r),n=Pae(n);var a=Fl.createVerify("RSA-SHA"+t);return a.update(r),a.verify(o,n,"base64")},"verify")}s(Mae,"createKeyVerifier");function TRe(t){return s(function(r,n){Qae(n),r=d4(r);var o=Fl.createSign("RSA-SHA"+t),a=(o.update(r),o.sign({key:n,padding:Fl.constants.RSA_PKCS1_PSS_PADDING,saltLength:Fl.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return fq(a)},"sign")}s(TRe,"createPSSKeySigner");function _Re(t){return s(function(r,n,o){Nae(o),r=d4(r),n=Pae(n);var a=Fl.createVerify("RSA-SHA"+t);return a.update(r),a.verify({key:o,padding:Fl.constants.RSA_PKCS1_PSS_PADDING,saltLength:Fl.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")},"verify")}s(_Re,"createPSSKeyVerifier");function wRe(t){var e=Lae(t);return s(function(){var n=e.apply(null,arguments);return n=Dae.derToJose(n,"ES"+t),n},"sign")}s(wRe,"createECDSASigner");function SRe(t){var e=Mae(t);return s(function(n,o,a){o=Dae.joseToDer(o,"ES"+t).toString("base64");var c=e(n,o,a);return c},"verify")}s(SRe,"createECDSAVerifer");function BRe(){return s(function(){return""},"sign")}s(BRe,"createNoneSigner");function RRe(){return s(function(e,r){return r===""},"verify")}s(RRe,"createNoneVerifier");Oae.exports=s(function(e){var r={hs:Fae,rs:Lae,ps:TRe,es:wRe,none:BRe},n={hs:bRe,rs:Mae,ps:_Re,es:SRe,none:RRe},o=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!o)throw $u(CRe,e);var a=(o[1]||o[3]).toLowerCase(),c=o[2];return{sign:r[a](c),verify:n[a](c)}},"jwa")});var Aq=q((X6t,Uae)=>{f();var kRe=require("buffer").Buffer;Uae.exports=s(function(e){return typeof e=="string"?e:typeof e=="number"||kRe.isBuffer(e)?e.toString():JSON.stringify(e)},"toString")});var Yae=q((tRt,Wae)=>{f();var DRe=ex().Buffer,Hae=sq(),NRe=dq(),QRe=require("stream"),qae=Aq(),hq=require("util");function Gae(t,e){return DRe.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}s(Gae,"base64url");function PRe(t,e,r){r=r||"utf8";var n=Gae(qae(t),"binary"),o=Gae(qae(e),r);return hq.format("%s.%s",n,o)}s(PRe,"jwsSecuredInput");function Vae(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,o=t.encoding,a=NRe(e.alg),c=PRe(e,r,o),l=a.sign(c,n);return hq.format("%s.%s",c,l)}s(Vae,"jwsSign");function x9(t){var e=t.secret||t.privateKey||t.key,r=new Hae(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new Hae(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}s(x9,"SignStream");hq.inherits(x9,QRe);x9.prototype.sign=s(function(){try{var e=Vae({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},"sign");x9.sign=Vae;Wae.exports=x9});var r0e=q((iRt,t0e)=>{f();var zae=ex().Buffer,$ae=sq(),FRe=dq(),LRe=require("stream"),jae=Aq(),MRe=require("util"),ORe=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function URe(t){return Object.prototype.toString.call(t)==="[object Object]"}s(URe,"isObject");function HRe(t){if(URe(t))return t;try{return JSON.parse(t)}catch{return}}s(HRe,"safeJsonParse");function Kae(t){var e=t.split(".",1)[0];return HRe(zae.from(e,"base64").toString("binary"))}s(Kae,"headerFromJWS");function qRe(t){return t.split(".",2).join(".")}s(qRe,"securedInputFromJWS");function Jae(t){return t.split(".")[2]}s(Jae,"signatureFromJWS");function GRe(t,e){e=e||"utf8";var r=t.split(".")[1];return zae.from(r,"base64").toString(e)}s(GRe,"payloadFromJWS");function Xae(t){return ORe.test(t)&&!!Kae(t)}s(Xae,"isValidJws");function Zae(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=jae(t);var o=Jae(t),a=qRe(t),c=FRe(e);return c.verify(a,o,r)}s(Zae,"jwsVerify");function e0e(t,e){if(e=e||{},t=jae(t),!Xae(t))return null;var r=Kae(t);if(!r)return null;var n=GRe(t);return(r.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:Jae(t)}}s(e0e,"jwsDecode");function nx(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new $ae(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new $ae(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}s(nx,"VerifyStream");MRe.inherits(nx,LRe);nx.prototype.verify=s(function(){try{var e=Zae(this.signature.buffer,this.algorithm,this.key.buffer),r=e0e(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}},"verify");nx.decode=e0e;nx.isValid=Xae;nx.verify=Zae;t0e.exports=nx});var b9=q(fg=>{f();var n0e=Yae(),v9=r0e(),VRe=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];fg.ALGORITHMS=VRe;fg.sign=n0e.sign;fg.verify=v9.verify;fg.decode=v9.decode;fg.isValid=v9.isValid;fg.createSign=s(function(e){return new n0e(e)},"createSign");fg.createVerify=s(function(e){return new v9(e)},"createVerify")});var pq=q((uRt,i0e)=>{f();var WRe=b9();i0e.exports=function(t,e){e=e||{};var r=WRe.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var o=JSON.parse(n);o!==null&&typeof o=="object"&&(n=o)}catch{}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var A4=q((dRt,o0e)=>{f();var T9=s(function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)},"JsonWebTokenError");T9.prototype=Object.create(Error.prototype);T9.prototype.constructor=T9;o0e.exports=T9});var mq=q((pRt,a0e)=>{f();var s0e=A4(),_9=s(function(t,e){s0e.call(this,t),this.name="NotBeforeError",this.date=e},"NotBeforeError");_9.prototype=Object.create(s0e.prototype);_9.prototype.constructor=_9;a0e.exports=_9});var gq=q((yRt,l0e)=>{f();var c0e=A4(),w9=s(function(t,e){c0e.call(this,t),this.name="TokenExpiredError",this.expiredAt=e},"TokenExpiredError");w9.prototype=Object.create(c0e.prototype);w9.prototype.constructor=w9;l0e.exports=w9});var yq=q((IRt,u0e)=>{f();var ix=1e3,ox=ix*60,sx=ox*60,SC=sx*24,YRe=SC*7,$Re=SC*365.25;u0e.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return zRe(t);if(r==="number"&&isFinite(t))return e.long?KRe(t):jRe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function zRe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*$Re;case"weeks":case"week":case"w":return r*YRe;case"days":case"day":case"d":return r*SC;case"hours":case"hour":case"hrs":case"hr":case"h":return r*sx;case"minutes":case"minute":case"mins":case"min":case"m":return r*ox;case"seconds":case"second":case"secs":case"sec":case"s":return r*ix;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}s(zRe,"parse");function jRe(t){var e=Math.abs(t);return e>=SC?Math.round(t/SC)+"d":e>=sx?Math.round(t/sx)+"h":e>=ox?Math.round(t/ox)+"m":e>=ix?Math.round(t/ix)+"s":t+"ms"}s(jRe,"fmtShort");function KRe(t){var e=Math.abs(t);return e>=SC?S9(t,e,SC,"day"):e>=sx?S9(t,e,sx,"hour"):e>=ox?S9(t,e,ox,"minute"):e>=ix?S9(t,e,ix,"second"):t+" ms"}s(KRe,"fmtLong");function S9(t,e,r,n){var o=e>=r*1.5;return Math.round(t/r)+" "+n+(o?"s":"")}s(S9,"plural")});var Cq=q((bRt,f0e)=>{f();var JRe=yq();f0e.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var n=JRe(t);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof t=="number"?r+t:void 0}});var h4=q((_Rt,d0e)=>{"use strict";f();var XRe="2.0.0",ZRe=Number.MAX_SAFE_INTEGER||9007199254740991,e9e=16,t9e=250,r9e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];d0e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:e9e,MAX_SAFE_BUILD_LENGTH:t9e,MAX_SAFE_INTEGER:ZRe,RELEASE_TYPES:r9e,SEMVER_SPEC_VERSION:XRe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var p4=q((SRt,A0e)=>{"use strict";f();var n9e=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};A0e.exports=n9e});var ax=q((wd,h0e)=>{"use strict";f();var{MAX_SAFE_COMPONENT_LENGTH:Eq,MAX_SAFE_BUILD_LENGTH:i9e,MAX_LENGTH:o9e}=h4(),s9e=p4();wd=h0e.exports={};var a9e=wd.re=[],c9e=wd.safeRe=[],Qt=wd.src=[],l9e=wd.safeSrc=[],Pt=wd.t={},u9e=0,Iq="[a-zA-Z0-9-]",f9e=[["\\s",1],["\\d",o9e],[Iq,i9e]],d9e=s(t=>{for(let[e,r]of f9e)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},"makeSafeRegex"),Wr=s((t,e,r)=>{let n=d9e(e),o=u9e++;s9e(t,o,e),Pt[t]=o,Qt[o]=e,l9e[o]=n,a9e[o]=new RegExp(e,r?"g":void 0),c9e[o]=new RegExp(n,r?"g":void 0)},"createToken");Wr("NUMERICIDENTIFIER","0|[1-9]\\d*");Wr("NUMERICIDENTIFIERLOOSE","\\d+");Wr("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Iq}*`);Wr("MAINVERSION",`(${Qt[Pt.NUMERICIDENTIFIER]})\\.(${Qt[Pt.NUMERICIDENTIFIER]})\\.(${Qt[Pt.NUMERICIDENTIFIER]})`);Wr("MAINVERSIONLOOSE",`(${Qt[Pt.NUMERICIDENTIFIERLOOSE]})\\.(${Qt[Pt.NUMERICIDENTIFIERLOOSE]})\\.(${Qt[Pt.NUMERICIDENTIFIERLOOSE]})`);Wr("PRERELEASEIDENTIFIER",`(?:${Qt[Pt.NONNUMERICIDENTIFIER]}|${Qt[Pt.NUMERICIDENTIFIER]})`);Wr("PRERELEASEIDENTIFIERLOOSE",`(?:${Qt[Pt.NONNUMERICIDENTIFIER]}|${Qt[Pt.NUMERICIDENTIFIERLOOSE]})`);Wr("PRERELEASE",`(?:-(${Qt[Pt.PRERELEASEIDENTIFIER]}(?:\\.${Qt[Pt.PRERELEASEIDENTIFIER]})*))`);Wr("PRERELEASELOOSE",`(?:-?(${Qt[Pt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Qt[Pt.PRERELEASEIDENTIFIERLOOSE]})*))`);Wr("BUILDIDENTIFIER",`${Iq}+`);Wr("BUILD",`(?:\\+(${Qt[Pt.BUILDIDENTIFIER]}(?:\\.${Qt[Pt.BUILDIDENTIFIER]})*))`);Wr("FULLPLAIN",`v?${Qt[Pt.MAINVERSION]}${Qt[Pt.PRERELEASE]}?${Qt[Pt.BUILD]}?`);Wr("FULL",`^${Qt[Pt.FULLPLAIN]}$`);Wr("LOOSEPLAIN",`[v=\\s]*${Qt[Pt.MAINVERSIONLOOSE]}${Qt[Pt.PRERELEASELOOSE]}?${Qt[Pt.BUILD]}?`);Wr("LOOSE",`^${Qt[Pt.LOOSEPLAIN]}$`);Wr("GTLT","((?:<|>)?=?)");Wr("XRANGEIDENTIFIERLOOSE",`${Qt[Pt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Wr("XRANGEIDENTIFIER",`${Qt[Pt.NUMERICIDENTIFIER]}|x|X|\\*`);Wr("XRANGEPLAIN",`[v=\\s]*(${Qt[Pt.XRANGEIDENTIFIER]})(?:\\.(${Qt[Pt.XRANGEIDENTIFIER]})(?:\\.(${Qt[Pt.XRANGEIDENTIFIER]})(?:${Qt[Pt.PRERELEASE]})?${Qt[Pt.BUILD]}?)?)?`);Wr("XRANGEPLAINLOOSE",`[v=\\s]*(${Qt[Pt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Qt[Pt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Qt[Pt.XRANGEIDENTIFIERLOOSE]})(?:${Qt[Pt.PRERELEASELOOSE]})?${Qt[Pt.BUILD]}?)?)?`);Wr("XRANGE",`^${Qt[Pt.GTLT]}\\s*${Qt[Pt.XRANGEPLAIN]}$`);Wr("XRANGELOOSE",`^${Qt[Pt.GTLT]}\\s*${Qt[Pt.XRANGEPLAINLOOSE]}$`);Wr("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Eq}})(?:\\.(\\d{1,${Eq}}))?(?:\\.(\\d{1,${Eq}}))?`);Wr("COERCE",`${Qt[Pt.COERCEPLAIN]}(?:$|[^\\d])`);Wr("COERCEFULL",Qt[Pt.COERCEPLAIN]+`(?:${Qt[Pt.PRERELEASE]})?(?:${Qt[Pt.BUILD]})?(?:$|[^\\d])`);Wr("COERCERTL",Qt[Pt.COERCE],!0);Wr("COERCERTLFULL",Qt[Pt.COERCEFULL],!0);Wr("LONETILDE","(?:~>?)");Wr("TILDETRIM",`(\\s*)${Qt[Pt.LONETILDE]}\\s+`,!0);wd.tildeTrimReplace="$1~";Wr("TILDE",`^${Qt[Pt.LONETILDE]}${Qt[Pt.XRANGEPLAIN]}$`);Wr("TILDELOOSE",`^${Qt[Pt.LONETILDE]}${Qt[Pt.XRANGEPLAINLOOSE]}$`);Wr("LONECARET","(?:\\^)");Wr("CARETTRIM",`(\\s*)${Qt[Pt.LONECARET]}\\s+`,!0);wd.caretTrimReplace="$1^";Wr("CARET",`^${Qt[Pt.LONECARET]}${Qt[Pt.XRANGEPLAIN]}$`);Wr("CARETLOOSE",`^${Qt[Pt.LONECARET]}${Qt[Pt.XRANGEPLAINLOOSE]}$`);Wr("COMPARATORLOOSE",`^${Qt[Pt.GTLT]}\\s*(${Qt[Pt.LOOSEPLAIN]})$|^$`);Wr("COMPARATOR",`^${Qt[Pt.GTLT]}\\s*(${Qt[Pt.FULLPLAIN]})$|^$`);Wr("COMPARATORTRIM",`(\\s*)${Qt[Pt.GTLT]}\\s*(${Qt[Pt.LOOSEPLAIN]}|${Qt[Pt.XRANGEPLAIN]})`,!0);wd.comparatorTrimReplace="$1$2$3";Wr("HYPHENRANGE",`^\\s*(${Qt[Pt.XRANGEPLAIN]})\\s+-\\s+(${Qt[Pt.XRANGEPLAIN]})\\s*$`);Wr("HYPHENRANGELOOSE",`^\\s*(${Qt[Pt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Qt[Pt.XRANGEPLAINLOOSE]})\\s*$`);Wr("STAR","(<|>)?=?\\s*\\*");Wr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Wr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var B9=q((DRt,p0e)=>{"use strict";f();var A9e=Object.freeze({loose:!0}),h9e=Object.freeze({}),p9e=s(t=>t?typeof t!="object"?A9e:t:h9e,"parseOptions");p0e.exports=p9e});var xq=q((PRt,y0e)=>{"use strict";f();var m0e=/^[0-9]+$/,g0e=s((t,e)=>{let r=m0e.test(t),n=m0e.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),m9e=s((t,e)=>g0e(e,t),"rcompareIdentifiers");y0e.exports={compareIdentifiers:g0e,rcompareIdentifiers:m9e}});var Ya=q((MRt,E0e)=>{"use strict";f();var R9=p4(),{MAX_LENGTH:C0e,MAX_SAFE_INTEGER:k9}=h4(),{safeRe:D9,t:N9}=ax(),g9e=B9(),{compareIdentifiers:cx}=xq(),vq=class t{static{s(this,"SemVer")}constructor(e,r){if(r=g9e(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>C0e)throw new TypeError(`version is longer than ${C0e} characters`);R9("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?D9[N9.LOOSE]:D9[N9.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>k9||this.major<0)throw new TypeError("Invalid major version");if(this.minor>k9||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>k9||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let a=+o;if(a>=0&&a<k9)return a}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(R9("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),cx(this.major,e.major)||cx(this.minor,e.minor)||cx(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=e.prerelease[r];if(R9("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return cx(n,o)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],o=e.build[r];if(R9("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return cx(n,o)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let o=`-${r}`.match(this.options.loose?D9[N9.PRERELEASELOOSE]:D9[N9.PRERELEASE]);if(!o||o[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[o];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let a=[r,o];n===!1&&(a=[r]),cx(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};E0e.exports=vq});var BC=q((HRt,x0e)=>{"use strict";f();var I0e=Ya(),y9e=s((t,e,r=!1)=>{if(t instanceof I0e)return t;try{return new I0e(t,e)}catch(n){if(!r)return null;throw n}},"parse");x0e.exports=y9e});var b0e=q((VRt,v0e)=>{"use strict";f();var C9e=BC(),E9e=s((t,e)=>{let r=C9e(t,e);return r?r.version:null},"valid");v0e.exports=E9e});var _0e=q(($Rt,T0e)=>{"use strict";f();var I9e=BC(),x9e=s((t,e)=>{let r=I9e(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");T0e.exports=x9e});var B0e=q((KRt,S0e)=>{"use strict";f();var w0e=Ya(),v9e=s((t,e,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new w0e(t instanceof w0e?t.version:t,r).inc(e,n,o).version}catch{return null}},"inc");S0e.exports=v9e});var D0e=q((ZRt,k0e)=>{"use strict";f();var R0e=BC(),b9e=s((t,e)=>{let r=R0e(t,null,!0),n=R0e(e,null,!0),o=r.compare(n);if(o===0)return null;let a=o>0,c=a?r:n,l=a?n:r,u=!!c.prerelease.length;if(!!l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(l.compareMain(c)===0)return l.minor&&!l.patch?"minor":"patch"}let A=u?"pre":"";return r.major!==n.major?A+"major":r.minor!==n.minor?A+"minor":r.patch!==n.patch?A+"patch":"prerelease"},"diff");k0e.exports=b9e});var Q0e=q((r9t,N0e)=>{"use strict";f();var T9e=Ya(),_9e=s((t,e)=>new T9e(t,e).major,"major");N0e.exports=_9e});var F0e=q((o9t,P0e)=>{"use strict";f();var w9e=Ya(),S9e=s((t,e)=>new w9e(t,e).minor,"minor");P0e.exports=S9e});var M0e=q((c9t,L0e)=>{"use strict";f();var B9e=Ya(),R9e=s((t,e)=>new B9e(t,e).patch,"patch");L0e.exports=R9e});var U0e=q((f9t,O0e)=>{"use strict";f();var k9e=BC(),D9e=s((t,e)=>{let r=k9e(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");O0e.exports=D9e});var Ll=q((h9t,q0e)=>{"use strict";f();var H0e=Ya(),N9e=s((t,e,r)=>new H0e(t,r).compare(new H0e(e,r)),"compare");q0e.exports=N9e});var V0e=q((g9t,G0e)=>{"use strict";f();var Q9e=Ll(),P9e=s((t,e,r)=>Q9e(e,t,r),"rcompare");G0e.exports=P9e});var Y0e=q((E9t,W0e)=>{"use strict";f();var F9e=Ll(),L9e=s((t,e)=>F9e(t,e,!0),"compareLoose");W0e.exports=L9e});var Q9=q((v9t,z0e)=>{"use strict";f();var $0e=Ya(),M9e=s((t,e,r)=>{let n=new $0e(t,r),o=new $0e(e,r);return n.compare(o)||n.compareBuild(o)},"compareBuild");z0e.exports=M9e});var K0e=q((_9t,j0e)=>{"use strict";f();var O9e=Q9(),U9e=s((t,e)=>t.sort((r,n)=>O9e(r,n,e)),"sort");j0e.exports=U9e});var X0e=q((B9t,J0e)=>{"use strict";f();var H9e=Q9(),q9e=s((t,e)=>t.sort((r,n)=>H9e(n,r,e)),"rsort");J0e.exports=q9e});var m4=q((D9t,Z0e)=>{"use strict";f();var G9e=Ll(),V9e=s((t,e,r)=>G9e(t,e,r)>0,"gt");Z0e.exports=V9e});var P9=q((P9t,ece)=>{"use strict";f();var W9e=Ll(),Y9e=s((t,e,r)=>W9e(t,e,r)<0,"lt");ece.exports=Y9e});var bq=q((M9t,tce)=>{"use strict";f();var $9e=Ll(),z9e=s((t,e,r)=>$9e(t,e,r)===0,"eq");tce.exports=z9e});var Tq=q((H9t,rce)=>{"use strict";f();var j9e=Ll(),K9e=s((t,e,r)=>j9e(t,e,r)!==0,"neq");rce.exports=K9e});var F9=q((V9t,nce)=>{"use strict";f();var J9e=Ll(),X9e=s((t,e,r)=>J9e(t,e,r)>=0,"gte");nce.exports=X9e});var L9=q(($9t,ice)=>{"use strict";f();var Z9e=Ll(),e7e=s((t,e,r)=>Z9e(t,e,r)<=0,"lte");ice.exports=e7e});var _q=q((K9t,oce)=>{"use strict";f();var t7e=bq(),r7e=Tq(),n7e=m4(),i7e=F9(),o7e=P9(),s7e=L9(),a7e=s((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return t7e(t,r,n);case"!=":return r7e(t,r,n);case">":return n7e(t,r,n);case">=":return i7e(t,r,n);case"<":return o7e(t,r,n);case"<=":return s7e(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");oce.exports=a7e});var ace=q((Z9t,sce)=>{"use strict";f();var c7e=Ya(),l7e=BC(),{safeRe:M9,t:O9}=ax(),u7e=s((t,e)=>{if(t instanceof c7e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?M9[O9.COERCEFULL]:M9[O9.COERCE]);else{let u=e.includePrerelease?M9[O9.COERCERTLFULL]:M9[O9.COERCERTL],d;for(;(d=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),u.lastIndex=d.index+d[1].length+d[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],o=r[3]||"0",a=r[4]||"0",c=e.includePrerelease&&r[5]?`-${r[5]}`:"",l=e.includePrerelease&&r[6]?`+${r[6]}`:"";return l7e(`${n}.${o}.${a}${c}${l}`,e)},"coerce");sce.exports=u7e});var lce=q((r7t,cce)=>{"use strict";f();var wq=class{static{s(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(e,r)}return this}};cce.exports=wq});var Ml=q((o7t,Ace)=>{"use strict";f();var f7e=/\s+/g,Sq=class t{static{s(this,"Range")}constructor(e,r){if(r=A7e(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Bq)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(f7e," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!fce(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&E7e(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&y7e)|(this.options.loose&&C7e))+":"+e,o=uce.get(n);if(o)return o;let a=this.options.loose,c=a?tc[g0.HYPHENRANGELOOSE]:tc[g0.HYPHENRANGE];e=e.replace(c,R7e(this.options.includePrerelease)),Ki("hyphen replace",e),e=e.replace(tc[g0.COMPARATORTRIM],p7e),Ki("comparator trim",e),e=e.replace(tc[g0.TILDETRIM],m7e),Ki("tilde trim",e),e=e.replace(tc[g0.CARETTRIM],g7e),Ki("caret trim",e);let l=e.split(" ").map(h=>I7e(h,this.options)).join(" ").split(/\s+/).map(h=>B7e(h,this.options));a&&(l=l.filter(h=>(Ki("loose invalid filter",h,this.options),!!h.match(tc[g0.COMPARATORLOOSE])))),Ki("range list",l);let u=new Map,d=l.map(h=>new Bq(h,this.options));for(let h of d){if(fce(h))return[h];u.set(h.value,h)}u.size>1&&u.has("")&&u.delete("");let A=[...u.values()];return uce.set(n,A),A}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>dce(n,r)&&e.set.some(o=>dce(o,r)&&n.every(a=>o.every(c=>a.intersects(c,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new h7e(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(k7e(this.set[r],e,this.options))return!0;return!1}};Ace.exports=Sq;var d7e=lce(),uce=new d7e,A7e=B9(),Bq=g4(),Ki=p4(),h7e=Ya(),{safeRe:tc,t:g0,comparatorTrimReplace:p7e,tildeTrimReplace:m7e,caretTrimReplace:g7e}=ax(),{FLAG_INCLUDE_PRERELEASE:y7e,FLAG_LOOSE:C7e}=h4(),fce=s(t=>t.value==="<0.0.0-0","isNullSet"),E7e=s(t=>t.value==="","isAny"),dce=s((t,e)=>{let r=!0,n=t.slice(),o=n.pop();for(;r&&n.length;)r=n.every(a=>o.intersects(a,e)),o=n.pop();return r},"isSatisfiable"),I7e=s((t,e)=>(Ki("comp",t,e),t=b7e(t,e),Ki("caret",t),t=x7e(t,e),Ki("tildes",t),t=_7e(t,e),Ki("xrange",t),t=S7e(t,e),Ki("stars",t),t),"parseComparator"),y0=s(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),x7e=s((t,e)=>t.trim().split(/\s+/).map(r=>v7e(r,e)).join(" "),"replaceTildes"),v7e=s((t,e)=>{let r=e.loose?tc[g0.TILDELOOSE]:tc[g0.TILDE];return t.replace(r,(n,o,a,c,l)=>{Ki("tilde",t,n,o,a,c,l);let u;return y0(o)?u="":y0(a)?u=`>=${o}.0.0 <${+o+1}.0.0-0`:y0(c)?u=`>=${o}.${a}.0 <${o}.${+a+1}.0-0`:l?(Ki("replaceTilde pr",l),u=`>=${o}.${a}.${c}-${l} <${o}.${+a+1}.0-0`):u=`>=${o}.${a}.${c} <${o}.${+a+1}.0-0`,Ki("tilde return",u),u})},"replaceTilde"),b7e=s((t,e)=>t.trim().split(/\s+/).map(r=>T7e(r,e)).join(" "),"replaceCarets"),T7e=s((t,e)=>{Ki("caret",t,e);let r=e.loose?tc[g0.CARETLOOSE]:tc[g0.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(o,a,c,l,u)=>{Ki("caret",t,o,a,c,l,u);let d;return y0(a)?d="":y0(c)?d=`>=${a}.0.0${n} <${+a+1}.0.0-0`:y0(l)?a==="0"?d=`>=${a}.${c}.0${n} <${a}.${+c+1}.0-0`:d=`>=${a}.${c}.0${n} <${+a+1}.0.0-0`:u?(Ki("replaceCaret pr",u),a==="0"?c==="0"?d=`>=${a}.${c}.${l}-${u} <${a}.${c}.${+l+1}-0`:d=`>=${a}.${c}.${l}-${u} <${a}.${+c+1}.0-0`:d=`>=${a}.${c}.${l}-${u} <${+a+1}.0.0-0`):(Ki("no pr"),a==="0"?c==="0"?d=`>=${a}.${c}.${l}${n} <${a}.${c}.${+l+1}-0`:d=`>=${a}.${c}.${l}${n} <${a}.${+c+1}.0-0`:d=`>=${a}.${c}.${l} <${+a+1}.0.0-0`),Ki("caret return",d),d})},"replaceCaret"),_7e=s((t,e)=>(Ki("replaceXRanges",t,e),t.split(/\s+/).map(r=>w7e(r,e)).join(" ")),"replaceXRanges"),w7e=s((t,e)=>{t=t.trim();let r=e.loose?tc[g0.XRANGELOOSE]:tc[g0.XRANGE];return t.replace(r,(n,o,a,c,l,u)=>{Ki("xRange",t,n,o,a,c,l,u);let d=y0(a),A=d||y0(c),h=A||y0(l),p=h;return o==="="&&p&&(o=""),u=e.includePrerelease?"-0":"",d?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&p?(A&&(c=0),l=0,o===">"?(o=">=",A?(a=+a+1,c=0,l=0):(c=+c+1,l=0)):o==="<="&&(o="<",A?a=+a+1:c=+c+1),o==="<"&&(u="-0"),n=`${o+a}.${c}.${l}${u}`):A?n=`>=${a}.0.0${u} <${+a+1}.0.0-0`:h&&(n=`>=${a}.${c}.0${u} <${a}.${+c+1}.0-0`),Ki("xRange return",n),n})},"replaceXRange"),S7e=s((t,e)=>(Ki("replaceStars",t,e),t.trim().replace(tc[g0.STAR],"")),"replaceStars"),B7e=s((t,e)=>(Ki("replaceGTE0",t,e),t.trim().replace(tc[e.includePrerelease?g0.GTE0PRE:g0.GTE0],"")),"replaceGTE0"),R7e=s(t=>(e,r,n,o,a,c,l,u,d,A,h,p)=>(y0(n)?r="":y0(o)?r=`>=${n}.0.0${t?"-0":""}`:y0(a)?r=`>=${n}.${o}.0${t?"-0":""}`:c?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,y0(d)?u="":y0(A)?u=`<${+d+1}.0.0-0`:y0(h)?u=`<${d}.${+A+1}.0-0`:p?u=`<=${d}.${A}.${h}-${p}`:t?u=`<${d}.${A}.${+h+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),"hyphenReplace"),k7e=s((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Ki(t[n].semver),t[n].semver!==Bq.ANY&&t[n].semver.prerelease.length>0){let o=t[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0},"testSet")});var g4=q((c7t,Cce)=>{"use strict";f();var y4=Symbol("SemVer ANY"),Dq=class t{static{s(this,"Comparator")}static get ANY(){return y4}constructor(e,r){if(r=hce(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),kq("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===y4?this.value="":this.value=this.operator+this.semver.version,kq("comp",this)}parse(e){let r=this.options.loose?pce[mce.COMPARATORLOOSE]:pce[mce.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new gce(n[2],this.options.loose):this.semver=y4}toString(){return this.value}test(e){if(kq("Comparator.test",e,this.options.loose),this.semver===y4||e===y4)return!0;if(typeof e=="string")try{e=new gce(e,this.options)}catch{return!1}return Rq(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new yce(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new yce(this.value,r).test(e.semver):(r=hce(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Rq(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Rq(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Cce.exports=Dq;var hce=B9(),{safeRe:pce,t:mce}=ax(),Rq=_q(),kq=p4(),gce=Ya(),yce=Ml()});var C4=q((f7t,Ece)=>{"use strict";f();var D7e=Ml(),N7e=s((t,e,r)=>{try{e=new D7e(e,r)}catch{return!1}return e.test(t)},"satisfies");Ece.exports=N7e});var xce=q((h7t,Ice)=>{"use strict";f();var Q7e=Ml(),P7e=s((t,e)=>new Q7e(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");Ice.exports=P7e});var bce=q((g7t,vce)=>{"use strict";f();var F7e=Ya(),L7e=Ml(),M7e=s((t,e,r)=>{let n=null,o=null,a=null;try{a=new L7e(e,r)}catch{return null}return t.forEach(c=>{a.test(c)&&(!n||o.compare(c)===-1)&&(n=c,o=new F7e(n,r))}),n},"maxSatisfying");vce.exports=M7e});var _ce=q((E7t,Tce)=>{"use strict";f();var O7e=Ya(),U7e=Ml(),H7e=s((t,e,r)=>{let n=null,o=null,a=null;try{a=new U7e(e,r)}catch{return null}return t.forEach(c=>{a.test(c)&&(!n||o.compare(c)===1)&&(n=c,o=new O7e(n,r))}),n},"minSatisfying");Tce.exports=H7e});var Bce=q((v7t,Sce)=>{"use strict";f();var Nq=Ya(),q7e=Ml(),wce=m4(),G7e=s((t,e)=>{t=new q7e(t,e);let r=new Nq("0.0.0");if(t.test(r)||(r=new Nq("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let o=t.set[n],a=null;o.forEach(c=>{let l=new Nq(c.semver.version);switch(c.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!a||wce(l,a))&&(a=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),a&&(!r||wce(r,a))&&(r=a)}return r&&t.test(r)?r:null},"minVersion");Sce.exports=G7e});var kce=q((_7t,Rce)=>{"use strict";f();var V7e=Ml(),W7e=s((t,e)=>{try{return new V7e(t,e).range||"*"}catch{return null}},"validRange");Rce.exports=W7e});var U9=q((B7t,Pce)=>{"use strict";f();var Y7e=Ya(),Qce=g4(),{ANY:$7e}=Qce,z7e=Ml(),j7e=C4(),Dce=m4(),Nce=P9(),K7e=L9(),J7e=F9(),X7e=s((t,e,r,n)=>{t=new Y7e(t,n),e=new z7e(e,n);let o,a,c,l,u;switch(r){case">":o=Dce,a=K7e,c=Nce,l=">",u=">=";break;case"<":o=Nce,a=J7e,c=Dce,l="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(j7e(t,e,n))return!1;for(let d=0;d<e.set.length;++d){let A=e.set[d],h=null,p=null;if(A.forEach(y=>{y.semver===$7e&&(y=new Qce(">=0.0.0")),h=h||y,p=p||y,o(y.semver,h.semver,n)?h=y:c(y.semver,p.semver,n)&&(p=y)}),h.operator===l||h.operator===u||(!p.operator||p.operator===l)&&a(t,p.semver))return!1;if(p.operator===u&&c(t,p.semver))return!1}return!0},"outside");Pce.exports=X7e});var Lce=q((D7t,Fce)=>{"use strict";f();var Z7e=U9(),eke=s((t,e,r)=>Z7e(t,e,">",r),"gtr");Fce.exports=eke});var Oce=q((P7t,Mce)=>{"use strict";f();var tke=U9(),rke=s((t,e,r)=>tke(t,e,"<",r),"ltr");Mce.exports=rke});var qce=q((M7t,Hce)=>{"use strict";f();var Uce=Ml(),nke=s((t,e,r)=>(t=new Uce(t,r),e=new Uce(e,r),t.intersects(e,r)),"intersects");Hce.exports=nke});var Vce=q((H7t,Gce)=>{"use strict";f();var ike=C4(),oke=Ll();Gce.exports=(t,e,r)=>{let n=[],o=null,a=null,c=t.sort((A,h)=>oke(A,h,r));for(let A of c)ike(A,e,r)?(a=A,o||(o=A)):(a&&n.push([o,a]),a=null,o=null);o&&n.push([o,null]);let l=[];for(let[A,h]of n)A===h?l.push(A):!h&&A===c[0]?l.push("*"):h?A===c[0]?l.push(`<=${h}`):l.push(`${A} - ${h}`):l.push(`>=${A}`);let u=l.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return u.length<d.length?u:e}});var Kce=q((G7t,jce)=>{"use strict";f();var Wce=Ml(),Pq=g4(),{ANY:Qq}=Pq,E4=C4(),Fq=Ll(),ske=s((t,e,r={})=>{if(t===e)return!0;t=new Wce(t,r),e=new Wce(e,r);let n=!1;e:for(let o of t.set){for(let a of e.set){let c=cke(o,a,r);if(n=n||c!==null,c)continue e}if(n)return!1}return!0},"subset"),ake=[new Pq(">=0.0.0-0")],Yce=[new Pq(">=0.0.0")],cke=s((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Qq){if(e.length===1&&e[0].semver===Qq)return!0;r.includePrerelease?t=ake:t=Yce}if(e.length===1&&e[0].semver===Qq){if(r.includePrerelease)return!0;e=Yce}let n=new Set,o,a;for(let y of t)y.operator===">"||y.operator===">="?o=$ce(o,y,r):y.operator==="<"||y.operator==="<="?a=zce(a,y,r):n.add(y.semver);if(n.size>1)return null;let c;if(o&&a){if(c=Fq(o.semver,a.semver,r),c>0)return null;if(c===0&&(o.operator!==">="||a.operator!=="<="))return null}for(let y of n){if(o&&!E4(y,String(o),r)||a&&!E4(y,String(a),r))return null;for(let E of e)if(!E4(y,String(E),r))return!1;return!0}let l,u,d,A,h=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,p=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;h&&h.prerelease.length===1&&a.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(let y of e){if(A=A||y.operator===">"||y.operator===">=",d=d||y.operator==="<"||y.operator==="<=",o){if(p&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===p.major&&y.semver.minor===p.minor&&y.semver.patch===p.patch&&(p=!1),y.operator===">"||y.operator===">="){if(l=$ce(o,y,r),l===y&&l!==o)return!1}else if(o.operator===">="&&!E4(o.semver,String(y),r))return!1}if(a){if(h&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===h.major&&y.semver.minor===h.minor&&y.semver.patch===h.patch&&(h=!1),y.operator==="<"||y.operator==="<="){if(u=zce(a,y,r),u===y&&u!==a)return!1}else if(a.operator==="<="&&!E4(a.semver,String(y),r))return!1}if(!y.operator&&(a||o)&&c!==0)return!1}return!(o&&d&&!a&&c!==0||a&&A&&!o&&c!==0||p||h)},"simpleSubset"),$ce=s((t,e,r)=>{if(!t)return e;let n=Fq(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),zce=s((t,e,r)=>{if(!t)return e;let n=Fq(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");jce.exports=ske});var H9=q((Y7t,Zce)=>{"use strict";f();var Lq=ax(),Jce=h4(),lke=Ya(),Xce=xq(),uke=BC(),fke=b0e(),dke=_0e(),Ake=B0e(),hke=D0e(),pke=Q0e(),mke=F0e(),gke=M0e(),yke=U0e(),Cke=Ll(),Eke=V0e(),Ike=Y0e(),xke=Q9(),vke=K0e(),bke=X0e(),Tke=m4(),_ke=P9(),wke=bq(),Ske=Tq(),Bke=F9(),Rke=L9(),kke=_q(),Dke=ace(),Nke=g4(),Qke=Ml(),Pke=C4(),Fke=xce(),Lke=bce(),Mke=_ce(),Oke=Bce(),Uke=kce(),Hke=U9(),qke=Lce(),Gke=Oce(),Vke=qce(),Wke=Vce(),Yke=Kce();Zce.exports={parse:uke,valid:fke,clean:dke,inc:Ake,diff:hke,major:pke,minor:mke,patch:gke,prerelease:yke,compare:Cke,rcompare:Eke,compareLoose:Ike,compareBuild:xke,sort:vke,rsort:bke,gt:Tke,lt:_ke,eq:wke,neq:Ske,gte:Bke,lte:Rke,cmp:kke,coerce:Dke,Comparator:Nke,Range:Qke,satisfies:Pke,toComparators:Fke,maxSatisfying:Lke,minSatisfying:Mke,minVersion:Oke,validRange:Uke,outside:Hke,gtr:qke,ltr:Gke,intersects:Vke,simplifyRange:Wke,subset:Yke,SemVer:lke,re:Lq.re,src:Lq.src,tokens:Lq.t,SEMVER_SPEC_VERSION:Jce.SEMVER_SPEC_VERSION,RELEASE_TYPES:Jce.RELEASE_TYPES,compareIdentifiers:Xce.compareIdentifiers,rcompareIdentifiers:Xce.rcompareIdentifiers}});var tle=q((z7t,ele)=>{f();var $ke=H9();ele.exports=$ke.satisfies(process.version,">=15.7.0")});var nle=q((K7t,rle)=>{f();var zke=H9();rle.exports=zke.satisfies(process.version,">=16.9.0")});var Mq=q((X7t,ile)=>{f();var jke=tle(),Kke=nle(),Jke={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},Xke={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};ile.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let n=Jke[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(jke)switch(r){case"ec":let o=e.asymmetricKeyDetails.namedCurve,a=Xke[t];if(o!==a)throw new Error(`"alg" parameter "${t}" requires curve "${a}".`);break;case"rsa-pss":if(Kke){let c=parseInt(t.slice(-3),10),{hashAlgorithm:l,mgf1HashAlgorithm:u,saltLength:d}=e.asymmetricKeyDetails;if(l!==`sha${c}`||u!==l)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(d!==void 0&&d>c>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}}});var Oq=q((ekt,ole)=>{f();var Zke=H9();ole.exports=Zke.satisfies(process.version,"^6.12.0 || >=8.0.0")});var cle=q((rkt,ale)=>{f();var Li=A4(),eDe=mq(),sle=gq(),tDe=pq(),rDe=Cq(),nDe=Mq(),iDe=Oq(),oDe=b9(),{KeyObject:sDe,createSecretKey:aDe,createPublicKey:cDe}=require("crypto"),Uq=["RS256","RS384","RS512"],lDe=["ES256","ES384","ES512"],Hq=["RS256","RS384","RS512"],uDe=["HS256","HS384","HS512"];iDe&&(Uq.splice(Uq.length,0,"PS256","PS384","PS512"),Hq.splice(Hq.length,0,"PS256","PS384","PS512"));ale.exports=function(t,e,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let o;if(n?o=n:o=s(function(A,h){if(A)throw A;return h},"done"),r.clockTimestamp&&typeof r.clockTimestamp!="number")return o(new Li("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return o(new Li("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return o(new Li("allowInvalidAsymmetricKeyTypes must be a boolean"));let a=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return o(new Li("jwt must be provided"));if(typeof t!="string")return o(new Li("jwt must be a string"));let c=t.split(".");if(c.length!==3)return o(new Li("jwt malformed"));let l;try{l=tDe(t,{complete:!0})}catch(A){return o(A)}if(!l)return o(new Li("invalid token"));let u=l.header,d;if(typeof e=="function"){if(!n)return o(new Li("verify must be called asynchronous if secret or public key is provided as a callback"));d=e}else d=s(function(A,h){return h(null,e)},"getSecret");return d(u,function(A,h){if(A)return o(new Li("error in secret or public key callback: "+A.message));let p=c[2].trim()!=="";if(!p&&h)return o(new Li("jwt signature is required"));if(p&&!h)return o(new Li("secret or public key must be provided"));if(!p&&!r.algorithms)return o(new Li('please specify "none" in "algorithms" to verify unsigned tokens'));if(h!=null&&!(h instanceof sDe))try{h=cDe(h)}catch{try{h=aDe(typeof h=="string"?Buffer.from(h):h)}catch{return o(new Li("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(h.type==="secret"?r.algorithms=uDe:["rsa","rsa-pss"].includes(h.asymmetricKeyType)?r.algorithms=Hq:h.asymmetricKeyType==="ec"?r.algorithms=lDe:r.algorithms=Uq),r.algorithms.indexOf(l.header.alg)===-1)return o(new Li("invalid algorithm"));if(u.alg.startsWith("HS")&&h.type!=="secret")return o(new Li(`secretOrPublicKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)&&h.type!=="public")return o(new Li(`secretOrPublicKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{nDe(u.alg,h)}catch(v){return o(v)}let y;try{y=oDe.verify(t,l.header.alg,h)}catch(v){return o(v)}if(!y)return o(new Li("invalid signature"));let E=l.payload;if(typeof E.nbf<"u"&&!r.ignoreNotBefore){if(typeof E.nbf!="number")return o(new Li("invalid nbf value"));if(E.nbf>a+(r.clockTolerance||0))return o(new eDe("jwt not active",new Date(E.nbf*1e3)))}if(typeof E.exp<"u"&&!r.ignoreExpiration){if(typeof E.exp!="number")return o(new Li("invalid exp value"));if(a>=E.exp+(r.clockTolerance||0))return o(new sle("jwt expired",new Date(E.exp*1e3)))}if(r.audience){let v=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(E.aud)?E.aud:[E.aud]).some(function(S){return v.some(function(D){return D instanceof RegExp?D.test(S):D===S})}))return o(new Li("jwt audience invalid. expected: "+v.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&E.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(E.iss)===-1))return o(new Li("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&E.sub!==r.subject)return o(new Li("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&E.jti!==r.jwtid)return o(new Li("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&E.nonce!==r.nonce)return o(new Li("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof E.iat!="number")return o(new Li("iat required when maxAge is specified"));let v=rDe(r.maxAge,E.iat);if(typeof v>"u")return o(new Li('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(a>=v+(r.clockTolerance||0))return o(new sle("maxAge exceeded",new Date(v*1e3)))}if(r.complete===!0){let v=l.signature;return o(null,{header:u,payload:E,signature:v})}return o(null,E)})}});var hle=q((okt,Ale)=>{f();var lle=1/0,fle=9007199254740991,fDe=17976931348623157e292,ule=NaN,dDe="[object Arguments]",ADe="[object Function]",hDe="[object GeneratorFunction]",pDe="[object String]",mDe="[object Symbol]",gDe=/^\s+|\s+$/g,yDe=/^[-+]0x[0-9a-f]+$/i,CDe=/^0b[01]+$/i,EDe=/^0o[0-7]+$/i,IDe=/^(?:0|[1-9]\d*)$/,xDe=parseInt;function vDe(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}s(vDe,"arrayMap");function bDe(t,e,r,n){for(var o=t.length,a=r+(n?1:-1);n?a--:++a<o;)if(e(t[a],a,t))return a;return-1}s(bDe,"baseFindIndex");function TDe(t,e,r){if(e!==e)return bDe(t,_De,r);for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}s(TDe,"baseIndexOf");function _De(t){return t!==t}s(_De,"baseIsNaN");function wDe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}s(wDe,"baseTimes");function SDe(t,e){return vDe(e,function(r){return t[r]})}s(SDe,"baseValues");function BDe(t,e){return function(r){return t(e(r))}}s(BDe,"overArg");var q9=Object.prototype,Gq=q9.hasOwnProperty,G9=q9.toString,RDe=q9.propertyIsEnumerable,kDe=BDe(Object.keys,Object),DDe=Math.max;function NDe(t,e){var r=dle(t)||MDe(t)?wDe(t.length,String):[],n=r.length,o=!!n;for(var a in t)(e||Gq.call(t,a))&&!(o&&(a=="length"||PDe(a,n)))&&r.push(a);return r}s(NDe,"arrayLikeKeys");function QDe(t){if(!FDe(t))return kDe(t);var e=[];for(var r in Object(t))Gq.call(t,r)&&r!="constructor"&&e.push(r);return e}s(QDe,"baseKeys");function PDe(t,e){return e=e??fle,!!e&&(typeof t=="number"||IDe.test(t))&&t>-1&&t%1==0&&t<e}s(PDe,"isIndex");function FDe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||q9;return t===r}s(FDe,"isPrototype");function LDe(t,e,r,n){t=Vq(t)?t:zDe(t),r=r&&!n?WDe(r):0;var o=t.length;return r<0&&(r=DDe(o+r,0)),qDe(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&TDe(t,e,r)>-1}s(LDe,"includes");function MDe(t){return ODe(t)&&Gq.call(t,"callee")&&(!RDe.call(t,"callee")||G9.call(t)==dDe)}s(MDe,"isArguments");var dle=Array.isArray;function Vq(t){return t!=null&&HDe(t.length)&&!UDe(t)}s(Vq,"isArrayLike");function ODe(t){return Wq(t)&&Vq(t)}s(ODe,"isArrayLikeObject");function UDe(t){var e=qq(t)?G9.call(t):"";return e==ADe||e==hDe}s(UDe,"isFunction");function HDe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fle}s(HDe,"isLength");function qq(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}s(qq,"isObject");function Wq(t){return!!t&&typeof t=="object"}s(Wq,"isObjectLike");function qDe(t){return typeof t=="string"||!dle(t)&&Wq(t)&&G9.call(t)==pDe}s(qDe,"isString");function GDe(t){return typeof t=="symbol"||Wq(t)&&G9.call(t)==mDe}s(GDe,"isSymbol");function VDe(t){if(!t)return t===0?t:0;if(t=YDe(t),t===lle||t===-lle){var e=t<0?-1:1;return e*fDe}return t===t?t:0}s(VDe,"toFinite");function WDe(t){var e=VDe(t),r=e%1;return e===e?r?e-r:e:0}s(WDe,"toInteger");function YDe(t){if(typeof t=="number")return t;if(GDe(t))return ule;if(qq(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qq(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(gDe,"");var r=CDe.test(t);return r||EDe.test(t)?xDe(t.slice(2),r?2:8):yDe.test(t)?ule:+t}s(YDe,"toNumber");function $De(t){return Vq(t)?NDe(t):QDe(t)}s($De,"keys");function zDe(t){return t?SDe(t,$De(t)):[]}s(zDe,"values");Ale.exports=LDe});var mle=q((ckt,ple)=>{f();var jDe="[object Boolean]",KDe=Object.prototype,JDe=KDe.toString;function XDe(t){return t===!0||t===!1||ZDe(t)&&JDe.call(t)==jDe}s(XDe,"isBoolean");function ZDe(t){return!!t&&typeof t=="object"}s(ZDe,"isObjectLike");ple.exports=XDe});var Ile=q((fkt,Ele)=>{f();var gle=1/0,eNe=17976931348623157e292,yle=NaN,tNe="[object Symbol]",rNe=/^\s+|\s+$/g,nNe=/^[-+]0x[0-9a-f]+$/i,iNe=/^0b[01]+$/i,oNe=/^0o[0-7]+$/i,sNe=parseInt,aNe=Object.prototype,cNe=aNe.toString;function lNe(t){return typeof t=="number"&&t==ANe(t)}s(lNe,"isInteger");function Cle(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}s(Cle,"isObject");function uNe(t){return!!t&&typeof t=="object"}s(uNe,"isObjectLike");function fNe(t){return typeof t=="symbol"||uNe(t)&&cNe.call(t)==tNe}s(fNe,"isSymbol");function dNe(t){if(!t)return t===0?t:0;if(t=hNe(t),t===gle||t===-gle){var e=t<0?-1:1;return e*eNe}return t===t?t:0}s(dNe,"toFinite");function ANe(t){var e=dNe(t),r=e%1;return e===e?r?e-r:e:0}s(ANe,"toInteger");function hNe(t){if(typeof t=="number")return t;if(fNe(t))return yle;if(Cle(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Cle(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(rNe,"");var r=iNe.test(t);return r||oNe.test(t)?sNe(t.slice(2),r?2:8):nNe.test(t)?yle:+t}s(hNe,"toNumber");Ele.exports=lNe});var vle=q((hkt,xle)=>{f();var pNe="[object Number]",mNe=Object.prototype,gNe=mNe.toString;function yNe(t){return!!t&&typeof t=="object"}s(yNe,"isObjectLike");function CNe(t){return typeof t=="number"||yNe(t)&&gNe.call(t)==pNe}s(CNe,"isNumber");xle.exports=CNe});var wle=q((gkt,_le)=>{f();var ENe="[object Object]";function INe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}s(INe,"isHostObject");function xNe(t,e){return function(r){return t(e(r))}}s(xNe,"overArg");var vNe=Function.prototype,ble=Object.prototype,Tle=vNe.toString,bNe=ble.hasOwnProperty,TNe=Tle.call(Object),_Ne=ble.toString,wNe=xNe(Object.getPrototypeOf,Object);function SNe(t){return!!t&&typeof t=="object"}s(SNe,"isObjectLike");function BNe(t){if(!SNe(t)||_Ne.call(t)!=ENe||INe(t))return!1;var e=wNe(t);if(e===null)return!0;var r=bNe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Tle.call(r)==TNe}s(BNe,"isPlainObject");_le.exports=BNe});var Ble=q((Ekt,Sle)=>{f();var RNe="[object String]",kNe=Object.prototype,DNe=kNe.toString,NNe=Array.isArray;function QNe(t){return!!t&&typeof t=="object"}s(QNe,"isObjectLike");function PNe(t){return typeof t=="string"||!NNe(t)&&QNe(t)&&DNe.call(t)==RNe}s(PNe,"isString");Sle.exports=PNe});var Qle=q((vkt,Nle)=>{f();var FNe="Expected a function",Rle=1/0,LNe=17976931348623157e292,kle=NaN,MNe="[object Symbol]",ONe=/^\s+|\s+$/g,UNe=/^[-+]0x[0-9a-f]+$/i,HNe=/^0b[01]+$/i,qNe=/^0o[0-7]+$/i,GNe=parseInt,VNe=Object.prototype,WNe=VNe.toString;function YNe(t,e){var r;if(typeof e!="function")throw new TypeError(FNe);return t=JNe(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}s(YNe,"before");function $Ne(t){return YNe(2,t)}s($Ne,"once");function Dle(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}s(Dle,"isObject");function zNe(t){return!!t&&typeof t=="object"}s(zNe,"isObjectLike");function jNe(t){return typeof t=="symbol"||zNe(t)&&WNe.call(t)==MNe}s(jNe,"isSymbol");function KNe(t){if(!t)return t===0?t:0;if(t=XNe(t),t===Rle||t===-Rle){var e=t<0?-1:1;return e*LNe}return t===t?t:0}s(KNe,"toFinite");function JNe(t){var e=KNe(t),r=e%1;return e===e?r?e-r:e:0}s(JNe,"toInteger");function XNe(t){if(typeof t=="number")return t;if(jNe(t))return kle;if(Dle(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Dle(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(ONe,"");var r=HNe.test(t);return r||qNe.test(t)?GNe(t.slice(2),r?2:8):UNe.test(t)?kle:+t}s(XNe,"toNumber");Nle.exports=$Ne});var Gle=q((_kt,qle)=>{f();var Ple=Cq(),ZNe=Oq(),eQe=Mq(),Fle=b9(),tQe=hle(),V9=mle(),Lle=Ile(),Yq=vle(),Ole=wle(),dg=Ble(),rQe=Qle(),{KeyObject:nQe,createSecretKey:iQe,createPrivateKey:oQe}=require("crypto"),Ule=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];ZNe&&Ule.splice(3,0,"PS256","PS384","PS512");var sQe={expiresIn:{isValid:s(function(t){return Lle(t)||dg(t)&&t},"isValid"),message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:s(function(t){return Lle(t)||dg(t)&&t},"isValid"),message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:s(function(t){return dg(t)||Array.isArray(t)},"isValid"),message:'"audience" must be a string or array'},algorithm:{isValid:tQe.bind(null,Ule),message:'"algorithm" must be a valid string enum value'},header:{isValid:Ole,message:'"header" must be an object'},encoding:{isValid:dg,message:'"encoding" must be a string'},issuer:{isValid:dg,message:'"issuer" must be a string'},subject:{isValid:dg,message:'"subject" must be a string'},jwtid:{isValid:dg,message:'"jwtid" must be a string'},noTimestamp:{isValid:V9,message:'"noTimestamp" must be a boolean'},keyid:{isValid:dg,message:'"keyid" must be a string'},mutatePayload:{isValid:V9,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:V9,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:V9,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},aQe={iat:{isValid:Yq,message:'"iat" should be a number of seconds'},exp:{isValid:Yq,message:'"exp" should be a number of seconds'},nbf:{isValid:Yq,message:'"nbf" should be a number of seconds'}};function Hle(t,e,r,n){if(!Ole(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(o){let a=t[o];if(!a){if(!e)throw new Error('"'+o+'" is not allowed in "'+n+'"');return}if(!a.isValid(r[o]))throw new Error(a.message)})}s(Hle,"validate");function cQe(t){return Hle(sQe,!1,t,"options")}s(cQe,"validateOptions");function lQe(t){return Hle(aQe,!0,t,"payload")}s(lQe,"validatePayload");var Mle={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},uQe=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];qle.exports=function(t,e,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let o=typeof t=="object"&&!Buffer.isBuffer(t),a=Object.assign({alg:r.algorithm||"HS256",typ:o?"JWT":void 0,kid:r.keyid},r.header);function c(d){if(n)return n(d);throw d}if(s(c,"failure"),!e&&r.algorithm!=="none")return c(new Error("secretOrPrivateKey must have a value"));if(e!=null&&!(e instanceof nQe))try{e=oQe(e)}catch{try{e=iQe(typeof e=="string"?Buffer.from(e):e)}catch{return c(new Error("secretOrPrivateKey is not valid key material"))}}if(a.alg.startsWith("HS")&&e.type!=="secret")return c(new Error(`secretOrPrivateKey must be a symmetric key when using ${a.alg}`));if(/^(?:RS|PS|ES)/.test(a.alg)){if(e.type!=="private")return c(new Error(`secretOrPrivateKey must be an asymmetric key when using ${a.alg}`));if(!r.allowInsecureKeySizes&&!a.alg.startsWith("ES")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return c(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`))}if(typeof t>"u")return c(new Error("payload is required"));if(o){try{lQe(t)}catch(d){return c(d)}r.mutatePayload||(t=Object.assign({},t))}else{let d=uQe.filter(function(A){return typeof r[A]<"u"});if(d.length>0)return c(new Error("invalid "+d.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp<"u"&&typeof r.expiresIn<"u")return c(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf<"u"&&typeof r.notBefore<"u")return c(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{cQe(r)}catch(d){return c(d)}if(!r.allowInvalidAsymmetricKeyTypes)try{eQe(a.alg,e)}catch(d){return c(d)}let l=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:o&&(t.iat=l),typeof r.notBefore<"u"){try{t.nbf=Ple(r.notBefore,l)}catch(d){return c(d)}if(typeof t.nbf>"u")return c(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof t=="object"){try{t.exp=Ple(r.expiresIn,l)}catch(d){return c(d)}if(typeof t.exp>"u")return c(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(Mle).forEach(function(d){let A=Mle[d];if(typeof r[d]<"u"){if(typeof t[A]<"u")return c(new Error('Bad "options.'+d+'" option. The payload already has an "'+A+'" property.'));t[A]=r[d]}});let u=r.encoding||"utf8";if(typeof n=="function")n=n&&rQe(n),Fle.createSign({header:a,privateKey:e,payload:t,encoding:u}).once("error",n).once("done",function(d){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(a.alg)&&d.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`));n(null,d)});else{let d=Fle.sign({header:a,payload:t,secret:e,encoding:u});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(a.alg)&&d.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`);return d}}});var Wle=q((Bkt,Vle)=>{f();Vle.exports={decode:pq(),verify:cle(),sign:Gle(),JsonWebTokenError:A4(),NotBeforeError:mq(),TokenExpiredError:gq()}});var xG=q((lOt,Oue)=>{f();function uPe(t){r.debug=r,r.default=r,r.coerce=u,r.disable=a,r.enable=o,r.enabled=c,r.humanize=yq(),r.destroy=d,Object.keys(t).forEach(A=>{r[A]=t[A]}),r.names=[],r.skips=[],r.formatters={};function e(A){let h=0;for(let p=0;p<A.length;p++)h=(h<<5)-h+A.charCodeAt(p),h|=0;return r.colors[Math.abs(h)%r.colors.length]}s(e,"selectColor"),r.selectColor=e;function r(A){let h,p=null,y,E;function v(...w){if(!v.enabled)return;let _=v,S=Number(new Date),D=S-(h||S);_.diff=D,_.prev=h,_.curr=S,h=S,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let N=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(O,$)=>{if(O==="%%")return"%";N++;let ne=r.formatters[$];if(typeof ne=="function"){let oe=w[N];O=ne.call(_,oe),w.splice(N,1),N--}return O}),r.formatArgs.call(_,w),(_.log||r.log).apply(_,w)}return s(v,"debug"),v.namespace=A,v.useColors=r.useColors(),v.color=r.selectColor(A),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:s(()=>p!==null?p:(y!==r.namespaces&&(y=r.namespaces,E=r.enabled(A)),E),"get"),set:s(w=>{p=w},"set")}),typeof r.init=="function"&&r.init(v),v}s(r,"createDebug");function n(A,h){let p=r(this.namespace+(typeof h>"u"?":":h)+A);return p.log=this.log,p}s(n,"extend");function o(A){r.save(A),r.namespaces=A,r.names=[],r.skips=[];let h,p=(typeof A=="string"?A:"").split(/[\s,]+/),y=p.length;for(h=0;h<y;h++)p[h]&&(A=p[h].replace(/\*/g,".*?"),A[0]==="-"?r.skips.push(new RegExp("^"+A.slice(1)+"$")):r.names.push(new RegExp("^"+A+"$")))}s(o,"enable");function a(){let A=[...r.names.map(l),...r.skips.map(l).map(h=>"-"+h)].join(",");return r.enable(""),A}s(a,"disable");function c(A){if(A[A.length-1]==="*")return!0;let h,p;for(h=0,p=r.skips.length;h<p;h++)if(r.skips[h].test(A))return!1;for(h=0,p=r.names.length;h<p;h++)if(r.names[h].test(A))return!0;return!1}s(c,"enabled");function l(A){return A.toString().substring(2,A.toString().length-2).replace(/\.\*\?$/,"*")}s(l,"toNamespace");function u(A){return A instanceof Error?A.stack||A.message:A}s(u,"coerce");function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(d,"destroy"),r.enable(r.load()),r}s(uPe,"setup");Oue.exports=uPe});var Uue=q((Gc,C7)=>{f();Gc.formatArgs=dPe;Gc.save=APe;Gc.load=hPe;Gc.useColors=fPe;Gc.storage=pPe();Gc.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Gc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function fPe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(fPe,"useColors");function dPe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+C7.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(r++,o==="%c"&&(n=r))}),t.splice(n,0,e)}s(dPe,"formatArgs");Gc.log=console.debug||console.log||(()=>{});function APe(t){try{t?Gc.storage.setItem("debug",t):Gc.storage.removeItem("debug")}catch{}}s(APe,"save");function hPe(){let t;try{t=Gc.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}s(hPe,"load");function pPe(){try{return localStorage}catch{}}s(pPe,"localstorage");C7.exports=xG()(Gc);var{formatters:mPe}=C7.exports;mPe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var que=q((hOt,Hue)=>{"use strict";f();Hue.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),o=e.indexOf("--");return n!==-1&&(o===-1||n<o)}});var Wue=q((mOt,Vue)=>{"use strict";f();var gPe=require("os"),Gue=require("tty"),Ul=que(),{env:Xs}=process,gg;Ul("no-color")||Ul("no-colors")||Ul("color=false")||Ul("color=never")?gg=0:(Ul("color")||Ul("colors")||Ul("color=true")||Ul("color=always"))&&(gg=1);"FORCE_COLOR"in Xs&&(Xs.FORCE_COLOR==="true"?gg=1:Xs.FORCE_COLOR==="false"?gg=0:gg=Xs.FORCE_COLOR.length===0?1:Math.min(parseInt(Xs.FORCE_COLOR,10),3));function vG(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}s(vG,"translateLevel");function bG(t,e){if(gg===0)return 0;if(Ul("color=16m")||Ul("color=full")||Ul("color=truecolor"))return 3;if(Ul("color=256"))return 2;if(t&&!e&&gg===void 0)return 0;let r=gg||0;if(Xs.TERM==="dumb")return r;if(process.platform==="win32"){let n=gPe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Xs)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Xs)||Xs.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Xs)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Xs.TEAMCITY_VERSION)?1:0;if(Xs.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Xs){let n=parseInt((Xs.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Xs.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Xs.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Xs.TERM)||"COLORTERM"in Xs?1:r}s(bG,"supportsColor");function yPe(t){let e=bG(t,t&&t.isTTY);return vG(e)}s(yPe,"getSupportLevel");Vue.exports={supportsColor:yPe,stdout:vG(bG(!0,Gue.isatty(1))),stderr:vG(bG(!0,Gue.isatty(2)))}});var $ue=q((Ta,I7)=>{f();var CPe=require("tty"),E7=require("util");Ta.init=_Pe;Ta.log=vPe;Ta.formatArgs=IPe;Ta.save=bPe;Ta.load=TPe;Ta.useColors=EPe;Ta.destroy=E7.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ta.colors=[6,2,3,4,5,1];try{let t=Wue();t&&(t.stderr||t).level>=2&&(Ta.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ta.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,a)=>a.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function EPe(){return"colors"in Ta.inspectOpts?!!Ta.inspectOpts.colors:CPe.isatty(process.stderr.fd)}s(EPe,"useColors");function IPe(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,o="\x1B[3"+(n<8?n:"8;5;"+n),a=`  ${o};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(o+"m+"+I7.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=xPe()+e+" "+t[0]}s(IPe,"formatArgs");function xPe(){return Ta.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(xPe,"getDate");function vPe(...t){return process.stderr.write(E7.format(...t)+`
`)}s(vPe,"log");function bPe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}s(bPe,"save");function TPe(){return process.env.DEBUG}s(TPe,"load");function _Pe(t){t.inspectOpts={};let e=Object.keys(Ta.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Ta.inspectOpts[e[r]]}s(_Pe,"init");I7.exports=xG()(Ta);var{formatters:Yue}=I7.exports;Yue.o=function(t){return this.inspectOpts.colors=this.useColors,E7.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Yue.O=function(t){return this.inspectOpts.colors=this.useColors,E7.inspect(t,this.inspectOpts)}});var Rd=q((IOt,TG)=>{f();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?TG.exports=Uue():TG.exports=$ue()});var Kue=q(ic=>{"use strict";f();var wPe=ic&&ic.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),SPe=ic&&ic.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zue=ic&&ic.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wPe(e,t,r);return SPe(e,t),e};Object.defineProperty(ic,"__esModule",{value:!0});ic.req=ic.json=ic.toBuffer=void 0;var BPe=zue(require("http")),RPe=zue(require("https"));async function jue(t){let e=0,r=[];for await(let n of t)e+=n.length,r.push(n);return Buffer.concat(r,e)}s(jue,"toBuffer");ic.toBuffer=jue;async function kPe(t){let r=(await jue(t)).toString("utf8");try{return JSON.parse(r)}catch(n){let o=n;throw o.message+=` (input: ${r})`,o}}s(kPe,"json");ic.json=kPe;function DPe(t,e={}){let n=((typeof t=="string"?t:t.href).startsWith("https:")?RPe:BPe).request(t,e),o=new Promise((a,c)=>{n.once("response",a).once("error",c).end()});return n.then=o.then.bind(o),n}s(DPe,"req");ic.req=DPe});var wG=q(Vc=>{"use strict";f();var Xue=Vc&&Vc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NPe=Vc&&Vc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zue=Vc&&Vc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Xue(e,t,r);return NPe(e,t),e},QPe=Vc&&Vc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Xue(e,t,r)};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.Agent=void 0;var PPe=Zue(require("net")),Jue=Zue(require("http")),FPe=require("https");QPe(Kue(),Vc);var kd=Symbol("AgentBaseInternalState"),_G=class extends Jue.Agent{static{s(this,"Agent")}constructor(e){super(e),this[kd]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?!1:r.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let r=new PPe.Socket({writable:!1});return this.sockets[e].push(r),this.totalSocketCount++,r}decrementSockets(e,r){if(!this.sockets[e]||r===null)return;let n=this.sockets[e],o=n.indexOf(r);o!==-1&&(n.splice(o,1),this.totalSocketCount--,n.length===0&&delete this.sockets[e])}getName(e){return(typeof e.secureEndpoint=="boolean"?e.secureEndpoint:this.isSecureEndpoint(e))?FPe.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,r,n){let o={...r,secureEndpoint:this.isSecureEndpoint(r)},a=this.getName(o),c=this.incrementSockets(a);Promise.resolve().then(()=>this.connect(e,o)).then(l=>{if(this.decrementSockets(a,c),l instanceof Jue.Agent)return l.addRequest(e,o);this[kd].currentSocket=l,super.createSocket(e,r,n)},l=>{this.decrementSockets(a,c),n(l)})}createConnection(){let e=this[kd].currentSocket;if(this[kd].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[kd].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[kd]&&(this[kd].defaultPort=e)}get protocol(){return this[kd].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[kd]&&(this[kd].protocol=e)}};Vc.Agent=_G});var efe=q(xx=>{"use strict";f();var LPe=xx&&xx.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xx,"__esModule",{value:!0});xx.parseProxyResponse=void 0;var MPe=LPe(Rd()),x7=(0,MPe.default)("https-proxy-agent:parse-proxy-response");function OPe(t){return new Promise((e,r)=>{let n=0,o=[];function a(){let A=t.read();A?d(A):t.once("readable",a)}s(a,"read");function c(){t.removeListener("end",l),t.removeListener("error",u),t.removeListener("readable",a)}s(c,"cleanup");function l(){c(),x7("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}s(l,"onend");function u(A){c(),x7("onerror %o",A),r(A)}s(u,"onerror");function d(A){o.push(A),n+=A.length;let h=Buffer.concat(o,n),p=h.indexOf(`\r
\r
`);if(p===-1){x7("have not received end of HTTP headers yet..."),a();return}let y=h.slice(0,p).toString("ascii").split(`\r
`),E=y.shift();if(!E)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let v=E.split(" "),w=+v[1],_=v.slice(2).join(" "),S={};for(let D of y){if(!D)continue;let N=D.indexOf(":");if(N===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${D}"`));let P=D.slice(0,N).toLowerCase(),O=D.slice(N+1).trimStart(),$=S[P];typeof $=="string"?S[P]=[$,O]:Array.isArray($)?$.push(O):S[P]=O}x7("got proxy server response: %o %o",E,S),c(),e({connect:{statusCode:w,statusText:_,headers:S},buffered:h})}s(d,"ondata"),t.on("error",u),t.on("end",l),a()})}s(OPe,"parseProxyResponse");xx.parseProxyResponse=OPe});var ofe=q(Hl=>{"use strict";f();var UPe=Hl&&Hl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HPe=Hl&&Hl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nfe=Hl&&Hl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UPe(e,t,r);return HPe(e,t),e},ife=Hl&&Hl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.HttpsProxyAgent=void 0;var SG=nfe(require("net")),tfe=nfe(require("tls")),qPe=ife(require("assert")),GPe=ife(Rd()),VPe=wG(),WPe=require("url"),YPe=efe(),N4=(0,GPe.default)("https-proxy-agent"),v7=class extends VPe.Agent{static{s(this,"HttpsProxyAgent")}constructor(e,r){super(r),this.options={path:void 0},this.proxy=typeof e=="string"?new WPe.URL(e):e,this.proxyHeaders=r?.headers??{},N4("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),o=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?rfe(r,"headers"):null,host:n,port:o}}async connect(e,r){let{proxy:n}=this;if(!r.host)throw new TypeError('No "host" provided');let o;if(n.protocol==="https:"){N4("Creating `tls.Socket`: %o",this.connectOpts);let p=this.connectOpts.servername||this.connectOpts.host;o=tfe.connect({...this.connectOpts,servername:p})}else N4("Creating `net.Socket`: %o",this.connectOpts),o=SG.connect(this.connectOpts);let a=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},c=SG.isIPv6(r.host)?`[${r.host}]`:r.host,l=`CONNECT ${c}:${r.port} HTTP/1.1\r
`;if(n.username||n.password){let p=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(p).toString("base64")}`}a.Host=`${c}:${r.port}`,a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let p of Object.keys(a))l+=`${p}: ${a[p]}\r
`;let u=(0,YPe.parseProxyResponse)(o);o.write(`${l}\r
`);let{connect:d,buffered:A}=await u;if(e.emit("proxyConnect",d),this.emit("proxyConnect",d,e),d.statusCode===200){if(e.once("socket",$Pe),r.secureEndpoint){N4("Upgrading socket connection to TLS");let p=r.servername||r.host;return tfe.connect({...rfe(r,"host","path","port"),socket:o,servername:p})}return o}o.destroy();let h=new SG.Socket({writable:!1});return h.readable=!0,e.once("socket",p=>{N4("Replaying proxy buffer for failed request"),(0,qPe.default)(p.listenerCount("data")>0),p.push(A),p.push(null)}),h}};v7.protocols=["http","https"];Hl.HttpsProxyAgent=v7;function $Pe(t){t.resume()}s($Pe,"resume");function rfe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}s(rfe,"omit")});var cfe=q(ql=>{"use strict";f();var zPe=ql&&ql.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jPe=ql&&ql.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),afe=ql&&ql.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zPe(e,t,r);return jPe(e,t),e},KPe=ql&&ql.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ql,"__esModule",{value:!0});ql.HttpProxyAgent=void 0;var JPe=afe(require("net")),XPe=afe(require("tls")),ZPe=KPe(Rd()),eFe=require("events"),tFe=wG(),sfe=require("url"),vx=(0,ZPe.default)("http-proxy-agent"),b7=class extends tFe.Agent{static{s(this,"HttpProxyAgent")}constructor(e,r){super(r),this.proxy=typeof e=="string"?new sfe.URL(e):e,this.proxyHeaders=r?.headers??{},vx("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),o=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...r?rFe(r,"headers"):null,host:n,port:o}}addRequest(e,r){e._header=null,this.setRequestProps(e,r),super.addRequest(e,r)}setRequestProps(e,r){let{proxy:n}=this,o=r.secureEndpoint?"https:":"http:",a=e.getHeader("host")||"localhost",c=`${o}//${a}`,l=new sfe.URL(e.path,c);r.port!==80&&(l.port=String(r.port)),e.path=String(l);let u=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let d=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;u["Proxy-Authorization"]=`Basic ${Buffer.from(d).toString("base64")}`}u["Proxy-Connection"]||(u["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let d of Object.keys(u)){let A=u[d];A&&e.setHeader(d,A)}}async connect(e,r){e._header=null,e.path.includes("://")||this.setRequestProps(e,r);let n,o;vx("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(vx("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,o=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(o),vx("Output buffer: %o",e.outputData[0].data));let a;return this.proxy.protocol==="https:"?(vx("Creating `tls.Socket`: %o",this.connectOpts),a=XPe.connect(this.connectOpts)):(vx("Creating `net.Socket`: %o",this.connectOpts),a=JPe.connect(this.connectOpts)),await(0,eFe.once)(a,"connect"),a}};b7.protocols=["http","https"];ql.HttpProxyAgent=b7;function rFe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}s(rFe,"omit")});var Qfe=q(U7=>{"use strict";f();Object.defineProperty(U7,"__esModule",{value:!0});U7.state=void 0;U7.state={operationRequestMap:new WeakMap}});function dLe(){try{return oV.default.statSync("/.dockerenv"),!0}catch{return!1}}function ALe(){try{return oV.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}function sV(){return iV===void 0&&(iV=dLe()||ALe()),iV}var oV,iV,jfe=Bl(()=>{f();oV=Et(require("node:fs"),1);s(dLe,"hasDockerEnv");s(ALe,"hasDockerCGroup");s(sV,"isDocker")});function wx(){return aV===void 0&&(aV=hLe()||sV()),aV}var Kfe,aV,hLe,cV=Bl(()=>{f();Kfe=Et(require("node:fs"),1);jfe();hLe=s(()=>{try{return Kfe.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");s(wx,"isInsideContainer")});var lV,Xfe,Zfe,Jfe,Ig,uV=Bl(()=>{f();lV=Et(require("node:process"),1),Xfe=Et(require("node:os"),1),Zfe=Et(require("node:fs"),1);cV();Jfe=s(()=>{if(lV.default.platform!=="linux")return!1;if(Xfe.default.release().toLowerCase().includes("microsoft"))return!wx();try{return Zfe.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!wx():!1}catch{return!1}},"isWsl"),Ig=lV.default.env.__IS_WSL_TEST__?Jfe:Jfe()});var fV,O4,pLe,mLe,dV,ede=Bl(()=>{f();fV=Et(require("node:process"),1),O4=Et(require("node:fs/promises"),1);uV();uV();pLe=(()=>{let t="/mnt/",e;return async function(){if(e)return e;let r="/etc/wsl.conf",n=!1;try{await O4.default.access(r,O4.constants.F_OK),n=!0}catch{}if(!n)return t;let o=await O4.default.readFile(r,{encoding:"utf8"}),a=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return a?(e=a.groups.mountPoint.trim(),e=e.endsWith("/")?e:`${e}/`,e):t}})(),mLe=s(async()=>`${await pLe()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`,"powerShellPathFromWsl"),dV=s(async()=>Ig?mLe():`${fV.default.env.SYSTEMROOT||fV.default.env.windir||String.raw`C:\Windows`}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`,"powerShellPath")});function xg(t,e,r){let n=s(o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),"define");return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let o=r();return n(o),o},set(o){n(o)}}),t}var tde=Bl(()=>{f();s(xg,"defineLazyProperty")});async function AV(){if(nde.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await gLe("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(t)?.groups.id??"com.apple.Safari"}var rde,nde,ide,gLe,ode=Bl(()=>{f();rde=require("node:util"),nde=Et(require("node:process"),1),ide=require("node:child_process"),gLe=(0,rde.promisify)(ide.execFile);s(AV,"defaultBrowserId")});async function cde(t,{humanReadableOutput:e=!0}={}){if(sde.default.platform!=="darwin")throw new Error("macOS only");let r=e?[]:["-ss"],{stdout:n}=await yLe("osascript",["-e",t,r]);return n.trim()}var sde,ade,hV,yLe,lde=Bl(()=>{f();sde=Et(require("node:process"),1),ade=require("node:util"),hV=require("node:child_process"),yLe=(0,ade.promisify)(hV.execFile);s(cde,"runAppleScript")});async function pV(t){return cde(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}var ude=Bl(()=>{f();lde();s(pV,"bundleName")});async function mV(t=CLe){let{stdout:e}=await t("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(e);if(!r)throw new q7(`Cannot find Windows browser in stdout: ${JSON.stringify(e)}`);let{id:n}=r.groups,o=ELe[n];if(!o)throw new q7(`Unknown browser ID: ${n}`);return o}var fde,dde,CLe,ELe,q7,Ade=Bl(()=>{f();fde=require("node:util"),dde=require("node:child_process"),CLe=(0,fde.promisify)(dde.execFile),ELe={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},q7=class extends Error{static{s(this,"UnknownBrowserError")}};s(mV,"defaultBrowser")});async function gV(){if(G7.default.platform==="darwin"){let t=await AV();return{name:await pV(t),id:t}}if(G7.default.platform==="linux"){let{stdout:t}=await ILe("xdg-mime",["query","default","x-scheme-handler/http"]),e=t.trim();return{name:xLe(e.replace(/.desktop$/,"").replace("-"," ")),id:e}}if(G7.default.platform==="win32")return mV();throw new Error("Only macOS, Linux, and Windows are supported")}var hde,G7,pde,ILe,xLe,mde=Bl(()=>{f();hde=require("node:util"),G7=Et(require("node:process"),1),pde=require("node:child_process");ode();ude();Ade();ILe=(0,hde.promisify)(pde.execFile),xLe=s(t=>t.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,e=>e.toUpperCase()),"titleize");s(gV,"defaultBrowser")});var vde={};Io(vde,{apps:()=>vg,default:()=>wLe,openApp:()=>_Le});async function bLe(){let t=await dV(),e=String.raw`(Get-ItemProperty -Path "HKCU:\Software\Microsoft\Windows\Shell\Associations\UrlAssociations\http\UserChoice").ProgId`,r=EV.Buffer.from(e,"utf16le").toString("base64"),{stdout:n}=await vLe(t,["-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand",r],{encoding:"utf8"}),o=n.trim(),a={ChromeHTML:"com.google.chrome",BraveHTML:"com.brave.Browser",MSEdgeHTM:"com.microsoft.edge",FirefoxURL:"org.mozilla.firefox"};return a[o]?{id:a[o]}:{}}function Ede(t){if(typeof t=="string"||Array.isArray(t))return t;let{[yde]:e}=t;if(!e)throw new Error(`${yde} is not supported`);return e}function W7({[Sx]:t},{wsl:e}){if(e&&Ig)return Ede(e);if(!t)throw new Error(`${Sx} is not supported`);return Ede(t)}var CV,EV,IV,Ide,xde,xV,V7,vLe,yV,gde,Sx,yde,Cde,U4,TLe,_Le,vg,wLe,bde=Bl(()=>{f();CV=Et(require("node:process"),1),EV=require("node:buffer"),IV=Et(require("node:path"),1),Ide=require("node:url"),xde=require("node:util"),xV=Et(require("node:child_process"),1),V7=Et(require("node:fs/promises"),1);ede();tde();mde();cV();vLe=(0,xde.promisify)(xV.default.execFile),yV=IV.default.dirname((0,Ide.fileURLToPath)(importMetaUrlShim)),gde=IV.default.join(yV,"xdg-open"),{platform:Sx,arch:yde}=CV.default;s(bLe,"getWindowsDefaultBrowserFromWsl");Cde=s(async(t,e)=>{let r;for(let n of t)try{return await e(n)}catch(o){r=o}throw r},"pTryEach"),U4=s(async t=>{if(t={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return Cde(t.app,l=>U4({...t,app:l}));let{name:e,arguments:r=[]}=t.app??{};if(r=[...r],Array.isArray(e))return Cde(e,l=>U4({...t,app:{name:l,arguments:r}}));if(e==="browser"||e==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","com.brave.Browser":"brave","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},u={chrome:"--incognito",brave:"--incognito",firefox:"--private-window",edge:"--inPrivate"},d=Ig?await bLe():await gV();if(d.id in l){let A=l[d.id];return e==="browserPrivate"&&r.push(u[A]),U4({...t,app:{name:vg[A],arguments:r}})}throw new Error(`${d.name} is not supported as a default browser`)}let n,o=[],a={};if(Sx==="darwin")n="open",t.wait&&o.push("--wait-apps"),t.background&&o.push("--background"),t.newInstance&&o.push("--new"),e&&o.push("-a",e);else if(Sx==="win32"||Ig&&!wx()&&!e){n=await dV(),o.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),Ig||(a.windowsVerbatimArguments=!0);let l=["Start"];t.wait&&l.push("-Wait"),e?(l.push(`"\`"${e}\`""`),t.target&&r.push(t.target)):t.target&&l.push(`"${t.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),l.push("-ArgumentList",r.join(","))),t.target=EV.Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(e)n=e;else{let l=!yV||yV==="/",u=!1;try{await V7.default.access(gde,V7.constants.X_OK),u=!0}catch{}n=CV.default.versions.electron??(Sx==="android"||l||!u)?"xdg-open":gde}r.length>0&&o.push(...r),t.wait||(a.stdio="ignore",a.detached=!0)}Sx==="darwin"&&r.length>0&&o.push("--args",...r),t.target&&o.push(t.target);let c=xV.default.spawn(n,o,a);return t.wait?new Promise((l,u)=>{c.once("error",u),c.once("close",d=>{if(!t.allowNonzeroExitCode&&d>0){u(new Error(`Exited with code ${d}`));return}l(c)})}):(c.unref(),c)},"baseOpen"),TLe=s((t,e)=>{if(typeof t!="string")throw new TypeError("Expected a `target`");return U4({...e,target:t})},"open"),_Le=s((t,e)=>{if(typeof t!="string"&&!Array.isArray(t))throw new TypeError("Expected a valid `name`");let{arguments:r=[]}=e??{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return U4({...e,app:{name:t,arguments:r}})},"openApp");s(Ede,"detectArchBinary");s(W7,"detectPlatformBinary");vg={};xg(vg,"chrome",()=>W7({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));xg(vg,"brave",()=>W7({darwin:"brave browser",win32:"brave",linux:["brave-browser","brave"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe",x64:["/mnt/c/Program Files/BraveSoftware/Brave-Browser/Application/brave.exe","/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe"]}}));xg(vg,"firefox",()=>W7({darwin:"firefox",win32:String.raw`C:\Program Files\Mozilla Firefox\firefox.exe`,linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));xg(vg,"edge",()=>W7({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));xg(vg,"browser",()=>"browser");xg(vg,"browserPrivate",()=>"browserPrivate");wLe=TLe});var upe=q(Hd=>{"use strict";f();Object.defineProperty(Hd,"__esModule",{value:!0});Hd.bytePairEncode=Hd.BinaryMap=Hd.binaryMapKey=void 0;var Yqe=s((t,e,r)=>{let n=r-e,o=16777215>>>Math.max(0,(3-n)*8),a=(t[e+0]|t[e+1]<<8|t[e+2]<<16)&o,c=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(t[e+3]|t[e+4]<<8|t[e+5]<<16)&c;return a+16777216*l},"binaryMapKey");Hd.binaryMapKey=Yqe;var bW=class t{static{s(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(e,r=0,n=e.length){let o=n<6+r,a=(0,Hd.binaryMapKey)(e,r,n);return o?this.final.get(a):this.nested.get(a)?.get(e,6+r,n)}set(e,r){let n=(0,Hd.binaryMapKey)(e,0,e.length);if(e.length<6){this.final.set(n,r);return}let a=this.nested.get(n);if(a instanceof t)a.set(e.subarray(6),r);else{let c=new t;c.set(e.subarray(6),r),this.nested.set(n,c)}}};Hd.BinaryMap=bW;var Ud=new Int32Array(128),b0=new Int32Array(128);function $qe(t,e,r){if(r===1)return[e.get(t)];let n=2147483647,o=-1;for(;Ud.length<r*2;)b0=new Int32Array(b0.length*2),Ud=new Int32Array(Ud.length*2);for(let u=0;u<r-1;u++){let d=e.get(t,u,u+2)??2147483647;d<n&&(n=d,o=u),b0[u]=u,Ud[u]=d}b0[r-1]=r-1,Ud[r-1]=2147483647,b0[r]=r,Ud[r]=2147483647;let a=r+1;function c(u,d=0){if(u+d+2<a){let A=e.get(t,b0[u],b0[u+d+2]);if(A!==void 0)return A}return 2147483647}for(s(c,"getRank");n!==2147483647;){Ud[b0[o]]=c(o,1),o>0&&(Ud[b0[o-1]]=c(o-1,1));for(let u=o+1;u<a-1;u++)b0[u]=b0[u+1];a--,o=-1,n=2147483647;for(let u=0;u<a-1;u++){let d=Ud[b0[u]];Ud[b0[u]]<n&&(n=d,o=u)}}let l=[];for(let u=0;u<a-1;u++)l.push(e.get(t,b0[u],b0[u+1]));return l}s($qe,"bytePairEncode");Hd.bytePairEncode=$qe});var fpe=q(_k=>{"use strict";f();Object.defineProperty(_k,"__esModule",{value:!0});_k.makeTextEncoder=void 0;var TW=class{static{s(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(e){let r=this.encoder.encode(e);return this.length=r.length,r}},_W=class{static{s(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(e){for(;;){if(this.length=this.buffer.write(e,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(e)}}},zqe=s(()=>typeof Buffer<"u"?new _W:new TW,"makeTextEncoder");_k.makeTextEncoder=zqe});var dpe=q(wk=>{"use strict";f();Object.defineProperty(wk,"__esModule",{value:!0});wk.LRUCache=void 0;var wW=class{static{s(this,"LRUCache")}constructor(e){this.size=e,this.nodes=new Map}get(e){let r=this.nodes.get(e);if(r)return this.moveToHead(r),r.value}set(e,r){let n=this.nodes.get(e);if(n)n.value=r,this.moveToHead(n);else{let o=new SW(e,r);this.nodes.set(e,o),this.addNode(o),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(e){this.removeNode(e),e.next=void 0,e.prev=void 0,this.addNode(e)}addNode(e){this.head&&(this.head.prev=e,e.next=this.head),this.tail||(this.tail=e),this.head=e}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}};wk.LRUCache=wW;var SW=class{static{s(this,"Node")}constructor(e,r){this.key=e,this.value=r}}});var RW=q(Bk=>{"use strict";f();Object.defineProperty(Bk,"__esModule",{value:!0});Bk.TikTokenizer=void 0;var Sk=upe(),jqe=fpe(),Kqe=dpe();function Jqe(t){let e=new Map;try{let o=require("fs").readFileSync(t,"utf-8");return r(o),e}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let o of n.split(/[\r\n]+/)){if(o.trim()==="")continue;let a=o.split(" ");if(a.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let c=new Uint8Array(Buffer.from(a[0],"base64")),l=parseInt(a[1]);if(!isNaN(l))e.set(c,l);else throw new Error(`Can't parse ${a[1]} to integer`)}}s(r,"processBpeRanks")}s(Jqe,"loadTikTokenBpe");function Xqe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(Xqe,"escapeRegExp");var BW=class{static{s(this,"TikTokenizer")}constructor(e,r,n,o=8192){this.textEncoder=(0,jqe.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new Kqe.LRUCache(o);let a=typeof e=="string"?Jqe(e):e;this.init(a,r,n)}init(e,r,n){this.encoder=new Sk.BinaryMap;for(let[o,a]of e)this.encoder.set(o,a);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(o=>Xqe(o)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[o,a]of e)this.decoder.set(a,o);if(e.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[o,a]of r)this.specialTokensDecoder.set(a,o)}findNextSpecialToken(e,r,n){let o=r,a=null;if(n&&this.specialTokensRegex)for(;a=e.slice(o).match(this.specialTokensRegex),!(!a||n&&n.includes(a[0]));)o+=a.index+1;let c=a?o+a.index:e.length;return[a,c]}encode(e,r){let n=[],o=0;for(;;){let a,c;if([a,c]=this.findNextSpecialToken(e,o,r),c>o&&this.encodeByIndex(e,n,o,c),a){if(o=o+this.encodeSpecialToken(n,a),o>=e.length)break}else break}return n}encodeSpecialToken(e,r){let n=this.specialTokensEncoder?.get(r[0]);return e.push(n),r.index+r[0].length}encodeByIndex(e,r,n,o){let a,c=e.substring(n,o);for(this.regex.lastIndex=0;a=this.regex.exec(c);){let l=this.cache.get(a[0]);if(l)for(let u of l)r.push(u);else{let u=this.textEncoder.encode(a[0]),d=this.encoder.get(u,0,this.textEncoder.length);if(d!==void 0)r.push(d),this.cache.set(a[0],[d]);else{let A=(0,Sk.bytePairEncode)(u,this.encoder,this.textEncoder.length);for(let h of A)r.push(h);this.cache.set(a[0],A)}}}}encodeTrimSuffixByIndex(e,r,n,o,a,c,l){let u,d=e.substring(n,o);for(this.regex.lastIndex=0;u=this.regex.exec(d);){let A=u[0],h=this.cache.get(A);if(h)if(c+h.length<=a)c+=h.length,l+=A.length,r.push(...h);else{let p=a-c;c+=p,l+=A.length,r.push(...h.slice(0,p));break}else{let p=this.textEncoder.encode(A),y=this.encoder.get(p,0,p.length);if(y!==void 0)if(this.cache.set(A,[y]),c+1<=a)c++,l+=A.length,r.push(y);else break;else{let E=(0,Sk.bytePairEncode)(p,this.encoder,this.textEncoder.length);if(this.cache.set(A,E),c+E.length<=a){c+=E.length,l+=A.length;for(let v of E)r.push(v)}else{let v=a-c;c+=v,l+=A.length;for(let w=0;w<v;w++)r.push(E[w]);break}}}if(c>=a)break}return{tokenCount:c,encodeLength:l}}encodeTrimSuffix(e,r,n){let o=[],a=0,c=0,l=0;for(;;){let d,A;if([d,A]=this.findNextSpecialToken(e,a,n),A>a){let{tokenCount:h,encodeLength:p}=this.encodeTrimSuffixByIndex(e,o,a,A,r,c,l);if(c=h,l=p,c>=r)break}if(d!==null){if(c++,c<=r&&(a=a+this.encodeSpecialToken(o,d),l+=d[0].length,a>=e.length)||c>=r)break}else break}let u=l===e.length?e:e.slice(0,l);return{tokenIds:o,text:u}}encodeTrimPrefix(e,r,n){let o=[],a=0,c=0,l=0,u=new Map;for(u.set(c,l);;){let p,y;if([p,y]=this.findNextSpecialToken(e,a,n),y>a){let E,v=e.substring(a,y);for(this.regex.lastIndex=0;E=this.regex.exec(v);){let w=E[0],_=this.cache.get(w);if(_)c+=_.length,l+=w.length,o.push(..._),u.set(c,l);else{let S=this.textEncoder.encode(w),D=this.encoder.get(S);if(D!==void 0)this.cache.set(w,[D]),c++,l+=w.length,o.push(D),u.set(c,l);else{let N=(0,Sk.bytePairEncode)(S,this.encoder,this.textEncoder.length);this.cache.set(w,N),c+=N.length,l+=w.length;for(let P of N)o.push(P);u.set(c,l)}}}}if(p!==null){if(a=a+this.encodeSpecialToken(o,p),c++,l+=p[0].length,u.set(c,l),a>=e.length)break}else break}if(c<=r)return{tokenIds:o,text:e};let d=c-r,A=0,h=0;for(let[p,y]of u)if(p>=d){A=p,h=y;break}if(A>r){let p=this.encode(e,n),y=p.slice(p.length-r);return{tokenIds:y,text:this.decode(y)}}return{tokenIds:o.slice(A),text:e.slice(h)}}decode(e){let r=[];for(let n of e){let o=[],a=this.decoder?.get(n);if(a!==void 0)o=Array.from(a);else{let c=this.specialTokensDecoder?.get(n);if(c!==void 0){let l=this.textEncoder.encode(c);o=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...o)}return this.textDecoder.decode(new Uint8Array(r))}};Bk.TikTokenizer=BW});var xpe=q(Is=>{"use strict";f();Object.defineProperty(Is,"__esModule",{value:!0});Is.createTokenizer=Is.createByEncoderName=Is.createByModelName=Is.getRegexByModel=Is.getRegexByEncoder=Is.getSpecialTokensByModel=Is.getSpecialTokensByEncoder=Is.MODEL_TO_ENCODING=void 0;var Zqe=RW(),eGe=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);Is.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var Rk="<|endoftext|>",Ape="<|fim_prefix|>",hpe="<|fim_middle|>",ppe="<|fim_suffix|>",mpe="<|endofprompt|>",pw="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",gpe="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",tGe=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],ype=tGe.join("|");function kW(t){let e="";if(Is.MODEL_TO_ENCODING.has(t))e=Is.MODEL_TO_ENCODING.get(t);else for(let[r,n]of eGe)if(t.startsWith(r)){e=n;break}return e}s(kW,"getEncoderFromModelName");async function rGe(t,e){let r=require("fs"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file from ${t}. Status code: ${n.status}`);let o=await n.text();r.writeFileSync(e,o)}s(rGe,"fetchAndSaveFile");function DW(t){let e=new Map([[Rk,50256]]);switch(t){case"o200k_base":e=new Map([[Rk,199999],[mpe,200018]]);break;case"cl100k_base":e=new Map([[Rk,100257],[Ape,100258],[hpe,100259],[ppe,100260],[mpe,100276]]);break;case"p50k_edit":e=new Map([[Rk,50256],[Ape,50281],[hpe,50282],[ppe,50283]]);break;default:break}return e}s(DW,"getSpecialTokensByEncoder");Is.getSpecialTokensByEncoder=DW;function nGe(t){let e=kW(t);return DW(e)}s(nGe,"getSpecialTokensByModel");Is.getSpecialTokensByModel=nGe;function Cpe(t){switch(t){case"o200k_base":return ype;case"cl100k_base":return gpe;default:break}return pw}s(Cpe,"getRegexByEncoder");Is.getRegexByEncoder=Cpe;function iGe(t){let e=kW(t);return Cpe(e)}s(iGe,"getRegexByModel");Is.getRegexByModel=iGe;async function oGe(t,e=null){return Epe(kW(t),e)}s(oGe,"createByModelName");Is.createByModelName=oGe;async function Epe(t,e=null){let r,n,o=DW(t);switch(t){case"o200k_base":r=ype,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=gpe,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=pw,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=pw,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=pw,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=pw,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${t}]`)}e!==null&&(o=new Map([...o,...e]));let a=require("fs"),c=require("path"),l=c.basename(n),u=c.resolve(__dirname,"..","model");a.existsSync(u)||a.mkdirSync(u,{recursive:!0});let d=c.resolve(u,l);return a.existsSync(d)||(console.log(`Downloading file from ${n}`),await rGe(n,d),console.log(`Saved file to ${d}`)),Ipe(d,o,r)}s(Epe,"createByEncoderName");Is.createByEncoderName=Epe;function Ipe(t,e,r,n=8192){return new Zqe.TikTokenizer(t,e,r,n)}s(Ipe,"createTokenizer");Is.createTokenizer=Ipe});var vpe=q(xs=>{"use strict";f();Object.defineProperty(xs,"__esModule",{value:!0});xs.createTokenizer=xs.createByEncoderName=xs.createByModelName=xs.getSpecialTokensByModel=xs.getSpecialTokensByEncoder=xs.getRegexByModel=xs.getRegexByEncoder=xs.MODEL_TO_ENCODING=xs.TikTokenizer=void 0;var sGe=RW();Object.defineProperty(xs,"TikTokenizer",{enumerable:!0,get:s(function(){return sGe.TikTokenizer},"get")});var Ng=xpe();Object.defineProperty(xs,"MODEL_TO_ENCODING",{enumerable:!0,get:s(function(){return Ng.MODEL_TO_ENCODING},"get")});Object.defineProperty(xs,"getRegexByEncoder",{enumerable:!0,get:s(function(){return Ng.getRegexByEncoder},"get")});Object.defineProperty(xs,"getRegexByModel",{enumerable:!0,get:s(function(){return Ng.getRegexByModel},"get")});Object.defineProperty(xs,"getSpecialTokensByEncoder",{enumerable:!0,get:s(function(){return Ng.getSpecialTokensByEncoder},"get")});Object.defineProperty(xs,"getSpecialTokensByModel",{enumerable:!0,get:s(function(){return Ng.getSpecialTokensByModel},"get")});Object.defineProperty(xs,"createByModelName",{enumerable:!0,get:s(function(){return Ng.createByModelName},"get")});Object.defineProperty(xs,"createByEncoderName",{enumerable:!0,get:s(function(){return Ng.createByEncoderName},"get")});Object.defineProperty(xs,"createTokenizer",{enumerable:!0,get:s(function(){return Ng.createTokenizer},"get")})});var zW=q((CCr,jpe)=>{"use strict";f();jpe.exports=s(function(e,r){r===!0&&(r=0);var n="";if(typeof e=="string")try{n=new URL(e).protocol}catch{}else e&&e.constructor===URL&&(n=e.protocol);var o=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?o[r]:o},"protocols")});var Jpe=q((xCr,Kpe)=>{"use strict";f();var Z$e=zW();function eze(t){var e={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:t,query:{},parse_failed:!1};try{var r=new URL(t);e.protocols=Z$e(r),e.protocol=e.protocols[0],e.port=r.port,e.resource=r.hostname,e.host=r.host,e.user=r.username||"",e.password=r.password||"",e.pathname=r.pathname,e.hash=r.hash.slice(1),e.search=r.search.slice(1),e.href=r.href,e.query=Object.fromEntries(r.searchParams)}catch{e.protocols=["file"],e.protocol=e.protocols[0],e.port="",e.resource="",e.user="",e.pathname="",e.hash="",e.search="",e.href=t,e.query={},e.parse_failed=!0}return e}s(eze,"parsePath");Kpe.exports=eze});var nme=q((TCr,rme)=>{"use strict";f();var tze=Jpe();function rze(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}s(rze,"_interopDefaultLegacy");var nze=rze(tze);function ize(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=s(function n(){if(this instanceof n){var o=[null];o.push.apply(o,arguments);var a=Function.bind.apply(e,o);return new a}return e.apply(this,arguments)},"a");r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:s(function(){return t[n]},"get")})}),r}s(ize,"getAugmentedNamespace");var Zpe={},oze="text/plain",sze="us-ascii",Xpe=s((t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),"testParameter"),aze=s((t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:o,hash:a}=r.groups,c=n.split(";");a=e?"":a;let l=!1;c[c.length-1]==="base64"&&(c.pop(),l=!0);let u=(c.shift()||"").toLowerCase(),A=[...c.map(h=>{let[p,y=""]=h.split("=").map(E=>E.trim());return p==="charset"&&(y=y.toLowerCase(),y===sze)?"":`${p}${y?`=${y}`:""}`}).filter(Boolean)];return l&&A.push("base64"),(A.length>0||u&&u!==oze)&&A.unshift(u),`data:${A.join(";")},${l?o.trim():o}${a?`#${a}`:""}`},"normalizeDataURL");function cze(t,e){if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return aze(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let o=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&o.protocol==="https:"&&(o.protocol="http:"),e.forceHttps&&o.protocol==="http:"&&(o.protocol="https:"),e.stripAuthentication&&(o.username="",o.password=""),e.stripHash?o.hash="":e.stripTextFragment&&(o.hash=o.hash.replace(/#?:~:text.*?$/i,"")),o.pathname){let c=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,u="";for(;;){let A=c.exec(o.pathname);if(!A)break;let h=A[0],p=A.index,y=o.pathname.slice(l,p);u+=y.replace(/\/{2,}/g,"/"),u+=h,l=p+h.length}let d=o.pathname.slice(l,o.pathname.length);u+=d.replace(/\/{2,}/g,"/"),o.pathname=u}if(o.pathname)try{o.pathname=decodeURI(o.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let c=o.pathname.split("/"),l=c[c.length-1];Xpe(l,e.removeDirectoryIndex)&&(c=c.slice(0,-1),o.pathname=c.slice(1).join("/")+"/")}if(o.hostname&&(o.hostname=o.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(o.hostname)&&(o.hostname=o.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let c of[...o.searchParams.keys()])Xpe(c,e.removeQueryParameters)&&o.searchParams.delete(c);if(e.removeQueryParameters===!0&&(o.search=""),e.sortQueryParameters){o.searchParams.sort();try{o.search=decodeURIComponent(o.search)}catch{}}e.removeTrailingSlash&&(o.pathname=o.pathname.replace(/\/$/,""));let a=t;return t=o.toString(),!e.removeSingleSlash&&o.pathname==="/"&&!a.endsWith("/")&&o.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||o.pathname==="/")&&o.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t}s(cze,"normalizeUrl");var lze=Object.freeze({__proto__:null,default:cze}),uze=ize(lze);Object.defineProperty(Zpe,"__esModule",{value:!0});var fze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dze=uze,Aze=eme(dze),hze=nze.default,pze=eme(hze);function eme(t){return t&&t.__esModule?t:{default:t}}s(eme,"_interopRequireDefault");var tme=s(function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,o=s(function(u){var d=new Error(u);throw d.subject_url=e,d},"throwErr");(typeof e!="string"||!e.trim())&&o("Invalid url."),e.length>t.MAX_INPUT_LENGTH&&o("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":fze(r))!=="object"&&(r={stripHash:!1}),e=(0,Aze.default)(e,r));var a=(0,pze.default)(e);if(a.parse_failed){var c=a.href.match(n);c?(a.protocols=["ssh"],a.protocol="ssh",a.resource=c[2],a.host=c[2],a.user=c[1],a.pathname="/"+c[3],a.parse_failed=!1):o("URL parsing failed.")}return a},"parseUrl");tme.MAX_INPUT_LENGTH=2048;var mze=Zpe.default=tme;rme.exports=mze});var sme=q((SCr,ome)=>{"use strict";f();var gze=zW();function ime(t){if(Array.isArray(t))return t.indexOf("ssh")!==-1||t.indexOf("rsync")!==-1;if(typeof t!="string")return!1;var e=gze(t);if(t=t.substring(t.indexOf("://")+3),ime(e))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!t.match(r)&&t.indexOf("@")<t.indexOf(":")}s(ime,"isSsh");ome.exports=ime});var lme=q((kCr,cme)=>{"use strict";f();var yze=nme(),ame=sme();function Cze(t){let e=yze(t);return e.token="",e.password==="x-oauth-basic"?e.token=e.user:e.user==="x-token-auth"&&(e.token=e.password),ame(e.protocols)||e.protocols.length===0&&ame(t)?e.protocol="ssh":e.protocols.length?e.protocol=e.protocols[0]:(e.protocol="file",e.protocols=["file"]),e.href=e.href.replace(/\/$/,""),e}s(Cze,"gitUp");cme.exports=Cze});var fme=q((QCr,ume)=>{"use strict";f();var Eze=lme();function jW(t,e){if(e=e||[],typeof t!="string")throw new Error("The url must be a string.");if(!e.every(function(S){return typeof S=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(t)&&(t="https://github.com/"+t);var n=Eze(t),o=n.resource.split("."),a=null;switch(n.toString=function(S){return jW.stringify(this,S)},n.source=o.length>2?o.slice(1-o.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=o[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){a=n.name.split("/"),a.length===4&&(n.organization=a[1],n.owner=a[2],n.name=a[3],n.full_name=a[2]+"/"+a[3]);break}else{a=n.name.split("/"),a.length===2?(n.owner=a[1],n.name=a[1],n.full_name="_git/"+n.name):a.length===3?(n.name=a[2],a[0]==="DefaultCollection"?(n.owner=a[2],n.organization=a[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=a[0],n.full_name=n.owner+"/_git/"+n.name)):a.length===4&&(n.organization=a[0],n.owner=a[1],n.name=a[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){a=n.name.split("/"),a.length===4&&(n.organization=a[1],n.owner=a[2],n.name=a[3]);break}else{a=n.name.split("/"),a.length===5?(n.organization=a[0],n.owner=a[1],n.name=a[4],n.full_name="_git/"+n.name):a.length===3?(n.name=a[2],a[0]==="DefaultCollection"?(n.owner=a[2],n.organization=a[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=a[0],n.full_name=n.owner+"/_git/"+n.name)):a.length===4&&(n.organization=a[0],n.owner=a[1],n.name=a[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:a=n.name.split("/");var c=a.length-1;if(a.length>=2){var l=a.indexOf("-",2),u=a.indexOf("blob",2),d=a.indexOf("tree",2),A=a.indexOf("commit",2),h=a.indexOf("issues",2),p=a.indexOf("src",2),y=a.indexOf("raw",2),E=a.indexOf("edit",2);c=l>0?l-1:u>0&&d>0?Math.min(u-1,d-1):u>0?u-1:h>0?h-1:d>0?d-1:A>0?A-1:p>0?p-1:y>0?y-1:E>0?E-1:c,n.owner=a.slice(0,c).join("/"),n.name=a[c],A&&h<0&&(n.commit=a[c+2])}n.ref="",n.filepathtype="",n.filepath="";var v=a.length>c&&a[c+1]==="-"?c+1:c;a.length>v+2&&["raw","src","blob","tree","edit"].indexOf(a[v+1])>=0&&(n.filepathtype=a[v+1],n.ref=a[v+2],a.length>v+3&&(n.filepath=a.slice(v+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var w=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,_=w.exec(n.pathname);return _!=null&&(n.source="bitbucket-server",_[1]==="users"?n.owner="~"+_[2]:n.owner=_[2],n.organization=n.owner,n.name=_[3],a=_[4].split("/"),a.length>1&&(["raw","browse"].indexOf(a[1])>=0?(n.filepathtype=a[1],a.length>2&&(n.filepath=a.slice(2).join("/"))):a[1]==="commits"&&a.length>2&&(n.commit=a[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),e.length!==0&&n.ref&&(n.ref=vze(n.href,e)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}s(jW,"gitUrlParse");jW.stringify=function(t,e){e=e||(t.protocols&&t.protocols.length?t.protocols.join("+"):t.protocol);var r=t.port?":"+t.port:"",n=t.user||"git",o=t.git_suffix?".git":"";switch(e){case"ssh":return r?"ssh://"+n+"@"+t.resource+r+"/"+t.full_name+o:n+"@"+t.resource+":"+t.full_name+o;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return e+"://"+n+"@"+t.resource+r+"/"+t.full_name+o;case"http":case"https":var a=t.token?Ize(t):t.user&&(t.protocols.includes("http")||t.protocols.includes("https"))?t.user+"@":"";return e+"://"+a+t.resource+r+"/"+xze(t)+o;default:return t.href}};function Ize(t){switch(t.source){case"bitbucket.org":return"x-token-auth:"+t.token+"@";default:return t.token+"@"}}s(Ize,"buildToken");function xze(t){switch(t.source){case"bitbucket-server":return"scm/"+t.full_name;default:var e=t.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return e}}s(xze,"buildPath");function vze(t,e){var r="";return e.forEach(function(n){t.includes(n)&&n.length>r.length&&(r=n)}),r}s(vze,"findLongestMatchingSubstring");ume.exports=jW});var gme=q((exports,module)=>{f();var Module=typeof Module<"u"?Module:{},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{s(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=s((t,e)=>{throw e},"quit_"),scriptDirectory="";function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}s(locateFile,"locateFile");var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=__dirname+"/",readBinary=s(t=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t);var e=fs.readFileSync(t);return e},"readBinary"),readAsync=s((t,e=!0)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),new Promise((r,n)=>{fs.readFile(t,e?void 0:"utf8",(o,a)=>{o?n(o):r(e?a.buffer:a)})})),"readAsync"),!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=s((t,e)=>{throw process.exitCode=t,e},"quit_")}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:typeof document<"u"&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory.startsWith("blob:")?scriptDirectory="":scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1),ENVIRONMENT_IS_WORKER&&(readBinary=s(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)},"readBinary")),readAsync=s(t=>isFileURI(t)?new Promise((e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{(n.status==200||n.status==0&&n.response)&&r(n.response),e(n.status)},n.onerror=e,n.send(null)}):fetch(t,{credentials:"same-origin"}).then(e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url))),"readAsync"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var wasmMemory,ABORT=!1,EXITSTATUS,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,HEAP_DATA_VIEW;function updateMemoryViews(){var t=wasmMemory.buffer;Module.HEAP_DATA_VIEW=HEAP_DATA_VIEW=new DataView(t),Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}if(s(updateMemoryViews,"updateMemoryViews"),Module.wasmMemory)wasmMemory=Module.wasmMemory;else{var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:2147483648/65536})}updateMemoryViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}s(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}s(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}s(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}s(postRun,"postRun");function addOnPreRun(t){__ATPRERUN__.unshift(t)}s(addOnPreRun,"addOnPreRun");function addOnInit(t){__ATINIT__.unshift(t)}s(addOnInit,"addOnInit");function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}s(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(t){return t}s(getUniqueRunDependency,"getUniqueRunDependency");function addRunDependency(t){runDependencies++,Module.monitorRunDependencies?.(runDependencies)}s(addRunDependency,"addRunDependency");function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies?.(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}s(removeRunDependency,"removeRunDependency");function abort(t){Module.onAbort?.(t),t="Aborted("+t+")",err(t),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw e}s(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",isDataURI=s(t=>t.startsWith(dataURIPrefix),"isDataURI"),isFileURI=s(t=>t.startsWith("file://"),"isFileURI");function findWasmBinary(){var t="tree-sitter.wasm";return isDataURI(t)?t:locateFile(t)}s(findWasmBinary,"findWasmBinary");var wasmBinaryFile;function getBinarySync(t){if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}s(getBinarySync,"getBinarySync");function getBinaryPromise(t){return wasmBinary?Promise.resolve().then(()=>getBinarySync(t)):readAsync(t).then(e=>new Uint8Array(e),()=>getBinarySync(t))}s(getBinaryPromise,"getBinaryPromise");function instantiateArrayBuffer(t,e,r){return getBinaryPromise(t).then(n=>WebAssembly.instantiate(n,e)).then(r,n=>{err(`failed to asynchronously prepare wasm: ${n}`),abort(n)})}s(instantiateArrayBuffer,"instantiateArrayBuffer");function instantiateAsync(t,e,r,n){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(e)&&!isFileURI(e)&&!ENVIRONMENT_IS_NODE&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(o=>{var a=WebAssembly.instantiateStreaming(o,r);return a.then(n,function(c){return err(`wasm streaming compile failed: ${c}`),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(e,r,n)})}):instantiateArrayBuffer(e,r,n)}s(instantiateAsync,"instantiateAsync");function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)}}s(getWasmImports,"getWasmImports");function createWasm(){var t=getWasmImports();function e(n,o){wasmExports=n.exports,wasmExports=relocateExports(wasmExports,1024);var a=getDylinkMetadata(o);return a.neededDynlibs&&(dynamicLibraries=a.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports,"main"),LDSO.init(),loadDylibs(),addOnInit(wasmExports.__wasm_call_ctors),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate"),wasmExports}s(e,"receiveInstance"),addRunDependency("wasm-instantiate");function r(n){e(n.instance,n.module)}if(s(r,"receiveInstantiationResult"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(n){return err(`Module.instantiateWasm callback failed with error: ${n}`),!1}return wasmBinaryFile||(wasmBinaryFile=findWasmBinary()),instantiateAsync(wasmBinary,wasmBinaryFile,t,r),{}}s(createWasm,"createWasm");var ASM_CONSTS={};function ExitStatus(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}s(ExitStatus,"ExitStatus");var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(t,e){var r=GOT[e];return r||(r=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),currentModuleWeakSymbols.has(e)||(r.required=!0),r}},LE_HEAP_LOAD_F32=s(t=>HEAP_DATA_VIEW.getFloat32(t,!0),"LE_HEAP_LOAD_F32"),LE_HEAP_LOAD_F64=s(t=>HEAP_DATA_VIEW.getFloat64(t,!0),"LE_HEAP_LOAD_F64"),LE_HEAP_LOAD_I16=s(t=>HEAP_DATA_VIEW.getInt16(t,!0),"LE_HEAP_LOAD_I16"),LE_HEAP_LOAD_I32=s(t=>HEAP_DATA_VIEW.getInt32(t,!0),"LE_HEAP_LOAD_I32"),LE_HEAP_LOAD_U32=s(t=>HEAP_DATA_VIEW.getUint32(t,!0),"LE_HEAP_LOAD_U32"),LE_HEAP_STORE_F32=s((t,e)=>HEAP_DATA_VIEW.setFloat32(t,e,!0),"LE_HEAP_STORE_F32"),LE_HEAP_STORE_F64=s((t,e)=>HEAP_DATA_VIEW.setFloat64(t,e,!0),"LE_HEAP_STORE_F64"),LE_HEAP_STORE_I16=s((t,e)=>HEAP_DATA_VIEW.setInt16(t,e,!0),"LE_HEAP_STORE_I16"),LE_HEAP_STORE_I32=s((t,e)=>HEAP_DATA_VIEW.setInt32(t,e,!0),"LE_HEAP_STORE_I32"),LE_HEAP_STORE_U32=s((t,e)=>HEAP_DATA_VIEW.setUint32(t,e,!0),"LE_HEAP_STORE_U32"),callRuntimeCallbacks=s(t=>{for(;t.length>0;)t.shift()(Module)},"callRuntimeCallbacks"),UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder:void 0,UTF8ArrayToString=s((t,e,r)=>{for(var n=e+r,o=e;t[o]&&!(o>=n);)++o;if(o-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,o));for(var a="";e<o;){var c=t[e++];if(!(c&128)){a+=String.fromCharCode(c);continue}var l=t[e++]&63;if((c&224)==192){a+=String.fromCharCode((c&31)<<6|l);continue}var u=t[e++]&63;if((c&240)==224?c=(c&15)<<12|l<<6|u:c=(c&7)<<18|l<<12|u<<6|t[e++]&63,c<65536)a+=String.fromCharCode(c);else{var d=c-65536;a+=String.fromCharCode(55296|d>>10,56320|d&1023)}}return a},"UTF8ArrayToString"),getDylinkMetadata=s(t=>{var e=0,r=0;function n(){return t[e++]}s(n,"getU8");function o(){for(var xe=0,ce=1;;){var J=t[e++];if(xe+=(J&127)*ce,ce*=128,!(J&128))break}return xe}s(o,"getLEB");function a(){var xe=o();return e+=xe,UTF8ArrayToString(t,e-xe,xe)}s(a,"getString");function c(xe,ce){if(xe)throw new Error(ce)}s(c,"failIf");var l="dylink.0";if(t instanceof WebAssembly.Module){var u=WebAssembly.Module.customSections(t,l);u.length===0&&(l="dylink",u=WebAssembly.Module.customSections(t,l)),c(u.length===0,"need dylink section"),t=new Uint8Array(u[0]),r=t.length}else{var d=new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer),A=d[0]==1836278016||d[0]==6386541;c(!A,"need to see wasm magic number"),c(t[8]!==0,"need the dylink section to be first"),e=9;var h=o();r=e+h,l=a()}var p={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(l=="dylink"){p.memorySize=o(),p.memoryAlign=o(),p.tableSize=o(),p.tableAlign=o();for(var y=o(),E=0;E<y;++E){var v=a();p.neededDynlibs.push(v)}}else{c(l!=="dylink.0");for(var w=1,_=2,S=3,D=4,N=256,P=3,O=1;e<r;){var $=n(),ne=o();if($===w)p.memorySize=o(),p.memoryAlign=o(),p.tableSize=o(),p.tableAlign=o();else if($===_)for(var y=o(),E=0;E<y;++E)v=a(),p.neededDynlibs.push(v);else if($===S)for(var oe=o();oe--;){var Ae=a(),Y=o();Y&N&&p.tlsExports.add(Ae)}else if($===D)for(var oe=o();oe--;){var K=a(),Ae=a(),Y=o();(Y&P)==O&&p.weakImports.add(Ae)}else e+=ne}}return p},"getDylinkMetadata");function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return HEAP8[t];case"i8":return HEAP8[t];case"i16":return LE_HEAP_LOAD_I16((t>>1)*2);case"i32":return LE_HEAP_LOAD_I32((t>>2)*4);case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return LE_HEAP_LOAD_F32((t>>2)*4);case"double":return LE_HEAP_LOAD_F64((t>>3)*8);case"*":return LE_HEAP_LOAD_U32((t>>2)*4);default:abort(`invalid type for getValue: ${e}`)}}s(getValue,"getValue");var newDSO=s((t,e,r)=>{var n={refcount:1/0,name:t,exports:r,global:!0};return LDSO.loadedLibsByName[t]=n,e!=null&&(LDSO.loadedLibsByHandle[e]=n),n},"newDSO"),LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO("__main__",0,wasmImports)}},___heap_base=78112,zeroMemory=s((t,e)=>(HEAPU8.fill(0,t,t+e),t),"zeroMemory"),alignMemory=s((t,e)=>Math.ceil(t/e)*e,"alignMemory"),getMemory=s(t=>{if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,r=e+alignMemory(t,16);return ___heap_base=r,GOT.__heap_base.value=r,e},"getMemory"),isInternalSym=s(t=>["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm","__start_em_js","__stop_em_js"].includes(t)||t.startsWith("__em_js__"),"isInternalSym"),uleb128Encode=s((t,e)=>{t<128?e.push(t):e.push(t%128|128,t>>7)},"uleb128Encode"),sigToWasmTypes=s(t=>{for(var e={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]);return r},"sigToWasmTypes"),generateFuncType=s((t,e)=>{var r=t.slice(0,1),n=t.slice(1),o={i:127,p:127,j:126,f:125,d:124,e:111};e.push(96),uleb128Encode(n.length,e);for(var a=0;a<n.length;++a)e.push(o[n[a]]);r=="v"?e.push(0):e.push(1,o[r])},"generateFuncType"),convertJsFunctionToWasm=s((t,e)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var r=[1];generateFuncType(e,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push(...r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(n)),a=new WebAssembly.Instance(o,{e:{f:t}}),c=a.exports.f;return c},"convertJsFunctionToWasm"),wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:28,element:"anyfunc"}),getWasmTableEntry=s(t=>{var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e},"getWasmTableEntry"),updateTableMap=s((t,e)=>{if(functionsInTableMap)for(var r=t;r<t+e;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}},"updateTableMap"),functionsInTableMap,getFunctionAddress=s(t=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(t)||0),"getFunctionAddress"),freeTableIndexes=[],getEmptyTableSlot=s(()=>{if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1},"getEmptyTableSlot"),setWasmTableEntry=s((t,e)=>{wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)},"setWasmTableEntry"),addFunction=s((t,e)=>{var r=getFunctionAddress(t);if(r)return r;var n=getEmptyTableSlot();try{setWasmTableEntry(n,t)}catch(a){if(!(a instanceof TypeError))throw a;var o=convertJsFunctionToWasm(t,e);setWasmTableEntry(n,o)}return functionsInTableMap.set(t,n),n},"addFunction"),updateGOT=s((t,e)=>{for(var r in t)if(!isInternalSym(r)){var n=t[r];r.startsWith("orig$")&&(r=r.split("$")[1],e=!0),GOT[r]||=new WebAssembly.Global({value:"i32",mutable:!0}),(e||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err(`unhandled export type for '${r}': ${typeof n}`))}},"updateGOT"),relocateExports=s((t,e,r)=>{var n={};for(var o in t){var a=t[o];typeof a=="object"&&(a=a.value),typeof a=="number"&&(a+=e),n[o]=a}return updateGOT(n,r),n},"relocateExports"),isSymbolDefined=s(t=>{var e=wasmImports[t];return!(!e||e.stub)},"isSymbolDefined"),dynCallLegacy=s((t,e,r)=>{t=t.replace(/p/g,"i");var n=Module["dynCall_"+t];return n(e,...r)},"dynCallLegacy"),dynCall=s((t,e,r=[])=>{if(t.includes("j"))return dynCallLegacy(t,e,r);var n=getWasmTableEntry(e)(...r);return n},"dynCall"),stackSave=s(()=>_emscripten_stack_get_current(),"stackSave"),stackRestore=s(t=>__emscripten_stack_restore(t),"stackRestore"),createInvokeFunction=s(t=>(e,...r)=>{var n=stackSave();try{return dynCall(t,e,r)}catch(o){if(stackRestore(n),o!==o+0)throw o;_setThrew(1,0)}},"createInvokeFunction"),resolveGlobalSymbol=s((t,e=!1)=>{var r;return e&&"orig$"+t in wasmImports&&(t="orig$"+t),isSymbolDefined(t)?r=wasmImports[t]:t.startsWith("invoke_")&&(r=wasmImports[t]=createInvokeFunction(t.split("_")[1])),{sym:r,name:t}},"resolveGlobalSymbol"),UTF8ToString=s((t,e)=>t?UTF8ArrayToString(HEAPU8,t,e):"","UTF8ToString"),loadWebAssemblyModule=s((binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);currentModuleWeakSymbols=metadata.weakImports;function loadModule(){var firstLoad=!handle||!HEAP8[handle+8];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign),memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+8]=1,LE_HEAP_STORE_U32((handle+12>>2)*4,memoryBase),LE_HEAP_STORE_I32((handle+16>>2)*4,metadata.memorySize),LE_HEAP_STORE_U32((handle+20>>2)*4,tableBase),LE_HEAP_STORE_I32((handle+24>>2)*4,metadata.tableSize))}else memoryBase=LE_HEAP_LOAD_U32((handle+12>>2)*4),tableBase=LE_HEAP_LOAD_U32((handle+20>>2)*4);var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length;tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t).sym;return!e&&localScope&&(e=localScope[t]),e||(e=moduleExports[t]),e}s(resolveSymbol,"resolveSymbol");var proxyHandler={get(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in wasmImports&&!wasmImports[e].stub)return wasmImports[e];if(!(e in t)){var r;t[e]=(...n)=>(r||=resolveSymbol(e),r(...n))}return t[e]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module,instance){updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols();function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func=`(${args}) => { ${body} };`;ASM_CONSTS[start]=eval(func)}if(s(addEmAsm,"addEmAsm"),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),cSig!="void"){cSig=cSig.split(",");for(var i in cSig){var jsArg=cSig[i].split(" ").pop();jsArgs.push(jsArg.replace("*",""))}}var func=`(${jsArgs}) => ${body};`;moduleExports[name]=eval(func)}s(addEmJs,"addEmJs");for(var name in moduleExports)if(name.startsWith("__em_js__")){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split("<::>");addEmJs(name.replace("__em_js__",""),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(s(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(binary,instance))}return WebAssembly.instantiate(binary,info).then(t=>postInstantiation(t.module,t.instance))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(module,instance)}return s(loadModule,"loadModule"),flags.loadAsync?metadata.neededDynlibs.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,flags,localScope)),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach(t=>loadDynamicLibrary(t,flags,localScope)),loadModule())},"loadWebAssemblyModule"),mergeLibSymbols=s((t,e)=>{for(var[r,n]of Object.entries(t)){let o=s(c=>{isSymbolDefined(c)||(wasmImports[c]=n)},"setImport");o(r);let a="__main_argc_argv";r=="main"&&o(a),r==a&&o("main"),r.startsWith("dynCall_")&&!Module.hasOwnProperty(r)&&(Module[r]=n)}},"mergeLibSymbols"),asyncLoad=s((t,e,r,n)=>{var o=n?"":`al ${t}`;readAsync(t).then(a=>{e(new Uint8Array(a)),o&&removeRunDependency(o)},a=>{if(r)r();else throw`Loading data file "${t}" failed.`}),o&&addRunDependency(o)},"asyncLoad");function loadDynamicLibrary(t,e={global:!0,nodelete:!0},r,n){var o=LDSO.loadedLibsByName[t];if(o)return e.global?o.global||(o.global=!0,mergeLibSymbols(o.exports,t)):r&&Object.assign(r,o.exports),e.nodelete&&o.refcount!==1/0&&(o.refcount=1/0),o.refcount++,n&&(LDSO.loadedLibsByHandle[n]=o),e.loadAsync?Promise.resolve(!0):!0;o=newDSO(t,n,"loading"),o.refcount=e.nodelete?1/0:1,o.global=e.global;function a(){if(n){var u=LE_HEAP_LOAD_U32((n+28>>2)*4),d=LE_HEAP_LOAD_U32((n+32>>2)*4);if(u&&d){var A=HEAP8.slice(u,u+d);return e.loadAsync?Promise.resolve(A):A}}var h=locateFile(t);if(e.loadAsync)return new Promise(function(p,y){asyncLoad(h,p,y)});if(!readBinary)throw new Error(`${h}: file not found, and synchronous loading of external files is not available`);return readBinary(h)}s(a,"loadLibData");function c(){return e.loadAsync?a().then(u=>loadWebAssemblyModule(u,e,t,r,n)):loadWebAssemblyModule(a(),e,t,r,n)}s(c,"getExports");function l(u){o.global?mergeLibSymbols(u,t):r&&Object.assign(r,u),o.exports=u}return s(l,"moduleLoaded"),e.loadAsync?c().then(u=>(l(u),!0)):(l(c()),!0)}s(loadDynamicLibrary,"loadDynamicLibrary");var reportUndefinedSymbols=s(()=>{for(var[t,e]of Object.entries(GOT))if(e.value==0){var r=resolveGlobalSymbol(t,!0).sym;if(!r&&!e.required)continue;if(typeof r=="function")e.value=addFunction(r,r.sig);else if(typeof r=="number")e.value=r;else throw new Error(`bad export type for '${t}': ${typeof r}`)}},"reportUndefinedSymbols"),loadDylibs=s(()=>{if(!dynamicLibraries.length){reportUndefinedSymbols();return}addRunDependency("loadDylibs"),dynamicLibraries.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})),Promise.resolve()).then(()=>{reportUndefinedSymbols(),removeRunDependency("loadDylibs")})},"loadDylibs"),noExitRuntime=Module.noExitRuntime||!0;function setValue(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":HEAP8[t]=e;break;case"i8":HEAP8[t]=e;break;case"i16":LE_HEAP_STORE_I16((t>>1)*2,e);break;case"i32":LE_HEAP_STORE_I32((t>>2)*4,e);break;case"i64":abort("to do setValue(i64) use WASM_BIGINT");case"float":LE_HEAP_STORE_F32((t>>2)*4,e);break;case"double":LE_HEAP_STORE_F64((t>>3)*8,e);break;case"*":LE_HEAP_STORE_U32((t>>2)*4,e);break;default:abort(`invalid type for setValue: ${r}`)}}s(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78112),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),__abort_js=s(()=>{abort("")},"__abort_js");__abort_js.sig="v";var nowIsMonotonic=1,__emscripten_get_now_is_monotonic=s(()=>nowIsMonotonic,"__emscripten_get_now_is_monotonic");__emscripten_get_now_is_monotonic.sig="i";var __emscripten_memcpy_js=s((t,e,r)=>HEAPU8.copyWithin(t,e,e+r),"__emscripten_memcpy_js");__emscripten_memcpy_js.sig="vppp";var _emscripten_date_now=s(()=>Date.now(),"_emscripten_date_now");_emscripten_date_now.sig="d";var _emscripten_get_now;_emscripten_get_now=s(()=>performance.now(),"_emscripten_get_now"),_emscripten_get_now.sig="d";var getHeapMax=s(()=>2147483648,"getHeapMax"),growMemory=s(t=>{var e=wasmMemory.buffer,r=(t-e.byteLength+65535)/65536;try{return wasmMemory.grow(r),updateMemoryViews(),1}catch{}},"growMemory"),_emscripten_resize_heap=s(t=>{var e=HEAPU8.length;t>>>=0;var r=getHeapMax();if(t>r)return!1;for(var n=s((u,d)=>u+(d-u%d)%d,"alignUp"),o=1;o<=4;o*=2){var a=e*(1+.2/o);a=Math.min(a,t+100663296);var c=Math.min(r,n(Math.max(t,a),65536)),l=growMemory(c);if(l)return!0}return!1},"_emscripten_resize_heap");_emscripten_resize_heap.sig="ip";var _fd_close=s(t=>52,"_fd_close");_fd_close.sig="ii";var convertI32PairToI53Checked=s((t,e)=>e+2097152>>>0<4194305-!!t?(t>>>0)+e*4294967296:NaN,"convertI32PairToI53Checked");function _fd_seek(t,e,r,n,o){var a=convertI32PairToI53Checked(e,r);return 70}s(_fd_seek,"_fd_seek"),_fd_seek.sig="iiiiip";var printCharBuffers=[null,[],[]],printChar=s((t,e)=>{var r=printCharBuffers[t];e===0||e===10?((t===1?out:err)(UTF8ArrayToString(r,0)),r.length=0):r.push(e)},"printChar"),_fd_write=s((t,e,r,n)=>{for(var o=0,a=0;a<r;a++){var c=LE_HEAP_LOAD_U32((e>>2)*4),l=LE_HEAP_LOAD_U32((e+4>>2)*4);e+=8;for(var u=0;u<l;u++)printChar(t,HEAPU8[c+u]);o+=l}return LE_HEAP_STORE_U32((n>>2)*4,o),0},"_fd_write");_fd_write.sig="iippp";function _tree_sitter_log_callback(t,e){if(currentLogCallback){let r=UTF8ToString(e);currentLogCallback(r,t!==0)}}s(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(t,e,r,n,o){let c=currentParseCallback(e,{row:r,column:n});typeof c=="string"?(setValue(o,c.length,"i32"),stringToUTF16(c,t,10240)):setValue(o,0,"i32")}s(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");var runtimeKeepaliveCounter=0,keepRuntimeAlive=s(()=>noExitRuntime||runtimeKeepaliveCounter>0,"keepRuntimeAlive"),_proc_exit=s(t=>{EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit?.(t),ABORT=!0),quit_(t,new ExitStatus(t))},"_proc_exit");_proc_exit.sig="vi";var exitJS=s((t,e)=>{EXITSTATUS=t,_proc_exit(t)},"exitJS"),handleException=s(t=>{if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)},"handleException"),lengthBytesUTF8=s(t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e},"lengthBytesUTF8"),stringToUTF8Array=s((t,e,r,n)=>{if(!(n>0))return 0;for(var o=r,a=r+n-1,c=0;c<t.length;++c){var l=t.charCodeAt(c);if(l>=55296&&l<=57343){var u=t.charCodeAt(++c);l=65536+((l&1023)<<10)|u&1023}if(l<=127){if(r>=a)break;e[r++]=l}else if(l<=2047){if(r+1>=a)break;e[r++]=192|l>>6,e[r++]=128|l&63}else if(l<=65535){if(r+2>=a)break;e[r++]=224|l>>12,e[r++]=128|l>>6&63,e[r++]=128|l&63}else{if(r+3>=a)break;e[r++]=240|l>>18,e[r++]=128|l>>12&63,e[r++]=128|l>>6&63,e[r++]=128|l&63}}return e[r]=0,r-o},"stringToUTF8Array"),stringToUTF8=s((t,e,r)=>stringToUTF8Array(t,HEAPU8,e,r),"stringToUTF8"),stackAlloc=s(t=>__emscripten_stack_alloc(t),"stackAlloc"),stringToUTF8OnStack=s(t=>{var e=lengthBytesUTF8(t)+1,r=stackAlloc(e);return stringToUTF8(t,r,e),r},"stringToUTF8OnStack"),stringToUTF16=s((t,e,r)=>{if(r??=2147483647,r<2)return 0;r-=2;for(var n=e,o=r<t.length*2?r/2:t.length,a=0;a<o;++a){var c=t.charCodeAt(a);LE_HEAP_STORE_I16((e>>1)*2,c),e+=2}return LE_HEAP_STORE_I16((e>>1)*2,0),e-n},"stringToUTF16"),AsciiToString=s(t=>{for(var e="";;){var r=HEAPU8[t++];if(!r)return e;e+=String.fromCharCode(r)}},"AsciiToString"),wasmImports={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_abort_js:__abort_js,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,_emscripten_memcpy_js:__emscripten_memcpy_js,emscripten_get_now:_emscripten_get_now,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},wasmExports=createWasm(),___wasm_call_ctors=s(()=>(___wasm_call_ctors=wasmExports.__wasm_call_ctors)(),"___wasm_call_ctors"),___wasm_apply_data_relocs=s(()=>(___wasm_apply_data_relocs=wasmExports.__wasm_apply_data_relocs)(),"___wasm_apply_data_relocs"),_malloc=Module._malloc=t=>(_malloc=Module._malloc=wasmExports.malloc)(t),_calloc=Module._calloc=(t,e)=>(_calloc=Module._calloc=wasmExports.calloc)(t,e),_realloc=Module._realloc=(t,e)=>(_realloc=Module._realloc=wasmExports.realloc)(t,e),_free=Module._free=t=>(_free=Module._free=wasmExports.free)(t),_ts_language_symbol_count=Module._ts_language_symbol_count=t=>(_ts_language_symbol_count=Module._ts_language_symbol_count=wasmExports.ts_language_symbol_count)(t),_ts_language_state_count=Module._ts_language_state_count=t=>(_ts_language_state_count=Module._ts_language_state_count=wasmExports.ts_language_state_count)(t),_ts_language_version=Module._ts_language_version=t=>(_ts_language_version=Module._ts_language_version=wasmExports.ts_language_version)(t),_ts_language_field_count=Module._ts_language_field_count=t=>(_ts_language_field_count=Module._ts_language_field_count=wasmExports.ts_language_field_count)(t),_ts_language_next_state=Module._ts_language_next_state=(t,e,r)=>(_ts_language_next_state=Module._ts_language_next_state=wasmExports.ts_language_next_state)(t,e,r),_ts_language_symbol_name=Module._ts_language_symbol_name=(t,e)=>(_ts_language_symbol_name=Module._ts_language_symbol_name=wasmExports.ts_language_symbol_name)(t,e),_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=(t,e,r,n)=>(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=wasmExports.ts_language_symbol_for_name)(t,e,r,n),_strncmp=Module._strncmp=(t,e,r)=>(_strncmp=Module._strncmp=wasmExports.strncmp)(t,e,r),_ts_language_symbol_type=Module._ts_language_symbol_type=(t,e)=>(_ts_language_symbol_type=Module._ts_language_symbol_type=wasmExports.ts_language_symbol_type)(t,e),_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=(t,e)=>(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=wasmExports.ts_language_field_name_for_id)(t,e),_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=(t,e)=>(_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=wasmExports.ts_lookahead_iterator_new)(t,e),_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=t=>(_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=wasmExports.ts_lookahead_iterator_delete)(t),_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=(t,e)=>(_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=wasmExports.ts_lookahead_iterator_reset_state)(t,e),_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=(t,e,r)=>(_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=wasmExports.ts_lookahead_iterator_reset)(t,e,r),_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=t=>(_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=wasmExports.ts_lookahead_iterator_next)(t),_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=t=>(_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=wasmExports.ts_lookahead_iterator_current_symbol)(t),_memset=Module._memset=(t,e,r)=>(_memset=Module._memset=wasmExports.memset)(t,e,r),_memcpy=Module._memcpy=(t,e,r)=>(_memcpy=Module._memcpy=wasmExports.memcpy)(t,e,r),_ts_parser_delete=Module._ts_parser_delete=t=>(_ts_parser_delete=Module._ts_parser_delete=wasmExports.ts_parser_delete)(t),_ts_parser_reset=Module._ts_parser_reset=t=>(_ts_parser_reset=Module._ts_parser_reset=wasmExports.ts_parser_reset)(t),_ts_parser_set_language=Module._ts_parser_set_language=(t,e)=>(_ts_parser_set_language=Module._ts_parser_set_language=wasmExports.ts_parser_set_language)(t,e),_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=t=>(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=wasmExports.ts_parser_timeout_micros)(t),_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=(t,e,r)=>(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=wasmExports.ts_parser_set_timeout_micros)(t,e,r),_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=(t,e,r)=>(_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=wasmExports.ts_parser_set_included_ranges)(t,e,r),_memmove=Module._memmove=(t,e,r)=>(_memmove=Module._memmove=wasmExports.memmove)(t,e,r),_memcmp=Module._memcmp=(t,e,r)=>(_memcmp=Module._memcmp=wasmExports.memcmp)(t,e,r),_ts_query_new=Module._ts_query_new=(t,e,r,n,o)=>(_ts_query_new=Module._ts_query_new=wasmExports.ts_query_new)(t,e,r,n,o),_ts_query_delete=Module._ts_query_delete=t=>(_ts_query_delete=Module._ts_query_delete=wasmExports.ts_query_delete)(t),_iswspace=Module._iswspace=t=>(_iswspace=Module._iswspace=wasmExports.iswspace)(t),_iswalnum=Module._iswalnum=t=>(_iswalnum=Module._iswalnum=wasmExports.iswalnum)(t),_ts_query_pattern_count=Module._ts_query_pattern_count=t=>(_ts_query_pattern_count=Module._ts_query_pattern_count=wasmExports.ts_query_pattern_count)(t),_ts_query_capture_count=Module._ts_query_capture_count=t=>(_ts_query_capture_count=Module._ts_query_capture_count=wasmExports.ts_query_capture_count)(t),_ts_query_string_count=Module._ts_query_string_count=t=>(_ts_query_string_count=Module._ts_query_string_count=wasmExports.ts_query_string_count)(t),_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=(t,e,r)=>(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=wasmExports.ts_query_capture_name_for_id)(t,e,r),_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=(t,e,r)=>(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=wasmExports.ts_query_string_value_for_id)(t,e,r),_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=(t,e,r)=>(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=wasmExports.ts_query_predicates_for_pattern)(t,e,r),_ts_query_disable_capture=Module._ts_query_disable_capture=(t,e,r)=>(_ts_query_disable_capture=Module._ts_query_disable_capture=wasmExports.ts_query_disable_capture)(t,e,r),_ts_tree_copy=Module._ts_tree_copy=t=>(_ts_tree_copy=Module._ts_tree_copy=wasmExports.ts_tree_copy)(t),_ts_tree_delete=Module._ts_tree_delete=t=>(_ts_tree_delete=Module._ts_tree_delete=wasmExports.ts_tree_delete)(t),_ts_init=Module._ts_init=()=>(_ts_init=Module._ts_init=wasmExports.ts_init)(),_ts_parser_new_wasm=Module._ts_parser_new_wasm=()=>(_ts_parser_new_wasm=Module._ts_parser_new_wasm=wasmExports.ts_parser_new_wasm)(),_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=(t,e)=>(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=wasmExports.ts_parser_enable_logger_wasm)(t,e),_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=(t,e,r,n,o)=>(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=wasmExports.ts_parser_parse_wasm)(t,e,r,n,o),_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=t=>(_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=wasmExports.ts_parser_included_ranges_wasm)(t),_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=(t,e)=>(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=wasmExports.ts_language_type_is_named_wasm)(t,e),_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=(t,e)=>(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=wasmExports.ts_language_type_is_visible_wasm)(t,e),_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=t=>(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=wasmExports.ts_tree_root_node_wasm)(t),_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=t=>(_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=wasmExports.ts_tree_root_node_with_offset_wasm)(t),_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=t=>(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=wasmExports.ts_tree_edit_wasm)(t),_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=t=>(_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=wasmExports.ts_tree_included_ranges_wasm)(t),_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=(t,e)=>(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=wasmExports.ts_tree_get_changed_ranges_wasm)(t,e),_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=t=>(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=wasmExports.ts_tree_cursor_new_wasm)(t),_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=t=>(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=wasmExports.ts_tree_cursor_delete_wasm)(t),_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=t=>(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=wasmExports.ts_tree_cursor_reset_wasm)(t),_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=(t,e)=>(_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=wasmExports.ts_tree_cursor_reset_to_wasm)(t,e),_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=t=>(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=wasmExports.ts_tree_cursor_goto_first_child_wasm)(t),_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=t=>(_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=wasmExports.ts_tree_cursor_goto_last_child_wasm)(t),_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=t=>(_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_index_wasm)(t),_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=t=>(_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_position_wasm)(t),_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=t=>(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=wasmExports.ts_tree_cursor_goto_next_sibling_wasm)(t),_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=t=>(_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=wasmExports.ts_tree_cursor_goto_previous_sibling_wasm)(t),_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=(t,e)=>(_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=wasmExports.ts_tree_cursor_goto_descendant_wasm)(t,e),_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=t=>(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=wasmExports.ts_tree_cursor_goto_parent_wasm)(t),_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=t=>(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=wasmExports.ts_tree_cursor_current_node_type_id_wasm)(t),_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=t=>(_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=wasmExports.ts_tree_cursor_current_node_state_id_wasm)(t),_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=t=>(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=wasmExports.ts_tree_cursor_current_node_is_named_wasm)(t),_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=t=>(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=wasmExports.ts_tree_cursor_current_node_is_missing_wasm)(t),_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=t=>(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=wasmExports.ts_tree_cursor_current_node_id_wasm)(t),_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=t=>(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=wasmExports.ts_tree_cursor_start_position_wasm)(t),_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=t=>(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=wasmExports.ts_tree_cursor_end_position_wasm)(t),_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=t=>(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=wasmExports.ts_tree_cursor_start_index_wasm)(t),_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=t=>(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=wasmExports.ts_tree_cursor_end_index_wasm)(t),_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=t=>(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=wasmExports.ts_tree_cursor_current_field_id_wasm)(t),_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=t=>(_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=wasmExports.ts_tree_cursor_current_depth_wasm)(t),_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=t=>(_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=wasmExports.ts_tree_cursor_current_descendant_index_wasm)(t),_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=t=>(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=wasmExports.ts_tree_cursor_current_node_wasm)(t),_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=t=>(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=wasmExports.ts_node_symbol_wasm)(t),_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=(t,e)=>(_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=wasmExports.ts_node_field_name_for_child_wasm)(t,e),_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=(t,e)=>(_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=wasmExports.ts_node_children_by_field_id_wasm)(t,e),_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=t=>(_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=wasmExports.ts_node_first_child_for_byte_wasm)(t),_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=t=>(_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=wasmExports.ts_node_first_named_child_for_byte_wasm)(t),_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=t=>(_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=wasmExports.ts_node_grammar_symbol_wasm)(t),_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=t=>(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=wasmExports.ts_node_child_count_wasm)(t),_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=t=>(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=wasmExports.ts_node_named_child_count_wasm)(t),_ts_node_child_wasm=Module._ts_node_child_wasm=(t,e)=>(_ts_node_child_wasm=Module._ts_node_child_wasm=wasmExports.ts_node_child_wasm)(t,e),_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=(t,e)=>(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=wasmExports.ts_node_named_child_wasm)(t,e),_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=(t,e)=>(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=wasmExports.ts_node_child_by_field_id_wasm)(t,e),_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=t=>(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=wasmExports.ts_node_next_sibling_wasm)(t),_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=t=>(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=wasmExports.ts_node_prev_sibling_wasm)(t),_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=t=>(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=wasmExports.ts_node_next_named_sibling_wasm)(t),_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=t=>(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=wasmExports.ts_node_prev_named_sibling_wasm)(t),_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=t=>(_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=wasmExports.ts_node_descendant_count_wasm)(t),_ts_node_parent_wasm=Module._ts_node_parent_wasm=t=>(_ts_node_parent_wasm=Module._ts_node_parent_wasm=wasmExports.ts_node_parent_wasm)(t),_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=t=>(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=wasmExports.ts_node_descendant_for_index_wasm)(t),_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=t=>(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=wasmExports.ts_node_named_descendant_for_index_wasm)(t),_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=t=>(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=wasmExports.ts_node_descendant_for_position_wasm)(t),_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=t=>(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=wasmExports.ts_node_named_descendant_for_position_wasm)(t),_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=t=>(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=wasmExports.ts_node_start_point_wasm)(t),_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=t=>(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=wasmExports.ts_node_end_point_wasm)(t),_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=t=>(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=wasmExports.ts_node_start_index_wasm)(t),_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=t=>(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=wasmExports.ts_node_end_index_wasm)(t),_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=t=>(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=wasmExports.ts_node_to_string_wasm)(t),_ts_node_children_wasm=Module._ts_node_children_wasm=t=>(_ts_node_children_wasm=Module._ts_node_children_wasm=wasmExports.ts_node_children_wasm)(t),_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=t=>(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=wasmExports.ts_node_named_children_wasm)(t),_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=(t,e,r,n,o,a,c)=>(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=wasmExports.ts_node_descendants_of_type_wasm)(t,e,r,n,o,a,c),_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=t=>(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=wasmExports.ts_node_is_named_wasm)(t),_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=t=>(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=wasmExports.ts_node_has_changes_wasm)(t),_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=t=>(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=wasmExports.ts_node_has_error_wasm)(t),_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=t=>(_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=wasmExports.ts_node_is_error_wasm)(t),_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=t=>(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=wasmExports.ts_node_is_missing_wasm)(t),_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=t=>(_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=wasmExports.ts_node_is_extra_wasm)(t),_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=t=>(_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=wasmExports.ts_node_parse_state_wasm)(t),_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=t=>(_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=wasmExports.ts_node_next_parse_state_wasm)(t),_ts_query_matches_wasm=Module._ts_query_matches_wasm=(t,e,r,n,o,a,c,l,u,d)=>(_ts_query_matches_wasm=Module._ts_query_matches_wasm=wasmExports.ts_query_matches_wasm)(t,e,r,n,o,a,c,l,u,d),_ts_query_captures_wasm=Module._ts_query_captures_wasm=(t,e,r,n,o,a,c,l,u,d)=>(_ts_query_captures_wasm=Module._ts_query_captures_wasm=wasmExports.ts_query_captures_wasm)(t,e,r,n,o,a,c,l,u,d),_iswalpha=Module._iswalpha=t=>(_iswalpha=Module._iswalpha=wasmExports.iswalpha)(t),_iswblank=Module._iswblank=t=>(_iswblank=Module._iswblank=wasmExports.iswblank)(t),_iswdigit=Module._iswdigit=t=>(_iswdigit=Module._iswdigit=wasmExports.iswdigit)(t),_iswlower=Module._iswlower=t=>(_iswlower=Module._iswlower=wasmExports.iswlower)(t),_iswupper=Module._iswupper=t=>(_iswupper=Module._iswupper=wasmExports.iswupper)(t),_iswxdigit=Module._iswxdigit=t=>(_iswxdigit=Module._iswxdigit=wasmExports.iswxdigit)(t),_memchr=Module._memchr=(t,e,r)=>(_memchr=Module._memchr=wasmExports.memchr)(t,e,r),_strlen=Module._strlen=t=>(_strlen=Module._strlen=wasmExports.strlen)(t),_strcmp=Module._strcmp=(t,e)=>(_strcmp=Module._strcmp=wasmExports.strcmp)(t,e),_strncat=Module._strncat=(t,e,r)=>(_strncat=Module._strncat=wasmExports.strncat)(t,e,r),_strncpy=Module._strncpy=(t,e,r)=>(_strncpy=Module._strncpy=wasmExports.strncpy)(t,e,r),_towlower=Module._towlower=t=>(_towlower=Module._towlower=wasmExports.towlower)(t),_towupper=Module._towupper=t=>(_towupper=Module._towupper=wasmExports.towupper)(t),_setThrew=s((t,e)=>(_setThrew=wasmExports.setThrew)(t,e),"_setThrew"),__emscripten_stack_restore=s(t=>(__emscripten_stack_restore=wasmExports._emscripten_stack_restore)(t),"__emscripten_stack_restore"),__emscripten_stack_alloc=s(t=>(__emscripten_stack_alloc=wasmExports._emscripten_stack_alloc)(t),"__emscripten_stack_alloc"),_emscripten_stack_get_current=s(()=>(_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current)(),"_emscripten_stack_get_current"),dynCall_jiji=Module.dynCall_jiji=(t,e,r,n,o)=>(dynCall_jiji=Module.dynCall_jiji=wasmExports.dynCall_jiji)(t,e,r,n,o),_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=t=>(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=wasmExports.orig$ts_parser_timeout_micros)(t),_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=(t,e)=>(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=wasmExports.orig$ts_parser_set_timeout_micros)(t,e);Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16;var calledRun;dependenciesFulfilled=s(function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)},"runCaller");function callMain(t=[]){var e=resolveGlobalSymbol("main").sym;if(e){t.unshift(thisProgram);var r=t.length,n=stackAlloc((r+1)*4),o=n;t.forEach(c=>{LE_HEAP_STORE_U32((o>>2)*4,stringToUTF8OnStack(c)),o+=4}),LE_HEAP_STORE_U32((o>>2)*4,0);try{var a=e(r,n);return exitJS(a,!0),a}catch(c){return handleException(c)}}}s(callMain,"callMain");function run(t=arguments_){if(runDependencies>0||(preRun(),runDependencies>0))return;function e(){calledRun||(calledRun=!0,Module.calledRun=!0,!ABORT&&(initRuntime(),preMain(),Module.onRuntimeInitialized?.(),shouldRunNow&&callMain(t),postRun()))}s(e,"doRun"),Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()}if(s(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_CURSOR=4*SIZE_OF_INT,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/,VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{s(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let r;if(!e)r=0,e=null;else if(e.constructor===Language){r=e[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}else throw new Error("Argument must be a Language");return this.language=e,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(e,r,n){if(typeof e=="string")currentParseCallback=s((u,d)=>e.slice(u),"currentParseCallback");else if(typeof e=="function")currentParseCallback=e;else throw new Error("Argument must be a string or a function");this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let o=0,a=0;if(n?.includedRanges){o=n.includedRanges.length,a=C._calloc(o,SIZE_OF_RANGE);let u=a;for(let d=0;d<o;d++)marshalRange(u,n.includedRanges[d]),u+=SIZE_OF_RANGE}let c=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,a,o);if(!c)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,c,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}getIncludedRanges(){C._ts_parser_included_ranges_wasm(this[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(e);if(e>0){let o=r;for(let a=0;a<e;a++)n[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(r)}return n}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}setLogger(e){if(!e)e=null;else if(typeof e!="function")throw new Error("Logger callback must be a function");return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{static{s(this,"Tree")}constructor(e,r,n,o){assertInternal(e),this[0]=r,this.language=n,this.textCallback=o}copy(){let e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}rootNodeWithOffset(e,r){let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),marshalPoint(n+SIZE_OF_INT,r),C._ts_tree_root_node_with_offset_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(r);if(r>0){let a=n;for(let c=0;c<r;c++)o[c]=unmarshalRange(a),a+=SIZE_OF_RANGE;C._free(n)}return o}getIncludedRanges(){C._ts_tree_included_ranges_wasm(this[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(e);if(e>0){let o=r;for(let a=0;a<e;a++)n[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(r)}return n}}class Node{static{s(this,"Node")}constructor(e,r){assertInternal(e),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get grammarId(){return marshalNode(this),C._ts_node_grammar_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get grammarType(){return this.tree.language.types[this.grammarId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}get parseState(){return marshalNode(this),C._ts_node_parse_state_wasm(this.tree[0])}get nextParseState(){return marshalNode(this),C._ts_node_next_parse_state_wasm(this.tree[0])}get isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}get hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}get hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}get isError(){return marshalNode(this),C._ts_node_is_error_wasm(this.tree[0])===1}get isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}get isExtra(){return marshalNode(this),C._ts_node_is_extra_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let r=this.tree.language.fields.indexOf(e);return r!==-1?this.childForFieldId(r):null}fieldNameForChild(e){marshalNode(this);let r=C._ts_node_field_name_for_child_wasm(this.tree[0],e);return r?AsciiToString(r):null}childrenForFieldName(e){let r=this.tree.language.fields.indexOf(e);return r!==-1&&r!==0?this.childrenForFieldId(r):[]}childrenForFieldId(e){marshalNode(this),C._ts_node_children_by_field_id_wasm(this.tree[0],e);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(r);if(r>0){let a=n;for(let c=0;c<r;c++)o[c]=unmarshalNode(this.tree,a),a+=SIZE_OF_NODE;C._free(n)}return o}firstChildForIndex(e){marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),C._ts_node_first_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}firstNamedChildForIndex(e){marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),C._ts_node_first_named_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=r;for(let o=0;o<e;o++)this._children[o]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=r;for(let o=0;o<e;o++)this._namedChildren[o]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(e,r,n){Array.isArray(e)||(e=[e]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let o=[],a=this.tree.language.types;for(let A=0,h=a.length;A<h;A++)e.includes(a[A])&&o.push(A);let c=C._malloc(SIZE_OF_INT*o.length);for(let A=0,h=o.length;A<h;A++)setValue(c+A*SIZE_OF_INT,o[A],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],c,o.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(l);if(l>0){let A=u;for(let h=0;h<l;h++)d[h]=unmarshalNode(this.tree,A),A+=SIZE_OF_NODE}return C._free(u),C._free(c),d}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get descendantCount(){return marshalNode(this),C._ts_node_descendant_count_wasm(this.tree[0])}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(e);return C._free(e),r}}class TreeCursor{static{s(this,"TreeCursor")}constructor(e,r){assertInternal(e),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}resetTo(e){marshalTreeCursor(this,TRANSFER_BUFFER),marshalTreeCursor(e,TRANSFER_BUFFER+SIZE_OF_CURSOR),C._ts_tree_cursor_reset_to_wasm(this.tree[0],e.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeStateId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_state_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}get currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}get currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}get currentFieldName(){return this.tree.language.fields[this.currentFieldId]}get currentDepth(){return marshalTreeCursor(this),C._ts_tree_cursor_current_depth_wasm(this.tree[0])}get currentDescendantIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_current_descendant_index_wasm(this.tree[0])}gotoFirstChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoLastChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_last_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoFirstChildForIndex(e){marshalTreeCursor(this),setValue(TRANSFER_BUFFER+SIZE_OF_CURSOR,e,"i32");let r=C._ts_tree_cursor_goto_first_child_for_index_wasm(this.tree[0]);return unmarshalTreeCursor(this),r===1}gotoFirstChildForPosition(e){marshalTreeCursor(this),marshalPoint(TRANSFER_BUFFER+SIZE_OF_CURSOR,e);let r=C._ts_tree_cursor_goto_first_child_for_position_wasm(this.tree[0]);return unmarshalTreeCursor(this),r===1}gotoNextSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoPreviousSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_previous_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoDescendant(e){marshalTreeCursor(this),C._ts_tree_cursor_goto_descendant_wasm(this.tree[0],e),unmarshalTreeCursor(this)}gotoParent(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{static{s(this,"Language")}constructor(e,r){assertInternal(e),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,o=this.types.length;n<o;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,o=this.fields.length;n<o;n++){let a=C._ts_language_field_name_for_id(this[0],n);a!==0?this.fields[n]=UTF8ToString(a):this.fields[n]=null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}get stateCount(){return C._ts_language_state_count(this[0])}fieldIdForName(e){let r=this.fields.indexOf(e);return r!==-1?r:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,r){let n=lengthBytesUTF8(e),o=C._malloc(n+1);stringToUTF8(e,o,n+1);let a=C._ts_language_symbol_for_name(this[0],o,n,r);return C._free(o),a||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){let r=C._ts_language_symbol_name(this[0],e);return r?UTF8ToString(r):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}nextState(e,r){return C._ts_language_next_state(this[0],e,r)}lookaheadIterator(e){let r=C._ts_lookahead_iterator_new(this[0],e);return r?new LookaheadIterable(INTERNAL,r,this):null}query(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);let o=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!o){let v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),w=getValue(TRANSFER_BUFFER,"i32"),_=UTF8ToString(n,w).length,S=e.substr(_,100).split(`
`)[0],D=S.match(QUERY_WORD_REGEX)[0],N;switch(v){case 2:N=new RangeError(`Bad node name '${D}'`);break;case 3:N=new RangeError(`Bad field name '${D}'`);break;case 4:N=new RangeError(`Bad capture name @${D}`);break;case 5:N=new TypeError(`Bad pattern structure at offset ${_}: '${S}'...`),D="";break;default:N=new SyntaxError(`Bad syntax at offset ${_}: '${S}'...`),D="";break}throw N.index=_,N.length=D.length,C._free(n),N}let a=C._ts_query_string_count(o),c=C._ts_query_capture_count(o),l=C._ts_query_pattern_count(o),u=new Array(c),d=new Array(a);for(let v=0;v<c;v++){let w=C._ts_query_capture_name_for_id(o,v,TRANSFER_BUFFER),_=getValue(TRANSFER_BUFFER,"i32");u[v]=UTF8ToString(w,_)}for(let v=0;v<a;v++){let w=C._ts_query_string_value_for_id(o,v,TRANSFER_BUFFER),_=getValue(TRANSFER_BUFFER,"i32");d[v]=UTF8ToString(w,_)}let A=new Array(l),h=new Array(l),p=new Array(l),y=new Array(l),E=new Array(l);for(let v=0;v<l;v++){let w=C._ts_query_predicates_for_pattern(o,v,TRANSFER_BUFFER),_=getValue(TRANSFER_BUFFER,"i32");y[v]=[],E[v]=[];let S=[],D=w;for(let N=0;N<_;N++){let P=getValue(D,"i32");D+=SIZE_OF_INT;let O=getValue(D,"i32");if(D+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)S.push({type:"capture",name:u[O]});else if(P===PREDICATE_STEP_TYPE_STRING)S.push({type:"string",value:d[O]});else if(S.length>0){if(S[0].type!=="string")throw new Error("Predicates must begin with a literal value");let $=S[0].value,ne=!0,oe=!0,Ae;switch($){case"any-not-eq?":case"not-eq?":ne=!1;case"any-eq?":case"eq?":if(S.length!==3)throw new Error(`Wrong number of arguments to \`#${$}\` predicate. Expected 2, got ${S.length-1}`);if(S[1].type!=="capture")throw new Error(`First argument of \`#${$}\` predicate must be a capture. Got "${S[1].value}"`);if(oe=!$.startsWith("any-"),S[2].type==="capture"){let ce=S[1].name,J=S[2].name;E[v].push(W=>{let Z=[],re=[];for(let ie of W)ie.name===ce&&Z.push(ie.node),ie.name===J&&re.push(ie.node);let te=s((ie,ue,he)=>he?ie.text===ue.text:ie.text!==ue.text,"compare");return oe?Z.every(ie=>re.some(ue=>te(ie,ue,ne))):Z.some(ie=>re.some(ue=>te(ie,ue,ne)))})}else{Ae=S[1].name;let ce=S[2].value,J=s(Z=>Z.text===ce,"matches"),W=s(Z=>Z.text!==ce,"doesNotMatch");E[v].push(Z=>{let re=[];for(let ie of Z)ie.name===Ae&&re.push(ie.node);let te=ne?J:W;return oe?re.every(te):re.some(te)})}break;case"any-not-match?":case"not-match?":ne=!1;case"any-match?":case"match?":if(S.length!==3)throw new Error(`Wrong number of arguments to \`#${$}\` predicate. Expected 2, got ${S.length-1}.`);if(S[1].type!=="capture")throw new Error(`First argument of \`#${$}\` predicate must be a capture. Got "${S[1].value}".`);if(S[2].type!=="string")throw new Error(`Second argument of \`#${$}\` predicate must be a string. Got @${S[2].value}.`);Ae=S[1].name;let Y=new RegExp(S[2].value);oe=!$.startsWith("any-"),E[v].push(ce=>{let J=[];for(let Z of ce)Z.name===Ae&&J.push(Z.node.text);let W=s((Z,re)=>re?Y.test(Z):!Y.test(Z),"test");return J.length===0?!ne:oe?J.every(Z=>W(Z,ne)):J.some(Z=>W(Z,ne))});break;case"set!":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some(ce=>ce.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');A[v]||(A[v]={}),A[v][S[1].value]=S[2]?S[2].value:null;break;case"is?":case"is-not?":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#${$}\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some(ce=>ce.type!=="string"))throw new Error(`Arguments to \`#${$}\` predicate must be a strings.".`);let K=$==="is?"?h:p;K[v]||(K[v]={}),K[v][S[1].value]=S[2]?S[2].value:null;break;case"not-any-of?":ne=!1;case"any-of?":if(S.length<2)throw new Error(`Wrong number of arguments to \`#${$}\` predicate. Expected at least 1. Got ${S.length-1}.`);if(S[1].type!=="capture")throw new Error(`First argument of \`#${$}\` predicate must be a capture. Got "${S[1].value}".`);for(let ce=2;ce<S.length;ce++)if(S[ce].type!=="string")throw new Error(`Arguments to \`#${$}\` predicate must be a strings.".`);Ae=S[1].name;let xe=S.slice(2).map(ce=>ce.value);E[v].push(ce=>{let J=[];for(let W of ce)W.name===Ae&&J.push(W.node.text);return J.length===0?!ne:J.every(W=>xe.includes(W))===ne});break;default:y[v].push({operator:$,operands:S.slice(1)})}S.length=0}}Object.freeze(A[v]),Object.freeze(h[v]),Object.freeze(p[v])}return C._free(n),new Query(INTERNAL,o,u,E,y,Object.freeze(A),Object.freeze(h),Object.freeze(p))}static load(e){let r;if(e instanceof Uint8Array)r=Promise.resolve(e);else{let n=e;if(typeof process<"u"&&process.versions&&process.versions.node){let o=require("fs");r=Promise.resolve(o.readFileSync(n))}else r=fetch(n).then(o=>o.arrayBuffer().then(a=>{if(o.ok)return new Uint8Array(a);{let c=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${o.status}.

${c}`)}}))}return r.then(n=>loadWebAssemblyModule(n,{loadAsync:!0})).then(n=>{let o=Object.keys(n),a=o.find(l=>LANGUAGE_FUNCTION_REGEX.test(l)&&!l.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(o,null,2)}`);let c=n[a]();return new Language(INTERNAL,c)})}}class LookaheadIterable{static{s(this,"LookaheadIterable")}constructor(e,r,n){assertInternal(e),this[0]=r,this.language=n}get currentTypeId(){return C._ts_lookahead_iterator_current_symbol(this[0])}get currentType(){return this.language.types[this.currentTypeId]||"ERROR"}delete(){C._ts_lookahead_iterator_delete(this[0]),this[0]=0}resetState(e){return C._ts_lookahead_iterator_reset_state(this[0],e)}reset(e,r){return C._ts_lookahead_iterator_reset(this[0],e[0],r)?(this.language=e,!0):!1}[Symbol.iterator](){let e=this;return{next(){return C._ts_lookahead_iterator_next(e[0])?{done:!1,value:e.currentType}:{done:!0,value:""}}}}}class Query{static{s(this,"Query")}constructor(e,r,n,o,a,c,l,u){assertInternal(e),this[0]=r,this.captureNames=n,this.textPredicates=o,this.predicates=a,this.setProperties=c,this.assertedProperties=l,this.refutedProperties=u,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,{startPosition:r=ZERO_POINT,endPosition:n=ZERO_POINT,startIndex:o=0,endIndex:a=0,matchLimit:c=4294967295,maxStartDepth:l=4294967295}={}){if(typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o,a,c,l);let u=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),A=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),h=new Array(u);this.exceededMatchLimit=!!A;let p=0,y=d;for(let E=0;E<u;E++){let v=getValue(y,"i32");y+=SIZE_OF_INT;let w=getValue(y,"i32");y+=SIZE_OF_INT;let _=new Array(w);if(y=unmarshalCaptures(this,e.tree,y,_),this.textPredicates[v].every(S=>S(_))){h[p]={pattern:v,captures:_};let S=this.setProperties[v];S&&(h[p].setProperties=S);let D=this.assertedProperties[v];D&&(h[p].assertedProperties=D);let N=this.refutedProperties[v];N&&(h[p].refutedProperties=N),p++}}return h.length=p,C._free(d),h}captures(e,{startPosition:r=ZERO_POINT,endPosition:n=ZERO_POINT,startIndex:o=0,endIndex:a=0,matchLimit:c=4294967295,maxStartDepth:l=4294967295}={}){if(typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o,a,c,l);let u=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),A=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),h=[];this.exceededMatchLimit=!!A;let p=[],y=d;for(let E=0;E<u;E++){let v=getValue(y,"i32");y+=SIZE_OF_INT;let w=getValue(y,"i32");y+=SIZE_OF_INT;let _=getValue(y,"i32");if(y+=SIZE_OF_INT,p.length=w,y=unmarshalCaptures(this,e.tree,y,p),this.textPredicates[v].every(S=>S(p))){let S=p[_],D=this.setProperties[v];D&&(S.setProperties=D);let N=this.assertedProperties[v];N&&(S.assertedProperties=N);let P=this.refutedProperties[v];P&&(S.refutedProperties=P),h.push(S)}}return C._free(d),h}predicatesForPattern(e){return this.predicates[e]}disableCapture(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1),C._ts_query_disable_capture(this[0],n,r),C._free(n)}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,r){let n=r-e,o=t.textCallback(e,null,r);for(e+=o.length;e<r;){let a=t.textCallback(e,null,r);if(a&&a.length>0)e+=a.length,o+=a;else break}return e>r&&(o=o.slice(0,n)),o}s(getText,"getText");function unmarshalCaptures(t,e,r,n){for(let o=0,a=n.length;o<a;o++){let c=getValue(r,"i32");r+=SIZE_OF_INT;let l=unmarshalNode(e,r);r+=SIZE_OF_NODE,n[o]={name:t.captureNames[c],node:l}}return r}s(unmarshalCaptures,"unmarshalCaptures");function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}s(assertInternal,"assertInternal");function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}s(isPoint,"isPoint");function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}s(marshalNode,"marshalNode");function unmarshalNode(t,e=TRANSFER_BUFFER){let r=getValue(e,"i32");if(e+=SIZE_OF_INT,r===0)return null;let n=getValue(e,"i32");e+=SIZE_OF_INT;let o=getValue(e,"i32");e+=SIZE_OF_INT;let a=getValue(e,"i32");e+=SIZE_OF_INT;let c=getValue(e,"i32"),l=new Node(INTERNAL,t);return l.id=r,l.startIndex=n,l.startPosition={row:o,column:a},l[0]=c,l}s(unmarshalNode,"unmarshalNode");function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32"),setValue(e+3*SIZE_OF_INT,t[3],"i32")}s(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),t[3]=getValue(TRANSFER_BUFFER+3*SIZE_OF_INT,"i32")}s(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}s(marshalPoint,"marshalPoint");function unmarshalPoint(t){return{row:getValue(t,"i32")>>>0,column:getValue(t+SIZE_OF_INT,"i32")>>>0}}s(unmarshalPoint,"unmarshalPoint");function marshalRange(t,e){marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.endPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.endIndex,"i32"),t+=SIZE_OF_INT}s(marshalRange,"marshalRange");function unmarshalRange(t){let e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32")>>>0,t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32")>>>0,e}s(unmarshalRange,"unmarshalRange");function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}s(marshalEdit,"marshalEdit");for(let t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var k1e=q((Vbr,R1e)=>{"use strict";f();R1e.exports=S1e;function S1e(t,e,r){t instanceof RegExp&&(t=w1e(t,r)),e instanceof RegExp&&(e=w1e(e,r));var n=B1e(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}s(S1e,"balanced");function w1e(t,e){var r=e.match(t);return r?r[0]:null}s(w1e,"maybeMatch");S1e.range=B1e;function B1e(t,e,r){var n,o,a,c,l,u=r.indexOf(t),d=r.indexOf(e,u+1),A=u;if(u>=0&&d>0){if(t===e)return[u,d];for(n=[],a=r.length;A>=0&&!l;)A==u?(n.push(A),u=r.indexOf(t,A+1)):n.length==1?l=[n.pop(),d]:(o=n.pop(),o<a&&(a=o,c=d),d=r.indexOf(e,A+1)),A=u<d&&u>=0?u:d;n.length&&(l=[a,c])}return l}s(B1e,"range")});var O1e=q(($br,M1e)=>{f();var D1e=k1e();M1e.exports=mKe;var N1e="\0SLASH"+Math.random()+"\0",Q1e="\0OPEN"+Math.random()+"\0",i$="\0CLOSE"+Math.random()+"\0",P1e="\0COMMA"+Math.random()+"\0",F1e="\0PERIOD"+Math.random()+"\0";function n$(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}s(n$,"numeric");function hKe(t){return t.split("\\\\").join(N1e).split("\\{").join(Q1e).split("\\}").join(i$).split("\\,").join(P1e).split("\\.").join(F1e)}s(hKe,"escapeBraces");function pKe(t){return t.split(N1e).join("\\").split(Q1e).join("{").split(i$).join("}").split(P1e).join(",").split(F1e).join(".")}s(pKe,"unescapeBraces");function L1e(t){if(!t)return[""];var e=[],r=D1e("{","}",t);if(!r)return t.split(",");var n=r.pre,o=r.body,a=r.post,c=n.split(",");c[c.length-1]+="{"+o+"}";var l=L1e(a);return a.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l)),e.push.apply(e,c),e}s(L1e,"parseCommaParts");function mKe(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Vw(hKe(t),!0).map(pKe)):[]}s(mKe,"expandTop");function gKe(t){return"{"+t+"}"}s(gKe,"embrace");function yKe(t){return/^-?0\d/.test(t)}s(yKe,"isPadded");function CKe(t,e){return t<=e}s(CKe,"lte");function EKe(t,e){return t>=e}s(EKe,"gte");function Vw(t,e){var r=[],n=D1e("{","}",t);if(!n)return[t];var o=n.pre,a=n.post.length?Vw(n.post,!1):[""];if(/\$$/.test(n.pre))for(var c=0;c<a.length;c++){var l=o+"{"+n.body+"}"+a[c];r.push(l)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),A=u||d,h=n.body.indexOf(",")>=0;if(!A&&!h)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+i$+n.post,Vw(t)):[t];var p;if(A)p=n.body.split(/\.\./);else if(p=L1e(n.body),p.length===1&&(p=Vw(p[0],!1).map(gKe),p.length===1))return a.map(function(Ae){return n.pre+p[0]+Ae});var y;if(A){var E=n$(p[0]),v=n$(p[1]),w=Math.max(p[0].length,p[1].length),_=p.length==3?Math.abs(n$(p[2])):1,S=CKe,D=v<E;D&&(_*=-1,S=EKe);var N=p.some(yKe);y=[];for(var P=E;S(P,v);P+=_){var O;if(d)O=String.fromCharCode(P),O==="\\"&&(O="");else if(O=String(P),N){var $=w-O.length;if($>0){var ne=new Array($+1).join("0");P<0?O="-"+ne+O.slice(1):O=ne+O}}y.push(O)}}else{y=[];for(var oe=0;oe<p.length;oe++)y.push.apply(y,Vw(p[oe],!1))}for(var oe=0;oe<y.length;oe++)for(var c=0;c<a.length;c++){var l=o+y[oe]+a[c];(!e||A||l)&&r.push(l)}}return r}s(Vw,"expand")});var ho=q((Gqr,HCe)=>{f();HCe.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var ui=q((Wqr,qCe)=>{"use strict";f();var Bo=class extends Error{static{s(this,"UndiciError")}constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}},Iz=class extends Bo{static{s(this,"ConnectTimeoutError")}constructor(e){super(e),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},xz=class extends Bo{static{s(this,"HeadersTimeoutError")}constructor(e){super(e),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},vz=class extends Bo{static{s(this,"HeadersOverflowError")}constructor(e){super(e),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},bz=class extends Bo{static{s(this,"BodyTimeoutError")}constructor(e){super(e),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},Tz=class extends Bo{static{s(this,"ResponseStatusCodeError")}constructor(e,r,n,o){super(e),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=o,this.status=r,this.statusCode=r,this.headers=n}},_z=class extends Bo{static{s(this,"InvalidArgumentError")}constructor(e){super(e),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},wz=class extends Bo{static{s(this,"InvalidReturnValueError")}constructor(e){super(e),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},tQ=class extends Bo{static{s(this,"AbortError")}constructor(e){super(e),this.name="AbortError",this.message=e||"The operation was aborted"}},Sz=class extends tQ{static{s(this,"RequestAbortedError")}constructor(e){super(e),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}},Bz=class extends Bo{static{s(this,"InformationalError")}constructor(e){super(e),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}},Rz=class extends Bo{static{s(this,"RequestContentLengthMismatchError")}constructor(e){super(e),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},kz=class extends Bo{static{s(this,"ResponseContentLengthMismatchError")}constructor(e){super(e),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},Dz=class extends Bo{static{s(this,"ClientDestroyedError")}constructor(e){super(e),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},Nz=class extends Bo{static{s(this,"ClientClosedError")}constructor(e){super(e),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}},Qz=class extends Bo{static{s(this,"SocketError")}constructor(e,r){super(e),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},Pz=class extends Bo{static{s(this,"NotSupportedError")}constructor(e){super(e),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},Fz=class extends Bo{static{s(this,"BalancedPoolMissingUpstreamError")}constructor(e){super(e),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Lz=class extends Error{static{s(this,"HTTPParserError")}constructor(e,r,n){super(e),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},Mz=class extends Bo{static{s(this,"ResponseExceededMaxSizeError")}constructor(e){super(e),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},Oz=class extends Bo{static{s(this,"RequestRetryError")}constructor(e,r,{headers:n,data:o}){super(e),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=o,this.headers=n}},Uz=class extends Bo{static{s(this,"ResponseError")}constructor(e,r,{headers:n,data:o}){super(e),this.name="ResponseError",this.message=e||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=o,this.headers=n}},Hz=class extends Bo{static{s(this,"SecureProxyConnectionError")}constructor(e,r,n){super(r,{cause:e,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=e}};qCe.exports={AbortError:tQ,HTTPParserError:Lz,UndiciError:Bo,HeadersTimeoutError:xz,HeadersOverflowError:vz,BodyTimeoutError:bz,RequestContentLengthMismatchError:Rz,ConnectTimeoutError:Iz,ResponseStatusCodeError:Tz,InvalidArgumentError:_z,InvalidReturnValueError:wz,RequestAbortedError:Sz,ClientDestroyedError:Dz,ClientClosedError:Nz,InformationalError:Bz,SocketError:Qz,NotSupportedError:Pz,ResponseContentLengthMismatchError:kz,BalancedPoolMissingUpstreamError:Fz,ResponseExceededMaxSizeError:Mz,RequestRetryError:Oz,ResponseError:Uz,SecureProxyConnectionError:Hz}});var nQ=q((zqr,GCe)=>{"use strict";f();var rQ={},qz=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let t=0;t<qz.length;++t){let e=qz[t],r=e.toLowerCase();rQ[e]=rQ[r]=r}Object.setPrototypeOf(rQ,null);GCe.exports={wellknownHeaderNames:qz,headerNameLowerCasedRecord:rQ}});var $Ce=q((Kqr,YCe)=>{"use strict";f();var{wellknownHeaderNames:VCe,headerNameLowerCasedRecord:RZe}=nQ(),Gz=class t{static{s(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(e,r,n){if(n===void 0||n>=e.length)throw new TypeError("Unreachable");if((this.code=e.charCodeAt(n))>127)throw new TypeError("key must be ascii string");e.length!==++n?this.middle=new t(e,r,n):this.value=r}add(e,r){let n=e.length;if(n===0)throw new TypeError("Unreachable");let o=0,a=this;for(;;){let c=e.charCodeAt(o);if(c>127)throw new TypeError("key must be ascii string");if(a.code===c)if(n===++o){a.value=r;break}else if(a.middle!==null)a=a.middle;else{a.middle=new t(e,r,o);break}else if(a.code<c)if(a.left!==null)a=a.left;else{a.left=new t(e,r,o);break}else if(a.right!==null)a=a.right;else{a.right=new t(e,r,o);break}}}search(e){let r=e.length,n=0,o=this;for(;o!==null&&n<r;){let a=e[n];for(a<=90&&a>=65&&(a|=32);o!==null;){if(a===o.code){if(r===++n)return o;o=o.middle;break}o=o.code<a?o.left:o.right}}return null}},iQ=class{static{s(this,"TernarySearchTree")}node=null;insert(e,r){this.node===null?this.node=new Gz(e,r,0):this.node.add(e,r)}lookup(e){return this.node?.search(e)?.value??null}},WCe=new iQ;for(let t=0;t<VCe.length;++t){let e=RZe[VCe[t]];WCe.insert(e,e)}YCe.exports={TernarySearchTree:iQ,tree:WCe}});var dn=q((Zqr,lEe)=>{"use strict";f();var y3=require("node:assert"),{kDestroyed:jCe,kBodyUsed:Kv,kListeners:Vz,kBody:zCe}=ho(),{IncomingMessage:kZe}=require("node:http"),aQ=require("node:stream"),DZe=require("node:net"),{Blob:NZe}=require("node:buffer"),QZe=require("node:util"),{stringify:PZe}=require("node:querystring"),{EventEmitter:FZe}=require("node:events"),{InvalidArgumentError:ia}=ui(),{headerNameLowerCasedRecord:LZe}=nQ(),{tree:KCe}=$Ce(),[MZe,OZe]=process.versions.node.split(".").map(t=>Number(t)),sQ=class{static{s(this,"BodyAsyncIterable")}constructor(e){this[zCe]=e,this[Kv]=!1}async*[Symbol.asyncIterator](){y3(!this[Kv],"disturbed"),this[Kv]=!0,yield*this[zCe]}};function UZe(t){return cQ(t)?(tEe(t)===0&&t.on("data",function(){y3(!1)}),typeof t.readableDidRead!="boolean"&&(t[Kv]=!1,FZe.prototype.on.call(t,"data",function(){this[Kv]=!0})),t):t&&typeof t.pipeTo=="function"?new sQ(t):t&&typeof t!="string"&&!ArrayBuffer.isView(t)&&eEe(t)?new sQ(t):t}s(UZe,"wrapRequestBody");function HZe(){}s(HZe,"nop");function cQ(t){return t&&typeof t=="object"&&typeof t.pipe=="function"&&typeof t.on=="function"}s(cQ,"isStream");function JCe(t){if(t===null)return!1;if(t instanceof NZe)return!0;if(typeof t!="object")return!1;{let e=t[Symbol.toStringTag];return(e==="Blob"||e==="File")&&("stream"in t&&typeof t.stream=="function"||"arrayBuffer"in t&&typeof t.arrayBuffer=="function")}}s(JCe,"isBlobLike");function qZe(t,e){if(t.includes("?")||t.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=PZe(e);return r&&(t+="?"+r),t}s(qZe,"buildURL");function XCe(t){let e=parseInt(t,10);return e===Number(t)&&e>=0&&e<=65535}s(XCe,"isValidPort");function oQ(t){return t!=null&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&(t[4]===":"||t[4]==="s"&&t[5]===":")}s(oQ,"isHttpOrHttpsPrefixed");function ZCe(t){if(typeof t=="string"){if(t=new URL(t),!oQ(t.origin||t.protocol))throw new ia("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}if(!t||typeof t!="object")throw new ia("Invalid URL: The URL argument must be a non-null object.");if(!(t instanceof URL)){if(t.port!=null&&t.port!==""&&XCe(t.port)===!1)throw new ia("Invalid URL: port must be a valid integer or a string representation of an integer.");if(t.path!=null&&typeof t.path!="string")throw new ia("Invalid URL path: the path must be a string or null/undefined.");if(t.pathname!=null&&typeof t.pathname!="string")throw new ia("Invalid URL pathname: the pathname must be a string or null/undefined.");if(t.hostname!=null&&typeof t.hostname!="string")throw new ia("Invalid URL hostname: the hostname must be a string or null/undefined.");if(t.origin!=null&&typeof t.origin!="string")throw new ia("Invalid URL origin: the origin must be a string or null/undefined.");if(!oQ(t.origin||t.protocol))throw new ia("Invalid URL protocol: the URL must start with `http:` or `https:`.");let e=t.port!=null?t.port:t.protocol==="https:"?443:80,r=t.origin!=null?t.origin:`${t.protocol||""}//${t.hostname||""}:${e}`,n=t.path!=null?t.path:`${t.pathname||""}${t.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!oQ(t.origin||t.protocol))throw new ia("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}s(ZCe,"parseURL");function GZe(t){if(t=ZCe(t),t.pathname!=="/"||t.search||t.hash)throw new ia("invalid url");return t}s(GZe,"parseOrigin");function VZe(t){if(t[0]==="["){let r=t.indexOf("]");return y3(r!==-1),t.substring(1,r)}let e=t.indexOf(":");return e===-1?t:t.substring(0,e)}s(VZe,"getHostname");function WZe(t){if(!t)return null;y3(typeof t=="string");let e=VZe(t);return DZe.isIP(e)?"":e}s(WZe,"getServerName");function YZe(t){return JSON.parse(JSON.stringify(t))}s(YZe,"deepClone");function $Ze(t){return t!=null&&typeof t[Symbol.asyncIterator]=="function"}s($Ze,"isAsyncIterable");function eEe(t){return t!=null&&(typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function")}s(eEe,"isIterable");function tEe(t){if(t==null)return 0;if(cQ(t)){let e=t._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(JCe(t))return t.size!=null?t.size:null;if(iEe(t))return t.byteLength}return null}s(tEe,"bodyLength");function rEe(t){return t&&!!(t.destroyed||t[jCe]||aQ.isDestroyed?.(t))}s(rEe,"isDestroyed");function zZe(t,e){t==null||!cQ(t)||rEe(t)||(typeof t.destroy=="function"?(Object.getPrototypeOf(t).constructor===kZe&&(t.socket=null),t.destroy(e)):e&&queueMicrotask(()=>{t.emit("error",e)}),t.destroyed!==!0&&(t[jCe]=!0))}s(zZe,"destroy");var jZe=/timeout=(\d+)/;function KZe(t){let e=t.toString().match(jZe);return e?parseInt(e[1],10)*1e3:null}s(KZe,"parseKeepAliveTimeout");function nEe(t){return typeof t=="string"?LZe[t]??t.toLowerCase():KCe.lookup(t)??t.toString("latin1").toLowerCase()}s(nEe,"headerNameToString");function JZe(t){return KCe.lookup(t)??t.toString("latin1").toLowerCase()}s(JZe,"bufferToLowerCasedHeaderName");function XZe(t,e){e===void 0&&(e={});for(let r=0;r<t.length;r+=2){let n=nEe(t[r]),o=e[n];if(o)typeof o=="string"&&(o=[o],e[n]=o),o.push(t[r+1].toString("utf8"));else{let a=t[r+1];typeof a=="string"?e[n]=a:e[n]=Array.isArray(a)?a.map(c=>c.toString("utf8")):a.toString("utf8")}}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}s(XZe,"parseHeaders");function ZZe(t){let e=t.length,r=new Array(e),n=!1,o=-1,a,c,l=0;for(let u=0;u<t.length;u+=2)a=t[u],c=t[u+1],typeof a!="string"&&(a=a.toString()),typeof c!="string"&&(c=c.toString("utf8")),l=a.length,l===14&&a[7]==="-"&&(a==="content-length"||a.toLowerCase()==="content-length")?n=!0:l===19&&a[7]==="-"&&(a==="content-disposition"||a.toLowerCase()==="content-disposition")&&(o=u+1),r[u]=a,r[u+1]=c;return n&&o!==-1&&(r[o]=Buffer.from(r[o]).toString("latin1")),r}s(ZZe,"parseRawHeaders");function iEe(t){return t instanceof Uint8Array||Buffer.isBuffer(t)}s(iEe,"isBuffer");function eet(t,e,r){if(!t||typeof t!="object")throw new ia("handler must be an object");if(typeof t.onConnect!="function")throw new ia("invalid onConnect method");if(typeof t.onError!="function")throw new ia("invalid onError method");if(typeof t.onBodySent!="function"&&t.onBodySent!==void 0)throw new ia("invalid onBodySent method");if(r||e==="CONNECT"){if(typeof t.onUpgrade!="function")throw new ia("invalid onUpgrade method")}else{if(typeof t.onHeaders!="function")throw new ia("invalid onHeaders method");if(typeof t.onData!="function")throw new ia("invalid onData method");if(typeof t.onComplete!="function")throw new ia("invalid onComplete method")}}s(eet,"validateHandler");function tet(t){return!!(t&&(aQ.isDisturbed(t)||t[Kv]))}s(tet,"isDisturbed");function ret(t){return!!(t&&aQ.isErrored(t))}s(ret,"isErrored");function net(t){return!!(t&&aQ.isReadable(t))}s(net,"isReadable");function iet(t){return{localAddress:t.localAddress,localPort:t.localPort,remoteAddress:t.remoteAddress,remotePort:t.remotePort,remoteFamily:t.remoteFamily,timeout:t.timeout,bytesWritten:t.bytesWritten,bytesRead:t.bytesRead}}s(iet,"getSocketInfo");function oet(t){let e;return new ReadableStream({async start(){e=t[Symbol.asyncIterator]()},async pull(r){let{done:n,value:o}=await e.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let a=Buffer.isBuffer(o)?o:Buffer.from(o);a.byteLength&&r.enqueue(new Uint8Array(a))}return r.desiredSize>0},async cancel(r){await e.return()},type:"bytes"})}s(oet,"ReadableStreamFrom");function set(t){return t&&typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&t[Symbol.toStringTag]==="FormData"}s(set,"isFormDataLike");function aet(t,e){return"addEventListener"in t?(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)):(t.addListener("abort",e),()=>t.removeListener("abort",e))}s(aet,"addAbortListener");var cet=typeof String.prototype.toWellFormed=="function",uet=typeof String.prototype.isWellFormed=="function";function oEe(t){return cet?`${t}`.toWellFormed():QZe.toUSVString(t)}s(oEe,"toUSVString");function fet(t){return uet?`${t}`.isWellFormed():oEe(t)===`${t}`}s(fet,"isUSVString");function sEe(t){switch(t){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return t>=33&&t<=126}}s(sEe,"isTokenCharCode");function det(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e)if(!sEe(t.charCodeAt(e)))return!1;return!0}s(det,"isValidHTTPToken");var Aet=/[^\t\x20-\x7e\x80-\xff]/;function het(t){return!Aet.test(t)}s(het,"isValidHeaderValue");function pet(t){if(t==null||t==="")return{start:0,end:null,size:null};let e=t?t.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}s(pet,"parseRangeHeader");function met(t,e,r){return(t[Vz]??=[]).push([e,r]),t.on(e,r),t}s(met,"addListener");function get(t){for(let[e,r]of t[Vz]??[])t.removeListener(e,r);t[Vz]=null}s(get,"removeAllListeners");function yet(t,e,r){try{e.onError(r),y3(e.aborted)}catch(n){t.emit("error",n)}}s(yet,"errorRequest");var aEe=Object.create(null);aEe.enumerable=!0;var Wz={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},cEe={...Wz,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(Wz,null);Object.setPrototypeOf(cEe,null);lEe.exports={kEnumerableProperty:aEe,nop:HZe,isDisturbed:tet,isErrored:ret,isReadable:net,toUSVString:oEe,isUSVString:fet,isBlobLike:JCe,parseOrigin:GZe,parseURL:ZCe,getServerName:WZe,isStream:cQ,isIterable:eEe,isAsyncIterable:$Ze,isDestroyed:rEe,headerNameToString:nEe,bufferToLowerCasedHeaderName:JZe,addListener:met,removeAllListeners:get,errorRequest:yet,parseRawHeaders:ZZe,parseHeaders:XZe,parseKeepAliveTimeout:KZe,destroy:zZe,bodyLength:tEe,deepClone:YZe,ReadableStreamFrom:oet,isBuffer:iEe,validateHandler:eet,getSocketInfo:iet,isFormDataLike:set,buildURL:qZe,addAbortListener:aet,isValidHTTPToken:det,isValidHeaderValue:het,isTokenCharCode:sEe,parseRangeHeader:pet,normalizedMethodRecordsBase:Wz,normalizedMethodRecords:cEe,isValidPort:XCe,isHttpOrHttpsPrefixed:oQ,nodeMajor:MZe,nodeMinor:OZe,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:UZe}});var Jv=q((rGr,fEe)=>{"use strict";f();var pi=require("node:diagnostics_channel"),$z=require("node:util"),lQ=$z.debuglog("undici"),Yz=$z.debuglog("fetch"),lE=$z.debuglog("websocket"),uEe=!1,Cet={beforeConnect:pi.channel("undici:client:beforeConnect"),connected:pi.channel("undici:client:connected"),connectError:pi.channel("undici:client:connectError"),sendHeaders:pi.channel("undici:client:sendHeaders"),create:pi.channel("undici:request:create"),bodySent:pi.channel("undici:request:bodySent"),headers:pi.channel("undici:request:headers"),trailers:pi.channel("undici:request:trailers"),error:pi.channel("undici:request:error"),open:pi.channel("undici:websocket:open"),close:pi.channel("undici:websocket:close"),socketError:pi.channel("undici:websocket:socket_error"),ping:pi.channel("undici:websocket:ping"),pong:pi.channel("undici:websocket:pong")};if(lQ.enabled||Yz.enabled){let t=Yz.enabled?Yz:lQ;pi.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connecting to %s using %s%s",`${a}${o?`:${o}`:""}`,n,r)}),pi.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connected to %s using %s%s",`${a}${o?`:${o}`:""}`,n,r)}),pi.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a},error:c}=e;t("connection to %s using %s%s errored - %s",`${a}${o?`:${o}`:""}`,n,r,c.message)}),pi.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:o}}=e;t("sending request to %s %s/%s",r,o,n)}),pi.channel("undici:request:headers").subscribe(e=>{let{request:{method:r,path:n,origin:o},response:{statusCode:a}}=e;t("received response to %s %s/%s - HTTP %d",r,o,n,a)}),pi.channel("undici:request:trailers").subscribe(e=>{let{request:{method:r,path:n,origin:o}}=e;t("trailers received from %s %s/%s",r,o,n)}),pi.channel("undici:request:error").subscribe(e=>{let{request:{method:r,path:n,origin:o},error:a}=e;t("request to %s %s/%s errored - %s",r,o,n,a.message)}),uEe=!0}if(lE.enabled){if(!uEe){let t=lQ.enabled?lQ:lE;pi.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connecting to %s%s using %s%s",a,o?`:${o}`:"",n,r)}),pi.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connected to %s%s using %s%s",a,o?`:${o}`:"",n,r)}),pi.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a},error:c}=e;t("connection to %s%s using %s%s errored - %s",a,o?`:${o}`:"",n,r,c.message)}),pi.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:o}}=e;t("sending request to %s %s/%s",r,o,n)})}pi.channel("undici:websocket:open").subscribe(t=>{let{address:{address:e,port:r}}=t;lE("connection opened %s%s",e,r?`:${r}`:"")}),pi.channel("undici:websocket:close").subscribe(t=>{let{websocket:e,code:r,reason:n}=t;lE("closed connection to %s - %s %s",e.url,r,n)}),pi.channel("undici:websocket:socket_error").subscribe(t=>{lE("connection errored - %s",t.message)}),pi.channel("undici:websocket:ping").subscribe(t=>{lE("ping received")}),pi.channel("undici:websocket:pong").subscribe(t=>{lE("pong received")})}fEe.exports={channels:Cet}});var mEe=q((iGr,pEe)=>{"use strict";f();var{InvalidArgumentError:Ro,NotSupportedError:Eet}=ui(),Oh=require("node:assert"),{isValidHTTPToken:hEe,isValidHeaderValue:dEe,isStream:Iet,destroy:xet,isBuffer:vet,isFormDataLike:bet,isIterable:Tet,isBlobLike:_et,buildURL:wet,validateHandler:Bet,getServerName:Ret,normalizedMethodRecords:ket}=dn(),{channels:Kd}=Jv(),{headerNameLowerCasedRecord:AEe}=nQ(),Det=/[^\u0021-\u00ff]/,ou=Symbol("handler"),zz=class{static{s(this,"Request")}constructor(e,{path:r,method:n,body:o,headers:a,query:c,idempotent:l,blocking:u,upgrade:d,headersTimeout:A,bodyTimeout:h,reset:p,throwOnError:y,expectContinue:E,servername:v},w){if(typeof r!="string")throw new Ro("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Ro("path must be an absolute URL or start with a slash");if(Det.test(r))throw new Ro("invalid request path");if(typeof n!="string")throw new Ro("method must be a string");if(ket[n]===void 0&&!hEe(n))throw new Ro("invalid request method");if(d&&typeof d!="string")throw new Ro("upgrade must be a string");if(A!=null&&(!Number.isFinite(A)||A<0))throw new Ro("invalid headersTimeout");if(h!=null&&(!Number.isFinite(h)||h<0))throw new Ro("invalid bodyTimeout");if(p!=null&&typeof p!="boolean")throw new Ro("invalid reset");if(E!=null&&typeof E!="boolean")throw new Ro("invalid expectContinue");if(this.headersTimeout=A,this.bodyTimeout=h,this.throwOnError=y===!0,this.method=n,this.abort=null,o==null)this.body=null;else if(Iet(o)){this.body=o;let _=this.body._readableState;(!_||!_.autoDestroy)&&(this.endHandler=s(function(){xet(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=S=>{this.abort?this.abort(S):this.error=S},this.body.on("error",this.errorHandler)}else if(vet(o))this.body=o.byteLength?o:null;else if(ArrayBuffer.isView(o))this.body=o.buffer.byteLength?Buffer.from(o.buffer,o.byteOffset,o.byteLength):null;else if(o instanceof ArrayBuffer)this.body=o.byteLength?Buffer.from(o):null;else if(typeof o=="string")this.body=o.length?Buffer.from(o):null;else if(bet(o)||Tet(o)||_et(o))this.body=o;else throw new Ro("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=d||null,this.path=c?wet(r,c):r,this.origin=e,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=u??!1,this.reset=p??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=E??!1,Array.isArray(a)){if(a.length%2!==0)throw new Ro("headers array must be even");for(let _=0;_<a.length;_+=2)uQ(this,a[_],a[_+1])}else if(a&&typeof a=="object")if(a[Symbol.iterator])for(let _ of a){if(!Array.isArray(_)||_.length!==2)throw new Ro("headers must be in key-value pair format");uQ(this,_[0],_[1])}else{let _=Object.keys(a);for(let S=0;S<_.length;++S)uQ(this,_[S],a[_[S]])}else if(a!=null)throw new Ro("headers must be an object or an array");Bet(w,n,d),this.servername=v||Ret(this.host),this[ou]=w,Kd.create.hasSubscribers&&Kd.create.publish({request:this})}onBodySent(e){if(this[ou].onBodySent)try{return this[ou].onBodySent(e)}catch(r){this.abort(r)}}onRequestSent(){if(Kd.bodySent.hasSubscribers&&Kd.bodySent.publish({request:this}),this[ou].onRequestSent)try{return this[ou].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(Oh(!this.aborted),Oh(!this.completed),this.error)e(this.error);else return this.abort=e,this[ou].onConnect(e)}onResponseStarted(){return this[ou].onResponseStarted?.()}onHeaders(e,r,n,o){Oh(!this.aborted),Oh(!this.completed),Kd.headers.hasSubscribers&&Kd.headers.publish({request:this,response:{statusCode:e,headers:r,statusText:o}});try{return this[ou].onHeaders(e,r,n,o)}catch(a){this.abort(a)}}onData(e){Oh(!this.aborted),Oh(!this.completed);try{return this[ou].onData(e)}catch(r){return this.abort(r),!1}}onUpgrade(e,r,n){return Oh(!this.aborted),Oh(!this.completed),this[ou].onUpgrade(e,r,n)}onComplete(e){this.onFinally(),Oh(!this.aborted),this.completed=!0,Kd.trailers.hasSubscribers&&Kd.trailers.publish({request:this,trailers:e});try{return this[ou].onComplete(e)}catch(r){this.onError(r)}}onError(e){if(this.onFinally(),Kd.error.hasSubscribers&&Kd.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[ou].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,r){return uQ(this,e,r),this}};function uQ(t,e,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Ro(`invalid ${e} header`);if(r===void 0)return;let n=AEe[e];if(n===void 0&&(n=e.toLowerCase(),AEe[n]===void 0&&!hEe(n)))throw new Ro("invalid header key");if(Array.isArray(r)){let o=[];for(let a=0;a<r.length;a++)if(typeof r[a]=="string"){if(!dEe(r[a]))throw new Ro(`invalid ${e} header`);o.push(r[a])}else if(r[a]===null)o.push("");else{if(typeof r[a]=="object")throw new Ro(`invalid ${e} header`);o.push(`${r[a]}`)}r=o}else if(typeof r=="string"){if(!dEe(r))throw new Ro(`invalid ${e} header`)}else r===null?r="":r=`${r}`;if(t.host===null&&n==="host"){if(typeof r!="string")throw new Ro("invalid host header");t.host=r}else if(t.contentLength===null&&n==="content-length"){if(t.contentLength=parseInt(r,10),!Number.isFinite(t.contentLength))throw new Ro("invalid content-length header")}else if(t.contentType===null&&n==="content-type")t.contentType=r,t.headers.push(e,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Ro(`invalid ${n} header`);if(n==="connection"){let o=typeof r=="string"?r.toLowerCase():null;if(o!=="close"&&o!=="keep-alive")throw new Ro("invalid connection header");o==="close"&&(t.reset=!0)}else{if(n==="expect")throw new Eet("expect header not supported");t.headers.push(e,r)}}}s(uQ,"processHeader");pEe.exports=zz});var C3=q((aGr,gEe)=>{"use strict";f();var Net=require("node:events"),fQ=class extends Net{static{s(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...e){let r=Array.isArray(e[0])?e[0]:e,n=this.dispatch.bind(this);for(let o of r)if(o!=null){if(typeof o!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof o}`);if(n=o(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new jz(this,n)}},jz=class extends fQ{static{s(this,"ComposedDispatcher")}#e=null;#t=null;constructor(e,r){super(),this.#e=e,this.#t=r}dispatch(...e){this.#t(...e)}close(...e){return this.#e.close(...e)}destroy(...e){return this.#e.destroy(...e)}};gEe.exports=fQ});var tb=q((uGr,yEe)=>{"use strict";f();var Qet=C3(),{ClientDestroyedError:Kz,ClientClosedError:Pet,InvalidArgumentError:Xv}=ui(),{kDestroy:Fet,kClose:Let,kClosed:E3,kDestroyed:Zv,kDispatch:Jz,kInterceptors:uE}=ho(),Uh=Symbol("onDestroyed"),eb=Symbol("onClosed"),dQ=Symbol("Intercepted Dispatch"),Xz=class extends Qet{static{s(this,"DispatcherBase")}constructor(){super(),this[Zv]=!1,this[Uh]=null,this[E3]=!1,this[eb]=[]}get destroyed(){return this[Zv]}get closed(){return this[E3]}get interceptors(){return this[uE]}set interceptors(e){if(e){for(let r=e.length-1;r>=0;r--)if(typeof this[uE][r]!="function")throw new Xv("interceptor must be an function")}this[uE]=e}close(e){if(e===void 0)return new Promise((n,o)=>{this.close((a,c)=>a?o(a):n(c))});if(typeof e!="function")throw new Xv("invalid callback");if(this[Zv]){queueMicrotask(()=>e(new Kz,null));return}if(this[E3]){this[eb]?this[eb].push(e):queueMicrotask(()=>e(null,null));return}this[E3]=!0,this[eb].push(e);let r=s(()=>{let n=this[eb];this[eb]=null;for(let o=0;o<n.length;o++)n[o](null,null)},"onClosed");this[Let]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(e,r){if(typeof e=="function"&&(r=e,e=null),r===void 0)return new Promise((o,a)=>{this.destroy(e,(c,l)=>c?a(c):o(l))});if(typeof r!="function")throw new Xv("invalid callback");if(this[Zv]){this[Uh]?this[Uh].push(r):queueMicrotask(()=>r(null,null));return}e||(e=new Kz),this[Zv]=!0,this[Uh]=this[Uh]||[],this[Uh].push(r);let n=s(()=>{let o=this[Uh];this[Uh]=null;for(let a=0;a<o.length;a++)o[a](null,null)},"onDestroyed");this[Fet](e).then(()=>{queueMicrotask(n)})}[dQ](e,r){if(!this[uE]||this[uE].length===0)return this[dQ]=this[Jz],this[Jz](e,r);let n=this[Jz].bind(this);for(let o=this[uE].length-1;o>=0;o--)n=this[uE][o](n);return this[dQ]=n,n(e,r)}dispatch(e,r){if(!r||typeof r!="object")throw new Xv("handler must be an object");try{if(!e||typeof e!="object")throw new Xv("opts must be an object.");if(this[Zv]||this[Uh])throw new Kz;if(this[E3])throw new Pet;return this[dQ](e,r)}catch(n){if(typeof r.onError!="function")throw new Xv("invalid onError method");return r.onError(n),!1}}};yEe.exports=Xz});var oj=q((AGr,xEe)=>{"use strict";f();var rb=0,Zz=1e3,ej=(Zz>>1)-1,Hh,tj=Symbol("kFastTimer"),qh=[],rj=-2,nj=-1,EEe=0,CEe=1;function ij(){rb+=ej;let t=0,e=qh.length;for(;t<e;){let r=qh[t];r._state===EEe?(r._idleStart=rb-ej,r._state=CEe):r._state===CEe&&rb>=r._idleStart+r._idleTimeout&&(r._state=nj,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===nj?(r._state=rj,--e!==0&&(qh[t]=qh[e])):++t}qh.length=e,qh.length!==0&&IEe()}s(ij,"onTick");function IEe(){Hh?Hh.refresh():(clearTimeout(Hh),Hh=setTimeout(ij,ej),Hh.unref&&Hh.unref())}s(IEe,"refreshTimeout");var AQ=class{static{s(this,"FastTimer")}[tj]=!0;_state=rj;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(e,r,n){this._onTimeout=e,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===rj&&qh.push(this),(!Hh||qh.length===1)&&IEe(),this._state=EEe}clear(){this._state=nj,this._idleStart=-1}};xEe.exports={setTimeout(t,e,r){return e<=Zz?setTimeout(t,e,r):new AQ(t,e,r)},clearTimeout(t){t[tj]?t.clear():clearTimeout(t)},setFastTimeout(t,e,r){return new AQ(t,e,r)},clearFastTimeout(t){t.clear()},now(){return rb},tick(t=0){rb+=t-Zz+1,ij(),ij()},reset(){rb=0,qh.length=0,clearTimeout(Hh),Hh=null},kFastTimer:tj}});var I3=q((yGr,wEe)=>{"use strict";f();var Met=require("node:net"),vEe=require("node:assert"),_Ee=dn(),{InvalidArgumentError:Oet,ConnectTimeoutError:Uet}=ui(),hQ=oj();function bEe(){}s(bEe,"noop");var sj,aj;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?aj=class{static{s(this,"WeakSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(e){let r=this._sessionCache.get(e);return r?r.deref():null}set(e,r){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(r)),this._sessionRegistry.register(r,e))}}:aj=class{static{s(this,"SimpleSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(e,r)}}};function Het({allowH2:t,maxCachedSessions:e,socketPath:r,timeout:n,session:o,...a}){if(e!=null&&(!Number.isInteger(e)||e<0))throw new Oet("maxCachedSessions must be a positive integer or zero");let c={path:r,...a},l=new aj(e??100);return n=n??1e4,t=t??!1,s(function({hostname:d,host:A,protocol:h,port:p,servername:y,localAddress:E,httpSocket:v},w){let _;if(h==="https:"){sj||(sj=require("node:tls")),y=y||c.servername||_Ee.getServerName(A)||null;let D=y||d;vEe(D);let N=o||l.get(D)||null;p=p||443,_=sj.connect({highWaterMark:16384,...c,servername:y,session:N,localAddress:E,ALPNProtocols:t?["http/1.1","h2"]:["http/1.1"],socket:v,port:p,host:d}),_.on("session",function(P){l.set(D,P)})}else vEe(!v,"httpSocket can only be sent on TLS update"),p=p||80,_=Met.connect({highWaterMark:64*1024,...c,localAddress:E,port:p,host:d});if(c.keepAlive==null||c.keepAlive){let D=c.keepAliveInitialDelay===void 0?6e4:c.keepAliveInitialDelay;_.setKeepAlive(!0,D)}let S=qet(new WeakRef(_),{timeout:n,hostname:d,port:p});return _.setNoDelay(!0).once(h==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(S),w){let D=w;w=null,D(null,this)}}).on("error",function(D){if(queueMicrotask(S),w){let N=w;w=null,N(D)}}),_},"connect")}s(Het,"buildConnector");var qet=process.platform==="win32"?(t,e)=>{if(!e.timeout)return bEe;let r=null,n=null,o=hQ.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>TEe(t.deref(),e))})},e.timeout);return()=>{hQ.clearFastTimeout(o),clearImmediate(r),clearImmediate(n)}}:(t,e)=>{if(!e.timeout)return bEe;let r=null,n=hQ.setFastTimeout(()=>{r=setImmediate(()=>{TEe(t.deref(),e)})},e.timeout);return()=>{hQ.clearFastTimeout(n),clearImmediate(r)}};function TEe(t,e){if(t==null)return;let r="Connect Timeout Error";Array.isArray(t.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${t.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${e.hostname}:${e.port},`,r+=` timeout: ${e.timeout}ms)`,_Ee.destroy(t,new Uet(r))}s(TEe,"onConnectTimeout");wEe.exports=Het});var SEe=q(pQ=>{"use strict";f();Object.defineProperty(pQ,"__esModule",{value:!0});pQ.enumToMap=void 0;function Get(t){let e={};return Object.keys(t).forEach(r=>{let n=t[r];typeof n=="number"&&(e[r]=n)}),e}s(Get,"enumToMap");pQ.enumToMap=Get});var BEe=q(gt=>{"use strict";f();Object.defineProperty(gt,"__esModule",{value:!0});gt.SPECIAL_HEADERS=gt.HEADER_STATE=gt.MINOR=gt.MAJOR=gt.CONNECTION_TOKEN_CHARS=gt.HEADER_CHARS=gt.TOKEN=gt.STRICT_TOKEN=gt.HEX=gt.URL_CHAR=gt.STRICT_URL_CHAR=gt.USERINFO_CHARS=gt.MARK=gt.ALPHANUM=gt.NUM=gt.HEX_MAP=gt.NUM_MAP=gt.ALPHA=gt.FINISH=gt.H_METHOD_MAP=gt.METHOD_MAP=gt.METHODS_RTSP=gt.METHODS_ICE=gt.METHODS_HTTP=gt.METHODS=gt.LENIENT_FLAGS=gt.FLAGS=gt.TYPE=gt.ERROR=void 0;var Vet=SEe(),Wet;(function(t){t[t.OK=0]="OK",t[t.INTERNAL=1]="INTERNAL",t[t.STRICT=2]="STRICT",t[t.LF_EXPECTED=3]="LF_EXPECTED",t[t.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",t[t.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",t[t.INVALID_METHOD=6]="INVALID_METHOD",t[t.INVALID_URL=7]="INVALID_URL",t[t.INVALID_CONSTANT=8]="INVALID_CONSTANT",t[t.INVALID_VERSION=9]="INVALID_VERSION",t[t.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",t[t.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",t[t.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",t[t.INVALID_STATUS=13]="INVALID_STATUS",t[t.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",t[t.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",t[t.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",t[t.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",t[t.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",t[t.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",t[t.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",t[t.PAUSED=21]="PAUSED",t[t.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",t[t.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",t[t.USER=24]="USER"})(Wet=gt.ERROR||(gt.ERROR={}));var Yet;(function(t){t[t.BOTH=0]="BOTH",t[t.REQUEST=1]="REQUEST",t[t.RESPONSE=2]="RESPONSE"})(Yet=gt.TYPE||(gt.TYPE={}));var $et;(function(t){t[t.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",t[t.CHUNKED=8]="CHUNKED",t[t.UPGRADE=16]="UPGRADE",t[t.CONTENT_LENGTH=32]="CONTENT_LENGTH",t[t.SKIPBODY=64]="SKIPBODY",t[t.TRAILING=128]="TRAILING",t[t.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})($et=gt.FLAGS||(gt.FLAGS={}));var zet;(function(t){t[t.HEADERS=1]="HEADERS",t[t.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",t[t.KEEP_ALIVE=4]="KEEP_ALIVE"})(zet=gt.LENIENT_FLAGS||(gt.LENIENT_FLAGS={}));var or;(function(t){t[t.DELETE=0]="DELETE",t[t.GET=1]="GET",t[t.HEAD=2]="HEAD",t[t.POST=3]="POST",t[t.PUT=4]="PUT",t[t.CONNECT=5]="CONNECT",t[t.OPTIONS=6]="OPTIONS",t[t.TRACE=7]="TRACE",t[t.COPY=8]="COPY",t[t.LOCK=9]="LOCK",t[t.MKCOL=10]="MKCOL",t[t.MOVE=11]="MOVE",t[t.PROPFIND=12]="PROPFIND",t[t.PROPPATCH=13]="PROPPATCH",t[t.SEARCH=14]="SEARCH",t[t.UNLOCK=15]="UNLOCK",t[t.BIND=16]="BIND",t[t.REBIND=17]="REBIND",t[t.UNBIND=18]="UNBIND",t[t.ACL=19]="ACL",t[t.REPORT=20]="REPORT",t[t.MKACTIVITY=21]="MKACTIVITY",t[t.CHECKOUT=22]="CHECKOUT",t[t.MERGE=23]="MERGE",t[t["M-SEARCH"]=24]="M-SEARCH",t[t.NOTIFY=25]="NOTIFY",t[t.SUBSCRIBE=26]="SUBSCRIBE",t[t.UNSUBSCRIBE=27]="UNSUBSCRIBE",t[t.PATCH=28]="PATCH",t[t.PURGE=29]="PURGE",t[t.MKCALENDAR=30]="MKCALENDAR",t[t.LINK=31]="LINK",t[t.UNLINK=32]="UNLINK",t[t.SOURCE=33]="SOURCE",t[t.PRI=34]="PRI",t[t.DESCRIBE=35]="DESCRIBE",t[t.ANNOUNCE=36]="ANNOUNCE",t[t.SETUP=37]="SETUP",t[t.PLAY=38]="PLAY",t[t.PAUSE=39]="PAUSE",t[t.TEARDOWN=40]="TEARDOWN",t[t.GET_PARAMETER=41]="GET_PARAMETER",t[t.SET_PARAMETER=42]="SET_PARAMETER",t[t.REDIRECT=43]="REDIRECT",t[t.RECORD=44]="RECORD",t[t.FLUSH=45]="FLUSH"})(or=gt.METHODS||(gt.METHODS={}));gt.METHODS_HTTP=[or.DELETE,or.GET,or.HEAD,or.POST,or.PUT,or.CONNECT,or.OPTIONS,or.TRACE,or.COPY,or.LOCK,or.MKCOL,or.MOVE,or.PROPFIND,or.PROPPATCH,or.SEARCH,or.UNLOCK,or.BIND,or.REBIND,or.UNBIND,or.ACL,or.REPORT,or.MKACTIVITY,or.CHECKOUT,or.MERGE,or["M-SEARCH"],or.NOTIFY,or.SUBSCRIBE,or.UNSUBSCRIBE,or.PATCH,or.PURGE,or.MKCALENDAR,or.LINK,or.UNLINK,or.PRI,or.SOURCE];gt.METHODS_ICE=[or.SOURCE];gt.METHODS_RTSP=[or.OPTIONS,or.DESCRIBE,or.ANNOUNCE,or.SETUP,or.PLAY,or.PAUSE,or.TEARDOWN,or.GET_PARAMETER,or.SET_PARAMETER,or.REDIRECT,or.RECORD,or.FLUSH,or.GET,or.POST];gt.METHOD_MAP=Vet.enumToMap(or);gt.H_METHOD_MAP={};Object.keys(gt.METHOD_MAP).forEach(t=>{/^H/.test(t)&&(gt.H_METHOD_MAP[t]=gt.METHOD_MAP[t])});var jet;(function(t){t[t.SAFE=0]="SAFE",t[t.SAFE_WITH_CB=1]="SAFE_WITH_CB",t[t.UNSAFE=2]="UNSAFE"})(jet=gt.FINISH||(gt.FINISH={}));gt.ALPHA=[];for(let t=65;t<=90;t++)gt.ALPHA.push(String.fromCharCode(t)),gt.ALPHA.push(String.fromCharCode(t+32));gt.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};gt.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};gt.NUM=["0","1","2","3","4","5","6","7","8","9"];gt.ALPHANUM=gt.ALPHA.concat(gt.NUM);gt.MARK=["-","_",".","!","~","*","'","(",")"];gt.USERINFO_CHARS=gt.ALPHANUM.concat(gt.MARK).concat(["%",";",":","&","=","+","$",","]);gt.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(gt.ALPHANUM);gt.URL_CHAR=gt.STRICT_URL_CHAR.concat(["	","\f"]);for(let t=128;t<=255;t++)gt.URL_CHAR.push(t);gt.HEX=gt.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);gt.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(gt.ALPHANUM);gt.TOKEN=gt.STRICT_TOKEN.concat([" "]);gt.HEADER_CHARS=["	"];for(let t=32;t<=255;t++)t!==127&&gt.HEADER_CHARS.push(t);gt.CONNECTION_TOKEN_CHARS=gt.HEADER_CHARS.filter(t=>t!==44);gt.MAJOR=gt.NUM_MAP;gt.MINOR=gt.MAJOR;var nb;(function(t){t[t.GENERAL=0]="GENERAL",t[t.CONNECTION=1]="CONNECTION",t[t.CONTENT_LENGTH=2]="CONTENT_LENGTH",t[t.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",t[t.UPGRADE=4]="UPGRADE",t[t.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",t[t.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(nb=gt.HEADER_STATE||(gt.HEADER_STATE={}));gt.SPECIAL_HEADERS={connection:nb.CONNECTION,"content-length":nb.CONTENT_LENGTH,"proxy-connection":nb.CONNECTION,"transfer-encoding":nb.TRANSFER_ENCODING,upgrade:nb.UPGRADE}});var cj=q((_Gr,REe)=>{"use strict";f();var{Buffer:Ket}=require("node:buffer");REe.exports=Ket.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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CABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var DEe=q((SGr,kEe)=>{"use strict";f();var{Buffer:Jet}=require("node:buffer");kEe.exports=Jet.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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AAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var x3=q((RGr,UEe)=>{"use strict";f();var NEe=["GET","HEAD","POST"],Xet=new Set(NEe),Zet=[101,204,205,304],QEe=[301,302,303,307,308],ett=new Set(QEe),PEe=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],ttt=new Set(PEe),FEe=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],rtt=new Set(FEe),ntt=["follow","manual","error"],LEe=["GET","HEAD","OPTIONS","TRACE"],itt=new Set(LEe),ott=["navigate","same-origin","no-cors","cors"],stt=["omit","same-origin","include"],att=["default","no-store","reload","no-cache","force-cache","only-if-cached"],ctt=["content-encoding","content-language","content-location","content-type","content-length"],ltt=["half"],MEe=["CONNECT","TRACE","TRACK"],utt=new Set(MEe),OEe=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],ftt=new Set(OEe);UEe.exports={subresource:OEe,forbiddenMethods:MEe,requestBodyHeader:ctt,referrerPolicy:FEe,requestRedirect:ntt,requestMode:ott,requestCredentials:stt,requestCache:att,redirectStatus:QEe,corsSafeListedMethods:NEe,nullBodyStatus:Zet,safeMethods:LEe,badPorts:PEe,requestDuplex:ltt,subresourceSet:ftt,badPortsSet:ttt,redirectStatusSet:ett,corsSafeListedMethodsSet:Xet,safeMethodsSet:itt,forbiddenMethodsSet:utt,referrerPolicySet:rtt}});var uj=q((DGr,HEe)=>{"use strict";f();var lj=Symbol.for("undici.globalOrigin.1");function dtt(){return globalThis[lj]}s(dtt,"getGlobalOrigin");function Att(t){if(t===void 0){Object.defineProperty(globalThis,lj,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,lj,{value:e,writable:!0,enumerable:!1,configurable:!1})}s(Att,"setGlobalOrigin");HEe.exports={getGlobalOrigin:dtt,setGlobalOrigin:Att}});var Ac=q((PGr,zEe)=>{"use strict";f();var gQ=require("node:assert"),htt=new TextEncoder,v3=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,ptt=/[\u000A\u000D\u0009\u0020]/,mtt=/[\u0009\u000A\u000C\u000D\u0020]/g,gtt=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function ytt(t){gQ(t.protocol==="data:");let e=VEe(t,!0);e=e.slice(5);let r={position:0},n=ib(",",e,r),o=n.length;if(n=btt(n,!0,!0),r.position>=e.length)return"failure";r.position++;let a=e.slice(o+1),c=WEe(a);if(/;(\u0020){0,}base64$/i.test(n)){let u=$Ee(c);if(c=Ett(u),c==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=fj(n);return l==="failure"&&(l=fj("text/plain;charset=US-ASCII")),{mimeType:l,body:c}}s(ytt,"dataURLProcessor");function VEe(t,e=!1){if(!e)return t.href;let r=t.href,n=t.hash.length,o=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?o.slice(0,-1):o}s(VEe,"URLSerializer");function yQ(t,e,r){let n="";for(;r.position<e.length&&t(e[r.position]);)n+=e[r.position],r.position++;return n}s(yQ,"collectASequenceOfCodePoints");function ib(t,e,r){let n=e.indexOf(t,r.position),o=r.position;return n===-1?(r.position=e.length,e.slice(o)):(r.position=n,e.slice(o,r.position))}s(ib,"collectASequenceOfCodePointsFast");function WEe(t){let e=htt.encode(t);return Ctt(e)}s(WEe,"stringPercentDecode");function qEe(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}s(qEe,"isHexCharByte");function GEe(t){return t>=48&&t<=57?t-48:(t&223)-55}s(GEe,"hexByteToNumber");function Ctt(t){let e=t.length,r=new Uint8Array(e),n=0;for(let o=0;o<e;++o){let a=t[o];a!==37?r[n++]=a:a===37&&!(qEe(t[o+1])&&qEe(t[o+2]))?r[n++]=37:(r[n++]=GEe(t[o+1])<<4|GEe(t[o+2]),o+=2)}return e===n?r:r.subarray(0,n)}s(Ctt,"percentDecode");function fj(t){t=mQ(t,!0,!0);let e={position:0},r=ib("/",t,e);if(r.length===0||!v3.test(r)||e.position>t.length)return"failure";e.position++;let n=ib(";",t,e);if(n=mQ(n,!1,!0),n.length===0||!v3.test(n))return"failure";let o=r.toLowerCase(),a=n.toLowerCase(),c={type:o,subtype:a,parameters:new Map,essence:`${o}/${a}`};for(;e.position<t.length;){e.position++,yQ(d=>ptt.test(d),t,e);let l=yQ(d=>d!==";"&&d!=="=",t,e);if(l=l.toLowerCase(),e.position<t.length){if(t[e.position]===";")continue;e.position++}if(e.position>t.length)break;let u=null;if(t[e.position]==='"')u=YEe(t,e,!0),ib(";",t,e);else if(u=ib(";",t,e),u=mQ(u,!1,!0),u.length===0)continue;l.length!==0&&v3.test(l)&&(u.length===0||gtt.test(u))&&!c.parameters.has(l)&&c.parameters.set(l,u)}return c}s(fj,"parseMIMEType");function Ett(t){t=t.replace(mtt,"");let e=t.length;if(e%4===0&&t.charCodeAt(e-1)===61&&(--e,t.charCodeAt(e-1)===61&&--e),e%4===1||/[^+/0-9A-Za-z]/.test(t.length===e?t:t.substring(0,e)))return"failure";let r=Buffer.from(t,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}s(Ett,"forgivingBase64");function YEe(t,e,r){let n=e.position,o="";for(gQ(t[e.position]==='"'),e.position++;o+=yQ(c=>c!=='"'&&c!=="\\",t,e),!(e.position>=t.length);){let a=t[e.position];if(e.position++,a==="\\"){if(e.position>=t.length){o+="\\";break}o+=t[e.position],e.position++}else{gQ(a==='"');break}}return r?o:t.slice(n,e.position)}s(YEe,"collectAnHTTPQuotedString");function Itt(t){gQ(t!=="failure");let{parameters:e,essence:r}=t,n=r;for(let[o,a]of e.entries())n+=";",n+=o,n+="=",v3.test(a)||(a=a.replace(/(\\|")/g,"\\$1"),a='"'+a,a+='"'),n+=a;return n}s(Itt,"serializeAMimeType");function xtt(t){return t===13||t===10||t===9||t===32}s(xtt,"isHTTPWhiteSpace");function mQ(t,e=!0,r=!0){return dj(t,e,r,xtt)}s(mQ,"removeHTTPWhitespace");function vtt(t){return t===13||t===10||t===9||t===12||t===32}s(vtt,"isASCIIWhitespace");function btt(t,e=!0,r=!0){return dj(t,e,r,vtt)}s(btt,"removeASCIIWhitespace");function dj(t,e,r,n){let o=0,a=t.length-1;if(e)for(;o<t.length&&n(t.charCodeAt(o));)o++;if(r)for(;a>0&&n(t.charCodeAt(a));)a--;return o===0&&a===t.length-1?t:t.slice(o,a+1)}s(dj,"removeChars");function $Ee(t){let e=t.length;if(65535>e)return String.fromCharCode.apply(null,t);let r="",n=0,o=65535;for(;n<e;)n+o>e&&(o=e-n),r+=String.fromCharCode.apply(null,t.subarray(n,n+=o));return r}s($Ee,"isomorphicDecode");function Ttt(t){switch(t.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return t.subtype.endsWith("+json")?"application/json":t.subtype.endsWith("+xml")?"application/xml":""}s(Ttt,"minimizeSupportedMimeType");zEe.exports={dataURLProcessor:ytt,URLSerializer:VEe,collectASequenceOfCodePoints:yQ,collectASequenceOfCodePointsFast:ib,stringPercentDecode:WEe,parseMIMEType:fj,collectAnHTTPQuotedString:YEe,serializeAMimeType:Itt,removeChars:dj,removeHTTPWhitespace:mQ,minimizeSupportedMimeType:Ttt,HTTP_TOKEN_CODEPOINTS:v3,isomorphicDecode:$Ee}});var Da=q((MGr,jEe)=>{"use strict";f();var{types:Jd,inspect:_tt}=require("node:util"),{markAsUncloneable:wtt}=require("node:worker_threads"),{toUSVString:Stt}=dn(),dt={};dt.converters={};dt.util={};dt.errors={};dt.errors.exception=function(t){return new TypeError(`${t.header}: ${t.message}`)};dt.errors.conversionFailed=function(t){let e=t.types.length===1?"":" one of",r=`${t.argument} could not be converted to${e}: ${t.types.join(", ")}.`;return dt.errors.exception({header:t.prefix,message:r})};dt.errors.invalidArgument=function(t){return dt.errors.exception({header:t.prefix,message:`"${t.value}" is an invalid ${t.type}.`})};dt.brandCheck=function(t,e,r){if(r?.strict!==!1){if(!(t instanceof e)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(t?.[Symbol.toStringTag]!==e.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};dt.argumentLengthCheck=function({length:t},e,r){if(t<e)throw dt.errors.exception({message:`${e} argument${e!==1?"s":""} required, but${t?" only":""} ${t} found.`,header:r})};dt.illegalConstructor=function(){throw dt.errors.exception({header:"TypeError",message:"Illegal constructor"})};dt.util.Type=function(t){switch(typeof t){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return t===null?"Null":"Object"}};dt.util.markAsUncloneable=wtt||(()=>{});dt.util.ConvertToInt=function(t,e,r,n){let o,a;e===64?(o=Math.pow(2,53)-1,r==="unsigned"?a=0:a=Math.pow(-2,53)+1):r==="unsigned"?(a=0,o=Math.pow(2,e)-1):(a=Math.pow(-2,e)-1,o=Math.pow(2,e-1)-1);let c=Number(t);if(c===0&&(c=0),n?.enforceRange===!0){if(Number.isNaN(c)||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)throw dt.errors.exception({header:"Integer conversion",message:`Could not convert ${dt.util.Stringify(t)} to an integer.`});if(c=dt.util.IntegerPart(c),c<a||c>o)throw dt.errors.exception({header:"Integer conversion",message:`Value must be between ${a}-${o}, got ${c}.`});return c}return!Number.isNaN(c)&&n?.clamp===!0?(c=Math.min(Math.max(c,a),o),Math.floor(c)%2===0?c=Math.floor(c):c=Math.ceil(c),c):Number.isNaN(c)||c===0&&Object.is(0,c)||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY?0:(c=dt.util.IntegerPart(c),c=c%Math.pow(2,e),r==="signed"&&c>=Math.pow(2,e)-1?c-Math.pow(2,e):c)};dt.util.IntegerPart=function(t){let e=Math.floor(Math.abs(t));return t<0?-1*e:e};dt.util.Stringify=function(t){switch(dt.util.Type(t)){case"Symbol":return`Symbol(${t.description})`;case"Object":return _tt(t);case"String":return`"${t}"`;default:return`${t}`}};dt.sequenceConverter=function(t){return(e,r,n,o)=>{if(dt.util.Type(e)!=="Object")throw dt.errors.exception({header:r,message:`${n} (${dt.util.Stringify(e)}) is not iterable.`});let a=typeof o=="function"?o():e?.[Symbol.iterator]?.(),c=[],l=0;if(a===void 0||typeof a.next!="function")throw dt.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:u,value:d}=a.next();if(u)break;c.push(t(d,r,`${n}[${l++}]`))}return c}};dt.recordConverter=function(t,e){return(r,n,o)=>{if(dt.util.Type(r)!=="Object")throw dt.errors.exception({header:n,message:`${o} ("${dt.util.Type(r)}") is not an Object.`});let a={};if(!Jd.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let u of l){let d=t(u,n,o),A=e(r[u],n,o);a[d]=A}return a}let c=Reflect.ownKeys(r);for(let l of c)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let d=t(l,n,o),A=e(r[l],n,o);a[d]=A}return a}};dt.interfaceConverter=function(t){return(e,r,n,o)=>{if(o?.strict!==!1&&!(e instanceof t))throw dt.errors.exception({header:r,message:`Expected ${n} ("${dt.util.Stringify(e)}") to be an instance of ${t.name}.`});return e}};dt.dictionaryConverter=function(t){return(e,r,n)=>{let o=dt.util.Type(e),a={};if(o==="Null"||o==="Undefined")return a;if(o!=="Object")throw dt.errors.exception({header:r,message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let c of t){let{key:l,defaultValue:u,required:d,converter:A}=c;if(d===!0&&!Object.hasOwn(e,l))throw dt.errors.exception({header:r,message:`Missing required key "${l}".`});let h=e[l],p=Object.hasOwn(c,"defaultValue");if(p&&h!==null&&(h??=u()),d||p||h!==void 0){if(h=A(h,r,`${n}.${l}`),c.allowedValues&&!c.allowedValues.includes(h))throw dt.errors.exception({header:r,message:`${h} is not an accepted type. Expected one of ${c.allowedValues.join(", ")}.`});a[l]=h}}return a}};dt.nullableConverter=function(t){return(e,r,n)=>e===null?e:t(e,r,n)};dt.converters.DOMString=function(t,e,r,n){if(t===null&&n?.legacyNullToEmptyString)return"";if(typeof t=="symbol")throw dt.errors.exception({header:e,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(t)};dt.converters.ByteString=function(t,e,r){let n=dt.converters.DOMString(t,e,r);for(let o=0;o<n.length;o++)if(n.charCodeAt(o)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${o} has a value of ${n.charCodeAt(o)} which is greater than 255.`);return n};dt.converters.USVString=Stt;dt.converters.boolean=function(t){return!!t};dt.converters.any=function(t){return t};dt.converters["long long"]=function(t,e,r){return dt.util.ConvertToInt(t,64,"signed",void 0,e,r)};dt.converters["unsigned long long"]=function(t,e,r){return dt.util.ConvertToInt(t,64,"unsigned",void 0,e,r)};dt.converters["unsigned long"]=function(t,e,r){return dt.util.ConvertToInt(t,32,"unsigned",void 0,e,r)};dt.converters["unsigned short"]=function(t,e,r,n){return dt.util.ConvertToInt(t,16,"unsigned",n,e,r)};dt.converters.ArrayBuffer=function(t,e,r,n){if(dt.util.Type(t)!=="Object"||!Jd.isAnyArrayBuffer(t))throw dt.errors.conversionFailed({prefix:e,argument:`${r} ("${dt.util.Stringify(t)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&Jd.isSharedArrayBuffer(t))throw dt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.resizable||t.growable)throw dt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};dt.converters.TypedArray=function(t,e,r,n,o){if(dt.util.Type(t)!=="Object"||!Jd.isTypedArray(t)||t.constructor.name!==e.name)throw dt.errors.conversionFailed({prefix:r,argument:`${n} ("${dt.util.Stringify(t)}")`,types:[e.name]});if(o?.allowShared===!1&&Jd.isSharedArrayBuffer(t.buffer))throw dt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw dt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};dt.converters.DataView=function(t,e,r,n){if(dt.util.Type(t)!=="Object"||!Jd.isDataView(t))throw dt.errors.exception({header:e,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&Jd.isSharedArrayBuffer(t.buffer))throw dt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw dt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};dt.converters.BufferSource=function(t,e,r,n){if(Jd.isAnyArrayBuffer(t))return dt.converters.ArrayBuffer(t,e,r,{...n,allowShared:!1});if(Jd.isTypedArray(t))return dt.converters.TypedArray(t,t.constructor,e,r,{...n,allowShared:!1});if(Jd.isDataView(t))return dt.converters.DataView(t,e,r,{...n,allowShared:!1});throw dt.errors.conversionFailed({prefix:e,argument:`${r} ("${dt.util.Stringify(t)}")`,types:["BufferSource"]})};dt.converters["sequence<ByteString>"]=dt.sequenceConverter(dt.converters.ByteString);dt.converters["sequence<sequence<ByteString>>"]=dt.sequenceConverter(dt.converters["sequence<ByteString>"]);dt.converters["record<ByteString, ByteString>"]=dt.recordConverter(dt.converters.ByteString,dt.converters.ByteString);jEe.exports={webidl:dt}});var il=q((UGr,lIe)=>{"use strict";f();var{Transform:Btt}=require("node:stream"),KEe=require("node:zlib"),{redirectStatusSet:Rtt,referrerPolicySet:ktt,badPortsSet:Dtt}=x3(),{getGlobalOrigin:JEe}=uj(),{collectASequenceOfCodePoints:fE,collectAnHTTPQuotedString:Ntt,removeChars:Qtt,parseMIMEType:Ptt}=Ac(),{performance:Ftt}=require("node:perf_hooks"),{isBlobLike:Ltt,ReadableStreamFrom:Mtt,isValidHTTPToken:XEe,normalizedMethodRecordsBase:Ott}=dn(),dE=require("node:assert"),{isUint8Array:Utt}=require("node:util/types"),{webidl:b3}=Da(),ZEe=[],EQ;try{EQ=require("node:crypto");let t=["sha256","sha384","sha512"];ZEe=EQ.getHashes().filter(e=>t.includes(e))}catch{}function eIe(t){let e=t.urlList,r=e.length;return r===0?null:e[r-1].toString()}s(eIe,"responseURL");function Htt(t,e){if(!Rtt.has(t.status))return null;let r=t.headersList.get("location",!0);return r!==null&&rIe(r)&&(tIe(r)||(r=qtt(r)),r=new URL(r,eIe(t))),r&&!r.hash&&(r.hash=e),r}s(Htt,"responseLocationURL");function tIe(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>126||r<32)return!1}return!0}s(tIe,"isValidEncodedURL");function qtt(t){return Buffer.from(t,"binary").toString("utf8")}s(qtt,"normalizeBinaryStringToUtf8");function _3(t){return t.urlList[t.urlList.length-1]}s(_3,"requestCurrentURL");function Gtt(t){let e=_3(t);return aIe(e)&&Dtt.has(e.port)?"blocked":"allowed"}s(Gtt,"requestBadPort");function Vtt(t){return t instanceof Error||t?.constructor?.name==="Error"||t?.constructor?.name==="DOMException"}s(Vtt,"isErrorLike");function Wtt(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}s(Wtt,"isValidReasonPhrase");var Ytt=XEe;function rIe(t){return(t[0]==="	"||t[0]===" "||t[t.length-1]==="	"||t[t.length-1]===" "||t.includes(`
`)||t.includes("\r")||t.includes("\0"))===!1}s(rIe,"isValidHeaderValue");function $tt(t,e){let{headersList:r}=e,n=(r.get("referrer-policy",!0)??"").split(","),o="";if(n.length>0)for(let a=n.length;a!==0;a--){let c=n[a-1].trim();if(ktt.has(c)){o=c;break}}o!==""&&(t.referrerPolicy=o)}s($tt,"setRequestReferrerPolicyOnRedirect");function ztt(){return"allowed"}s(ztt,"crossOriginResourcePolicyCheck");function jtt(){return"success"}s(jtt,"corsCheck");function Ktt(){return"success"}s(Ktt,"TAOCheck");function Jtt(t){let e=null;e=t.mode,t.headersList.set("sec-fetch-mode",e,!0)}s(Jtt,"appendFetchMetadata");function Xtt(t){let e=t.origin;if(!(e==="client"||e===void 0)){if(t.responseTainting==="cors"||t.mode==="websocket")t.headersList.append("origin",e,!0);else if(t.method!=="GET"&&t.method!=="HEAD"){switch(t.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":t.origin&&hj(t.origin)&&!hj(_3(t))&&(e=null);break;case"same-origin":IQ(t,_3(t))||(e=null);break;default:}t.headersList.append("origin",e,!0)}}}s(Xtt,"appendRequestOriginHeader");function ob(t,e){return t}s(ob,"coarsenTime");function Ztt(t,e,r){return!t?.startTime||t.startTime<e?{domainLookupStartTime:e,domainLookupEndTime:e,connectionStartTime:e,connectionEndTime:e,secureConnectionStartTime:e,ALPNNegotiatedProtocol:t?.ALPNNegotiatedProtocol}:{domainLookupStartTime:ob(t.domainLookupStartTime,r),domainLookupEndTime:ob(t.domainLookupEndTime,r),connectionStartTime:ob(t.connectionStartTime,r),connectionEndTime:ob(t.connectionEndTime,r),secureConnectionStartTime:ob(t.secureConnectionStartTime,r),ALPNNegotiatedProtocol:t.ALPNNegotiatedProtocol}}s(Ztt,"clampAndCoarsenConnectionTimingInfo");function ert(t){return ob(Ftt.now(),t)}s(ert,"coarsenedSharedCurrentTime");function trt(t){return{startTime:t.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:t.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}s(trt,"createOpaqueTimingInfo");function nIe(){return{referrerPolicy:"strict-origin-when-cross-origin"}}s(nIe,"makePolicyContainer");function rrt(t){return{referrerPolicy:t.referrerPolicy}}s(rrt,"clonePolicyContainer");function nrt(t){let e=t.referrerPolicy;dE(e);let r=null;if(t.referrer==="client"){let l=JEe();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else t.referrer instanceof URL&&(r=t.referrer);let n=Aj(r),o=Aj(r,!0);n.toString().length>4096&&(n=o);let a=IQ(t,n),c=T3(n)&&!T3(t.url);switch(e){case"origin":return o??Aj(r,!0);case"unsafe-url":return n;case"same-origin":return a?o:"no-referrer";case"origin-when-cross-origin":return a?n:o;case"strict-origin-when-cross-origin":{let l=_3(t);return IQ(n,l)?n:T3(n)&&!T3(l)?"no-referrer":o}case"strict-origin":case"no-referrer-when-downgrade":default:return c?"no-referrer":o}}s(nrt,"determineRequestsReferrer");function Aj(t,e){return dE(t instanceof URL),t=new URL(t),t.protocol==="file:"||t.protocol==="about:"||t.protocol==="blank:"?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}s(Aj,"stripURLForReferrer");function T3(t){if(!(t instanceof URL))return!1;if(t.href==="about:blank"||t.href==="about:srcdoc"||t.protocol==="data:"||t.protocol==="file:")return!0;return e(t.origin);function e(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}s(T3,"isURLPotentiallyTrustworthy");function irt(t,e){if(EQ===void 0)return!0;let r=iIe(e);if(r==="no metadata"||r.length===0)return!0;let n=srt(r),o=art(r,n);for(let a of o){let c=a.algo,l=a.hash,u=EQ.createHash(c).update(t).digest("base64");if(u[u.length-1]==="="&&(u[u.length-2]==="="?u=u.slice(0,-2):u=u.slice(0,-1)),crt(u,l))return!0}return!1}s(irt,"bytesMatch");var ort=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function iIe(t){let e=[],r=!0;for(let n of t.split(" ")){r=!1;let o=ort.exec(n);if(o===null||o.groups===void 0||o.groups.algo===void 0)continue;let a=o.groups.algo.toLowerCase();ZEe.includes(a)&&e.push(o.groups)}return r===!0?"no metadata":e}s(iIe,"parseMetadata");function srt(t){let e=t[0].algo;if(e[3]==="5")return e;for(let r=1;r<t.length;++r){let n=t[r];if(n.algo[3]==="5"){e="sha512";break}else{if(e[3]==="3")continue;n.algo[3]==="3"&&(e="sha384")}}return e}s(srt,"getStrongestMetadata");function art(t,e){if(t.length===1)return t;let r=0;for(let n=0;n<t.length;++n)t[n].algo===e&&(t[r++]=t[n]);return t.length=r,t}s(art,"filterMetadataListByAlgorithm");function crt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r]){if(t[r]==="+"&&e[r]==="-"||t[r]==="/"&&e[r]==="_")continue;return!1}return!0}s(crt,"compareBase64Mixed");function lrt(t){}s(lrt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function IQ(t,e){return t.origin===e.origin&&t.origin==="null"||t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port}s(IQ,"sameOrigin");function urt(){let t,e;return{promise:new Promise((n,o)=>{t=n,e=o}),resolve:t,reject:e}}s(urt,"createDeferredPromise");function frt(t){return t.controller.state==="aborted"}s(frt,"isAborted");function drt(t){return t.controller.state==="aborted"||t.controller.state==="terminated"}s(drt,"isCancelled");function Art(t){return Ott[t.toLowerCase()]??t}s(Art,"normalizeMethod");function hrt(t){let e=JSON.stringify(t);if(e===void 0)throw new TypeError("Value is not JSON serializable");return dE(typeof e=="string"),e}s(hrt,"serializeJavascriptValueToJSONString");var prt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function oIe(t,e,r=0,n=1){class o{static{s(this,"FastIterableIterator")}#e;#t;#i;constructor(c,l){this.#e=c,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${t} Iterator.`);let c=this.#i,l=this.#e[e],u=l.length;if(c>=u)return{value:void 0,done:!0};let{[r]:d,[n]:A}=l[c];this.#i=c+1;let h;switch(this.#t){case"key":h=d;break;case"value":h=A;break;case"key+value":h=[d,A];break}return{value:h,done:!1}}}return delete o.prototype.constructor,Object.setPrototypeOf(o.prototype,prt),Object.defineProperties(o.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${t} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(a,c){return new o(a,c)}}s(oIe,"createIterator");function mrt(t,e,r,n=0,o=1){let a=oIe(t,r,n,o),c={keys:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return b3.brandCheck(this,e),a(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return b3.brandCheck(this,e),a(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return b3.brandCheck(this,e),a(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:s(function(u,d=globalThis){if(b3.brandCheck(this,e),b3.argumentLengthCheck(arguments,1,`${t}.forEach`),typeof u!="function")throw new TypeError(`Failed to execute 'forEach' on '${t}': parameter 1 is not of type 'Function'.`);for(let{0:A,1:h}of a(this,"key+value"))u.call(d,h,A,this)},"forEach")}};return Object.defineProperties(e.prototype,{...c,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:c.entries.value}})}s(mrt,"iteratorMixin");async function grt(t,e,r){let n=e,o=r,a;try{a=t.stream.getReader()}catch(c){o(c);return}try{n(await sIe(a))}catch(c){o(c)}}s(grt,"fullyReadBody");function yrt(t){return t instanceof ReadableStream||t[Symbol.toStringTag]==="ReadableStream"&&typeof t.tee=="function"}s(yrt,"isReadableStreamLike");function Crt(t){try{t.close(),t.byobRequest?.respond(0)}catch(e){if(!e.message.includes("Controller is already closed")&&!e.message.includes("ReadableStream is already closed"))throw e}}s(Crt,"readableStreamClose");var Ert=/[^\x00-\xFF]/;function CQ(t){return dE(!Ert.test(t)),t}s(CQ,"isomorphicEncode");async function sIe(t){let e=[],r=0;for(;;){let{done:n,value:o}=await t.read();if(n)return Buffer.concat(e,r);if(!Utt(o))throw new TypeError("Received non-Uint8Array chunk");e.push(o),r+=o.length}}s(sIe,"readAllBytes");function Irt(t){dE("protocol"in t);let e=t.protocol;return e==="about:"||e==="blob:"||e==="data:"}s(Irt,"urlIsLocal");function hj(t){return typeof t=="string"&&t[5]===":"&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&t[4]==="s"||t.protocol==="https:"}s(hj,"urlHasHttpsScheme");function aIe(t){dE("protocol"in t);let e=t.protocol;return e==="http:"||e==="https:"}s(aIe,"urlIsHttpHttpsScheme");function xrt(t,e){let r=t;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(e&&fE(u=>u==="	"||u===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,e&&fE(u=>u==="	"||u===" ",r,n);let o=fE(u=>{let d=u.charCodeAt(0);return d>=48&&d<=57},r,n),a=o.length?Number(o):null;if(e&&fE(u=>u==="	"||u===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,e&&fE(u=>u==="	"||u===" ",r,n);let c=fE(u=>{let d=u.charCodeAt(0);return d>=48&&d<=57},r,n),l=c.length?Number(c):null;return n.position<r.length||l===null&&a===null||a>l?"failure":{rangeStartValue:a,rangeEndValue:l}}s(xrt,"simpleRangeHeaderValue");function vrt(t,e,r){let n="bytes ";return n+=CQ(`${t}`),n+="-",n+=CQ(`${e}`),n+="/",n+=CQ(`${r}`),n}s(vrt,"buildContentRange");var pj=class extends Btt{static{s(this,"InflateStream")}#e;constructor(e){super(),this.#e=e}_transform(e,r,n){if(!this._inflateStream){if(e.length===0){n();return}this._inflateStream=(e[0]&15)===8?KEe.createInflate(this.#e):KEe.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",o=>this.destroy(o))}this._inflateStream.write(e,r,n)}_final(e){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),e()}};function brt(t){return new pj(t)}s(brt,"createInflate");function Trt(t){let e=null,r=null,n=null,o=cIe("content-type",t);if(o===null)return"failure";for(let a of o){let c=Ptt(a);c==="failure"||c.essence==="*/*"||(n=c,n.essence!==r?(e=null,n.parameters.has("charset")&&(e=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&e!==null&&n.parameters.set("charset",e))}return n??"failure"}s(Trt,"extractMimeType");function _rt(t){let e=t,r={position:0},n=[],o="";for(;r.position<e.length;){if(o+=fE(a=>a!=='"'&&a!==",",e,r),r.position<e.length)if(e.charCodeAt(r.position)===34){if(o+=Ntt(e,r),r.position<e.length)continue}else dE(e.charCodeAt(r.position)===44),r.position++;o=Qtt(o,!0,!0,a=>a===9||a===32),n.push(o),o=""}return n}s(_rt,"gettingDecodingSplitting");function cIe(t,e){let r=e.get(t,!0);return r===null?null:_rt(r)}s(cIe,"getDecodeSplit");var wrt=new TextDecoder;function Srt(t){return t.length===0?"":(t[0]===239&&t[1]===187&&t[2]===191&&(t=t.subarray(3)),wrt.decode(t))}s(Srt,"utf8DecodeBytes");var mj=class{static{s(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return JEe()}get origin(){return this.baseUrl?.origin}policyContainer=nIe()},gj=class{static{s(this,"EnvironmentSettingsObject")}settingsObject=new mj},Brt=new gj;lIe.exports={isAborted:frt,isCancelled:drt,isValidEncodedURL:tIe,createDeferredPromise:urt,ReadableStreamFrom:Mtt,tryUpgradeRequestToAPotentiallyTrustworthyURL:lrt,clampAndCoarsenConnectionTimingInfo:Ztt,coarsenedSharedCurrentTime:ert,determineRequestsReferrer:nrt,makePolicyContainer:nIe,clonePolicyContainer:rrt,appendFetchMetadata:Jtt,appendRequestOriginHeader:Xtt,TAOCheck:Ktt,corsCheck:jtt,crossOriginResourcePolicyCheck:ztt,createOpaqueTimingInfo:trt,setRequestReferrerPolicyOnRedirect:$tt,isValidHTTPToken:XEe,requestBadPort:Gtt,requestCurrentURL:_3,responseURL:eIe,responseLocationURL:Htt,isBlobLike:Ltt,isURLPotentiallyTrustworthy:T3,isValidReasonPhrase:Wtt,sameOrigin:IQ,normalizeMethod:Art,serializeJavascriptValueToJSONString:hrt,iteratorMixin:mrt,createIterator:oIe,isValidHeaderName:Ytt,isValidHeaderValue:rIe,isErrorLike:Vtt,fullyReadBody:grt,bytesMatch:irt,isReadableStreamLike:yrt,readableStreamClose:Crt,isomorphicEncode:CQ,urlIsLocal:Irt,urlHasHttpsScheme:hj,urlIsHttpHttpsScheme:aIe,readAllBytes:sIe,simpleRangeHeaderValue:xrt,buildContentRange:vrt,parseMetadata:iIe,createInflate:brt,extractMimeType:Trt,getDecodeSplit:cIe,utf8DecodeBytes:Srt,environmentSettingsObject:Brt}});var zg=q((GGr,uIe)=>{"use strict";f();uIe.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var Cj=q((WGr,fIe)=>{"use strict";f();var{Blob:Rrt,File:krt}=require("node:buffer"),{kState:Gh}=zg(),{webidl:Xd}=Da(),yj=class t{static{s(this,"FileLike")}constructor(e,r,n={}){let o=r,a=n.type,c=n.lastModified??Date.now();this[Gh]={blobLike:e,name:o,type:a,lastModified:c}}stream(...e){return Xd.brandCheck(this,t),this[Gh].blobLike.stream(...e)}arrayBuffer(...e){return Xd.brandCheck(this,t),this[Gh].blobLike.arrayBuffer(...e)}slice(...e){return Xd.brandCheck(this,t),this[Gh].blobLike.slice(...e)}text(...e){return Xd.brandCheck(this,t),this[Gh].blobLike.text(...e)}get size(){return Xd.brandCheck(this,t),this[Gh].blobLike.size}get type(){return Xd.brandCheck(this,t),this[Gh].blobLike.type}get name(){return Xd.brandCheck(this,t),this[Gh].name}get lastModified(){return Xd.brandCheck(this,t),this[Gh].lastModified}get[Symbol.toStringTag](){return"File"}};Xd.converters.Blob=Xd.interfaceConverter(Rrt);function Drt(t){return t instanceof krt||t&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&t[Symbol.toStringTag]==="File"}s(Drt,"isFileLike");fIe.exports={FileLike:yj,isFileLike:Drt}});var S3=q((zGr,mIe)=>{"use strict";f();var{isBlobLike:xQ,iteratorMixin:Nrt}=il(),{kState:_0}=zg(),{kEnumerableProperty:sb}=dn(),{FileLike:dIe,isFileLike:Qrt}=Cj(),{webidl:Hi}=Da(),{File:pIe}=require("node:buffer"),AIe=require("node:util"),hIe=globalThis.File??pIe,w3=class t{static{s(this,"FormData")}constructor(e){if(Hi.util.markAsUncloneable(this),e!==void 0)throw Hi.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[_0]=[]}append(e,r,n=void 0){Hi.brandCheck(this,t);let o="FormData.append";if(Hi.argumentLengthCheck(arguments,2,o),arguments.length===3&&!xQ(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=Hi.converters.USVString(e,o,"name"),r=xQ(r)?Hi.converters.Blob(r,o,"value",{strict:!1}):Hi.converters.USVString(r,o,"value"),n=arguments.length===3?Hi.converters.USVString(n,o,"filename"):void 0;let a=Ej(e,r,n);this[_0].push(a)}delete(e){Hi.brandCheck(this,t);let r="FormData.delete";Hi.argumentLengthCheck(arguments,1,r),e=Hi.converters.USVString(e,r,"name"),this[_0]=this[_0].filter(n=>n.name!==e)}get(e){Hi.brandCheck(this,t);let r="FormData.get";Hi.argumentLengthCheck(arguments,1,r),e=Hi.converters.USVString(e,r,"name");let n=this[_0].findIndex(o=>o.name===e);return n===-1?null:this[_0][n].value}getAll(e){Hi.brandCheck(this,t);let r="FormData.getAll";return Hi.argumentLengthCheck(arguments,1,r),e=Hi.converters.USVString(e,r,"name"),this[_0].filter(n=>n.name===e).map(n=>n.value)}has(e){Hi.brandCheck(this,t);let r="FormData.has";return Hi.argumentLengthCheck(arguments,1,r),e=Hi.converters.USVString(e,r,"name"),this[_0].findIndex(n=>n.name===e)!==-1}set(e,r,n=void 0){Hi.brandCheck(this,t);let o="FormData.set";if(Hi.argumentLengthCheck(arguments,2,o),arguments.length===3&&!xQ(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=Hi.converters.USVString(e,o,"name"),r=xQ(r)?Hi.converters.Blob(r,o,"name",{strict:!1}):Hi.converters.USVString(r,o,"name"),n=arguments.length===3?Hi.converters.USVString(n,o,"name"):void 0;let a=Ej(e,r,n),c=this[_0].findIndex(l=>l.name===e);c!==-1?this[_0]=[...this[_0].slice(0,c),a,...this[_0].slice(c+1).filter(l=>l.name!==e)]:this[_0].push(a)}[AIe.inspect.custom](e,r){let n=this[_0].reduce((a,c)=>(a[c.name]?Array.isArray(a[c.name])?a[c.name].push(c.value):a[c.name]=[a[c.name],c.value]:a[c.name]=c.value,a),{__proto__:null});r.depth??=e,r.colors??=!0;let o=AIe.formatWithOptions(r,n);return`FormData ${o.slice(o.indexOf("]")+2)}`}};Nrt("FormData",w3,_0,"name","value");Object.defineProperties(w3.prototype,{append:sb,delete:sb,get:sb,getAll:sb,has:sb,set:sb,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function Ej(t,e,r){if(typeof e!="string"){if(Qrt(e)||(e=e instanceof Blob?new hIe([e],"blob",{type:e.type}):new dIe(e,"blob",{type:e.type})),r!==void 0){let n={type:e.type,lastModified:e.lastModified};e=e instanceof pIe?new hIe([e],r,n):new dIe(e,r,n)}}return{name:t,value:e}}s(Ej,"makeEntry");mIe.exports={FormData:w3,makeEntry:Ej}});var xIe=q((JGr,IIe)=>{"use strict";f();var{isUSVString:gIe,bufferToLowerCasedHeaderName:Prt}=dn(),{utf8DecodeBytes:Frt}=il(),{HTTP_TOKEN_CODEPOINTS:Lrt,isomorphicDecode:yIe}=Ac(),{isFileLike:Mrt}=Cj(),{makeEntry:Ort}=S3(),vQ=require("node:assert"),{File:Urt}=require("node:buffer"),Hrt=globalThis.File??Urt,qrt=Buffer.from('form-data; name="'),CIe=Buffer.from("; filename"),Grt=Buffer.from("--"),Vrt=Buffer.from(`--\r
`);function Wrt(t){for(let e=0;e<t.length;++e)if((t.charCodeAt(e)&-128)!==0)return!1;return!0}s(Wrt,"isAsciiString");function Yrt(t){let e=t.length;if(e<27||e>70)return!1;for(let r=0;r<e;++r){let n=t.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}s(Yrt,"validateBoundary");function $rt(t,e){vQ(e!=="failure"&&e.essence==="multipart/form-data");let r=e.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),o=[],a={position:0};for(;t[a.position]===13&&t[a.position+1]===10;)a.position+=2;let c=t.length;for(;t[c-1]===10&&t[c-2]===13;)c-=2;for(c!==t.length&&(t=t.subarray(0,c));;){if(t.subarray(a.position,a.position+n.length).equals(n))a.position+=n.length;else return"failure";if(a.position===t.length-2&&bQ(t,Grt,a)||a.position===t.length-4&&bQ(t,Vrt,a))return o;if(t[a.position]!==13||t[a.position+1]!==10)return"failure";a.position+=2;let l=zrt(t,a);if(l==="failure")return"failure";let{name:u,filename:d,contentType:A,encoding:h}=l;a.position+=2;let p;{let E=t.indexOf(n.subarray(2),a.position);if(E===-1)return"failure";p=t.subarray(a.position,E-4),a.position+=p.length,h==="base64"&&(p=Buffer.from(p.toString(),"base64"))}if(t[a.position]!==13||t[a.position+1]!==10)return"failure";a.position+=2;let y;d!==null?(A??="text/plain",Wrt(A)||(A=""),y=new Hrt([p],d,{type:A})):y=Frt(Buffer.from(p)),vQ(gIe(u)),vQ(typeof y=="string"&&gIe(y)||Mrt(y)),o.push(Ort(u,y,d))}}s($rt,"multipartFormDataParser");function zrt(t,e){let r=null,n=null,o=null,a=null;for(;;){if(t[e.position]===13&&t[e.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:o,encoding:a};let c=ab(l=>l!==10&&l!==13&&l!==58,t,e);if(c=Ij(c,!0,!0,l=>l===9||l===32),!Lrt.test(c.toString())||t[e.position]!==58)return"failure";switch(e.position++,ab(l=>l===32||l===9,t,e),Prt(c)){case"content-disposition":{if(r=n=null,!bQ(t,qrt,e)||(e.position+=17,r=EIe(t,e),r===null))return"failure";if(bQ(t,CIe,e)){let l=e.position+CIe.length;if(t[l]===42&&(e.position+=1,l+=1),t[l]!==61||t[l+1]!==34||(e.position+=12,n=EIe(t,e),n===null))return"failure"}break}case"content-type":{let l=ab(u=>u!==10&&u!==13,t,e);l=Ij(l,!1,!0,u=>u===9||u===32),o=yIe(l);break}case"content-transfer-encoding":{let l=ab(u=>u!==10&&u!==13,t,e);l=Ij(l,!1,!0,u=>u===9||u===32),a=yIe(l);break}default:ab(l=>l!==10&&l!==13,t,e)}if(t[e.position]!==13&&t[e.position+1]!==10)return"failure";e.position+=2}}s(zrt,"parseMultipartFormDataHeaders");function EIe(t,e){vQ(t[e.position-1]===34);let r=ab(n=>n!==10&&n!==13&&n!==34,t,e);return t[e.position]!==34?null:(e.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}s(EIe,"parseMultipartFormDataName");function ab(t,e,r){let n=r.position;for(;n<e.length&&t(e[n]);)++n;return e.subarray(r.position,r.position=n)}s(ab,"collectASequenceOfBytes");function Ij(t,e,r,n){let o=0,a=t.length-1;if(e)for(;o<t.length&&n(t[o]);)o++;if(r)for(;a>0&&n(t[a]);)a--;return o===0&&a===t.length-1?t:t.subarray(o,a+1)}s(Ij,"removeChars");function bQ(t,e,r){if(t.length<e.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[r.position+n])return!1;return!0}s(bQ,"bufferStartsWith");IIe.exports={multipartFormDataParser:$rt,validateBoundary:Yrt}});var ub=q((eVr,RIe)=>{"use strict";f();var B3=dn(),{ReadableStreamFrom:jrt,isBlobLike:vIe,isReadableStreamLike:Krt,readableStreamClose:Jrt,createDeferredPromise:Xrt,fullyReadBody:Zrt,extractMimeType:ent,utf8DecodeBytes:_Ie}=il(),{FormData:bIe}=S3(),{kState:lb}=zg(),{webidl:tnt}=Da(),{Blob:rnt}=require("node:buffer"),xj=require("node:assert"),{isErrored:wIe,isDisturbed:nnt}=require("node:stream"),{isArrayBuffer:int}=require("node:util/types"),{serializeAMimeType:ont}=Ac(),{multipartFormDataParser:snt}=xIe(),vj;try{let t=require("node:crypto");vj=s(e=>t.randomInt(0,e),"random")}catch{vj=s(t=>Math.floor(Math.random(t)),"random")}var TQ=new TextEncoder;function ant(){}s(ant,"noop");var bj=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,Tj;bj&&(Tj=new FinalizationRegistry(t=>{let e=t.deref();e&&!e.locked&&!nnt(e)&&!wIe(e)&&e.cancel("Response object has been garbage collected").catch(ant)}));function SIe(t,e=!1){let r=null;t instanceof ReadableStream?r=t:vIe(t)?r=t.stream():r=new ReadableStream({async pull(u){let d=typeof o=="string"?TQ.encode(o):o;d.byteLength&&u.enqueue(d),queueMicrotask(()=>Jrt(u))},start(){},type:"bytes"}),xj(Krt(r));let n=null,o=null,a=null,c=null;if(typeof t=="string")o=t,c="text/plain;charset=UTF-8";else if(t instanceof URLSearchParams)o=t.toString(),c="application/x-www-form-urlencoded;charset=UTF-8";else if(int(t))o=new Uint8Array(t.slice());else if(ArrayBuffer.isView(t))o=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));else if(B3.isFormDataLike(t)){let u=`----formdata-undici-0${`${vj(1e11)}`.padStart(11,"0")}`,d=`--${u}\r
Content-Disposition: form-data`;let A=s(w=>w.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),h=s(w=>w.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),p=[],y=new Uint8Array([13,10]);a=0;let E=!1;for(let[w,_]of t)if(typeof _=="string"){let S=TQ.encode(d+`; name="${A(h(w))}"\r
\r
${h(_)}\r
`);p.push(S),a+=S.byteLength}else{let S=TQ.encode(`${d}; name="${A(h(w))}"`+(_.name?`; filename="${A(_.name)}"`:"")+`\r
Content-Type: ${_.type||"application/octet-stream"}\r
\r
`);p.push(S,_,y),typeof _.size=="number"?a+=S.byteLength+_.size+y.byteLength:E=!0}let v=TQ.encode(`--${u}--\r
`);p.push(v),a+=v.byteLength,E&&(a=null),o=t,n=s(async function*(){for(let w of p)w.stream?yield*w.stream():yield w},"action"),c=`multipart/form-data; boundary=${u}`}else if(vIe(t))o=t,a=t.size,t.type&&(c=t.type);else if(typeof t[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(B3.isDisturbed(t)||t.locked)throw new TypeError("Response body object should not be disturbed or locked");r=t instanceof ReadableStream?t:jrt(t)}if((typeof o=="string"||B3.isBuffer(o))&&(a=Buffer.byteLength(o)),n!=null){let u;r=new ReadableStream({async start(){u=n(t)[Symbol.asyncIterator]()},async pull(d){let{value:A,done:h}=await u.next();if(h)queueMicrotask(()=>{d.close(),d.byobRequest?.respond(0)});else if(!wIe(r)){let p=new Uint8Array(A);p.byteLength&&d.enqueue(p)}return d.desiredSize>0},async cancel(d){await u.return()},type:"bytes"})}return[{stream:r,source:o,length:a},c]}s(SIe,"extractBody");function cnt(t,e=!1){return t instanceof ReadableStream&&(xj(!B3.isDisturbed(t),"The body has already been consumed."),xj(!t.locked,"The stream is locked.")),SIe(t,e)}s(cnt,"safelyExtractBody");function lnt(t,e){let[r,n]=e.stream.tee();return bj&&Tj.register(t,new WeakRef(r)),e.stream=r,{stream:n,length:e.length,source:e.source}}s(lnt,"cloneBody");function unt(t){if(t.aborted)throw new DOMException("The operation was aborted.","AbortError")}s(unt,"throwIfAborted");function fnt(t){return{blob(){return cb(this,r=>{let n=TIe(this);return n===null?n="":n&&(n=ont(n)),new rnt([r],{type:n})},t)},arrayBuffer(){return cb(this,r=>new Uint8Array(r).buffer,t)},text(){return cb(this,_Ie,t)},json(){return cb(this,Ant,t)},formData(){return cb(this,r=>{let n=TIe(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let o=snt(r,n);if(o==="failure")throw new TypeError("Failed to parse body as FormData.");let a=new bIe;return a[lb]=o,a}case"application/x-www-form-urlencoded":{let o=new URLSearchParams(r.toString()),a=new bIe;for(let[c,l]of o)a.append(c,l);return a}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},t)},bytes(){return cb(this,r=>new Uint8Array(r),t)}}}s(fnt,"bodyMixinMethods");function dnt(t){Object.assign(t.prototype,fnt(t))}s(dnt,"mixinBody");async function cb(t,e,r){if(tnt.brandCheck(t,r),BIe(t))throw new TypeError("Body is unusable: Body has already been read");unt(t[lb]);let n=Xrt(),o=s(c=>n.reject(c),"errorSteps"),a=s(c=>{try{n.resolve(e(c))}catch(l){o(l)}},"successSteps");return t[lb].body==null?(a(Buffer.allocUnsafe(0)),n.promise):(await Zrt(t[lb].body,a,o),n.promise)}s(cb,"consumeBody");function BIe(t){let e=t[lb].body;return e!=null&&(e.stream.locked||B3.isDisturbed(e.stream))}s(BIe,"bodyUnusable");function Ant(t){return JSON.parse(_Ie(t))}s(Ant,"parseJSONFromBytes");function TIe(t){let e=t[lb].headersList,r=ent(e);return r==="failure"?null:r}s(TIe,"bodyMimeType");RIe.exports={extractBody:SIe,safelyExtractBody:cnt,cloneBody:lnt,mixinBody:dnt,streamRegistry:Tj,hasFinalizationRegistry:bj,bodyUnusable:BIe}});var HIe=q((nVr,UIe)=>{"use strict";f();var fr=require("node:assert"),Lr=dn(),{channels:kIe}=Jv(),_j=oj(),{RequestContentLengthMismatchError:AE,ResponseContentLengthMismatchError:hnt,RequestAbortedError:LIe,HeadersTimeoutError:pnt,HeadersOverflowError:mnt,SocketError:kQ,InformationalError:fb,BodyTimeoutError:gnt,HTTPParserError:ynt,ResponseExceededMaxSizeError:Cnt}=ui(),{kUrl:MIe,kReset:hc,kClient:Rj,kParser:Go,kBlocking:D3,kRunning:n0,kPending:Ent,kSize:DIe,kWriting:Kg,kQueue:If,kNoRef:R3,kKeepAliveDefaultTimeout:Int,kHostHeader:xnt,kPendingIdx:vnt,kRunningIdx:su,kError:au,kPipelining:BQ,kSocket:db,kKeepAliveTimeoutValue:DQ,kMaxHeadersSize:wj,kKeepAliveMaxTimeout:bnt,kKeepAliveTimeoutThreshold:Tnt,kHeadersTimeout:_nt,kBodyTimeout:wnt,kStrictContentLength:kj,kMaxRequests:NIe,kCounter:Snt,kMaxResponseSize:Bnt,kOnError:Rnt,kResume:jg,kHTTPContext:OIe}=ho(),Zd=BEe(),knt=Buffer.alloc(0),_Q=Buffer[Symbol.species],wQ=Lr.addListener,Dnt=Lr.removeAllListeners,Sj;async function Nnt(){let t=process.env.JEST_WORKER_ID?cj():void 0,e;try{e=await WebAssembly.compile(DEe())}catch{e=await WebAssembly.compile(t||cj())}return await WebAssembly.instantiate(e,{env:{wasm_on_url:s((r,n,o)=>0,"wasm_on_url"),wasm_on_status:s((r,n,o)=>{fr(Ls.ptr===r);let a=n-tA+eA.byteOffset;return Ls.onStatus(new _Q(eA.buffer,a,o))||0},"wasm_on_status"),wasm_on_message_begin:s(r=>(fr(Ls.ptr===r),Ls.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:s((r,n,o)=>{fr(Ls.ptr===r);let a=n-tA+eA.byteOffset;return Ls.onHeaderField(new _Q(eA.buffer,a,o))||0},"wasm_on_header_field"),wasm_on_header_value:s((r,n,o)=>{fr(Ls.ptr===r);let a=n-tA+eA.byteOffset;return Ls.onHeaderValue(new _Q(eA.buffer,a,o))||0},"wasm_on_header_value"),wasm_on_headers_complete:s((r,n,o,a)=>(fr(Ls.ptr===r),Ls.onHeadersComplete(n,!!o,!!a)||0),"wasm_on_headers_complete"),wasm_on_body:s((r,n,o)=>{fr(Ls.ptr===r);let a=n-tA+eA.byteOffset;return Ls.onBody(new _Q(eA.buffer,a,o))||0},"wasm_on_body"),wasm_on_message_complete:s(r=>(fr(Ls.ptr===r),Ls.onMessageComplete()||0),"wasm_on_message_complete")}})}s(Nnt,"lazyllhttp");var Bj=null,Dj=Nnt();Dj.catch();var Ls=null,eA=null,SQ=0,tA=null,Qnt=0,k3=1,Ab=2|k3,RQ=4|k3,Nj=8|Qnt,Qj=class{static{s(this,"Parser")}constructor(e,r,{exports:n}){fr(Number.isFinite(e[wj])&&e[wj]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(Zd.TYPE.RESPONSE),this.client=e,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[wj],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[Bnt]}setTimeout(e,r){e!==this.timeoutValue||r&k3^this.timeoutType&k3?(this.timeout&&(_j.clearTimeout(this.timeout),this.timeout=null),e&&(r&k3?this.timeout=_j.setFastTimeout(QIe,e,new WeakRef(this)):(this.timeout=setTimeout(QIe,e,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(fr(this.ptr!=null),fr(Ls==null),this.llhttp.llhttp_resume(this.ptr),fr(this.timeoutType===RQ),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||knt),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){fr(this.ptr!=null),fr(Ls==null),fr(!this.paused);let{socket:r,llhttp:n}=this;e.length>SQ&&(tA&&n.free(tA),SQ=Math.ceil(e.length/4096)*4096,tA=n.malloc(SQ)),new Uint8Array(n.memory.buffer,tA,SQ).set(e);try{let o;try{eA=e,Ls=this,o=n.llhttp_execute(this.ptr,tA,e.length)}catch(c){throw c}finally{Ls=null,eA=null}let a=n.llhttp_get_error_pos(this.ptr)-tA;if(o===Zd.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(a));else if(o===Zd.ERROR.PAUSED)this.paused=!0,r.unshift(e.slice(a));else if(o!==Zd.ERROR.OK){let c=n.llhttp_get_error_reason(this.ptr),l="";if(c){let u=new Uint8Array(n.memory.buffer,c).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,c,u).toString()+")"}throw new ynt(l,Zd.ERROR[o],e.slice(a))}}catch(o){Lr.destroy(r,o)}}destroy(){fr(this.ptr!=null),fr(Ls==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&_j.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:r}=this;if(e.destroyed)return-1;let n=r[If][r[su]];if(!n)return-1;n.onResponseStarted()}onHeaderField(e){let r=this.headers.length;(r&1)===0?this.headers.push(e):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]),this.trackHeader(e.length)}onHeaderValue(e){let r=this.headers.length;(r&1)===1?(this.headers.push(e),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]);let n=this.headers[r-2];if(n.length===10){let o=Lr.bufferToLowerCasedHeaderName(n);o==="keep-alive"?this.keepAlive+=e.toString():o==="connection"&&(this.connection+=e.toString())}else n.length===14&&Lr.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=e.toString());this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&Lr.destroy(this.socket,new mnt)}onUpgrade(e){let{upgrade:r,client:n,socket:o,headers:a,statusCode:c}=this;fr(r),fr(n[db]===o),fr(!o.destroyed),fr(!this.paused),fr((a.length&1)===0);let l=n[If][n[su]];fr(l),fr(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,o.unshift(e),o[Go].destroy(),o[Go]=null,o[Rj]=null,o[au]=null,Dnt(o),n[db]=null,n[OIe]=null,n[If][n[su]++]=null,n.emit("disconnect",n[MIe],[n],new fb("upgrade"));try{l.onUpgrade(c,a,o)}catch(u){Lr.destroy(o,u)}n[jg]()}onHeadersComplete(e,r,n){let{client:o,socket:a,headers:c,statusText:l}=this;if(a.destroyed)return-1;let u=o[If][o[su]];if(!u)return-1;if(fr(!this.upgrade),fr(this.statusCode<200),e===100)return Lr.destroy(a,new kQ("bad response",Lr.getSocketInfo(a))),-1;if(r&&!u.upgrade)return Lr.destroy(a,new kQ("bad upgrade",Lr.getSocketInfo(a))),-1;if(fr(this.timeoutType===Ab),this.statusCode=e,this.shouldKeepAlive=n||u.method==="HEAD"&&!a[hc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let A=u.bodyTimeout!=null?u.bodyTimeout:o[wnt];this.setTimeout(A,RQ)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(u.method==="CONNECT")return fr(o[n0]===1),this.upgrade=!0,2;if(r)return fr(o[n0]===1),this.upgrade=!0,2;if(fr((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&o[BQ]){let A=this.keepAlive?Lr.parseKeepAliveTimeout(this.keepAlive):null;if(A!=null){let h=Math.min(A-o[Tnt],o[bnt]);h<=0?a[hc]=!0:o[DQ]=h}else o[DQ]=o[Int]}else a[hc]=!0;let d=u.onHeaders(e,c,this.resume,l)===!1;return u.aborted?-1:u.method==="HEAD"||e<200?1:(a[D3]&&(a[D3]=!1,o[jg]()),d?Zd.ERROR.PAUSED:0)}onBody(e){let{client:r,socket:n,statusCode:o,maxResponseSize:a}=this;if(n.destroyed)return-1;let c=r[If][r[su]];if(fr(c),fr(this.timeoutType===RQ),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),fr(o>=200),a>-1&&this.bytesRead+e.length>a)return Lr.destroy(n,new Cnt),-1;if(this.bytesRead+=e.length,c.onData(e)===!1)return Zd.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:r,statusCode:n,upgrade:o,headers:a,contentLength:c,bytesRead:l,shouldKeepAlive:u}=this;if(r.destroyed&&(!n||u))return-1;if(o)return;fr(n>=100),fr((this.headers.length&1)===0);let d=e[If][e[su]];if(fr(d),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(d.method!=="HEAD"&&c&&l!==parseInt(c,10))return Lr.destroy(r,new hnt),-1;if(d.onComplete(a),e[If][e[su]++]=null,r[Kg])return fr(e[n0]===0),Lr.destroy(r,new fb("reset")),Zd.ERROR.PAUSED;if(u){if(r[hc]&&e[n0]===0)return Lr.destroy(r,new fb("reset")),Zd.ERROR.PAUSED;e[BQ]==null||e[BQ]===1?setImmediate(()=>e[jg]()):e[jg]()}else return Lr.destroy(r,new fb("reset")),Zd.ERROR.PAUSED}}};function QIe(t){let{socket:e,timeoutType:r,client:n,paused:o}=t.deref();r===Ab?(!e[Kg]||e.writableNeedDrain||n[n0]>1)&&(fr(!o,"cannot be paused while waiting for headers"),Lr.destroy(e,new pnt)):r===RQ?o||Lr.destroy(e,new gnt):r===Nj&&(fr(n[n0]===0&&n[DQ]),Lr.destroy(e,new fb("socket idle timeout")))}s(QIe,"onParserTimeout");async function Pnt(t,e){t[db]=e,Bj||(Bj=await Dj,Dj=null),e[R3]=!1,e[Kg]=!1,e[hc]=!1,e[D3]=!1,e[Go]=new Qj(t,e,Bj),wQ(e,"error",function(n){fr(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let o=this[Go];if(n.code==="ECONNRESET"&&o.statusCode&&!o.shouldKeepAlive){o.onMessageComplete();return}this[au]=n,this[Rj][Rnt](n)}),wQ(e,"readable",function(){let n=this[Go];n&&n.readMore()}),wQ(e,"end",function(){let n=this[Go];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Lr.destroy(this,new kQ("other side closed",Lr.getSocketInfo(this)))}),wQ(e,"close",function(){let n=this[Rj],o=this[Go];o&&(!this[au]&&o.statusCode&&!o.shouldKeepAlive&&o.onMessageComplete(),this[Go].destroy(),this[Go]=null);let a=this[au]||new kQ("closed",Lr.getSocketInfo(this));if(n[db]=null,n[OIe]=null,n.destroyed){fr(n[Ent]===0);let c=n[If].splice(n[su]);for(let l=0;l<c.length;l++){let u=c[l];Lr.errorRequest(n,u,a)}}else if(n[n0]>0&&a.code!=="UND_ERR_INFO"){let c=n[If][n[su]];n[If][n[su]++]=null,Lr.errorRequest(n,c,a)}n[vnt]=n[su],fr(n[n0]===0),n.emit("disconnect",n[MIe],[n],a),n[jg]()});let r=!1;return e.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return Mnt(t,...n)},resume(){Fnt(t)},destroy(n,o){r?queueMicrotask(o):e.destroy(n).on("close",o)},get destroyed(){return e.destroyed},busy(n){return!!(e[Kg]||e[hc]||e[D3]||n&&(t[n0]>0&&!n.idempotent||t[n0]>0&&(n.upgrade||n.method==="CONNECT")||t[n0]>0&&Lr.bodyLength(n.body)!==0&&(Lr.isStream(n.body)||Lr.isAsyncIterable(n.body)||Lr.isFormDataLike(n.body))))}}}s(Pnt,"connectH1");function Fnt(t){let e=t[db];if(e&&!e.destroyed){if(t[DIe]===0?!e[R3]&&e.unref&&(e.unref(),e[R3]=!0):e[R3]&&e.ref&&(e.ref(),e[R3]=!1),t[DIe]===0)e[Go].timeoutType!==Nj&&e[Go].setTimeout(t[DQ],Nj);else if(t[n0]>0&&e[Go].statusCode<200&&e[Go].timeoutType!==Ab){let r=t[If][t[su]],n=r.headersTimeout!=null?r.headersTimeout:t[_nt];e[Go].setTimeout(n,Ab)}}}s(Fnt,"resumeH1");function Lnt(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}s(Lnt,"shouldSendContentLength");function Mnt(t,e){let{method:r,path:n,host:o,upgrade:a,blocking:c,reset:l}=e,{body:u,headers:d,contentLength:A}=e,h=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Lr.isFormDataLike(u)){Sj||(Sj=ub().extractBody);let[w,_]=Sj(u);e.contentType==null&&d.push("content-type",_),u=w.stream,A=w.length}else Lr.isBlobLike(u)&&e.contentType==null&&u.type&&d.push("content-type",u.type);u&&typeof u.read=="function"&&u.read(0);let p=Lr.bodyLength(u);if(A=p??A,A===null&&(A=e.contentLength),A===0&&!h&&(A=null),Lnt(r)&&A>0&&e.contentLength!==null&&e.contentLength!==A){if(t[kj])return Lr.errorRequest(t,e,new AE),!1;process.emitWarning(new AE)}let y=t[db],E=s(w=>{e.aborted||e.completed||(Lr.errorRequest(t,e,w||new LIe),Lr.destroy(u),Lr.destroy(y,new fb("aborted")))},"abort");try{e.onConnect(E)}catch(w){Lr.errorRequest(t,e,w)}if(e.aborted)return!1;r==="HEAD"&&(y[hc]=!0),(a||r==="CONNECT")&&(y[hc]=!0),l!=null&&(y[hc]=l),t[NIe]&&y[Snt]++>=t[NIe]&&(y[hc]=!0),c&&(y[D3]=!0);let v=`${r} ${n} HTTP/1.1\r
`;if(typeof o=="string"?v+=`host: ${o}\r
`:v+=t[xnt],a?v+=`connection: upgrade\r
upgrade: ${a}\r
`:t[BQ]&&!y[hc]?v+=`connection: keep-alive\r
`:v+=`connection: close\r
`,Array.isArray(d))for(let w=0;w<d.length;w+=2){let _=d[w+0],S=d[w+1];if(Array.isArray(S))for(let D=0;D<S.length;D++)v+=`${_}: ${S[D]}\r
`;else v+=`${_}: ${S}\r
`}return kIe.sendHeaders.hasSubscribers&&kIe.sendHeaders.publish({request:e,headers:v,socket:y}),!u||p===0?PIe(E,null,t,e,y,A,v,h):Lr.isBuffer(u)?PIe(E,u,t,e,y,A,v,h):Lr.isBlobLike(u)?typeof u.stream=="function"?FIe(E,u.stream(),t,e,y,A,v,h):Unt(E,u,t,e,y,A,v,h):Lr.isStream(u)?Ont(E,u,t,e,y,A,v,h):Lr.isIterable(u)?FIe(E,u,t,e,y,A,v,h):fr(!1),!0}s(Mnt,"writeH1");function Ont(t,e,r,n,o,a,c,l){fr(a!==0||r[n0]===0,"stream body cannot be pipelined");let u=!1,d=new NQ({abort:t,socket:o,request:n,contentLength:a,client:r,expectsPayload:l,header:c}),A=s(function(E){if(!u)try{!d.write(E)&&this.pause&&this.pause()}catch(v){Lr.destroy(this,v)}},"onData"),h=s(function(){u||e.resume&&e.resume()},"onDrain"),p=s(function(){if(queueMicrotask(()=>{e.removeListener("error",y)}),!u){let E=new LIe;queueMicrotask(()=>y(E))}},"onClose"),y=s(function(E){if(!u){if(u=!0,fr(o.destroyed||o[Kg]&&r[n0]<=1),o.off("drain",h).off("error",y),e.removeListener("data",A).removeListener("end",y).removeListener("close",p),!E)try{d.end()}catch(v){E=v}d.destroy(E),E&&(E.code!=="UND_ERR_INFO"||E.message!=="reset")?Lr.destroy(e,E):Lr.destroy(e)}},"onFinished");e.on("data",A).on("end",y).on("error",y).on("close",p),e.resume&&e.resume(),o.on("drain",h).on("error",y),e.errorEmitted??e.errored?setImmediate(()=>y(e.errored)):(e.endEmitted??e.readableEnded)&&setImmediate(()=>y(null)),(e.closeEmitted??e.closed)&&setImmediate(p)}s(Ont,"writeStream");function PIe(t,e,r,n,o,a,c,l){try{e?Lr.isBuffer(e)&&(fr(a===e.byteLength,"buffer body must have content length"),o.cork(),o.write(`${c}content-length: ${a}\r
\r
`,"latin1"),o.write(e),o.uncork(),n.onBodySent(e),!l&&n.reset!==!1&&(o[hc]=!0)):a===0?o.write(`${c}content-length: 0\r
\r
`,"latin1"):(fr(a===null,"no body must not have content length"),o.write(`${c}\r
`,"latin1")),n.onRequestSent(),r[jg]()}catch(u){t(u)}}s(PIe,"writeBuffer");async function Unt(t,e,r,n,o,a,c,l){fr(a===e.size,"blob body must have content length");try{if(a!=null&&a!==e.size)throw new AE;let u=Buffer.from(await e.arrayBuffer());o.cork(),o.write(`${c}content-length: ${a}\r
\r
`,"latin1"),o.write(u),o.uncork(),n.onBodySent(u),n.onRequestSent(),!l&&n.reset!==!1&&(o[hc]=!0),r[jg]()}catch(u){t(u)}}s(Unt,"writeBlob");async function FIe(t,e,r,n,o,a,c,l){fr(a!==0||r[n0]===0,"iterator body cannot be pipelined");let u=null;function d(){if(u){let p=u;u=null,p()}}s(d,"onDrain");let A=s(()=>new Promise((p,y)=>{fr(u===null),o[au]?y(o[au]):u=p}),"waitForDrain");o.on("close",d).on("drain",d);let h=new NQ({abort:t,socket:o,request:n,contentLength:a,client:r,expectsPayload:l,header:c});try{for await(let p of e){if(o[au])throw o[au];h.write(p)||await A()}h.end()}catch(p){h.destroy(p)}finally{o.off("close",d).off("drain",d)}}s(FIe,"writeIterable");var NQ=class{static{s(this,"AsyncWriter")}constructor({abort:e,socket:r,request:n,contentLength:o,client:a,expectsPayload:c,header:l}){this.socket=r,this.request=n,this.contentLength=o,this.client=a,this.bytesWritten=0,this.expectsPayload=c,this.header=l,this.abort=e,r[Kg]=!0}write(e){let{socket:r,request:n,contentLength:o,client:a,bytesWritten:c,expectsPayload:l,header:u}=this;if(r[au])throw r[au];if(r.destroyed)return!1;let d=Buffer.byteLength(e);if(!d)return!0;if(o!==null&&c+d>o){if(a[kj])throw new AE;process.emitWarning(new AE)}r.cork(),c===0&&(!l&&n.reset!==!1&&(r[hc]=!0),o===null?r.write(`${u}transfer-encoding: chunked\r
`,"latin1"):r.write(`${u}content-length: ${o}\r
\r
`,"latin1")),o===null&&r.write(`\r
${d.toString(16)}\r
`,"latin1"),this.bytesWritten+=d;let A=r.write(e);return r.uncork(),n.onBodySent(e),A||r[Go].timeout&&r[Go].timeoutType===Ab&&r[Go].timeout.refresh&&r[Go].timeout.refresh(),A}end(){let{socket:e,contentLength:r,client:n,bytesWritten:o,expectsPayload:a,header:c,request:l}=this;if(l.onRequestSent(),e[Kg]=!1,e[au])throw e[au];if(!e.destroyed){if(o===0?a?e.write(`${c}content-length: 0\r
\r
`,"latin1"):e.write(`${c}\r
`,"latin1"):r===null&&e.write(`\r
0\r
\r
`,"latin1"),r!==null&&o!==r){if(n[kj])throw new AE;process.emitWarning(new AE)}e[Go].timeout&&e[Go].timeoutType===Ab&&e[Go].timeout.refresh&&e[Go].timeout.refresh(),n[jg]()}}destroy(e){let{socket:r,client:n,abort:o}=this;r[Kg]=!1,e&&(fr(n[n0]<=1,"pipeline should only contain this request"),o(e))}};UIe.exports=Pnt});var jIe=q((sVr,zIe)=>{"use strict";f();var cu=require("node:assert"),{pipeline:Hnt}=require("node:stream"),Bn=dn(),{RequestContentLengthMismatchError:Pj,RequestAbortedError:qIe,SocketError:N3,InformationalError:Fj}=ui(),{kUrl:QQ,kReset:FQ,kClient:hb,kRunning:LQ,kPending:qnt,kQueue:Jg,kPendingIdx:Lj,kRunningIdx:xf,kError:bf,kSocket:oa,kStrictContentLength:Gnt,kOnError:Mj,kMaxConcurrentStreams:$Ie,kHTTP2Session:vf,kResume:Xg,kSize:Vnt,kHTTPContext:Wnt}=ho(),Vh=Symbol("open streams"),GIe,VIe=!1,PQ;try{PQ=require("node:http2")}catch{PQ={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:Ynt,HTTP2_HEADER_METHOD:$nt,HTTP2_HEADER_PATH:znt,HTTP2_HEADER_SCHEME:jnt,HTTP2_HEADER_CONTENT_LENGTH:Knt,HTTP2_HEADER_EXPECT:Jnt,HTTP2_HEADER_STATUS:Xnt}}=PQ;function Znt(t){let e=[];for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let o of n)e.push(Buffer.from(r),Buffer.from(o));else e.push(Buffer.from(r),Buffer.from(n));return e}s(Znt,"parseH2Headers");async function eit(t,e){t[oa]=e,VIe||(VIe=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=PQ.connect(t[QQ],{createConnection:s(()=>e,"createConnection"),peerMaxConcurrentStreams:t[$Ie]});r[Vh]=0,r[hb]=t,r[oa]=e,Bn.addListener(r,"error",rit),Bn.addListener(r,"frameError",nit),Bn.addListener(r,"end",iit),Bn.addListener(r,"goaway",oit),Bn.addListener(r,"close",function(){let{[hb]:o}=this,{[oa]:a}=o,c=this[oa][bf]||this[bf]||new N3("closed",Bn.getSocketInfo(a));if(o[vf]=null,o.destroyed){cu(o[qnt]===0);let l=o[Jg].splice(o[xf]);for(let u=0;u<l.length;u++){let d=l[u];Bn.errorRequest(o,d,c)}}}),r.unref(),t[vf]=r,e[vf]=r,Bn.addListener(e,"error",function(o){cu(o.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[bf]=o,this[hb][Mj](o)}),Bn.addListener(e,"end",function(){Bn.destroy(this,new N3("other side closed",Bn.getSocketInfo(this)))}),Bn.addListener(e,"close",function(){let o=this[bf]||new N3("closed",Bn.getSocketInfo(this));t[oa]=null,this[vf]!=null&&this[vf].destroy(o),t[Lj]=t[xf],cu(t[LQ]===0),t.emit("disconnect",t[QQ],[t],o),t[Xg]()});let n=!1;return e.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...o){return ait(t,...o)},resume(){tit(t)},destroy(o,a){n?queueMicrotask(a):e.destroy(o).on("close",a)},get destroyed(){return e.destroyed},busy(){return!1}}}s(eit,"connectH2");function tit(t){let e=t[oa];e?.destroyed===!1&&(t[Vnt]===0&&t[$Ie]===0?(e.unref(),t[vf].unref()):(e.ref(),t[vf].ref()))}s(tit,"resumeH2");function rit(t){cu(t.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[oa][bf]=t,this[hb][Mj](t)}s(rit,"onHttp2SessionError");function nit(t,e,r){if(r===0){let n=new Fj(`HTTP/2: "frameError" received - type ${t}, code ${e}`);this[oa][bf]=n,this[hb][Mj](n)}}s(nit,"onHttp2FrameError");function iit(){let t=new N3("other side closed",Bn.getSocketInfo(this[oa]));this.destroy(t),Bn.destroy(this[oa],t)}s(iit,"onHttp2SessionEnd");function oit(t){let e=this[bf]||new N3(`HTTP/2: "GOAWAY" frame received with code ${t}`,Bn.getSocketInfo(this)),r=this[hb];if(r[oa]=null,r[Wnt]=null,this[vf]!=null&&(this[vf].destroy(e),this[vf]=null),Bn.destroy(this[oa],e),r[xf]<r[Jg].length){let n=r[Jg][r[xf]];r[Jg][r[xf]++]=null,Bn.errorRequest(r,n,e),r[Lj]=r[xf]}cu(r[LQ]===0),r.emit("disconnect",r[QQ],[r],e),r[Xg]()}s(oit,"onHTTP2GoAway");function sit(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}s(sit,"shouldSendContentLength");function ait(t,e){let r=t[vf],{method:n,path:o,host:a,upgrade:c,expectContinue:l,signal:u,headers:d}=e,{body:A}=e;if(c)return Bn.errorRequest(t,e,new Error("Upgrade not supported for H2")),!1;let h={};for(let N=0;N<d.length;N+=2){let P=d[N+0],O=d[N+1];if(Array.isArray(O))for(let $=0;$<O.length;$++)h[P]?h[P]+=`,${O[$]}`:h[P]=O[$];else h[P]=O}let p,{hostname:y,port:E}=t[QQ];h[Ynt]=a||`${y}${E?`:${E}`:""}`,h[$nt]=n;let v=s(N=>{e.aborted||e.completed||(N=N||new qIe,Bn.errorRequest(t,e,N),p!=null&&Bn.destroy(p,N),Bn.destroy(A,N),t[Jg][t[xf]++]=null,t[Xg]())},"abort");try{e.onConnect(v)}catch(N){Bn.errorRequest(t,e,N)}if(e.aborted)return!1;if(n==="CONNECT")return r.ref(),p=r.request(h,{endStream:!1,signal:u}),p.id&&!p.pending?(e.onUpgrade(null,null,p),++r[Vh],t[Jg][t[xf]++]=null):p.once("ready",()=>{e.onUpgrade(null,null,p),++r[Vh],t[Jg][t[xf]++]=null}),p.once("close",()=>{r[Vh]-=1,r[Vh]===0&&r.unref()}),!0;h[znt]=o,h[jnt]="https";let w=n==="PUT"||n==="POST"||n==="PATCH";A&&typeof A.read=="function"&&A.read(0);let _=Bn.bodyLength(A);if(Bn.isFormDataLike(A)){GIe??=ub().extractBody;let[N,P]=GIe(A);h["content-type"]=P,A=N.stream,_=N.length}if(_==null&&(_=e.contentLength),(_===0||!w)&&(_=null),sit(n)&&_>0&&e.contentLength!=null&&e.contentLength!==_){if(t[Gnt])return Bn.errorRequest(t,e,new Pj),!1;process.emitWarning(new Pj)}_!=null&&(cu(A,"no body must not have content length"),h[Knt]=`${_}`),r.ref();let S=n==="GET"||n==="HEAD"||A===null;return l?(h[Jnt]="100-continue",p=r.request(h,{endStream:S,signal:u}),p.once("continue",D)):(p=r.request(h,{endStream:S,signal:u}),D()),++r[Vh],p.once("response",N=>{let{[Xnt]:P,...O}=N;if(e.onResponseStarted(),e.aborted){let $=new qIe;Bn.errorRequest(t,e,$),Bn.destroy(p,$);return}e.onHeaders(Number(P),Znt(O),p.resume.bind(p),"")===!1&&p.pause(),p.on("data",$=>{e.onData($)===!1&&p.pause()})}),p.once("end",()=>{(p.state?.state==null||p.state.state<6)&&e.onComplete([]),r[Vh]===0&&r.unref(),v(new Fj("HTTP/2: stream half-closed (remote)")),t[Jg][t[xf]++]=null,t[Lj]=t[xf],t[Xg]()}),p.once("close",()=>{r[Vh]-=1,r[Vh]===0&&r.unref()}),p.once("error",function(N){v(N)}),p.once("frameError",(N,P)=>{v(new Fj(`HTTP/2: "frameError" received - type ${N}, code ${P}`))}),!0;function D(){!A||_===0?WIe(v,p,null,t,e,t[oa],_,w):Bn.isBuffer(A)?WIe(v,p,A,t,e,t[oa],_,w):Bn.isBlobLike(A)?typeof A.stream=="function"?YIe(v,p,A.stream(),t,e,t[oa],_,w):lit(v,p,A,t,e,t[oa],_,w):Bn.isStream(A)?cit(v,t[oa],w,p,A,t,e,_):Bn.isIterable(A)?YIe(v,p,A,t,e,t[oa],_,w):cu(!1)}s(D,"writeBodyH2")}s(ait,"writeH2");function WIe(t,e,r,n,o,a,c,l){try{r!=null&&Bn.isBuffer(r)&&(cu(c===r.byteLength,"buffer body must have content length"),e.cork(),e.write(r),e.uncork(),e.end(),o.onBodySent(r)),l||(a[FQ]=!0),o.onRequestSent(),n[Xg]()}catch(u){t(u)}}s(WIe,"writeBuffer");function cit(t,e,r,n,o,a,c,l){cu(l!==0||a[LQ]===0,"stream body cannot be pipelined");let u=Hnt(o,n,A=>{A?(Bn.destroy(u,A),t(A)):(Bn.removeAllListeners(u),c.onRequestSent(),r||(e[FQ]=!0),a[Xg]())});Bn.addListener(u,"data",d);function d(A){c.onBodySent(A)}s(d,"onPipeData")}s(cit,"writeStream");async function lit(t,e,r,n,o,a,c,l){cu(c===r.size,"blob body must have content length");try{if(c!=null&&c!==r.size)throw new Pj;let u=Buffer.from(await r.arrayBuffer());e.cork(),e.write(u),e.uncork(),e.end(),o.onBodySent(u),o.onRequestSent(),l||(a[FQ]=!0),n[Xg]()}catch(u){t(u)}}s(lit,"writeBlob");async function YIe(t,e,r,n,o,a,c,l){cu(c!==0||n[LQ]===0,"iterator body cannot be pipelined");let u=null;function d(){if(u){let h=u;u=null,h()}}s(d,"onDrain");let A=s(()=>new Promise((h,p)=>{cu(u===null),a[bf]?p(a[bf]):u=h}),"waitForDrain");e.on("close",d).on("drain",d);try{for await(let h of r){if(a[bf])throw a[bf];let p=e.write(h);o.onBodySent(h),p||await A()}e.end(),o.onRequestSent(),l||(a[FQ]=!0),n[Xg]()}catch(h){t(h)}finally{e.off("close",d).off("drain",d)}}s(YIe,"writeIterable");zIe.exports=eit});var OQ=q((lVr,XIe)=>{"use strict";f();var rA=dn(),{kBodyUsed:Q3}=ho(),Uj=require("node:assert"),{InvalidArgumentError:uit}=ui(),fit=require("node:events"),dit=[300,301,302,303,307,308],KIe=Symbol("body"),MQ=class{static{s(this,"BodyAsyncIterable")}constructor(e){this[KIe]=e,this[Q3]=!1}async*[Symbol.asyncIterator](){Uj(!this[Q3],"disturbed"),this[Q3]=!0,yield*this[KIe]}},Oj=class{static{s(this,"RedirectHandler")}constructor(e,r,n,o){if(r!=null&&(!Number.isInteger(r)||r<0))throw new uit("maxRedirections must be a positive number");rA.validateHandler(o,n.method,n.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=o,this.history=[],this.redirectionLimitReached=!1,rA.isStream(this.opts.body)?(rA.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){Uj(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[Q3]=!1,fit.prototype.on.call(this.opts.body,"data",function(){this[Q3]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new MQ(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&rA.isIterable(this.opts.body)&&(this.opts.body=new MQ(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,r,n){this.handler.onUpgrade(e,r,n)}onError(e){this.handler.onError(e)}onHeaders(e,r,n,o){if(this.location=this.history.length>=this.maxRedirections||rA.isDisturbed(this.opts.body)?null:Ait(e,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,r,n,o);let{origin:a,pathname:c,search:l}=rA.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),u=l?`${c}${l}`:c;this.opts.headers=hit(this.opts.headers,e===303,this.opts.origin!==a),this.opts.path=u,this.opts.origin=a,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function Ait(t,e){if(dit.indexOf(t)===-1)return null;for(let r=0;r<e.length;r+=2)if(e[r].length===8&&rA.headerNameToString(e[r])==="location")return e[r+1]}s(Ait,"parseLocation");function JIe(t,e,r){if(t.length===4)return rA.headerNameToString(t)==="host";if(e&&rA.headerNameToString(t).startsWith("content-"))return!0;if(r&&(t.length===13||t.length===6||t.length===19)){let n=rA.headerNameToString(t);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}s(JIe,"shouldRemoveHeader");function hit(t,e,r){let n=[];if(Array.isArray(t))for(let o=0;o<t.length;o+=2)JIe(t[o],e,r)||n.push(t[o],t[o+1]);else if(t&&typeof t=="object")for(let o of Object.keys(t))JIe(o,e,r)||n.push(o,t[o]);else Uj(t==null,"headers must be an object or an array");return n}s(hit,"cleanRequestHeaders");XIe.exports=Oj});var UQ=q((dVr,ZIe)=>{"use strict";f();var pit=OQ();function mit({maxRedirections:t}){return e=>s(function(n,o){let{maxRedirections:a=t}=n;if(!a)return e(n,o);let c=new pit(e,a,n,o);return n={...n,maxRedirections:0},e(n,c)},"Intercept")}s(mit,"createRedirectInterceptor");ZIe.exports=mit});var H3=q((pVr,l2e)=>{"use strict";f();var Wh=require("node:assert"),o2e=require("node:net"),git=require("node:http"),hE=dn(),{channels:pb}=Jv(),yit=mEe(),Cit=tb(),{InvalidArgumentError:os,InformationalError:Eit,ClientDestroyedError:Iit}=ui(),xit=I3(),{kUrl:nA,kServerName:Zg,kClient:vit,kBusy:Hj,kConnect:bit,kResuming:pE,kRunning:O3,kPending:U3,kSize:M3,kQueue:Tf,kConnected:Tit,kConnecting:mb,kNeedDrain:t1,kKeepAliveDefaultTimeout:e2e,kHostHeader:_it,kPendingIdx:_f,kRunningIdx:Yh,kError:wit,kPipelining:HQ,kKeepAliveTimeoutValue:Sit,kMaxHeadersSize:Bit,kKeepAliveMaxTimeout:Rit,kKeepAliveTimeoutThreshold:kit,kHeadersTimeout:Dit,kBodyTimeout:Nit,kStrictContentLength:Qit,kConnector:P3,kMaxRedirections:Pit,kMaxRequests:qj,kCounter:Fit,kClose:Lit,kDestroy:Mit,kDispatch:Oit,kInterceptors:t2e,kLocalAddress:F3,kMaxResponseSize:Uit,kOnError:Hit,kHTTPContext:ss,kMaxConcurrentStreams:qit,kResume:L3}=ho(),Git=HIe(),Vit=jIe(),r2e=!1,e1=Symbol("kClosedResolve"),n2e=s(()=>{},"noop");function s2e(t){return t[HQ]??t[ss]?.defaultPipelining??1}s(s2e,"getPipelining");var Gj=class extends Cit{static{s(this,"Client")}constructor(e,{interceptors:r,maxHeaderSize:n,headersTimeout:o,socketTimeout:a,requestTimeout:c,connectTimeout:l,bodyTimeout:u,idleTimeout:d,keepAlive:A,keepAliveTimeout:h,maxKeepAliveTimeout:p,keepAliveMaxTimeout:y,keepAliveTimeoutThreshold:E,socketPath:v,pipelining:w,tls:_,strictContentLength:S,maxCachedSessions:D,maxRedirections:N,connect:P,maxRequestsPerClient:O,localAddress:$,maxResponseSize:ne,autoSelectFamily:oe,autoSelectFamilyAttemptTimeout:Ae,maxConcurrentStreams:Y,allowH2:K}={}){if(super(),A!==void 0)throw new os("unsupported keepAlive, use pipelining=0 instead");if(a!==void 0)throw new os("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(c!==void 0)throw new os("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(d!==void 0)throw new os("unsupported idleTimeout, use keepAliveTimeout instead");if(p!==void 0)throw new os("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new os("invalid maxHeaderSize");if(v!=null&&typeof v!="string")throw new os("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new os("invalid connectTimeout");if(h!=null&&(!Number.isFinite(h)||h<=0))throw new os("invalid keepAliveTimeout");if(y!=null&&(!Number.isFinite(y)||y<=0))throw new os("invalid keepAliveMaxTimeout");if(E!=null&&!Number.isFinite(E))throw new os("invalid keepAliveTimeoutThreshold");if(o!=null&&(!Number.isInteger(o)||o<0))throw new os("headersTimeout must be a positive integer or zero");if(u!=null&&(!Number.isInteger(u)||u<0))throw new os("bodyTimeout must be a positive integer or zero");if(P!=null&&typeof P!="function"&&typeof P!="object")throw new os("connect must be a function or an object");if(N!=null&&(!Number.isInteger(N)||N<0))throw new os("maxRedirections must be a positive number");if(O!=null&&(!Number.isInteger(O)||O<0))throw new os("maxRequestsPerClient must be a positive number");if($!=null&&(typeof $!="string"||o2e.isIP($)===0))throw new os("localAddress must be valid string IP address");if(ne!=null&&(!Number.isInteger(ne)||ne<-1))throw new os("maxResponseSize must be a positive number");if(Ae!=null&&(!Number.isInteger(Ae)||Ae<-1))throw new os("autoSelectFamilyAttemptTimeout must be a positive number");if(K!=null&&typeof K!="boolean")throw new os("allowH2 must be a valid boolean value");if(Y!=null&&(typeof Y!="number"||Y<1))throw new os("maxConcurrentStreams must be a positive integer, greater than 0");typeof P!="function"&&(P=xit({..._,maxCachedSessions:D,allowH2:K,socketPath:v,timeout:l,...oe?{autoSelectFamily:oe,autoSelectFamilyAttemptTimeout:Ae}:void 0,...P})),r?.Client&&Array.isArray(r.Client)?(this[t2e]=r.Client,r2e||(r2e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[t2e]=[Wit({maxRedirections:N})],this[nA]=hE.parseOrigin(e),this[P3]=P,this[HQ]=w??1,this[Bit]=n||git.maxHeaderSize,this[e2e]=h??4e3,this[Rit]=y??6e5,this[kit]=E??2e3,this[Sit]=this[e2e],this[Zg]=null,this[F3]=$??null,this[pE]=0,this[t1]=0,this[_it]=`host: ${this[nA].hostname}${this[nA].port?`:${this[nA].port}`:""}\r
`,this[Nit]=u??3e5,this[Dit]=o??3e5,this[Qit]=S??!0,this[Pit]=N,this[qj]=O,this[e1]=null,this[Uit]=ne>-1?ne:-1,this[qit]=Y??100,this[ss]=null,this[Tf]=[],this[Yh]=0,this[_f]=0,this[L3]=xe=>Vj(this,xe),this[Hit]=xe=>a2e(this,xe)}get pipelining(){return this[HQ]}set pipelining(e){this[HQ]=e,this[L3](!0)}get[U3](){return this[Tf].length-this[_f]}get[O3](){return this[_f]-this[Yh]}get[M3](){return this[Tf].length-this[Yh]}get[Tit](){return!!this[ss]&&!this[mb]&&!this[ss].destroyed}get[Hj](){return!!(this[ss]?.busy(null)||this[M3]>=(s2e(this)||1)||this[U3]>0)}[bit](e){c2e(this),this.once("connect",e)}[Oit](e,r){let n=e.origin||this[nA].origin,o=new yit(n,e,r);return this[Tf].push(o),this[pE]||(hE.bodyLength(o.body)==null&&hE.isIterable(o.body)?(this[pE]=1,queueMicrotask(()=>Vj(this))):this[L3](!0)),this[pE]&&this[t1]!==2&&this[Hj]&&(this[t1]=2),this[t1]<2}async[Lit](){return new Promise(e=>{this[M3]?this[e1]=e:e(null)})}async[Mit](e){return new Promise(r=>{let n=this[Tf].splice(this[_f]);for(let a=0;a<n.length;a++){let c=n[a];hE.errorRequest(this,c,e)}let o=s(()=>{this[e1]&&(this[e1](),this[e1]=null),r(null)},"callback");this[ss]?(this[ss].destroy(e,o),this[ss]=null):queueMicrotask(o),this[L3]()})}},Wit=UQ();function a2e(t,e){if(t[O3]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){Wh(t[_f]===t[Yh]);let r=t[Tf].splice(t[Yh]);for(let n=0;n<r.length;n++){let o=r[n];hE.errorRequest(t,o,e)}Wh(t[M3]===0)}}s(a2e,"onError");async function c2e(t){Wh(!t[mb]),Wh(!t[ss]);let{host:e,hostname:r,protocol:n,port:o}=t[nA];if(r[0]==="["){let a=r.indexOf("]");Wh(a!==-1);let c=r.substring(1,a);Wh(o2e.isIP(c)),r=c}t[mb]=!0,pb.beforeConnect.hasSubscribers&&pb.beforeConnect.publish({connectParams:{host:e,hostname:r,protocol:n,port:o,version:t[ss]?.version,servername:t[Zg],localAddress:t[F3]},connector:t[P3]});try{let a=await new Promise((c,l)=>{t[P3]({host:e,hostname:r,protocol:n,port:o,servername:t[Zg],localAddress:t[F3]},(u,d)=>{u?l(u):c(d)})});if(t.destroyed){hE.destroy(a.on("error",n2e),new Iit);return}Wh(a);try{t[ss]=a.alpnProtocol==="h2"?await Vit(t,a):await Git(t,a)}catch(c){throw a.destroy().on("error",n2e),c}t[mb]=!1,a[Fit]=0,a[qj]=t[qj],a[vit]=t,a[wit]=null,pb.connected.hasSubscribers&&pb.connected.publish({connectParams:{host:e,hostname:r,protocol:n,port:o,version:t[ss]?.version,servername:t[Zg],localAddress:t[F3]},connector:t[P3],socket:a}),t.emit("connect",t[nA],[t])}catch(a){if(t.destroyed)return;if(t[mb]=!1,pb.connectError.hasSubscribers&&pb.connectError.publish({connectParams:{host:e,hostname:r,protocol:n,port:o,version:t[ss]?.version,servername:t[Zg],localAddress:t[F3]},connector:t[P3],error:a}),a.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(Wh(t[O3]===0);t[U3]>0&&t[Tf][t[_f]].servername===t[Zg];){let c=t[Tf][t[_f]++];hE.errorRequest(t,c,a)}else a2e(t,a);t.emit("connectionError",t[nA],[t],a)}t[L3]()}s(c2e,"connect");function i2e(t){t[t1]=0,t.emit("drain",t[nA],[t])}s(i2e,"emitDrain");function Vj(t,e){t[pE]!==2&&(t[pE]=2,Yit(t,e),t[pE]=0,t[Yh]>256&&(t[Tf].splice(0,t[Yh]),t[_f]-=t[Yh],t[Yh]=0))}s(Vj,"resume");function Yit(t,e){for(;;){if(t.destroyed){Wh(t[U3]===0);return}if(t[e1]&&!t[M3]){t[e1](),t[e1]=null;return}if(t[ss]&&t[ss].resume(),t[Hj])t[t1]=2;else if(t[t1]===2){e?(t[t1]=1,queueMicrotask(()=>i2e(t))):i2e(t);continue}if(t[U3]===0||t[O3]>=(s2e(t)||1))return;let r=t[Tf][t[_f]];if(t[nA].protocol==="https:"&&t[Zg]!==r.servername){if(t[O3]>0)return;t[Zg]=r.servername,t[ss]?.destroy(new Eit("servername changed"),()=>{t[ss]=null,Vj(t)})}if(t[mb])return;if(!t[ss]){c2e(t);return}if(t[ss].destroyed||t[ss].busy(r))return;!r.aborted&&t[ss].write(r)?t[_f]++:t[Tf].splice(t[_f],1)}}s(Yit,"_resume");l2e.exports=Gj});var Wj=q((CVr,u2e)=>{"use strict";f();var qQ=class{static{s(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};u2e.exports=class{static{s(this,"FixedQueue")}constructor(){this.head=this.tail=new qQ}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new qQ),this.head.push(e)}shift(){let e=this.tail,r=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),r}}});var d2e=q((xVr,f2e)=>{f();var{kFree:$it,kConnected:zit,kPending:jit,kQueued:Kit,kRunning:Jit,kSize:Xit}=ho(),mE=Symbol("pool"),Yj=class{static{s(this,"PoolStats")}constructor(e){this[mE]=e}get connected(){return this[mE][zit]}get free(){return this[mE][$it]}get pending(){return this[mE][jit]}get queued(){return this[mE][Kit]}get running(){return this[mE][Jit]}get size(){return this[mE][Xit]}};f2e.exports=Yj});var Xj=q((TVr,x2e)=>{"use strict";f();var Zit=tb(),eot=Wj(),{kConnected:$j,kSize:A2e,kRunning:h2e,kPending:p2e,kQueued:q3,kBusy:tot,kFree:rot,kUrl:not,kClose:iot,kDestroy:oot,kDispatch:sot}=ho(),aot=d2e(),pc=Symbol("clients"),w0=Symbol("needDrain"),G3=Symbol("queue"),zj=Symbol("closed resolve"),jj=Symbol("onDrain"),m2e=Symbol("onConnect"),g2e=Symbol("onDisconnect"),y2e=Symbol("onConnectionError"),Kj=Symbol("get dispatcher"),E2e=Symbol("add client"),I2e=Symbol("remove client"),C2e=Symbol("stats"),Jj=class extends Zit{static{s(this,"PoolBase")}constructor(){super(),this[G3]=new eot,this[pc]=[],this[q3]=0;let e=this;this[jj]=s(function(n,o){let a=e[G3],c=!1;for(;!c;){let l=a.shift();if(!l)break;e[q3]--,c=!this.dispatch(l.opts,l.handler)}this[w0]=c,!this[w0]&&e[w0]&&(e[w0]=!1,e.emit("drain",n,[e,...o])),e[zj]&&a.isEmpty()&&Promise.all(e[pc].map(l=>l.close())).then(e[zj])},"onDrain"),this[m2e]=(r,n)=>{e.emit("connect",r,[e,...n])},this[g2e]=(r,n,o)=>{e.emit("disconnect",r,[e,...n],o)},this[y2e]=(r,n,o)=>{e.emit("connectionError",r,[e,...n],o)},this[C2e]=new aot(this)}get[tot](){return this[w0]}get[$j](){return this[pc].filter(e=>e[$j]).length}get[rot](){return this[pc].filter(e=>e[$j]&&!e[w0]).length}get[p2e](){let e=this[q3];for(let{[p2e]:r}of this[pc])e+=r;return e}get[h2e](){let e=0;for(let{[h2e]:r}of this[pc])e+=r;return e}get[A2e](){let e=this[q3];for(let{[A2e]:r}of this[pc])e+=r;return e}get stats(){return this[C2e]}async[iot](){this[G3].isEmpty()?await Promise.all(this[pc].map(e=>e.close())):await new Promise(e=>{this[zj]=e})}async[oot](e){for(;;){let r=this[G3].shift();if(!r)break;r.handler.onError(e)}await Promise.all(this[pc].map(r=>r.destroy(e)))}[sot](e,r){let n=this[Kj]();return n?n.dispatch(e,r)||(n[w0]=!0,this[w0]=!this[Kj]()):(this[w0]=!0,this[G3].push({opts:e,handler:r}),this[q3]++),!this[w0]}[E2e](e){return e.on("drain",this[jj]).on("connect",this[m2e]).on("disconnect",this[g2e]).on("connectionError",this[y2e]),this[pc].push(e),this[w0]&&queueMicrotask(()=>{this[w0]&&this[jj](e[not],[this,e])}),this}[I2e](e){e.close(()=>{let r=this[pc].indexOf(e);r!==-1&&this[pc].splice(r,1)}),this[w0]=this[pc].some(r=>!r[w0]&&r.closed!==!0&&r.destroyed!==!0)}};x2e.exports={PoolBase:Jj,kClients:pc,kNeedDrain:w0,kAddClient:E2e,kRemoveClient:I2e,kGetDispatcher:Kj}});var gb=q((SVr,_2e)=>{"use strict";f();var{PoolBase:cot,kClients:GQ,kNeedDrain:lot,kAddClient:uot,kGetDispatcher:fot}=Xj(),dot=H3(),{InvalidArgumentError:Zj}=ui(),v2e=dn(),{kUrl:b2e,kInterceptors:Aot}=ho(),hot=I3(),eK=Symbol("options"),tK=Symbol("connections"),T2e=Symbol("factory");function pot(t,e){return new dot(t,e)}s(pot,"defaultFactory");var rK=class extends cot{static{s(this,"Pool")}constructor(e,{connections:r,factory:n=pot,connect:o,connectTimeout:a,tls:c,maxCachedSessions:l,socketPath:u,autoSelectFamily:d,autoSelectFamilyAttemptTimeout:A,allowH2:h,...p}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new Zj("invalid connections");if(typeof n!="function")throw new Zj("factory must be a function.");if(o!=null&&typeof o!="function"&&typeof o!="object")throw new Zj("connect must be a function or an object");typeof o!="function"&&(o=hot({...c,maxCachedSessions:l,allowH2:h,socketPath:u,timeout:a,...d?{autoSelectFamily:d,autoSelectFamilyAttemptTimeout:A}:void 0,...o})),this[Aot]=p.interceptors?.Pool&&Array.isArray(p.interceptors.Pool)?p.interceptors.Pool:[],this[tK]=r||null,this[b2e]=v2e.parseOrigin(e),this[eK]={...v2e.deepClone(p),connect:o,allowH2:h},this[eK].interceptors=p.interceptors?{...p.interceptors}:void 0,this[T2e]=n,this.on("connectionError",(y,E,v)=>{for(let w of E){let _=this[GQ].indexOf(w);_!==-1&&this[GQ].splice(_,1)}})}[fot](){for(let e of this[GQ])if(!e[lot])return e;if(!this[tK]||this[GQ].length<this[tK]){let e=this[T2e](this[b2e],this[eK]);return this[uot](e),e}}};_2e.exports=rK});var k2e=q((kVr,R2e)=>{"use strict";f();var{BalancedPoolMissingUpstreamError:mot,InvalidArgumentError:got}=ui(),{PoolBase:yot,kClients:i0,kNeedDrain:V3,kAddClient:Cot,kRemoveClient:Eot,kGetDispatcher:Iot}=Xj(),xot=gb(),{kUrl:nK,kInterceptors:vot}=ho(),{parseOrigin:w2e}=dn(),S2e=Symbol("factory"),VQ=Symbol("options"),B2e=Symbol("kGreatestCommonDivisor"),gE=Symbol("kCurrentWeight"),yE=Symbol("kIndex"),lu=Symbol("kWeight"),WQ=Symbol("kMaxWeightPerServer"),YQ=Symbol("kErrorPenalty");function bot(t,e){if(t===0)return e;for(;e!==0;){let r=e;e=t%e,t=r}return t}s(bot,"getGreatestCommonDivisor");function Tot(t,e){return new xot(t,e)}s(Tot,"defaultFactory");var iK=class extends yot{static{s(this,"BalancedPool")}constructor(e=[],{factory:r=Tot,...n}={}){if(super(),this[VQ]=n,this[yE]=-1,this[gE]=0,this[WQ]=this[VQ].maxWeightPerServer||100,this[YQ]=this[VQ].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof r!="function")throw new got("factory must be a function.");this[vot]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[S2e]=r;for(let o of e)this.addUpstream(o);this._updateBalancedPoolStats()}addUpstream(e){let r=w2e(e).origin;if(this[i0].find(o=>o[nK].origin===r&&o.closed!==!0&&o.destroyed!==!0))return this;let n=this[S2e](r,Object.assign({},this[VQ]));this[Cot](n),n.on("connect",()=>{n[lu]=Math.min(this[WQ],n[lu]+this[YQ])}),n.on("connectionError",()=>{n[lu]=Math.max(1,n[lu]-this[YQ]),this._updateBalancedPoolStats()}),n.on("disconnect",(...o)=>{let a=o[2];a&&a.code==="UND_ERR_SOCKET"&&(n[lu]=Math.max(1,n[lu]-this[YQ]),this._updateBalancedPoolStats())});for(let o of this[i0])o[lu]=this[WQ];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let e=0;for(let r=0;r<this[i0].length;r++)e=bot(this[i0][r][lu],e);this[B2e]=e}removeUpstream(e){let r=w2e(e).origin,n=this[i0].find(o=>o[nK].origin===r&&o.closed!==!0&&o.destroyed!==!0);return n&&this[Eot](n),this}get upstreams(){return this[i0].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[nK].origin)}[Iot](){if(this[i0].length===0)throw new mot;if(!this[i0].find(a=>!a[V3]&&a.closed!==!0&&a.destroyed!==!0)||this[i0].map(a=>a[V3]).reduce((a,c)=>a&&c,!0))return;let n=0,o=this[i0].findIndex(a=>!a[V3]);for(;n++<this[i0].length;){this[yE]=(this[yE]+1)%this[i0].length;let a=this[i0][this[yE]];if(a[lu]>this[i0][o][lu]&&!a[V3]&&(o=this[yE]),this[yE]===0&&(this[gE]=this[gE]-this[B2e],this[gE]<=0&&(this[gE]=this[WQ])),a[lu]>=this[gE]&&!a[V3])return a}return this[gE]=this[i0][o][lu],this[yE]=o,this[i0][o]}};R2e.exports=iK});var yb=q((QVr,M2e)=>{"use strict";f();var{InvalidArgumentError:$Q}=ui(),{kClients:r1,kRunning:D2e,kClose:_ot,kDestroy:wot,kDispatch:Sot,kInterceptors:Bot}=ho(),Rot=tb(),kot=gb(),Dot=H3(),Not=dn(),Qot=UQ(),N2e=Symbol("onConnect"),Q2e=Symbol("onDisconnect"),P2e=Symbol("onConnectionError"),Pot=Symbol("maxRedirections"),F2e=Symbol("onDrain"),L2e=Symbol("factory"),oK=Symbol("options");function Fot(t,e){return e&&e.connections===1?new Dot(t,e):new kot(t,e)}s(Fot,"defaultFactory");var sK=class extends Rot{static{s(this,"Agent")}constructor({factory:e=Fot,maxRedirections:r=0,connect:n,...o}={}){if(super(),typeof e!="function")throw new $Q("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new $Q("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new $Q("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[Bot]=o.interceptors?.Agent&&Array.isArray(o.interceptors.Agent)?o.interceptors.Agent:[Qot({maxRedirections:r})],this[oK]={...Not.deepClone(o),connect:n},this[oK].interceptors=o.interceptors?{...o.interceptors}:void 0,this[Pot]=r,this[L2e]=e,this[r1]=new Map,this[F2e]=(a,c)=>{this.emit("drain",a,[this,...c])},this[N2e]=(a,c)=>{this.emit("connect",a,[this,...c])},this[Q2e]=(a,c,l)=>{this.emit("disconnect",a,[this,...c],l)},this[P2e]=(a,c,l)=>{this.emit("connectionError",a,[this,...c],l)}}get[D2e](){let e=0;for(let r of this[r1].values())e+=r[D2e];return e}[Sot](e,r){let n;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))n=String(e.origin);else throw new $Q("opts.origin must be a non-empty string or URL.");let o=this[r1].get(n);return o||(o=this[L2e](e.origin,this[oK]).on("drain",this[F2e]).on("connect",this[N2e]).on("disconnect",this[Q2e]).on("connectionError",this[P2e]),this[r1].set(n,o)),o.dispatch(e,r)}async[_ot](){let e=[];for(let r of this[r1].values())e.push(r.close());this[r1].clear(),await Promise.all(e)}async[wot](e){let r=[];for(let n of this[r1].values())r.push(n.destroy(e));this[r1].clear(),await Promise.all(r)}};M2e.exports=sK});var lK=q((LVr,q2e)=>{"use strict";f();var{kProxy:Lot,kClose:Mot,kDestroy:Oot,kInterceptors:Uot}=ho(),{URL:W3}=require("node:url"),Hot=yb(),qot=gb(),Got=tb(),{InvalidArgumentError:KQ,RequestAbortedError:Vot,SecureProxyConnectionError:Wot}=ui(),O2e=I3(),zQ=Symbol("proxy agent"),jQ=Symbol("proxy client"),Y3=Symbol("proxy headers"),aK=Symbol("request tls settings"),U2e=Symbol("proxy tls settings"),H2e=Symbol("connect endpoint function");function Yot(t){return t==="https:"?443:80}s(Yot,"defaultProtocolPort");function $ot(t,e){return new qot(t,e)}s($ot,"defaultFactory");var zot=s(()=>{},"noop"),cK=class extends Got{static{s(this,"ProxyAgent")}constructor(e){if(super(),!e||typeof e=="object"&&!(e instanceof W3)&&!e.uri)throw new KQ("Proxy uri is mandatory");let{clientFactory:r=$ot}=e;if(typeof r!="function")throw new KQ("Proxy opts.clientFactory must be a function.");let n=this.#e(e),{href:o,origin:a,port:c,protocol:l,username:u,password:d,hostname:A}=n;if(this[Lot]={uri:o,protocol:l},this[Uot]=e.interceptors?.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],this[aK]=e.requestTls,this[U2e]=e.proxyTls,this[Y3]=e.headers||{},e.auth&&e.token)throw new KQ("opts.auth cannot be used in combination with opts.token");e.auth?this[Y3]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[Y3]["proxy-authorization"]=e.token:u&&d&&(this[Y3]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(u)}:${decodeURIComponent(d)}`).toString("base64")}`);let h=O2e({...e.proxyTls});this[H2e]=O2e({...e.requestTls}),this[jQ]=r(n,{connect:h}),this[zQ]=new Hot({...e,connect:s(async(p,y)=>{let E=p.host;p.port||(E+=`:${Yot(p.protocol)}`);try{let{socket:v,statusCode:w}=await this[jQ].connect({origin:a,port:c,path:E,signal:p.signal,headers:{...this[Y3],host:p.host},servername:this[U2e]?.servername||A});if(w!==200&&(v.on("error",zot).destroy(),y(new Vot(`Proxy response (${w}) !== 200 when HTTP Tunneling`))),p.protocol!=="https:"){y(null,v);return}let _;this[aK]?_=this[aK].servername:_=p.servername,this[H2e]({...p,servername:_,httpSocket:v},y)}catch(v){v.code==="ERR_TLS_CERT_ALTNAME_INVALID"?y(new Wot(v)):y(v)}},"connect")})}dispatch(e,r){let n=jot(e.headers);if(Kot(n),n&&!("host"in n)&&!("Host"in n)){let{host:o}=new W3(e.origin);n.host=o}return this[zQ].dispatch({...e,headers:n},r)}#e(e){return typeof e=="string"?new W3(e):e instanceof W3?e:new W3(e.uri)}async[Mot](){await this[zQ].close(),await this[jQ].close()}async[Oot](){await this[zQ].destroy(),await this[jQ].destroy()}};function jot(t){if(Array.isArray(t)){let e={};for(let r=0;r<t.length;r+=2)e[t[r]]=t[r+1];return e}return t}s(jot,"buildHeaders");function Kot(t){if(t&&Object.keys(t).find(r=>r.toLowerCase()==="proxy-authorization"))throw new KQ("Proxy-Authorization should be sent in ProxyAgent constructor")}s(Kot,"throwIfProxyAuthIsSent");q2e.exports=cK});var z2e=q((UVr,$2e)=>{"use strict";f();var Jot=tb(),{kClose:Xot,kDestroy:Zot,kClosed:G2e,kDestroyed:V2e,kDispatch:est,kNoProxyAgent:$3,kHttpProxyAgent:n1,kHttpsProxyAgent:CE}=ho(),W2e=lK(),tst=yb(),rst={"http:":80,"https:":443},Y2e=!1,uK=class extends Jot{static{s(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(e={}){super(),this.#i=e,Y2e||(Y2e=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:o,...a}=e;this[$3]=new tst(a);let c=r??process.env.http_proxy??process.env.HTTP_PROXY;c?this[n1]=new W2e({...a,uri:c}):this[n1]=this[$3];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[CE]=new W2e({...a,uri:l}):this[CE]=this[n1],this.#o()}[est](e,r){let n=new URL(e.origin);return this.#n(n).dispatch(e,r)}async[Xot](){await this[$3].close(),this[n1][G2e]||await this[n1].close(),this[CE][G2e]||await this[CE].close()}async[Zot](e){await this[$3].destroy(e),this[n1][V2e]||await this[n1].destroy(e),this[CE][V2e]||await this[CE].destroy(e)}#n(e){let{protocol:r,host:n,port:o}=e;return n=n.replace(/:\d*$/,"").toLowerCase(),o=Number.parseInt(o,10)||rst[r]||0,this.#r(n,o)?r==="https:"?this[CE]:this[n1]:this[$3]}#r(e,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let o=this.#t[n];if(!(o.port&&o.port!==r)){if(/^[.*]/.test(o.hostname)){if(e.endsWith(o.hostname.replace(/^\*/,"")))return!1}else if(e===o.hostname)return!1}}return!0}#o(){let e=this.#i.noProxy??this.#a,r=e.split(/[,\s]/),n=[];for(let o=0;o<r.length;o++){let a=r[o];if(!a)continue;let c=a.match(/^(.+):(\d+)$/);n.push({hostname:(c?c[1]:a).toLowerCase(),port:c?Number.parseInt(c[2],10):0})}this.#e=e,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};$2e.exports=uK});var JQ=q((GVr,X2e)=>{"use strict";f();var Cb=require("node:assert"),{kRetryHandlerDefaultRetry:j2e}=ho(),{RequestRetryError:z3}=ui(),{isDisturbed:K2e,parseHeaders:nst,parseRangeHeader:J2e,wrapRequestBody:ist}=dn();function ost(t){let e=Date.now();return new Date(t).getTime()-e}s(ost,"calculateRetryAfterHeader");var fK=class t{static{s(this,"RetryHandler")}constructor(e,r){let{retryOptions:n,...o}=e,{retry:a,maxRetries:c,maxTimeout:l,minTimeout:u,timeoutFactor:d,methods:A,errorCodes:h,retryAfter:p,statusCodes:y}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...o,body:ist(e.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:a??t[j2e],retryAfter:p??!0,maxTimeout:l??30*1e3,minTimeout:u??500,timeoutFactor:d??2,maxRetries:c??5,methods:A??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:y??[500,502,503,504,429],errorCodes:h??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(E=>{this.aborted=!0,this.abort?this.abort(E):this.reason=E})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(e,r,n)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[j2e](e,{state:r,opts:n},o){let{statusCode:a,code:c,headers:l}=e,{method:u,retryOptions:d}=n,{maxRetries:A,minTimeout:h,maxTimeout:p,timeoutFactor:y,statusCodes:E,errorCodes:v,methods:w}=d,{counter:_}=r;if(c&&c!=="UND_ERR_REQ_RETRY"&&!v.includes(c)){o(e);return}if(Array.isArray(w)&&!w.includes(u)){o(e);return}if(a!=null&&Array.isArray(E)&&!E.includes(a)){o(e);return}if(_>A){o(e);return}let S=l?.["retry-after"];S&&(S=Number(S),S=Number.isNaN(S)?ost(S):S*1e3);let D=S>0?Math.min(S,p):Math.min(h*y**(_-1),p);setTimeout(()=>o(null),D)}onHeaders(e,r,n,o){let a=nst(r);if(this.retryCount+=1,e>=300)return this.retryOpts.statusCodes.includes(e)===!1?this.handler.onHeaders(e,r,n,o):(this.abort(new z3("Request failed",e,{headers:a,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,e!==206&&(this.start>0||e!==200))return this.abort(new z3("server does not support the range header and the payload was partially consumed",e,{headers:a,data:{count:this.retryCount}})),!1;let l=J2e(a["content-range"]);if(!l)return this.abort(new z3("Content-Range mismatch",e,{headers:a,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==a.etag)return this.abort(new z3("ETag mismatch",e,{headers:a,data:{count:this.retryCount}})),!1;let{start:u,size:d,end:A=d-1}=l;return Cb(this.start===u,"content-range mismatch"),Cb(this.end==null||this.end===A,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(e===206){let l=J2e(a["content-range"]);if(l==null)return this.handler.onHeaders(e,r,n,o);let{start:u,size:d,end:A=d-1}=l;Cb(u!=null&&Number.isFinite(u),"content-range mismatch"),Cb(A!=null&&Number.isFinite(A),"invalid content-length"),this.start=u,this.end=A}if(this.end==null){let l=a["content-length"];this.end=l!=null?Number(l)-1:null}return Cb(Number.isFinite(this.start)),Cb(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=a.etag!=null?a.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(e,r,n,o)}let c=new z3("Request failed",e,{headers:a,data:{count:this.retryCount}});return this.abort(c),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||K2e(this.opts.body))return this.handler.onError(e);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(e,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||K2e(this.opts.body))return this.handler.onError(n);if(this.start!==0){let o={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(o["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...o}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(o){this.handler.onError(o)}}s(r,"onRetry")}};X2e.exports=fK});var exe=q((YVr,Z2e)=>{"use strict";f();var sst=C3(),ast=JQ(),dK=class extends sst{static{s(this,"RetryAgent")}#e=null;#t=null;constructor(e,r={}){super(r),this.#e=e,this.#t=r}dispatch(e,r){let n=new ast({...e,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(e,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};Z2e.exports=dK});var yK=q((jVr,lxe)=>{"use strict";f();var oxe=require("node:assert"),{Readable:cst}=require("node:stream"),{RequestAbortedError:sxe,NotSupportedError:lst,InvalidArgumentError:ust,AbortError:AK}=ui(),axe=dn(),{ReadableStreamFrom:fst}=dn(),ol=Symbol("kConsume"),j3=Symbol("kReading"),i1=Symbol("kBody"),txe=Symbol("kAbort"),cxe=Symbol("kContentType"),rxe=Symbol("kContentLength"),dst=s(()=>{},"noop"),hK=class extends cst{static{s(this,"BodyReadable")}constructor({resume:e,abort:r,contentType:n="",contentLength:o,highWaterMark:a=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:a}),this._readableState.dataEmitted=!1,this[txe]=r,this[ol]=null,this[i1]=null,this[cxe]=n,this[rxe]=o,this[j3]=!1}destroy(e){return!e&&!this._readableState.endEmitted&&(e=new sxe),e&&this[txe](),super.destroy(e)}_destroy(e,r){this[j3]?r(e):setImmediate(()=>{r(e)})}on(e,...r){return(e==="data"||e==="readable")&&(this[j3]=!0),super.on(e,...r)}addListener(e,...r){return this.on(e,...r)}off(e,...r){let n=super.off(e,...r);return(e==="data"||e==="readable")&&(this[j3]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(e,...r){return this.off(e,...r)}push(e){return this[ol]&&e!==null?(mK(this[ol],e),this[j3]?super.push(e):!0):super.push(e)}async text(){return K3(this,"text")}async json(){return K3(this,"json")}async blob(){return K3(this,"blob")}async bytes(){return K3(this,"bytes")}async arrayBuffer(){return K3(this,"arrayBuffer")}async formData(){throw new lst}get bodyUsed(){return axe.isDisturbed(this)}get body(){return this[i1]||(this[i1]=fst(this),this[ol]&&(this[i1].getReader(),oxe(this[i1].locked))),this[i1]}async dump(e){let r=Number.isFinite(e?.limit)?e.limit:131072,n=e?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new ust("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((o,a)=>{this[rxe]>r&&this.destroy(new AK);let c=s(()=>{this.destroy(n.reason??new AK)},"onAbort");n?.addEventListener("abort",c),this.on("close",function(){n?.removeEventListener("abort",c),n?.aborted?a(n.reason??new AK):o(null)}).on("error",dst).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function Ast(t){return t[i1]&&t[i1].locked===!0||t[ol]}s(Ast,"isLocked");function hst(t){return axe.isDisturbed(t)||Ast(t)}s(hst,"isUnusable");async function K3(t,e){return oxe(!t[ol]),new Promise((r,n)=>{if(hst(t)){let o=t._readableState;o.destroyed&&o.closeEmitted===!1?t.on("error",a=>{n(a)}).on("close",()=>{n(new TypeError("unusable"))}):n(o.errored??new TypeError("unusable"))}else queueMicrotask(()=>{t[ol]={type:e,stream:t,resolve:r,reject:n,length:0,body:[]},t.on("error",function(o){gK(this[ol],o)}).on("close",function(){this[ol].body!==null&&gK(this[ol],new sxe)}),pst(t[ol])})})}s(K3,"consume");function pst(t){if(t.body===null)return;let{_readableState:e}=t.stream;if(e.bufferIndex){let r=e.bufferIndex,n=e.buffer.length;for(let o=r;o<n;o++)mK(t,e.buffer[o])}else for(let r of e.buffer)mK(t,r);for(e.endEmitted?ixe(this[ol]):t.stream.on("end",function(){ixe(this[ol])}),t.stream.resume();t.stream.read()!=null;);}s(pst,"consumeStart");function pK(t,e){if(t.length===0||e===0)return"";let r=t.length===1?t[0]:Buffer.concat(t,e),n=r.length,o=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(o,n)}s(pK,"chunksDecode");function nxe(t,e){if(t.length===0||e===0)return new Uint8Array(0);if(t.length===1)return new Uint8Array(t[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(e).buffer),n=0;for(let o=0;o<t.length;++o){let a=t[o];r.set(a,n),n+=a.length}return r}s(nxe,"chunksConcat");function ixe(t){let{type:e,body:r,resolve:n,stream:o,length:a}=t;try{e==="text"?n(pK(r,a)):e==="json"?n(JSON.parse(pK(r,a))):e==="arrayBuffer"?n(nxe(r,a).buffer):e==="blob"?n(new Blob(r,{type:o[cxe]})):e==="bytes"&&n(nxe(r,a)),gK(t)}catch(c){o.destroy(c)}}s(ixe,"consumeEnd");function mK(t,e){t.length+=e.length,t.body.push(e)}s(mK,"consumePush");function gK(t,e){t.body!==null&&(e?t.reject(e):t.resolve(),t.type=null,t.stream=null,t.resolve=null,t.reject=null,t.length=0,t.body=null)}s(gK,"consumeFinish");lxe.exports={Readable:hK,chunksDecode:pK}});var CK=q((XVr,hxe)=>{f();var mst=require("node:assert"),{ResponseStatusCodeError:uxe}=ui(),{chunksDecode:fxe}=yK(),gst=128*1024;async function yst({callback:t,body:e,contentType:r,statusCode:n,statusMessage:o,headers:a}){mst(e);let c=[],l=0;try{for await(let h of e)if(c.push(h),l+=h.length,l>gst){c=[],l=0;break}}catch{c=[],l=0}let u=`Response status code ${n}${o?`: ${o}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>t(new uxe(u,n,a)));return}let d=Error.stackTraceLimit;Error.stackTraceLimit=0;let A;try{dxe(r)?A=JSON.parse(fxe(c,l)):Axe(r)&&(A=fxe(c,l))}catch{}finally{Error.stackTraceLimit=d}queueMicrotask(()=>t(new uxe(u,n,a,A)))}s(yst,"getResolveErrorBodyCallback");var dxe=s(t=>t.length>15&&t[11]==="/"&&t[0]==="a"&&t[1]==="p"&&t[2]==="p"&&t[3]==="l"&&t[4]==="i"&&t[5]==="c"&&t[6]==="a"&&t[7]==="t"&&t[8]==="i"&&t[9]==="o"&&t[10]==="n"&&t[12]==="j"&&t[13]==="s"&&t[14]==="o"&&t[15]==="n","isContentTypeApplicationJson"),Axe=s(t=>t.length>4&&t[4]==="/"&&t[0]==="t"&&t[1]==="e"&&t[2]==="x"&&t[3]==="t","isContentTypeText");hxe.exports={getResolveErrorBodyCallback:yst,isContentTypeApplicationJson:dxe,isContentTypeText:Axe}});var gxe=q((tWr,EK)=>{"use strict";f();var Cst=require("node:assert"),{Readable:Est}=yK(),{InvalidArgumentError:Eb,RequestAbortedError:pxe}=ui(),sl=dn(),{getResolveErrorBodyCallback:Ist}=CK(),{AsyncResource:xst}=require("node:async_hooks"),XQ=class extends xst{static{s(this,"RequestHandler")}constructor(e,r){if(!e||typeof e!="object")throw new Eb("invalid opts");let{signal:n,method:o,opaque:a,body:c,onInfo:l,responseHeaders:u,throwOnError:d,highWaterMark:A}=e;try{if(typeof r!="function")throw new Eb("invalid callback");if(A&&(typeof A!="number"||A<0))throw new Eb("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Eb("signal must be an EventEmitter or EventTarget");if(o==="CONNECT")throw new Eb("invalid method");if(l&&typeof l!="function")throw new Eb("invalid onInfo callback");super("UNDICI_REQUEST")}catch(h){throw sl.isStream(c)&&sl.destroy(c.on("error",sl.nop),h),h}this.method=o,this.responseHeaders=u||null,this.opaque=a||null,this.callback=r,this.res=null,this.abort=null,this.body=c,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=d,this.highWaterMark=A,this.signal=n,this.reason=null,this.removeAbortListener=null,sl.isStream(c)&&c.on("error",h=>{this.onError(h)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new pxe:this.removeAbortListener=sl.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new pxe,this.res?sl.destroy(this.res.on("error",sl.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(e,r){if(this.reason){e(this.reason);return}Cst(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,o){let{callback:a,opaque:c,abort:l,context:u,responseHeaders:d,highWaterMark:A}=this,h=d==="raw"?sl.parseRawHeaders(r):sl.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:h});return}let p=d==="raw"?sl.parseHeaders(r):h,y=p["content-type"],E=p["content-length"],v=new Est({resume:n,abort:l,contentType:y,contentLength:this.method!=="HEAD"&&E?Number(E):null,highWaterMark:A});this.removeAbortListener&&v.on("close",this.removeAbortListener),this.callback=null,this.res=v,a!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(Ist,null,{callback:a,body:v,contentType:y,statusCode:e,statusMessage:o,headers:h}):this.runInAsyncScope(a,null,null,{statusCode:e,headers:h,trailers:this.trailers,opaque:c,body:v,context:u}))}onData(e){return this.res.push(e)}onComplete(e){sl.parseHeaders(e,this.trailers),this.res.push(null)}onError(e){let{res:r,callback:n,body:o,opaque:a}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:a})})),r&&(this.res=null,queueMicrotask(()=>{sl.destroy(r,e)})),o&&(this.body=null,sl.destroy(o,e)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function mxe(t,e){if(e===void 0)return new Promise((r,n)=>{mxe.call(this,t,(o,a)=>o?n(o):r(a))});try{this.dispatch(t,new XQ(t,e))}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}s(mxe,"request");EK.exports=mxe;EK.exports.RequestHandler=XQ});var J3=q((iWr,Exe)=>{f();var{addAbortListener:vst}=dn(),{RequestAbortedError:bst}=ui(),Ib=Symbol("kListener"),iA=Symbol("kSignal");function yxe(t){t.abort?t.abort(t[iA]?.reason):t.reason=t[iA]?.reason??new bst,Cxe(t)}s(yxe,"abort");function Tst(t,e){if(t.reason=null,t[iA]=null,t[Ib]=null,!!e){if(e.aborted){yxe(t);return}t[iA]=e,t[Ib]=()=>{yxe(t)},vst(t[iA],t[Ib])}}s(Tst,"addSignal");function Cxe(t){t[iA]&&("removeEventListener"in t[iA]?t[iA].removeEventListener("abort",t[Ib]):t[iA].removeListener("abort",t[Ib]),t[iA]=null,t[Ib]=null)}s(Cxe,"removeSignal");Exe.exports={addSignal:Tst,removeSignal:Cxe}});var bxe=q((aWr,vxe)=>{"use strict";f();var _st=require("node:assert"),{finished:wst,PassThrough:Sst}=require("node:stream"),{InvalidArgumentError:xb,InvalidReturnValueError:Bst}=ui(),wf=dn(),{getResolveErrorBodyCallback:Rst}=CK(),{AsyncResource:kst}=require("node:async_hooks"),{addSignal:Dst,removeSignal:Ixe}=J3(),IK=class extends kst{static{s(this,"StreamHandler")}constructor(e,r,n){if(!e||typeof e!="object")throw new xb("invalid opts");let{signal:o,method:a,opaque:c,body:l,onInfo:u,responseHeaders:d,throwOnError:A}=e;try{if(typeof n!="function")throw new xb("invalid callback");if(typeof r!="function")throw new xb("invalid factory");if(o&&typeof o.on!="function"&&typeof o.addEventListener!="function")throw new xb("signal must be an EventEmitter or EventTarget");if(a==="CONNECT")throw new xb("invalid method");if(u&&typeof u!="function")throw new xb("invalid onInfo callback");super("UNDICI_STREAM")}catch(h){throw wf.isStream(l)&&wf.destroy(l.on("error",wf.nop),h),h}this.responseHeaders=d||null,this.opaque=c||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=u||null,this.throwOnError=A||!1,wf.isStream(l)&&l.on("error",h=>{this.onError(h)}),Dst(this,o)}onConnect(e,r){if(this.reason){e(this.reason);return}_st(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,o){let{factory:a,opaque:c,context:l,callback:u,responseHeaders:d}=this,A=d==="raw"?wf.parseRawHeaders(r):wf.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:A});return}this.factory=null;let h;if(this.throwOnError&&e>=400){let E=(d==="raw"?wf.parseHeaders(r):A)["content-type"];h=new Sst,this.callback=null,this.runInAsyncScope(Rst,null,{callback:u,body:h,contentType:E,statusCode:e,statusMessage:o,headers:A})}else{if(a===null)return;if(h=this.runInAsyncScope(a,null,{statusCode:e,headers:A,opaque:c,context:l}),!h||typeof h.write!="function"||typeof h.end!="function"||typeof h.on!="function")throw new Bst("expected Writable");wst(h,{readable:!1},y=>{let{callback:E,res:v,opaque:w,trailers:_,abort:S}=this;this.res=null,(y||!v.readable)&&wf.destroy(v,y),this.callback=null,this.runInAsyncScope(E,null,y||null,{opaque:w,trailers:_}),y&&S()})}return h.on("drain",n),this.res=h,(h.writableNeedDrain!==void 0?h.writableNeedDrain:h._writableState?.needDrain)!==!0}onData(e){let{res:r}=this;return r?r.write(e):!0}onComplete(e){let{res:r}=this;Ixe(this),r&&(this.trailers=wf.parseHeaders(e),r.end())}onError(e){let{res:r,callback:n,opaque:o,body:a}=this;Ixe(this),this.factory=null,r?(this.res=null,wf.destroy(r,e)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:o})})),a&&(this.body=null,wf.destroy(a,e))}};function xxe(t,e,r){if(r===void 0)return new Promise((n,o)=>{xxe.call(this,t,e,(a,c)=>a?o(a):n(c))});try{this.dispatch(t,new IK(t,e,r))}catch(n){if(typeof r!="function")throw n;let o=t?.opaque;queueMicrotask(()=>r(n,{opaque:o}))}}s(xxe,"stream");vxe.exports=xxe});var Sxe=q((uWr,wxe)=>{"use strict";f();var{Readable:_xe,Duplex:Nst,PassThrough:Qst}=require("node:stream"),{InvalidArgumentError:X3,InvalidReturnValueError:Pst,RequestAbortedError:xK}=ui(),uu=dn(),{AsyncResource:Fst}=require("node:async_hooks"),{addSignal:Lst,removeSignal:Mst}=J3(),Txe=require("node:assert"),vb=Symbol("resume"),vK=class extends _xe{static{s(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[vb]=null}_read(){let{[vb]:e}=this;e&&(this[vb]=null,e())}_destroy(e,r){this._read(),r(e)}},bK=class extends _xe{static{s(this,"PipelineResponse")}constructor(e){super({autoDestroy:!0}),this[vb]=e}_read(){this[vb]()}_destroy(e,r){!e&&!this._readableState.endEmitted&&(e=new xK),r(e)}},TK=class extends Fst{static{s(this,"PipelineHandler")}constructor(e,r){if(!e||typeof e!="object")throw new X3("invalid opts");if(typeof r!="function")throw new X3("invalid handler");let{signal:n,method:o,opaque:a,onInfo:c,responseHeaders:l}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new X3("signal must be an EventEmitter or EventTarget");if(o==="CONNECT")throw new X3("invalid method");if(c&&typeof c!="function")throw new X3("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=a||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=c||null,this.req=new vK().on("error",uu.nop),this.ret=new Nst({readableObjectMode:e.objectMode,autoDestroy:!0,read:s(()=>{let{body:u}=this;u?.resume&&u.resume()},"read"),write:s((u,d,A)=>{let{req:h}=this;h.push(u,d)||h._readableState.destroyed?A():h[vb]=A},"write"),destroy:s((u,d)=>{let{body:A,req:h,res:p,ret:y,abort:E}=this;!u&&!y._readableState.endEmitted&&(u=new xK),E&&u&&E(),uu.destroy(A,u),uu.destroy(h,u),uu.destroy(p,u),Mst(this),d(u)},"destroy")}).on("prefinish",()=>{let{req:u}=this;u.push(null)}),this.res=null,Lst(this,n)}onConnect(e,r){let{ret:n,res:o}=this;if(this.reason){e(this.reason);return}Txe(!o,"pipeline cannot be retried"),Txe(!n.destroyed),this.abort=e,this.context=r}onHeaders(e,r,n){let{opaque:o,handler:a,context:c}=this;if(e<200){if(this.onInfo){let u=this.responseHeaders==="raw"?uu.parseRawHeaders(r):uu.parseHeaders(r);this.onInfo({statusCode:e,headers:u})}return}this.res=new bK(n);let l;try{this.handler=null;let u=this.responseHeaders==="raw"?uu.parseRawHeaders(r):uu.parseHeaders(r);l=this.runInAsyncScope(a,null,{statusCode:e,headers:u,opaque:o,body:this.res,context:c})}catch(u){throw this.res.on("error",uu.nop),u}if(!l||typeof l.on!="function")throw new Pst("expected Readable");l.on("data",u=>{let{ret:d,body:A}=this;!d.push(u)&&A.pause&&A.pause()}).on("error",u=>{let{ret:d}=this;uu.destroy(d,u)}).on("end",()=>{let{ret:u}=this;u.push(null)}).on("close",()=>{let{ret:u}=this;u._readableState.ended||uu.destroy(u,new xK)}),this.body=l}onData(e){let{res:r}=this;return r.push(e)}onComplete(e){let{res:r}=this;r.push(null)}onError(e){let{ret:r}=this;this.handler=null,uu.destroy(r,e)}};function Ost(t,e){try{let r=new TK(t,e);return this.dispatch({...t,body:r.req},r),r.ret}catch(r){return new Qst().destroy(r)}}s(Ost,"pipeline");wxe.exports=Ost});var Qxe=q((AWr,Nxe)=>{"use strict";f();var{InvalidArgumentError:_K,SocketError:Ust}=ui(),{AsyncResource:Hst}=require("node:async_hooks"),Bxe=dn(),{addSignal:qst,removeSignal:Rxe}=J3(),kxe=require("node:assert"),wK=class extends Hst{static{s(this,"UpgradeHandler")}constructor(e,r){if(!e||typeof e!="object")throw new _K("invalid opts");if(typeof r!="function")throw new _K("invalid callback");let{signal:n,opaque:o,responseHeaders:a}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new _K("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=a||null,this.opaque=o||null,this.callback=r,this.abort=null,this.context=null,qst(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}kxe(this.callback),this.abort=e,this.context=null}onHeaders(){throw new Ust("bad upgrade",null)}onUpgrade(e,r,n){kxe(e===101);let{callback:o,opaque:a,context:c}=this;Rxe(this),this.callback=null;let l=this.responseHeaders==="raw"?Bxe.parseRawHeaders(r):Bxe.parseHeaders(r);this.runInAsyncScope(o,null,null,{headers:l,socket:n,opaque:a,context:c})}onError(e){let{callback:r,opaque:n}=this;Rxe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function Dxe(t,e){if(e===void 0)return new Promise((r,n)=>{Dxe.call(this,t,(o,a)=>o?n(o):r(a))});try{let r=new wK(t,e);this.dispatch({...t,method:t.method||"GET",upgrade:t.protocol||"Websocket"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}s(Dxe,"upgrade");Nxe.exports=Dxe});var Oxe=q((mWr,Mxe)=>{"use strict";f();var Gst=require("node:assert"),{AsyncResource:Vst}=require("node:async_hooks"),{InvalidArgumentError:SK,SocketError:Wst}=ui(),Pxe=dn(),{addSignal:Yst,removeSignal:Fxe}=J3(),BK=class extends Vst{static{s(this,"ConnectHandler")}constructor(e,r){if(!e||typeof e!="object")throw new SK("invalid opts");if(typeof r!="function")throw new SK("invalid callback");let{signal:n,opaque:o,responseHeaders:a}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new SK("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=o||null,this.responseHeaders=a||null,this.callback=r,this.abort=null,Yst(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}Gst(this.callback),this.abort=e,this.context=r}onHeaders(){throw new Wst("bad connect",null)}onUpgrade(e,r,n){let{callback:o,opaque:a,context:c}=this;Fxe(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?Pxe.parseRawHeaders(r):Pxe.parseHeaders(r)),this.runInAsyncScope(o,null,null,{statusCode:e,headers:l,socket:n,opaque:a,context:c})}onError(e){let{callback:r,opaque:n}=this;Fxe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function Lxe(t,e){if(e===void 0)return new Promise((r,n)=>{Lxe.call(this,t,(o,a)=>o?n(o):r(a))});try{let r=new BK(t,e);this.dispatch({...t,method:"CONNECT"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}s(Lxe,"connect");Mxe.exports=Lxe});var Uxe=q((CWr,bb)=>{"use strict";f();bb.exports.request=gxe();bb.exports.stream=bxe();bb.exports.pipeline=Sxe();bb.exports.upgrade=Qxe();bb.exports.connect=Oxe()});var kK=q((IWr,Hxe)=>{"use strict";f();var{UndiciError:$st}=ui(),RK=class t extends $st{static{s(this,"MockNotMatchedError")}constructor(e){super(e),Error.captureStackTrace(this,t),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};Hxe.exports={MockNotMatchedError:RK}});var Tb=q((bWr,qxe)=>{"use strict";f();qxe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var Z3=q((_Wr,Zxe)=>{"use strict";f();var{MockNotMatchedError:EE}=kK(),{kDispatches:ZQ,kMockAgent:zst,kOriginalDispatch:jst,kOrigin:Kst,kGetNetConnect:Jst}=Tb(),{buildURL:Xst}=dn(),{STATUS_CODES:Zst}=require("node:http"),{types:{isPromise:eat}}=require("node:util");function $h(t,e){return typeof t=="string"?t===e:t instanceof RegExp?t.test(e):typeof t=="function"?t(e)===!0:!1}s($h,"matchValue");function Vxe(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLocaleLowerCase(),r]))}s(Vxe,"lowerCaseEntries");function Wxe(t,e){if(Array.isArray(t)){for(let r=0;r<t.length;r+=2)if(t[r].toLocaleLowerCase()===e.toLocaleLowerCase())return t[r+1];return}else return typeof t.get=="function"?t.get(e):Vxe(t)[e.toLocaleLowerCase()]}s(Wxe,"getHeaderByName");function QK(t){let e=t.slice(),r=[];for(let n=0;n<e.length;n+=2)r.push([e[n],e[n+1]]);return Object.fromEntries(r)}s(QK,"buildHeadersFromArray");function Yxe(t,e){if(typeof t.headers=="function")return Array.isArray(e)&&(e=QK(e)),t.headers(e?Vxe(e):{});if(typeof t.headers>"u")return!0;if(typeof e!="object"||typeof t.headers!="object")return!1;for(let[r,n]of Object.entries(t.headers)){let o=Wxe(e,r);if(!$h(n,o))return!1}return!0}s(Yxe,"matchHeaders");function Gxe(t){if(typeof t!="string")return t;let e=t.split("?");if(e.length!==2)return t;let r=new URLSearchParams(e.pop());return r.sort(),[...e,r.toString()].join("?")}s(Gxe,"safeUrl");function tat(t,{path:e,method:r,body:n,headers:o}){let a=$h(t.path,e),c=$h(t.method,r),l=typeof t.body<"u"?$h(t.body,n):!0,u=Yxe(t,o);return a&&c&&l&&u}s(tat,"matchKey");function $xe(t){return Buffer.isBuffer(t)||t instanceof Uint8Array||t instanceof ArrayBuffer?t:typeof t=="object"?JSON.stringify(t):t.toString()}s($xe,"getResponseData");function zxe(t,e){let r=e.query?Xst(e.path,e.query):e.path,n=typeof r=="string"?Gxe(r):r,o=t.filter(({consumed:a})=>!a).filter(({path:a})=>$h(Gxe(a),n));if(o.length===0)throw new EE(`Mock dispatch not matched for path '${n}'`);if(o=o.filter(({method:a})=>$h(a,e.method)),o.length===0)throw new EE(`Mock dispatch not matched for method '${e.method}' on path '${n}'`);if(o=o.filter(({body:a})=>typeof a<"u"?$h(a,e.body):!0),o.length===0)throw new EE(`Mock dispatch not matched for body '${e.body}' on path '${n}'`);if(o=o.filter(a=>Yxe(a,e.headers)),o.length===0){let a=typeof e.headers=="object"?JSON.stringify(e.headers):e.headers;throw new EE(`Mock dispatch not matched for headers '${a}' on path '${n}'`)}return o[0]}s(zxe,"getMockDispatch");function rat(t,e,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},o=typeof r=="function"?{callback:r}:{...r},a={...n,...e,pending:!0,data:{error:null,...o}};return t.push(a),a}s(rat,"addMockDispatch");function DK(t,e){let r=t.findIndex(n=>n.consumed?tat(n,e):!1);r!==-1&&t.splice(r,1)}s(DK,"deleteMockDispatch");function jxe(t){let{path:e,method:r,body:n,headers:o,query:a}=t;return{path:e,method:r,body:n,headers:o,query:a}}s(jxe,"buildKey");function NK(t){let e=Object.keys(t),r=[];for(let n=0;n<e.length;++n){let o=e[n],a=t[o],c=Buffer.from(`${o}`);if(Array.isArray(a))for(let l=0;l<a.length;++l)r.push(c,Buffer.from(`${a[l]}`));else r.push(c,Buffer.from(`${a}`))}return r}s(NK,"generateKeyValues");function Kxe(t){return Zst[t]||"unknown"}s(Kxe,"getStatusText");async function nat(t){let e=[];for await(let r of t)e.push(r);return Buffer.concat(e).toString("utf8")}s(nat,"getResponse");function Jxe(t,e){let r=jxe(t),n=zxe(this[ZQ],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(t)});let{data:{statusCode:o,data:a,headers:c,trailers:l,error:u},delay:d,persist:A}=n,{timesInvoked:h,times:p}=n;if(n.consumed=!A&&h>=p,n.pending=h<p,u!==null)return DK(this[ZQ],r),e.onError(u),!0;typeof d=="number"&&d>0?setTimeout(()=>{y(this[ZQ])},d):y(this[ZQ]);function y(v,w=a){let _=Array.isArray(t.headers)?QK(t.headers):t.headers,S=typeof w=="function"?w({...t,headers:_}):w;if(eat(S)){S.then(O=>y(v,O));return}let D=$xe(S),N=NK(c),P=NK(l);e.onConnect?.(O=>e.onError(O),null),e.onHeaders?.(o,N,E,Kxe(o)),e.onData?.(Buffer.from(D)),e.onComplete?.(P),DK(v,r)}s(y,"handleReply");function E(){}return s(E,"resume"),!0}s(Jxe,"mockDispatch");function iat(){let t=this[zst],e=this[Kst],r=this[jst];return s(function(o,a){if(t.isMockActive)try{Jxe.call(this,o,a)}catch(c){if(c instanceof EE){let l=t[Jst]();if(l===!1)throw new EE(`${c.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(Xxe(l,e))r.call(this,o,a);else throw new EE(`${c.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw c}else r.call(this,o,a)},"dispatch")}s(iat,"buildMockDispatch");function Xxe(t,e){let r=new URL(e);return t===!0?!0:!!(Array.isArray(t)&&t.some(n=>$h(n,r.host)))}s(Xxe,"checkNetConnect");function oat(t){if(t){let{agent:e,...r}=t;return r}}s(oat,"buildMockOptions");Zxe.exports={getResponseData:$xe,getMockDispatch:zxe,addMockDispatch:rat,deleteMockDispatch:DK,buildKey:jxe,generateKeyValues:NK,matchValue:$h,getResponse:nat,getStatusText:Kxe,mockDispatch:Jxe,buildMockDispatch:iat,checkNetConnect:Xxe,buildMockOptions:oat,getHeaderByName:Wxe,buildHeadersFromArray:QK}});var HK=q((BWr,UK)=>{"use strict";f();var{getResponseData:sat,buildKey:aat,addMockDispatch:PK}=Z3(),{kDispatches:eP,kDispatchKey:tP,kDefaultHeaders:FK,kDefaultTrailers:LK,kContentLength:MK,kMockDispatch:rP}=Tb(),{InvalidArgumentError:oA}=ui(),{buildURL:cat}=dn(),_b=class{static{s(this,"MockScope")}constructor(e){this[rP]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new oA("waitInMs must be a valid integer > 0");return this[rP].delay=e,this}persist(){return this[rP].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new oA("repeatTimes must be a valid integer > 0");return this[rP].times=e,this}},OK=class{static{s(this,"MockInterceptor")}constructor(e,r){if(typeof e!="object")throw new oA("opts must be an object");if(typeof e.path>"u")throw new oA("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=cat(e.path,e.query);else{let n=new URL(e.path,"data://");e.path=n.pathname+n.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[tP]=aat(e),this[eP]=r,this[FK]={},this[LK]={},this[MK]=!1}createMockScopeDispatchData({statusCode:e,data:r,responseOptions:n}){let o=sat(r),a=this[MK]?{"content-length":o.length}:{},c={...this[FK],...a,...n.headers},l={...this[LK],...n.trailers};return{statusCode:e,data:r,headers:c,trailers:l}}validateReplyParameters(e){if(typeof e.statusCode>"u")throw new oA("statusCode must be defined");if(typeof e.responseOptions!="object"||e.responseOptions===null)throw new oA("responseOptions must be an object")}reply(e){if(typeof e=="function"){let a=s(l=>{let u=e(l);if(typeof u!="object"||u===null)throw new oA("reply options callback must return an object");let d={data:"",responseOptions:{},...u};return this.validateReplyParameters(d),{...this.createMockScopeDispatchData(d)}},"wrappedDefaultsCallback"),c=PK(this[eP],this[tP],a);return new _b(c)}let r={statusCode:e,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),o=PK(this[eP],this[tP],n);return new _b(o)}replyWithError(e){if(typeof e>"u")throw new oA("error must be defined");let r=PK(this[eP],this[tP],{error:e});return new _b(r)}defaultReplyHeaders(e){if(typeof e>"u")throw new oA("headers must be defined");return this[FK]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new oA("trailers must be defined");return this[LK]=e,this}replyContentLength(){return this[MK]=!0,this}};UK.exports.MockInterceptor=OK;UK.exports.MockScope=_b});var VK=q((DWr,sve)=>{"use strict";f();var{promisify:lat}=require("node:util"),uat=H3(),{buildMockDispatch:fat}=Z3(),{kDispatches:eve,kMockAgent:tve,kClose:rve,kOriginalClose:nve,kOrigin:ive,kOriginalDispatch:dat,kConnected:qK}=Tb(),{MockInterceptor:Aat}=HK(),ove=ho(),{InvalidArgumentError:hat}=ui(),GK=class extends uat{static{s(this,"MockClient")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new hat("Argument opts.agent must implement Agent");this[tve]=r.agent,this[ive]=e,this[eve]=[],this[qK]=1,this[dat]=this.dispatch,this[nve]=this.close.bind(this),this.dispatch=fat.call(this),this.close=this[rve]}get[ove.kConnected](){return this[qK]}intercept(e){return new Aat(e,this[eve])}async[rve](){await lat(this[nve])(),this[qK]=0,this[tve][ove.kClients].delete(this[ive])}};sve.exports=GK});var $K=q((PWr,Ave)=>{"use strict";f();var{promisify:pat}=require("node:util"),mat=gb(),{buildMockDispatch:gat}=Z3(),{kDispatches:ave,kMockAgent:cve,kClose:lve,kOriginalClose:uve,kOrigin:fve,kOriginalDispatch:yat,kConnected:WK}=Tb(),{MockInterceptor:Cat}=HK(),dve=ho(),{InvalidArgumentError:Eat}=ui(),YK=class extends mat{static{s(this,"MockPool")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new Eat("Argument opts.agent must implement Agent");this[cve]=r.agent,this[fve]=e,this[ave]=[],this[WK]=1,this[yat]=this.dispatch,this[uve]=this.close.bind(this),this.dispatch=gat.call(this),this.close=this[lve]}get[dve.kConnected](){return this[WK]}intercept(e){return new Cat(e,this[ave])}async[lve](){await pat(this[uve])(),this[WK]=0,this[cve][dve.kClients].delete(this[fve])}};Ave.exports=YK});var pve=q((OWr,hve)=>{"use strict";f();var Iat={pronoun:"it",is:"is",was:"was",this:"this"},xat={pronoun:"they",is:"are",was:"were",this:"these"};hve.exports=class{static{s(this,"Pluralizer")}constructor(e,r){this.singular=e,this.plural=r}pluralize(e){let r=e===1,n=r?Iat:xat,o=r?this.singular:this.plural;return{...n,count:e,noun:o}}}});var gve=q((GWr,mve)=>{"use strict";f();var{Transform:vat}=require("node:stream"),{Console:bat}=require("node:console"),Tat=process.versions.icu?"\u2705":"Y ",_at=process.versions.icu?"\u274C":"N ";mve.exports=class{static{s(this,"PendingInterceptorsFormatter")}constructor({disableColors:e}={}){this.transform=new vat({transform(r,n,o){o(null,r)}}),this.logger=new bat({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let r=e.map(({method:n,path:o,data:{statusCode:a},persist:c,times:l,timesInvoked:u,origin:d})=>({Method:n,Origin:d,Path:o,"Status code":a,Persistent:c?Tat:_at,Invocations:u,Remaining:c?1/0:l-u}));return this.logger.table(r),this.transform.read().toString()}}});var Ive=q((YWr,Eve)=>{"use strict";f();var{kClients:IE}=ho(),wat=yb(),{kAgent:zK,kMockAgentSet:nP,kMockAgentGet:yve,kDispatches:jK,kIsMockActive:iP,kNetConnect:xE,kGetNetConnect:Sat,kOptions:oP,kFactory:sP}=Tb(),Bat=VK(),Rat=$K(),{matchValue:kat,buildMockOptions:Dat}=Z3(),{InvalidArgumentError:Cve,UndiciError:Nat}=ui(),Qat=C3(),Pat=pve(),Fat=gve(),KK=class extends Qat{static{s(this,"MockAgent")}constructor(e){if(super(e),this[xE]=!0,this[iP]=!0,e?.agent&&typeof e.agent.dispatch!="function")throw new Cve("Argument opts.agent must implement Agent");let r=e?.agent?e.agent:new wat(e);this[zK]=r,this[IE]=r[IE],this[oP]=Dat(e)}get(e){let r=this[yve](e);return r||(r=this[sP](e),this[nP](e,r)),r}dispatch(e,r){return this.get(e.origin),this[zK].dispatch(e,r)}async close(){await this[zK].close(),this[IE].clear()}deactivate(){this[iP]=!1}activate(){this[iP]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[xE])?this[xE].push(e):this[xE]=[e];else if(typeof e>"u")this[xE]=!0;else throw new Cve("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[xE]=!1}get isMockActive(){return this[iP]}[nP](e,r){this[IE].set(e,r)}[sP](e){let r=Object.assign({agent:this},this[oP]);return this[oP]&&this[oP].connections===1?new Bat(e,r):new Rat(e,r)}[yve](e){let r=this[IE].get(e);if(r)return r;if(typeof e!="string"){let n=this[sP]("http://localhost:9999");return this[nP](e,n),n}for(let[n,o]of Array.from(this[IE]))if(o&&typeof n!="string"&&kat(n,e)){let a=this[sP](e);return this[nP](e,a),a[jK]=o[jK],a}}[Sat](){return this[xE]}pendingInterceptors(){let e=this[IE];return Array.from(e.entries()).flatMap(([r,n])=>n[jK].map(o=>({...o,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new Fat}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new Pat("interceptor","interceptors").pluralize(r.length);throw new Nat(`
${n.count} ${n.noun} ${n.is} pending:

${e.format(r)}
`.trim())}};Eve.exports=KK});var aP=q((jWr,Tve)=>{"use strict";f();var xve=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:Lat}=ui(),Mat=yb();bve()===void 0&&vve(new Mat);function vve(t){if(!t||typeof t.dispatch!="function")throw new Lat("Argument agent must implement Agent");Object.defineProperty(globalThis,xve,{value:t,writable:!0,enumerable:!1,configurable:!1})}s(vve,"setGlobalDispatcher");function bve(){return globalThis[xve]}s(bve,"getGlobalDispatcher");Tve.exports={setGlobalDispatcher:vve,getGlobalDispatcher:bve}});var cP=q((ZWr,_ve)=>{"use strict";f();_ve.exports=class{static{s(this,"DecoratorHandler")}#e;constructor(e){if(typeof e!="object"||e===null)throw new TypeError("handler must be an object");this.#e=e}onConnect(...e){return this.#e.onConnect?.(...e)}onError(...e){return this.#e.onError?.(...e)}onUpgrade(...e){return this.#e.onUpgrade?.(...e)}onResponseStarted(...e){return this.#e.onResponseStarted?.(...e)}onHeaders(...e){return this.#e.onHeaders?.(...e)}onData(...e){return this.#e.onData?.(...e)}onComplete(...e){return this.#e.onComplete?.(...e)}onBodySent(...e){return this.#e.onBodySent?.(...e)}}});var Sve=q((rYr,wve)=>{"use strict";f();var Oat=OQ();wve.exports=t=>{let e=t?.maxRedirections;return r=>s(function(o,a){let{maxRedirections:c=e,...l}=o;if(!c)return r(o,a);let u=new Oat(r,c,o,a);return r(l,u)},"redirectInterceptor")}});var Rve=q((oYr,Bve)=>{"use strict";f();var Uat=JQ();Bve.exports=t=>e=>s(function(n,o){return e(n,new Uat({...n,retryOptions:{...t,...n.retryOptions}},{handler:o,dispatch:e}))},"retryInterceptor")});var Dve=q((cYr,kve)=>{"use strict";f();var Hat=dn(),{InvalidArgumentError:qat,RequestAbortedError:Gat}=ui(),Vat=cP(),JK=class extends Vat{static{s(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:e},r){if(super(r),e!=null&&(!Number.isFinite(e)||e<1))throw new qat("maxSize must be a number greater than 0");this.#e=e??this.#e,this.#s=r}onConnect(e){this.#t=e,this.#s.onConnect(this.#a.bind(this))}#a(e){this.#n=!0,this.#o=e}onHeaders(e,r,n,o){let c=Hat.parseHeaders(r)["content-length"];if(c!=null&&c>this.#e)throw new Gat(`Response size (${c}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(e,r,n,o)}onError(e){this.#i||(e=this.#o??e,this.#s.onError(e))}onData(e){return this.#r=this.#r+e.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(e){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(e)}}};function Wat({maxSize:t}={maxSize:1024*1024}){return e=>s(function(n,o){let{dumpMaxSize:a=t}=n,c=new JK({maxSize:a},o);return e(n,c)},"Intercept")}s(Wat,"createDumpInterceptor");kve.exports=Wat});var Pve=q((fYr,Qve)=>{"use strict";f();var{isIP:Yat}=require("node:net"),{lookup:$at}=require("node:dns"),zat=cP(),{InvalidArgumentError:wb,InformationalError:jat}=ui(),Nve=Math.pow(2,31)-1,XK=class{static{s(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(e){this.#e=e.maxTTL,this.#t=e.maxItems,this.dualStack=e.dualStack,this.affinity=e.affinity,this.lookup=e.lookup??this.#n,this.pick=e.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(e,r,n){let o=this.#i.get(e.hostname);if(o==null&&this.full){n(null,e.origin);return}let a={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(o==null)this.lookup(e,a,(c,l)=>{if(c||l==null||l.length===0){n(c??new jat("No DNS entries found"));return}this.setRecords(e,l);let u=this.#i.get(e.hostname),d=this.pick(e,u,a.affinity),A;typeof d.port=="number"?A=`:${d.port}`:e.port!==""?A=`:${e.port}`:A="",n(null,`${e.protocol}//${d.family===6?`[${d.address}]`:d.address}${A}`)});else{let c=this.pick(e,o,a.affinity);if(c==null){this.#i.delete(e.hostname),this.runLookup(e,r,n);return}let l;typeof c.port=="number"?l=`:${c.port}`:e.port!==""?l=`:${e.port}`:l="",n(null,`${e.protocol}//${c.family===6?`[${c.address}]`:c.address}${l}`)}}#n(e,r,n){$at(e.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(o,a)=>{if(o)return n(o);let c=new Map;for(let l of a)c.set(`${l.address}:${l.family}`,l);n(null,c.values())})}#r(e,r,n){let o=null,{records:a,offset:c}=r,l;if(this.dualStack?(n==null&&(c==null||c===Nve?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),a[n]!=null&&a[n].ips.length>0?l=a[n]:l=a[n===4?6:4]):l=a[n],l==null||l.ips.length===0)return o;l.offset==null||l.offset===Nve?l.offset=0:l.offset++;let u=l.offset%l.ips.length;return o=l.ips[u]??null,o==null?o:Date.now()-o.timestamp>o.ttl?(l.ips.splice(u,1),this.pick(e,r,n)):o}setRecords(e,r){let n=Date.now(),o={records:{4:null,6:null}};for(let a of r){a.timestamp=n,typeof a.ttl=="number"?a.ttl=Math.min(a.ttl,this.#e):a.ttl=this.#e;let c=o.records[a.family]??{ips:[]};c.ips.push(a),o.records[a.family]=c}this.#i.set(e.hostname,o)}getHandler(e,r){return new ZK(this,e,r)}},ZK=class extends zat{static{s(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(e,{origin:r,handler:n,dispatch:o},a){super(n),this.#r=r,this.#n=n,this.#t={...a},this.#e=e,this.#i=o}onError(e){switch(e.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let o={...this.#t,origin:n};this.#i(o,this)});return}this.#n.onError(e);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(e);break}}};Qve.exports=t=>{if(t?.maxTTL!=null&&(typeof t?.maxTTL!="number"||t?.maxTTL<0))throw new wb("Invalid maxTTL. Must be a positive number");if(t?.maxItems!=null&&(typeof t?.maxItems!="number"||t?.maxItems<1))throw new wb("Invalid maxItems. Must be a positive number and greater than zero");if(t?.affinity!=null&&t?.affinity!==4&&t?.affinity!==6)throw new wb("Invalid affinity. Must be either 4 or 6");if(t?.dualStack!=null&&typeof t?.dualStack!="boolean")throw new wb("Invalid dualStack. Must be a boolean");if(t?.lookup!=null&&typeof t?.lookup!="function")throw new wb("Invalid lookup. Must be a function");if(t?.pick!=null&&typeof t?.pick!="function")throw new wb("Invalid pick. Must be a function");let e=t?.dualStack??!0,r;e?r=t?.affinity??null:r=t?.affinity??4;let n={maxTTL:t?.maxTTL??1e4,lookup:t?.lookup??null,pick:t?.pick??null,dualStack:e,affinity:r,maxItems:t?.maxItems??1/0},o=new XK(n);return a=>s(function(l,u){let d=l.origin.constructor===URL?l.origin:new URL(l.origin);return Yat(d.hostname)!==0?a(l,u):(o.runLookup(d,l,(A,h)=>{if(A)return u.onError(A);let p=null;p={...l,servername:d.hostname,origin:h,headers:{host:d.hostname,...l.headers}},a(p,o.getHandler({origin:d,dispatch:a,handler:u},l))}),!0)},"dnsInterceptor")}});var vE=q((hYr,qve)=>{"use strict";f();var{kConstruct:Kat}=ho(),{kEnumerableProperty:Sb}=dn(),{iteratorMixin:Jat,isValidHeaderName:eS,isValidHeaderValue:Lve}=il(),{webidl:$n}=Da(),eJ=require("node:assert"),lP=require("node:util"),vs=Symbol("headers map"),al=Symbol("headers map sorted");function Fve(t){return t===10||t===13||t===9||t===32}s(Fve,"isHTTPWhiteSpaceCharCode");function Mve(t){let e=0,r=t.length;for(;r>e&&Fve(t.charCodeAt(r-1));)--r;for(;r>e&&Fve(t.charCodeAt(e));)++e;return e===0&&r===t.length?t:t.substring(e,r)}s(Mve,"headerValueNormalize");function Ove(t,e){if(Array.isArray(e))for(let r=0;r<e.length;++r){let n=e[r];if(n.length!==2)throw $n.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});tJ(t,n[0],n[1])}else if(typeof e=="object"&&e!==null){let r=Object.keys(e);for(let n=0;n<r.length;++n)tJ(t,r[n],e[r[n]])}else throw $n.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}s(Ove,"fill");function tJ(t,e,r){if(r=Mve(r),eS(e)){if(!Lve(r))throw $n.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw $n.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(Hve(t)==="immutable")throw new TypeError("immutable");return rJ(t).append(e,r,!1)}s(tJ,"appendHeader");function Uve(t,e){return t[0]<e[0]?-1:1}s(Uve,"compareHeaderName");var uP=class t{static{s(this,"HeadersList")}cookies=null;constructor(e){e instanceof t?(this[vs]=new Map(e[vs]),this[al]=e[al],this.cookies=e.cookies===null?null:[...e.cookies]):(this[vs]=new Map(e),this[al]=null)}contains(e,r){return this[vs].has(r?e:e.toLowerCase())}clear(){this[vs].clear(),this[al]=null,this.cookies=null}append(e,r,n){this[al]=null;let o=n?e:e.toLowerCase(),a=this[vs].get(o);if(a){let c=o==="cookie"?"; ":", ";this[vs].set(o,{name:a.name,value:`${a.value}${c}${r}`})}else this[vs].set(o,{name:e,value:r});o==="set-cookie"&&(this.cookies??=[]).push(r)}set(e,r,n){this[al]=null;let o=n?e:e.toLowerCase();o==="set-cookie"&&(this.cookies=[r]),this[vs].set(o,{name:e,value:r})}delete(e,r){this[al]=null,r||(e=e.toLowerCase()),e==="set-cookie"&&(this.cookies=null),this[vs].delete(e)}get(e,r){return this[vs].get(r?e:e.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:e,1:{value:r}}of this[vs])yield[e,r]}get entries(){let e={};if(this[vs].size!==0)for(let{name:r,value:n}of this[vs].values())e[r]=n;return e}rawValues(){return this[vs].values()}get entriesList(){let e=[];if(this[vs].size!==0)for(let{0:r,1:{name:n,value:o}}of this[vs])if(r==="set-cookie")for(let a of this.cookies)e.push([n,a]);else e.push([n,o]);return e}toSortedArray(){let e=this[vs].size,r=new Array(e);if(e<=32){if(e===0)return r;let n=this[vs][Symbol.iterator](),o=n.next().value;r[0]=[o[0],o[1].value],eJ(o[1].value!==null);for(let a=1,c=0,l=0,u=0,d=0,A,h;a<e;++a){for(h=n.next().value,A=r[a]=[h[0],h[1].value],eJ(A[1]!==null),u=0,l=a;u<l;)d=u+(l-u>>1),r[d][0]<=A[0]?u=d+1:l=d;if(a!==d){for(c=a;c>u;)r[c]=r[--c];r[u]=A}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:o,1:{value:a}}of this[vs])r[n++]=[o,a],eJ(a!==null);return r.sort(Uve)}}},Sf=class t{static{s(this,"Headers")}#e;#t;constructor(e=void 0){$n.util.markAsUncloneable(this),e!==Kat&&(this.#t=new uP,this.#e="none",e!==void 0&&(e=$n.converters.HeadersInit(e,"Headers contructor","init"),Ove(this,e)))}append(e,r){$n.brandCheck(this,t),$n.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return e=$n.converters.ByteString(e,n,"name"),r=$n.converters.ByteString(r,n,"value"),tJ(this,e,r)}delete(e){if($n.brandCheck(this,t),$n.argumentLengthCheck(arguments,1,"Headers.delete"),e=$n.converters.ByteString(e,"Headers.delete","name"),!eS(e))throw $n.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(e,!1)&&this.#t.delete(e,!1)}get(e){$n.brandCheck(this,t),$n.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(e=$n.converters.ByteString(e,r,"name"),!eS(e))throw $n.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.get(e,!1)}has(e){$n.brandCheck(this,t),$n.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(e=$n.converters.ByteString(e,r,"name"),!eS(e))throw $n.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.contains(e,!1)}set(e,r){$n.brandCheck(this,t),$n.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(e=$n.converters.ByteString(e,n,"name"),r=$n.converters.ByteString(r,n,"value"),r=Mve(r),eS(e)){if(!Lve(r))throw $n.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw $n.errors.invalidArgument({prefix:n,value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(e,r,!1)}getSetCookie(){$n.brandCheck(this,t);let e=this.#t.cookies;return e?[...e]:[]}get[al](){if(this.#t[al])return this.#t[al];let e=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[al]=r;for(let o=0;o<r.length;++o){let{0:a,1:c}=r[o];if(a==="set-cookie")for(let l=0;l<n.length;++l)e.push([a,n[l]]);else e.push([a,c])}return this.#t[al]=e}[lP.inspect.custom](e,r){return r.depth??=e,`Headers ${lP.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(e){return e.#e}static setHeadersGuard(e,r){e.#e=r}static getHeadersList(e){return e.#t}static setHeadersList(e,r){e.#t=r}},{getHeadersGuard:Hve,setHeadersGuard:Xat,getHeadersList:rJ,setHeadersList:Zat}=Sf;Reflect.deleteProperty(Sf,"getHeadersGuard");Reflect.deleteProperty(Sf,"setHeadersGuard");Reflect.deleteProperty(Sf,"getHeadersList");Reflect.deleteProperty(Sf,"setHeadersList");Jat("Headers",Sf,al,0,1);Object.defineProperties(Sf.prototype,{append:Sb,delete:Sb,get:Sb,has:Sb,set:Sb,getSetCookie:Sb,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[lP.inspect.custom]:{enumerable:!1}});$n.converters.HeadersInit=function(t,e,r){if($n.util.Type(t)==="Object"){let n=Reflect.get(t,Symbol.iterator);if(!lP.types.isProxy(t)&&n===Sf.prototype.entries)try{return rJ(t).entriesList}catch{}return typeof n=="function"?$n.converters["sequence<sequence<ByteString>>"](t,e,r,n.bind(t)):$n.converters["record<ByteString, ByteString>"](t,e,r)}throw $n.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};qve.exports={fill:Ove,compareHeaderName:Uve,Headers:Sf,HeadersList:uP,getHeadersGuard:Hve,setHeadersGuard:Xat,setHeadersList:Zat,getHeadersList:rJ}});var rS=q((gYr,Xve)=>{"use strict";f();var{Headers:zve,HeadersList:Gve,fill:e0t,getHeadersGuard:t0t,setHeadersGuard:jve,setHeadersList:Kve}=vE(),{extractBody:Vve,cloneBody:r0t,mixinBody:n0t,hasFinalizationRegistry:i0t,streamRegistry:o0t,bodyUnusable:s0t}=ub(),nJ=dn(),Wve=require("node:util"),{kEnumerableProperty:cl}=nJ,{isValidReasonPhrase:a0t,isCancelled:c0t,isAborted:l0t,isBlobLike:u0t,serializeJavascriptValueToJSONString:f0t,isErrorLike:d0t,isomorphicEncode:A0t,environmentSettingsObject:h0t}=il(),{redirectStatusSet:p0t,nullBodyStatus:m0t}=x3(),{kState:Vo,kHeaders:zh}=zg(),{webidl:Jr}=Da(),{FormData:g0t}=S3(),{URLSerializer:Yve}=Ac(),{kConstruct:dP}=ho(),iJ=require("node:assert"),{types:y0t}=require("node:util"),C0t=new TextEncoder("utf-8"),bE=class t{static{s(this,"Response")}static error(){return tS(AP(),"immutable")}static json(e,r={}){Jr.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=Jr.converters.ResponseInit(r));let n=C0t.encode(f0t(e)),o=Vve(n),a=tS(Bb({}),"response");return $ve(a,r,{body:o[0],type:"application/json"}),a}static redirect(e,r=302){Jr.argumentLengthCheck(arguments,1,"Response.redirect"),e=Jr.converters.USVString(e),r=Jr.converters["unsigned short"](r);let n;try{n=new URL(e,h0t.settingsObject.baseUrl)}catch(c){throw new TypeError(`Failed to parse URL from ${e}`,{cause:c})}if(!p0t.has(r))throw new RangeError(`Invalid status code ${r}`);let o=tS(Bb({}),"immutable");o[Vo].status=r;let a=A0t(Yve(n));return o[Vo].headersList.append("location",a,!0),o}constructor(e=null,r={}){if(Jr.util.markAsUncloneable(this),e===dP)return;e!==null&&(e=Jr.converters.BodyInit(e)),r=Jr.converters.ResponseInit(r),this[Vo]=Bb({}),this[zh]=new zve(dP),jve(this[zh],"response"),Kve(this[zh],this[Vo].headersList);let n=null;if(e!=null){let[o,a]=Vve(e);n={body:o,type:a}}$ve(this,r,n)}get type(){return Jr.brandCheck(this,t),this[Vo].type}get url(){Jr.brandCheck(this,t);let e=this[Vo].urlList,r=e[e.length-1]??null;return r===null?"":Yve(r,!0)}get redirected(){return Jr.brandCheck(this,t),this[Vo].urlList.length>1}get status(){return Jr.brandCheck(this,t),this[Vo].status}get ok(){return Jr.brandCheck(this,t),this[Vo].status>=200&&this[Vo].status<=299}get statusText(){return Jr.brandCheck(this,t),this[Vo].statusText}get headers(){return Jr.brandCheck(this,t),this[zh]}get body(){return Jr.brandCheck(this,t),this[Vo].body?this[Vo].body.stream:null}get bodyUsed(){return Jr.brandCheck(this,t),!!this[Vo].body&&nJ.isDisturbed(this[Vo].body.stream)}clone(){if(Jr.brandCheck(this,t),s0t(this))throw Jr.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=oJ(this[Vo]);return tS(e,t0t(this[zh]))}[Wve.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${Wve.formatWithOptions(r,n)}`}};n0t(bE);Object.defineProperties(bE.prototype,{type:cl,url:cl,status:cl,ok:cl,redirected:cl,statusText:cl,headers:cl,clone:cl,body:cl,bodyUsed:cl,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(bE,{json:cl,redirect:cl,error:cl});function oJ(t){if(t.internalResponse)return Jve(oJ(t.internalResponse),t.type);let e=Bb({...t,body:null});return t.body!=null&&(e.body=r0t(e,t.body)),e}s(oJ,"cloneResponse");function Bb(t){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...t,headersList:t?.headersList?new Gve(t?.headersList):new Gve,urlList:t?.urlList?[...t.urlList]:[]}}s(Bb,"makeResponse");function AP(t){let e=d0t(t);return Bb({type:"error",status:0,error:e?t:new Error(t&&String(t)),aborted:t&&t.name==="AbortError"})}s(AP,"makeNetworkError");function E0t(t){return t.type==="error"&&t.status===0}s(E0t,"isNetworkError");function fP(t,e){return e={internalResponse:t,...e},new Proxy(t,{get(r,n){return n in e?e[n]:r[n]},set(r,n,o){return iJ(!(n in e)),r[n]=o,!0}})}s(fP,"makeFilteredResponse");function Jve(t,e){if(e==="basic")return fP(t,{type:"basic",headersList:t.headersList});if(e==="cors")return fP(t,{type:"cors",headersList:t.headersList});if(e==="opaque")return fP(t,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return fP(t,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});iJ(!1)}s(Jve,"filterResponse");function I0t(t,e=null){return iJ(c0t(t)),l0t(t)?AP(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:e})):AP(Object.assign(new DOMException("Request was cancelled."),{cause:e}))}s(I0t,"makeAppropriateNetworkError");function $ve(t,e,r){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!a0t(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(t[Vo].status=e.status),"statusText"in e&&e.statusText!=null&&(t[Vo].statusText=e.statusText),"headers"in e&&e.headers!=null&&e0t(t[zh],e.headers),r){if(m0t.includes(t.status))throw Jr.errors.exception({header:"Response constructor",message:`Invalid response status code ${t.status}`});t[Vo].body=r.body,r.type!=null&&!t[Vo].headersList.contains("content-type",!0)&&t[Vo].headersList.append("content-type",r.type,!0)}}s($ve,"initializeResponse");function tS(t,e){let r=new bE(dP);return r[Vo]=t,r[zh]=new zve(dP),Kve(r[zh],t.headersList),jve(r[zh],e),i0t&&t.body?.stream&&o0t.register(r,new WeakRef(t.body.stream)),r}s(tS,"fromInnerResponse");Jr.converters.ReadableStream=Jr.interfaceConverter(ReadableStream);Jr.converters.FormData=Jr.interfaceConverter(g0t);Jr.converters.URLSearchParams=Jr.interfaceConverter(URLSearchParams);Jr.converters.XMLHttpRequestBodyInit=function(t,e,r){return typeof t=="string"?Jr.converters.USVString(t,e,r):u0t(t)?Jr.converters.Blob(t,e,r,{strict:!1}):ArrayBuffer.isView(t)||y0t.isArrayBuffer(t)?Jr.converters.BufferSource(t,e,r):nJ.isFormDataLike(t)?Jr.converters.FormData(t,e,r,{strict:!1}):t instanceof URLSearchParams?Jr.converters.URLSearchParams(t,e,r):Jr.converters.DOMString(t,e,r)};Jr.converters.BodyInit=function(t,e,r){return t instanceof ReadableStream?Jr.converters.ReadableStream(t,e,r):t?.[Symbol.asyncIterator]?t:Jr.converters.XMLHttpRequestBodyInit(t,e,r)};Jr.converters.ResponseInit=Jr.dictionaryConverter([{key:"status",converter:Jr.converters["unsigned short"],defaultValue:s(()=>200,"defaultValue")},{key:"statusText",converter:Jr.converters.ByteString,defaultValue:s(()=>"","defaultValue")},{key:"headers",converter:Jr.converters.HeadersInit}]);Xve.exports={isNetworkError:E0t,makeNetworkError:AP,makeResponse:Bb,makeAppropriateNetworkError:I0t,filterResponse:Jve,Response:bE,cloneResponse:oJ,fromInnerResponse:tS}});var rbe=q((EYr,tbe)=>{"use strict";f();var{kConnected:Zve,kSize:ebe}=ho(),sJ=class{static{s(this,"CompatWeakRef")}constructor(e){this.value=e}deref(){return this.value[Zve]===0&&this.value[ebe]===0?void 0:this.value}},aJ=class{static{s(this,"CompatFinalizer")}constructor(e){this.finalizer=e}register(e,r){e.on&&e.on("disconnect",()=>{e[Zve]===0&&e[ebe]===0&&this.finalizer(r)})}unregister(e){}};tbe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:sJ,FinalizationRegistry:aJ}):{WeakRef,FinalizationRegistry}}});var Rb=q((vYr,gbe)=>{"use strict";f();var{extractBody:x0t,mixinBody:v0t,cloneBody:b0t,bodyUnusable:nbe}=ub(),{Headers:dbe,fill:T0t,HeadersList:gP,setHeadersGuard:lJ,getHeadersGuard:_0t,setHeadersList:Abe,getHeadersList:ibe}=vE(),{FinalizationRegistry:w0t}=rbe()(),pP=dn(),obe=require("node:util"),{isValidHTTPToken:S0t,sameOrigin:sbe,environmentSettingsObject:hP}=il(),{forbiddenMethodsSet:B0t,corsSafeListedMethodsSet:R0t,referrerPolicy:k0t,requestRedirect:D0t,requestMode:N0t,requestCredentials:Q0t,requestCache:P0t,requestDuplex:F0t}=x3(),{kEnumerableProperty:bs,normalizedMethodRecordsBase:L0t,normalizedMethodRecords:M0t}=pP,{kHeaders:ll,kSignal:mP,kState:to,kDispatcher:cJ}=zg(),{webidl:dr}=Da(),{URLSerializer:O0t}=Ac(),{kConstruct:yP}=ho(),U0t=require("node:assert"),{getMaxListeners:abe,setMaxListeners:cbe,getEventListeners:H0t,defaultMaxListeners:lbe}=require("node:events"),q0t=Symbol("abortController"),hbe=new w0t(({signal:t,abort:e})=>{t.removeEventListener("abort",e)}),CP=new WeakMap;function ube(t){return e;function e(){let r=t.deref();if(r!==void 0){hbe.unregister(e),this.removeEventListener("abort",e),r.abort(this.reason);let n=CP.get(r.signal);if(n!==void 0){if(n.size!==0){for(let o of n){let a=o.deref();a!==void 0&&a.abort(this.reason)}n.clear()}CP.delete(r.signal)}}}}s(ube,"buildAbort");var fbe=!1,o1=class t{static{s(this,"Request")}constructor(e,r={}){if(dr.util.markAsUncloneable(this),e===yP)return;let n="Request constructor";dr.argumentLengthCheck(arguments,1,n),e=dr.converters.RequestInfo(e,n,"input"),r=dr.converters.RequestInit(r,n,"init");let o=null,a=null,c=hP.settingsObject.baseUrl,l=null;if(typeof e=="string"){this[cJ]=r.dispatcher;let _;try{_=new URL(e,c)}catch(S){throw new TypeError("Failed to parse URL from "+e,{cause:S})}if(_.username||_.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);o=EP({urlList:[_]}),a="cors"}else this[cJ]=r.dispatcher||e[cJ],U0t(e instanceof t),o=e[to],l=e[mP];let u=hP.settingsObject.origin,d="client";if(o.window?.constructor?.name==="EnvironmentSettingsObject"&&sbe(o.window,u)&&(d=o.window),r.window!=null)throw new TypeError(`'window' option '${d}' must be null`);"window"in r&&(d="no-window"),o=EP({method:o.method,headersList:o.headersList,unsafeRequest:o.unsafeRequest,client:hP.settingsObject,window:d,priority:o.priority,origin:o.origin,referrer:o.referrer,referrerPolicy:o.referrerPolicy,mode:o.mode,credentials:o.credentials,cache:o.cache,redirect:o.redirect,integrity:o.integrity,keepalive:o.keepalive,reloadNavigation:o.reloadNavigation,historyNavigation:o.historyNavigation,urlList:[...o.urlList]});let A=Object.keys(r).length!==0;if(A&&(o.mode==="navigate"&&(o.mode="same-origin"),o.reloadNavigation=!1,o.historyNavigation=!1,o.origin="client",o.referrer="client",o.referrerPolicy="",o.url=o.urlList[o.urlList.length-1],o.urlList=[o.url]),r.referrer!==void 0){let _=r.referrer;if(_==="")o.referrer="no-referrer";else{let S;try{S=new URL(_,c)}catch(D){throw new TypeError(`Referrer "${_}" is not a valid URL.`,{cause:D})}S.protocol==="about:"&&S.hostname==="client"||u&&!sbe(S,hP.settingsObject.baseUrl)?o.referrer="client":o.referrer=S}}r.referrerPolicy!==void 0&&(o.referrerPolicy=r.referrerPolicy);let h;if(r.mode!==void 0?h=r.mode:h=a,h==="navigate")throw dr.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(h!=null&&(o.mode=h),r.credentials!==void 0&&(o.credentials=r.credentials),r.cache!==void 0&&(o.cache=r.cache),o.cache==="only-if-cached"&&o.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(o.redirect=r.redirect),r.integrity!=null&&(o.integrity=String(r.integrity)),r.keepalive!==void 0&&(o.keepalive=!!r.keepalive),r.method!==void 0){let _=r.method,S=M0t[_];if(S!==void 0)o.method=S;else{if(!S0t(_))throw new TypeError(`'${_}' is not a valid HTTP method.`);let D=_.toUpperCase();if(B0t.has(D))throw new TypeError(`'${_}' HTTP method is unsupported.`);_=L0t[D]??_,o.method=_}!fbe&&o.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),fbe=!0)}r.signal!==void 0&&(l=r.signal),this[to]=o;let p=new AbortController;if(this[mP]=p.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)p.abort(l.reason);else{this[q0t]=p;let _=new WeakRef(p),S=ube(_);try{(typeof abe=="function"&&abe(l)===lbe||H0t(l,"abort").length>=lbe)&&cbe(1500,l)}catch{}pP.addAbortListener(l,S),hbe.register(p,{signal:l,abort:S},S)}}if(this[ll]=new dbe(yP),Abe(this[ll],o.headersList),lJ(this[ll],"request"),h==="no-cors"){if(!R0t.has(o.method))throw new TypeError(`'${o.method} is unsupported in no-cors mode.`);lJ(this[ll],"request-no-cors")}if(A){let _=ibe(this[ll]),S=r.headers!==void 0?r.headers:new gP(_);if(_.clear(),S instanceof gP){for(let{name:D,value:N}of S.rawValues())_.append(D,N,!1);_.cookies=S.cookies}else T0t(this[ll],S)}let y=e instanceof t?e[to].body:null;if((r.body!=null||y!=null)&&(o.method==="GET"||o.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let E=null;if(r.body!=null){let[_,S]=x0t(r.body,o.keepalive);E=_,S&&!ibe(this[ll]).contains("content-type",!0)&&this[ll].append("content-type",S)}let v=E??y;if(v!=null&&v.source==null){if(E!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(o.mode!=="same-origin"&&o.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');o.useCORSPreflightFlag=!0}let w=v;if(E==null&&y!=null){if(nbe(e))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let _=new TransformStream;y.stream.pipeThrough(_),w={source:y.source,length:y.length,stream:_.readable}}this[to].body=w}get method(){return dr.brandCheck(this,t),this[to].method}get url(){return dr.brandCheck(this,t),O0t(this[to].url)}get headers(){return dr.brandCheck(this,t),this[ll]}get destination(){return dr.brandCheck(this,t),this[to].destination}get referrer(){return dr.brandCheck(this,t),this[to].referrer==="no-referrer"?"":this[to].referrer==="client"?"about:client":this[to].referrer.toString()}get referrerPolicy(){return dr.brandCheck(this,t),this[to].referrerPolicy}get mode(){return dr.brandCheck(this,t),this[to].mode}get credentials(){return this[to].credentials}get cache(){return dr.brandCheck(this,t),this[to].cache}get redirect(){return dr.brandCheck(this,t),this[to].redirect}get integrity(){return dr.brandCheck(this,t),this[to].integrity}get keepalive(){return dr.brandCheck(this,t),this[to].keepalive}get isReloadNavigation(){return dr.brandCheck(this,t),this[to].reloadNavigation}get isHistoryNavigation(){return dr.brandCheck(this,t),this[to].historyNavigation}get signal(){return dr.brandCheck(this,t),this[mP]}get body(){return dr.brandCheck(this,t),this[to].body?this[to].body.stream:null}get bodyUsed(){return dr.brandCheck(this,t),!!this[to].body&&pP.isDisturbed(this[to].body.stream)}get duplex(){return dr.brandCheck(this,t),"half"}clone(){if(dr.brandCheck(this,t),nbe(this))throw new TypeError("unusable");let e=pbe(this[to]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=CP.get(this.signal);n===void 0&&(n=new Set,CP.set(this.signal,n));let o=new WeakRef(r);n.add(o),pP.addAbortListener(r.signal,ube(o))}return mbe(e,r.signal,_0t(this[ll]))}[obe.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${obe.formatWithOptions(r,n)}`}};v0t(o1);function EP(t){return{method:t.method??"GET",localURLsOnly:t.localURLsOnly??!1,unsafeRequest:t.unsafeRequest??!1,body:t.body??null,client:t.client??null,reservedClient:t.reservedClient??null,replacesClientId:t.replacesClientId??"",window:t.window??"client",keepalive:t.keepalive??!1,serviceWorkers:t.serviceWorkers??"all",initiator:t.initiator??"",destination:t.destination??"",priority:t.priority??null,origin:t.origin??"client",policyContainer:t.policyContainer??"client",referrer:t.referrer??"client",referrerPolicy:t.referrerPolicy??"",mode:t.mode??"no-cors",useCORSPreflightFlag:t.useCORSPreflightFlag??!1,credentials:t.credentials??"same-origin",useCredentials:t.useCredentials??!1,cache:t.cache??"default",redirect:t.redirect??"follow",integrity:t.integrity??"",cryptoGraphicsNonceMetadata:t.cryptoGraphicsNonceMetadata??"",parserMetadata:t.parserMetadata??"",reloadNavigation:t.reloadNavigation??!1,historyNavigation:t.historyNavigation??!1,userActivation:t.userActivation??!1,taintedOrigin:t.taintedOrigin??!1,redirectCount:t.redirectCount??0,responseTainting:t.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:t.preventNoCacheCacheControlHeaderModification??!1,done:t.done??!1,timingAllowFailed:t.timingAllowFailed??!1,urlList:t.urlList,url:t.urlList[0],headersList:t.headersList?new gP(t.headersList):new gP}}s(EP,"makeRequest");function pbe(t){let e=EP({...t,body:null});return t.body!=null&&(e.body=b0t(e,t.body)),e}s(pbe,"cloneRequest");function mbe(t,e,r){let n=new o1(yP);return n[to]=t,n[mP]=e,n[ll]=new dbe(yP),Abe(n[ll],t.headersList),lJ(n[ll],r),n}s(mbe,"fromInnerRequest");Object.defineProperties(o1.prototype,{method:bs,url:bs,headers:bs,redirect:bs,clone:bs,signal:bs,duplex:bs,destination:bs,body:bs,bodyUsed:bs,isHistoryNavigation:bs,isReloadNavigation:bs,keepalive:bs,integrity:bs,cache:bs,credentials:bs,attribute:bs,referrerPolicy:bs,referrer:bs,mode:bs,[Symbol.toStringTag]:{value:"Request",configurable:!0}});dr.converters.Request=dr.interfaceConverter(o1);dr.converters.RequestInfo=function(t,e,r){return typeof t=="string"?dr.converters.USVString(t,e,r):t instanceof o1?dr.converters.Request(t,e,r):dr.converters.USVString(t,e,r)};dr.converters.AbortSignal=dr.interfaceConverter(AbortSignal);dr.converters.RequestInit=dr.dictionaryConverter([{key:"method",converter:dr.converters.ByteString},{key:"headers",converter:dr.converters.HeadersInit},{key:"body",converter:dr.nullableConverter(dr.converters.BodyInit)},{key:"referrer",converter:dr.converters.USVString},{key:"referrerPolicy",converter:dr.converters.DOMString,allowedValues:k0t},{key:"mode",converter:dr.converters.DOMString,allowedValues:N0t},{key:"credentials",converter:dr.converters.DOMString,allowedValues:Q0t},{key:"cache",converter:dr.converters.DOMString,allowedValues:P0t},{key:"redirect",converter:dr.converters.DOMString,allowedValues:D0t},{key:"integrity",converter:dr.converters.DOMString},{key:"keepalive",converter:dr.converters.boolean},{key:"signal",converter:dr.nullableConverter(t=>dr.converters.AbortSignal(t,"RequestInit","signal",{strict:!1}))},{key:"window",converter:dr.converters.any},{key:"duplex",converter:dr.converters.DOMString,allowedValues:F0t},{key:"dispatcher",converter:dr.converters.any}]);gbe.exports={Request:o1,makeRequest:EP,fromInnerRequest:mbe,cloneRequest:pbe}});var iS=q((_Yr,Dbe)=>{"use strict";f();var{makeNetworkError:Ti,makeAppropriateNetworkError:IP,filterResponse:uJ,makeResponse:xP,fromInnerResponse:G0t}=rS(),{HeadersList:ybe}=vE(),{Request:V0t,cloneRequest:W0t}=Rb(),s1=require("node:zlib"),{bytesMatch:Y0t,makePolicyContainer:$0t,clonePolicyContainer:z0t,requestBadPort:j0t,TAOCheck:K0t,appendRequestOriginHeader:J0t,responseLocationURL:X0t,requestCurrentURL:sA,setRequestReferrerPolicyOnRedirect:Z0t,tryUpgradeRequestToAPotentiallyTrustworthyURL:ect,createOpaqueTimingInfo:pJ,appendFetchMetadata:tct,corsCheck:rct,crossOriginResourcePolicyCheck:nct,determineRequestsReferrer:ict,coarsenedSharedCurrentTime:nS,createDeferredPromise:oct,isBlobLike:sct,sameOrigin:hJ,isCancelled:TE,isAborted:Cbe,isErrorLike:act,fullyReadBody:cct,readableStreamClose:lct,isomorphicEncode:vP,urlIsLocal:uct,urlIsHttpHttpsScheme:mJ,urlHasHttpsScheme:fct,clampAndCoarsenConnectionTimingInfo:dct,simpleRangeHeaderValue:Act,buildContentRange:hct,createInflate:pct,extractMimeType:mct}=il(),{kState:vbe,kDispatcher:gct}=zg(),_E=require("node:assert"),{safelyExtractBody:gJ,extractBody:Ebe}=ub(),{redirectStatusSet:bbe,nullBodyStatus:Tbe,safeMethodsSet:yct,requestBodyHeader:Cct,subresourceSet:Ect}=x3(),Ict=require("node:events"),{Readable:xct,pipeline:vct,finished:bct}=require("node:stream"),{addAbortListener:Tct,isErrored:_ct,isReadable:bP,bufferToLowerCasedHeaderName:Ibe}=dn(),{dataURLProcessor:wct,serializeAMimeType:Sct,minimizeSupportedMimeType:Bct}=Ac(),{getGlobalDispatcher:Rct}=aP(),{webidl:kct}=Da(),{STATUS_CODES:Dct}=require("node:http"),Nct=["GET","HEAD"],Qct=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",fJ,TP=class extends Ict{static{s(this,"Fetch")}constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function Pct(t){_be(t,"fetch")}s(Pct,"handleFetchDone");function Fct(t,e=void 0){kct.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=oct(),n;try{n=new V0t(t,e)}catch(A){return r.reject(A),r.promise}let o=n[vbe];if(n.signal.aborted)return dJ(r,o,null,n.signal.reason),r.promise;o.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(o.serviceWorkers="none");let c=null,l=!1,u=null;return Tct(n.signal,()=>{l=!0,_E(u!=null),u.abort(n.signal.reason);let A=c?.deref();dJ(r,o,A,n.signal.reason)}),u=Sbe({request:o,processResponseEndOfBody:Pct,processResponse:s(A=>{if(!l){if(A.aborted){dJ(r,o,c,u.serializedAbortReason);return}if(A.type==="error"){r.reject(new TypeError("fetch failed",{cause:A.error}));return}c=new WeakRef(G0t(A,"immutable")),r.resolve(c.deref()),r=null}},"processResponse"),dispatcher:n[gct]}),r.promise}s(Fct,"fetch");function _be(t,e="other"){if(t.type==="error"&&t.aborted||!t.urlList?.length)return;let r=t.urlList[0],n=t.timingInfo,o=t.cacheState;mJ(r)&&n!==null&&(t.timingAllowPassed||(n=pJ({startTime:n.startTime}),o=""),n.endTime=nS(),t.timingInfo=n,wbe(n,r.href,e,globalThis,o))}s(_be,"finalizeAndReportTiming");var wbe=performance.markResourceTiming;function dJ(t,e,r,n){if(t&&t.reject(n),e.body!=null&&bP(e.body?.stream)&&e.body.stream.cancel(n).catch(a=>{if(a.code!=="ERR_INVALID_STATE")throw a}),r==null)return;let o=r[vbe];o.body!=null&&bP(o.body?.stream)&&o.body.stream.cancel(n).catch(a=>{if(a.code!=="ERR_INVALID_STATE")throw a})}s(dJ,"abortFetch");function Sbe({request:t,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:o,processResponseConsumeBody:a,useParallelQueue:c=!1,dispatcher:l=Rct()}){_E(l);let u=null,d=!1;t.client!=null&&(u=t.client.globalObject,d=t.client.crossOriginIsolatedCapability);let A=nS(d),h=pJ({startTime:A}),p={controller:new TP(l),request:t,timingInfo:h,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:a,processResponseEndOfBody:o,taskDestination:u,crossOriginIsolatedCapability:d};return _E(!t.body||t.body.stream),t.window==="client"&&(t.window=t.client?.globalObject?.constructor?.name==="Window"?t.client:"no-window"),t.origin==="client"&&(t.origin=t.client.origin),t.policyContainer==="client"&&(t.client!=null?t.policyContainer=z0t(t.client.policyContainer):t.policyContainer=$0t()),t.headersList.contains("accept",!0)||t.headersList.append("accept","*/*",!0),t.headersList.contains("accept-language",!0)||t.headersList.append("accept-language","*",!0),t.priority,Ect.has(t.destination),Bbe(p).catch(y=>{p.controller.terminate(y)}),p.controller}s(Sbe,"fetching");async function Bbe(t,e=!1){let r=t.request,n=null;if(r.localURLsOnly&&!uct(sA(r))&&(n=Ti("local URLs only")),ect(r),j0t(r)==="blocked"&&(n=Ti("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=ict(r)),n===null&&(n=await(async()=>{let a=sA(r);return hJ(a,r.url)&&r.responseTainting==="basic"||a.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await xbe(t)):r.mode==="same-origin"?Ti('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?Ti('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await xbe(t)):mJ(sA(r))?(r.responseTainting="cors",await Rbe(t)):Ti("URL scheme must be a HTTP(S) scheme")})()),e)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=uJ(n,"basic"):r.responseTainting==="cors"?n=uJ(n,"cors"):r.responseTainting==="opaque"?n=uJ(n,"opaque"):_E(!1));let o=n.status===0?n:n.internalResponse;if(o.urlList.length===0&&o.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&o.status===206&&o.rangeRequested&&!r.headers.contains("range",!0)&&(n=o=Ti()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||Tbe.includes(o.status))&&(o.body=null,t.controller.dump=!0),r.integrity){let a=s(l=>AJ(t,Ti(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){a(n.error);return}let c=s(l=>{if(!Y0t(l,r.integrity)){a("integrity mismatch");return}n.body=gJ(l)[0],AJ(t,n)},"processBody");await cct(n.body,c,a)}else AJ(t,n)}s(Bbe,"mainFetch");function xbe(t){if(TE(t)&&t.request.redirectCount===0)return Promise.resolve(IP(t));let{request:e}=t,{protocol:r}=sA(e);switch(r){case"about:":return Promise.resolve(Ti("about scheme is not supported"));case"blob:":{fJ||(fJ=require("node:buffer").resolveObjectURL);let n=sA(e);if(n.search.length!==0)return Promise.resolve(Ti("NetworkError when attempting to fetch resource."));let o=fJ(n.toString());if(e.method!=="GET"||!sct(o))return Promise.resolve(Ti("invalid method"));let a=xP(),c=o.size,l=vP(`${c}`),u=o.type;if(e.headersList.contains("range",!0)){a.rangeRequested=!0;let d=e.headersList.get("range",!0),A=Act(d,!0);if(A==="failure")return Promise.resolve(Ti("failed to fetch the data URL"));let{rangeStartValue:h,rangeEndValue:p}=A;if(h===null)h=c-p,p=h+p-1;else{if(h>=c)return Promise.resolve(Ti("Range start is greater than the blob's size."));(p===null||p>=c)&&(p=c-1)}let y=o.slice(h,p,u),E=Ebe(y);a.body=E[0];let v=vP(`${y.size}`),w=hct(h,p,c);a.status=206,a.statusText="Partial Content",a.headersList.set("content-length",v,!0),a.headersList.set("content-type",u,!0),a.headersList.set("content-range",w,!0)}else{let d=Ebe(o);a.statusText="OK",a.body=d[0],a.headersList.set("content-length",l,!0),a.headersList.set("content-type",u,!0)}return Promise.resolve(a)}case"data:":{let n=sA(e),o=wct(n);if(o==="failure")return Promise.resolve(Ti("failed to fetch the data URL"));let a=Sct(o.mimeType);return Promise.resolve(xP({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:a}]],body:gJ(o.body)[0]}))}case"file:":return Promise.resolve(Ti("not implemented... yet..."));case"http:":case"https:":return Rbe(t).catch(n=>Ti(n));default:return Promise.resolve(Ti("unknown scheme"))}}s(xbe,"schemeFetch");function Lct(t,e){t.request.done=!0,t.processResponseDone!=null&&queueMicrotask(()=>t.processResponseDone(e))}s(Lct,"finalizeResponse");function AJ(t,e){let r=t.timingInfo,n=s(()=>{let a=Date.now();t.request.destination==="document"&&(t.controller.fullTimingInfo=r),t.controller.reportTimingSteps=()=>{if(t.request.url.protocol!=="https:")return;r.endTime=a;let l=e.cacheState,u=e.bodyInfo;e.timingAllowPassed||(r=pJ(r),l="");let d=0;if(t.request.mode!=="navigator"||!e.hasCrossOriginRedirects){d=e.status;let A=mct(e.headersList);A!=="failure"&&(u.contentType=Bct(A))}t.request.initiatorType!=null&&wbe(r,t.request.url.href,t.request.initiatorType,globalThis,l,u,d)};let c=s(()=>{t.request.done=!0,t.processResponseEndOfBody!=null&&queueMicrotask(()=>t.processResponseEndOfBody(e)),t.request.initiatorType!=null&&t.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>c())},"processResponseEndOfBody");t.processResponse!=null&&queueMicrotask(()=>{t.processResponse(e),t.processResponse=null});let o=e.type==="error"?e:e.internalResponse??e;o.body==null?n():bct(o.body.stream,()=>{n()})}s(AJ,"fetchFinale");async function Rbe(t){let e=t.request,r=null,n=null,o=t.timingInfo;if(e.serviceWorkers,r===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),n=r=await kbe(t),e.responseTainting==="cors"&&rct(e,r)==="failure")return Ti("cors failure");K0t(e,r)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||r.type==="opaque")&&nct(e.origin,e.client,e.destination,n)==="blocked"?Ti("blocked"):(bbe.has(n.status)&&(e.redirect!=="manual"&&t.controller.connection.destroy(void 0,!1),e.redirect==="error"?r=Ti("unexpected redirect"):e.redirect==="manual"?r=n:e.redirect==="follow"?r=await Mct(t,r):_E(!1)),r.timingInfo=o,r)}s(Rbe,"httpFetch");function Mct(t,e){let r=t.request,n=e.internalResponse?e.internalResponse:e,o;try{if(o=X0t(n,sA(r).hash),o==null)return e}catch(c){return Promise.resolve(Ti(c))}if(!mJ(o))return Promise.resolve(Ti("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(Ti("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(o.username||o.password)&&!hJ(r,o))return Promise.resolve(Ti('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(o.username||o.password))return Promise.resolve(Ti('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(Ti());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!Nct.includes(r.method)){r.method="GET",r.body=null;for(let c of Cct)r.headersList.delete(c)}hJ(sA(r),o)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(_E(r.body.source!=null),r.body=gJ(r.body.source)[0]);let a=t.timingInfo;return a.redirectEndTime=a.postRedirectStartTime=nS(t.crossOriginIsolatedCapability),a.redirectStartTime===0&&(a.redirectStartTime=a.startTime),r.urlList.push(o),Z0t(r,n),Bbe(t,!0)}s(Mct,"httpRedirectFetch");async function kbe(t,e=!1,r=!1){let n=t.request,o=null,a=null,c=null,l=null,u=!1;n.window==="no-window"&&n.redirect==="error"?(o=t,a=n):(a=W0t(n),o={...t},o.request=a);let d=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",A=a.body?a.body.length:null,h=null;if(a.body==null&&["POST","PUT"].includes(a.method)&&(h="0"),A!=null&&(h=vP(`${A}`)),h!=null&&a.headersList.append("content-length",h,!0),A!=null&&a.keepalive,a.referrer instanceof URL&&a.headersList.append("referer",vP(a.referrer.href),!0),J0t(a),tct(a),a.headersList.contains("user-agent",!0)||a.headersList.append("user-agent",Qct),a.cache==="default"&&(a.headersList.contains("if-modified-since",!0)||a.headersList.contains("if-none-match",!0)||a.headersList.contains("if-unmodified-since",!0)||a.headersList.contains("if-match",!0)||a.headersList.contains("if-range",!0))&&(a.cache="no-store"),a.cache==="no-cache"&&!a.preventNoCacheCacheControlHeaderModification&&!a.headersList.contains("cache-control",!0)&&a.headersList.append("cache-control","max-age=0",!0),(a.cache==="no-store"||a.cache==="reload")&&(a.headersList.contains("pragma",!0)||a.headersList.append("pragma","no-cache",!0),a.headersList.contains("cache-control",!0)||a.headersList.append("cache-control","no-cache",!0)),a.headersList.contains("range",!0)&&a.headersList.append("accept-encoding","identity",!0),a.headersList.contains("accept-encoding",!0)||(fct(sA(a))?a.headersList.append("accept-encoding","br, gzip, deflate",!0):a.headersList.append("accept-encoding","gzip, deflate",!0)),a.headersList.delete("host",!0),l==null&&(a.cache="no-store"),a.cache!=="no-store"&&a.cache,c==null){if(a.cache==="only-if-cached")return Ti("only if cached");let p=await Oct(o,d,r);!yct.has(a.method)&&p.status>=200&&p.status<=399,u&&p.status,c==null&&(c=p)}if(c.urlList=[...a.urlList],a.headersList.contains("range",!0)&&(c.rangeRequested=!0),c.requestIncludesCredentials=d,c.status===407)return n.window==="no-window"?Ti():TE(t)?IP(t):Ti("proxy authentication required");if(c.status===421&&!r&&(n.body==null||n.body.source!=null)){if(TE(t))return IP(t);t.controller.connection.destroy(),c=await kbe(t,e,!0)}return c}s(kbe,"httpNetworkOrCacheFetch");async function Oct(t,e=!1,r=!1){_E(!t.controller.connection||t.controller.connection.destroyed),t.controller.connection={abort:null,destroyed:!1,destroy(E,v=!0){this.destroyed||(this.destroyed=!0,v&&this.abort?.(E??new DOMException("The operation was aborted.","AbortError")))}};let n=t.request,o=null,a=t.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let u=null;if(n.body==null&&t.processRequestEndOfBody)queueMicrotask(()=>t.processRequestEndOfBody());else if(n.body!=null){let E=s(async function*(_){TE(t)||(yield _,t.processRequestBodyChunkLength?.(_.byteLength))},"processBodyChunk"),v=s(()=>{TE(t)||t.processRequestEndOfBody&&t.processRequestEndOfBody()},"processEndOfBody"),w=s(_=>{TE(t)||(_.name==="AbortError"?t.controller.abort():t.controller.terminate(_))},"processBodyError");u=async function*(){try{for await(let _ of n.body.stream)yield*E(_);v()}catch(_){w(_)}}()}try{let{body:E,status:v,statusText:w,headersList:_,socket:S}=await y({body:u});if(S)o=xP({status:v,statusText:w,headersList:_,socket:S});else{let D=E[Symbol.asyncIterator]();t.controller.next=()=>D.next(),o=xP({status:v,statusText:w,headersList:_})}}catch(E){return E.name==="AbortError"?(t.controller.connection.destroy(),IP(t,E)):Ti(E)}let d=s(async()=>{await t.controller.resume()},"pullAlgorithm"),A=s(E=>{TE(t)||t.controller.abort(E)},"cancelAlgorithm"),h=new ReadableStream({async start(E){t.controller.controller=E},async pull(E){await d(E)},async cancel(E){await A(E)},type:"bytes"});o.body={stream:h,source:null,length:null},t.controller.onAborted=p,t.controller.on("terminated",p),t.controller.resume=async()=>{for(;;){let E,v;try{let{done:_,value:S}=await t.controller.next();if(Cbe(t))break;E=_?void 0:S}catch(_){t.controller.ended&&!a.encodedBodySize?E=void 0:(E=_,v=!0)}if(E===void 0){lct(t.controller.controller),Lct(t,o);return}if(a.decodedBodySize+=E?.byteLength??0,v){t.controller.terminate(E);return}let w=new Uint8Array(E);if(w.byteLength&&t.controller.controller.enqueue(w),_ct(h)){t.controller.terminate();return}if(t.controller.controller.desiredSize<=0)return}};function p(E){Cbe(t)?(o.aborted=!0,bP(h)&&t.controller.controller.error(t.controller.serializedAbortReason)):bP(h)&&t.controller.controller.error(new TypeError("terminated",{cause:act(E)?E:void 0})),t.controller.connection.destroy()}return s(p,"onAborted"),o;function y({body:E}){let v=sA(n),w=t.controller.dispatcher;return new Promise((_,S)=>w.dispatch({path:v.pathname+v.search,origin:v.origin,method:n.method,body:w.isMockActive?n.body&&(n.body.source||n.body.stream):E,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(D){let{connection:N}=t.controller;a.finalConnectionTimingInfo=dct(void 0,a.postRedirectStartTime,t.crossOriginIsolatedCapability),N.destroyed?D(new DOMException("The operation was aborted.","AbortError")):(t.controller.on("terminated",D),this.abort=N.abort=D),a.finalNetworkRequestStartTime=nS(t.crossOriginIsolatedCapability)},onResponseStarted(){a.finalNetworkResponseStartTime=nS(t.crossOriginIsolatedCapability)},onHeaders(D,N,P,O){if(D<200)return;let $=[],ne="",oe=new ybe;for(let ce=0;ce<N.length;ce+=2)oe.append(Ibe(N[ce]),N[ce+1].toString("latin1"),!0);let Ae=oe.get("content-encoding",!0);Ae&&($=Ae.toLowerCase().split(",").map(ce=>ce.trim())),ne=oe.get("location",!0),this.body=new xct({read:P});let Y=[],K=ne&&n.redirect==="follow"&&bbe.has(D);if($.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!Tbe.includes(D)&&!K)for(let ce=$.length-1;ce>=0;--ce){let J=$[ce];if(J==="x-gzip"||J==="gzip")Y.push(s1.createGunzip({flush:s1.constants.Z_SYNC_FLUSH,finishFlush:s1.constants.Z_SYNC_FLUSH}));else if(J==="deflate")Y.push(pct({flush:s1.constants.Z_SYNC_FLUSH,finishFlush:s1.constants.Z_SYNC_FLUSH}));else if(J==="br")Y.push(s1.createBrotliDecompress({flush:s1.constants.BROTLI_OPERATION_FLUSH,finishFlush:s1.constants.BROTLI_OPERATION_FLUSH}));else{Y.length=0;break}}let xe=this.onError.bind(this);return _({status:D,statusText:O,headersList:oe,body:Y.length?vct(this.body,...Y,ce=>{ce&&this.onError(ce)}).on("error",xe):this.body.on("error",xe)}),!0},onData(D){if(t.controller.dump)return;let N=D;return a.encodedBodySize+=N.byteLength,this.body.push(N)},onComplete(){this.abort&&t.controller.off("terminated",this.abort),t.controller.onAborted&&t.controller.off("terminated",t.controller.onAborted),t.controller.ended=!0,this.body.push(null)},onError(D){this.abort&&t.controller.off("terminated",this.abort),this.body?.destroy(D),t.controller.terminate(D),S(D)},onUpgrade(D,N,P){if(D!==101)return;let O=new ybe;for(let $=0;$<N.length;$+=2)O.append(Ibe(N[$]),N[$+1].toString("latin1"),!0);return _({status:D,statusText:Dct[D],headersList:O,socket:P}),!0}}))}s(y,"dispatch")}s(Oct,"httpNetworkFetch");Dbe.exports={fetch:Fct,Fetch:TP,fetching:Sbe,finalizeAndReportTiming:_be}});var yJ=q((BYr,Nbe)=>{"use strict";f();Nbe.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var Pbe=q((kYr,Qbe)=>{"use strict";f();var{webidl:ul}=Da(),_P=Symbol("ProgressEvent state"),CJ=class t extends Event{static{s(this,"ProgressEvent")}constructor(e,r={}){e=ul.converters.DOMString(e,"ProgressEvent constructor","type"),r=ul.converters.ProgressEventInit(r??{}),super(e,r),this[_P]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return ul.brandCheck(this,t),this[_P].lengthComputable}get loaded(){return ul.brandCheck(this,t),this[_P].loaded}get total(){return ul.brandCheck(this,t),this[_P].total}};ul.converters.ProgressEventInit=ul.dictionaryConverter([{key:"lengthComputable",converter:ul.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"loaded",converter:ul.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"total",converter:ul.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"bubbles",converter:ul.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:ul.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:ul.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}]);Qbe.exports={ProgressEvent:CJ}});var Lbe=q((QYr,Fbe)=>{"use strict";f();function Uct(t){if(!t)return"failure";switch(t.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}s(Uct,"getEncoding");Fbe.exports={getEncoding:Uct}});var Wbe=q((LYr,Vbe)=>{"use strict";f();var{kState:kb,kError:EJ,kResult:Mbe,kAborted:oS,kLastProgressEventFired:IJ}=yJ(),{ProgressEvent:Hct}=Pbe(),{getEncoding:Obe}=Lbe(),{serializeAMimeType:qct,parseMIMEType:Ube}=Ac(),{types:Gct}=require("node:util"),{StringDecoder:Hbe}=require("string_decoder"),{btoa:qbe}=require("node:buffer"),Vct={enumerable:!0,writable:!1,configurable:!1};function Wct(t,e,r,n){if(t[kb]==="loading")throw new DOMException("Invalid state","InvalidStateError");t[kb]="loading",t[Mbe]=null,t[EJ]=null;let a=e.stream().getReader(),c=[],l=a.read(),u=!0;(async()=>{for(;!t[oS];)try{let{done:d,value:A}=await l;if(u&&!t[oS]&&queueMicrotask(()=>{a1("loadstart",t)}),u=!1,!d&&Gct.isUint8Array(A))c.push(A),(t[IJ]===void 0||Date.now()-t[IJ]>=50)&&!t[oS]&&(t[IJ]=Date.now(),queueMicrotask(()=>{a1("progress",t)})),l=a.read();else if(d){queueMicrotask(()=>{t[kb]="done";try{let h=Yct(c,r,e.type,n);if(t[oS])return;t[Mbe]=h,a1("load",t)}catch(h){t[EJ]=h,a1("error",t)}t[kb]!=="loading"&&a1("loadend",t)});break}}catch(d){if(t[oS])return;queueMicrotask(()=>{t[kb]="done",t[EJ]=d,a1("error",t),t[kb]!=="loading"&&a1("loadend",t)});break}})()}s(Wct,"readOperation");function a1(t,e){let r=new Hct(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(r)}s(a1,"fireAProgressEvent");function Yct(t,e,r,n){switch(e){case"DataURL":{let o="data:",a=Ube(r||"application/octet-stream");a!=="failure"&&(o+=qct(a)),o+=";base64,";let c=new Hbe("latin1");for(let l of t)o+=qbe(c.write(l));return o+=qbe(c.end()),o}case"Text":{let o="failure";if(n&&(o=Obe(n)),o==="failure"&&r){let a=Ube(r);a!=="failure"&&(o=Obe(a.parameters.get("charset")))}return o==="failure"&&(o="UTF-8"),$ct(t,o)}case"ArrayBuffer":return Gbe(t).buffer;case"BinaryString":{let o="",a=new Hbe("latin1");for(let c of t)o+=a.write(c);return o+=a.end(),o}}}s(Yct,"packageData");function $ct(t,e){let r=Gbe(t),n=zct(r),o=0;n!==null&&(e=n,o=n==="UTF-8"?3:2);let a=r.slice(o);return new TextDecoder(e).decode(a)}s($ct,"decode");function zct(t){let[e,r,n]=t;return e===239&&r===187&&n===191?"UTF-8":e===254&&r===255?"UTF-16BE":e===255&&r===254?"UTF-16LE":null}s(zct,"BOMSniffing");function Gbe(t){let e=t.reduce((n,o)=>n+o.byteLength,0),r=0;return t.reduce((n,o)=>(n.set(o,r),r+=o.byteLength,n),new Uint8Array(e))}s(Gbe,"combineByteSequences");Vbe.exports={staticPropertyDescriptors:Vct,readOperation:Wct,fireAProgressEvent:a1}});var jbe=q((UYr,zbe)=>{"use strict";f();var{staticPropertyDescriptors:Db,readOperation:wP,fireAProgressEvent:Ybe}=Wbe(),{kState:wE,kError:$be,kResult:SP,kEvents:fi,kAborted:jct}=yJ(),{webidl:Bi}=Da(),{kEnumerableProperty:mc}=dn(),Bf=class t extends EventTarget{static{s(this,"FileReader")}constructor(){super(),this[wE]="empty",this[SP]=null,this[$be]=null,this[fi]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Bi.brandCheck(this,t),Bi.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),e=Bi.converters.Blob(e,{strict:!1}),wP(this,e,"ArrayBuffer")}readAsBinaryString(e){Bi.brandCheck(this,t),Bi.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),e=Bi.converters.Blob(e,{strict:!1}),wP(this,e,"BinaryString")}readAsText(e,r=void 0){Bi.brandCheck(this,t),Bi.argumentLengthCheck(arguments,1,"FileReader.readAsText"),e=Bi.converters.Blob(e,{strict:!1}),r!==void 0&&(r=Bi.converters.DOMString(r,"FileReader.readAsText","encoding")),wP(this,e,"Text",r)}readAsDataURL(e){Bi.brandCheck(this,t),Bi.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),e=Bi.converters.Blob(e,{strict:!1}),wP(this,e,"DataURL")}abort(){if(this[wE]==="empty"||this[wE]==="done"){this[SP]=null;return}this[wE]==="loading"&&(this[wE]="done",this[SP]=null),this[jct]=!0,Ybe("abort",this),this[wE]!=="loading"&&Ybe("loadend",this)}get readyState(){switch(Bi.brandCheck(this,t),this[wE]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Bi.brandCheck(this,t),this[SP]}get error(){return Bi.brandCheck(this,t),this[$be]}get onloadend(){return Bi.brandCheck(this,t),this[fi].loadend}set onloadend(e){Bi.brandCheck(this,t),this[fi].loadend&&this.removeEventListener("loadend",this[fi].loadend),typeof e=="function"?(this[fi].loadend=e,this.addEventListener("loadend",e)):this[fi].loadend=null}get onerror(){return Bi.brandCheck(this,t),this[fi].error}set onerror(e){Bi.brandCheck(this,t),this[fi].error&&this.removeEventListener("error",this[fi].error),typeof e=="function"?(this[fi].error=e,this.addEventListener("error",e)):this[fi].error=null}get onloadstart(){return Bi.brandCheck(this,t),this[fi].loadstart}set onloadstart(e){Bi.brandCheck(this,t),this[fi].loadstart&&this.removeEventListener("loadstart",this[fi].loadstart),typeof e=="function"?(this[fi].loadstart=e,this.addEventListener("loadstart",e)):this[fi].loadstart=null}get onprogress(){return Bi.brandCheck(this,t),this[fi].progress}set onprogress(e){Bi.brandCheck(this,t),this[fi].progress&&this.removeEventListener("progress",this[fi].progress),typeof e=="function"?(this[fi].progress=e,this.addEventListener("progress",e)):this[fi].progress=null}get onload(){return Bi.brandCheck(this,t),this[fi].load}set onload(e){Bi.brandCheck(this,t),this[fi].load&&this.removeEventListener("load",this[fi].load),typeof e=="function"?(this[fi].load=e,this.addEventListener("load",e)):this[fi].load=null}get onabort(){return Bi.brandCheck(this,t),this[fi].abort}set onabort(e){Bi.brandCheck(this,t),this[fi].abort&&this.removeEventListener("abort",this[fi].abort),typeof e=="function"?(this[fi].abort=e,this.addEventListener("abort",e)):this[fi].abort=null}};Bf.EMPTY=Bf.prototype.EMPTY=0;Bf.LOADING=Bf.prototype.LOADING=1;Bf.DONE=Bf.prototype.DONE=2;Object.defineProperties(Bf.prototype,{EMPTY:Db,LOADING:Db,DONE:Db,readAsArrayBuffer:mc,readAsBinaryString:mc,readAsText:mc,readAsDataURL:mc,abort:mc,readyState:mc,result:mc,error:mc,onloadstart:mc,onprogress:mc,onload:mc,onabort:mc,onerror:mc,onloadend:mc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Bf,{EMPTY:Db,LOADING:Db,DONE:Db});zbe.exports={FileReader:Bf}});var BP=q((GYr,Kbe)=>{"use strict";f();Kbe.exports={kConstruct:ho().kConstruct}});var Zbe=q((WYr,Xbe)=>{"use strict";f();var Kct=require("node:assert"),{URLSerializer:Jbe}=Ac(),{isValidHeaderName:Jct}=il();function Xct(t,e,r=!1){let n=Jbe(t,r),o=Jbe(e,r);return n===o}s(Xct,"urlEquals");function Zct(t){Kct(t!==null);let e=[];for(let r of t.split(","))r=r.trim(),Jct(r)&&e.push(r);return e}s(Zct,"getFieldValues");Xbe.exports={urlEquals:Xct,getFieldValues:Zct}});var r5e=q((zYr,t5e)=>{"use strict";f();var{kConstruct:elt}=BP(),{urlEquals:tlt,getFieldValues:xJ}=Zbe(),{kEnumerableProperty:SE,isDisturbed:rlt}=dn(),{webidl:Zt}=Da(),{Response:nlt,cloneResponse:ilt,fromInnerResponse:olt}=rS(),{Request:jh,fromInnerRequest:slt}=Rb(),{kState:Rf}=zg(),{fetching:alt}=iS(),{urlIsHttpHttpsScheme:RP,createDeferredPromise:Nb,readAllBytes:clt}=il(),vJ=require("node:assert"),kP=class t{static{s(this,"Cache")}#e;constructor(){arguments[0]!==elt&&Zt.illegalConstructor(),Zt.util.markAsUncloneable(this),this.#e=arguments[1]}async match(e,r={}){Zt.brandCheck(this,t);let n="Cache.match";Zt.argumentLengthCheck(arguments,1,n),e=Zt.converters.RequestInfo(e,n,"request"),r=Zt.converters.CacheQueryOptions(r,n,"options");let o=this.#r(e,r,1);if(o.length!==0)return o[0]}async matchAll(e=void 0,r={}){Zt.brandCheck(this,t);let n="Cache.matchAll";return e!==void 0&&(e=Zt.converters.RequestInfo(e,n,"request")),r=Zt.converters.CacheQueryOptions(r,n,"options"),this.#r(e,r)}async add(e){Zt.brandCheck(this,t);let r="Cache.add";Zt.argumentLengthCheck(arguments,1,r),e=Zt.converters.RequestInfo(e,r,"request");let n=[e];return await this.addAll(n)}async addAll(e){Zt.brandCheck(this,t);let r="Cache.addAll";Zt.argumentLengthCheck(arguments,1,r);let n=[],o=[];for(let p of e){if(p===void 0)throw Zt.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(p=Zt.converters.RequestInfo(p),typeof p=="string")continue;let y=p[Rf];if(!RP(y.url)||y.method!=="GET")throw Zt.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let a=[];for(let p of e){let y=new jh(p)[Rf];if(!RP(y.url))throw Zt.errors.exception({header:r,message:"Expected http/s scheme."});y.initiator="fetch",y.destination="subresource",o.push(y);let E=Nb();a.push(alt({request:y,processResponse(v){if(v.type==="error"||v.status===206||v.status<200||v.status>299)E.reject(Zt.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(v.headersList.contains("vary")){let w=xJ(v.headersList.get("vary"));for(let _ of w)if(_==="*"){E.reject(Zt.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let S of a)S.abort();return}}},processResponseEndOfBody(v){if(v.aborted){E.reject(new DOMException("aborted","AbortError"));return}E.resolve(v)}})),n.push(E.promise)}let l=await Promise.all(n),u=[],d=0;for(let p of l){let y={type:"put",request:o[d],response:p};u.push(y),d++}let A=Nb(),h=null;try{this.#t(u)}catch(p){h=p}return queueMicrotask(()=>{h===null?A.resolve(void 0):A.reject(h)}),A.promise}async put(e,r){Zt.brandCheck(this,t);let n="Cache.put";Zt.argumentLengthCheck(arguments,2,n),e=Zt.converters.RequestInfo(e,n,"request"),r=Zt.converters.Response(r,n,"response");let o=null;if(e instanceof jh?o=e[Rf]:o=new jh(e)[Rf],!RP(o.url)||o.method!=="GET")throw Zt.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let a=r[Rf];if(a.status===206)throw Zt.errors.exception({header:n,message:"Got 206 status"});if(a.headersList.contains("vary")){let y=xJ(a.headersList.get("vary"));for(let E of y)if(E==="*")throw Zt.errors.exception({header:n,message:"Got * vary field value"})}if(a.body&&(rlt(a.body.stream)||a.body.stream.locked))throw Zt.errors.exception({header:n,message:"Response body is locked or disturbed"});let c=ilt(a),l=Nb();if(a.body!=null){let E=a.body.stream.getReader();clt(E).then(l.resolve,l.reject)}else l.resolve(void 0);let u=[],d={type:"put",request:o,response:c};u.push(d);let A=await l.promise;c.body!=null&&(c.body.source=A);let h=Nb(),p=null;try{this.#t(u)}catch(y){p=y}return queueMicrotask(()=>{p===null?h.resolve():h.reject(p)}),h.promise}async delete(e,r={}){Zt.brandCheck(this,t);let n="Cache.delete";Zt.argumentLengthCheck(arguments,1,n),e=Zt.converters.RequestInfo(e,n,"request"),r=Zt.converters.CacheQueryOptions(r,n,"options");let o=null;if(e instanceof jh){if(o=e[Rf],o.method!=="GET"&&!r.ignoreMethod)return!1}else vJ(typeof e=="string"),o=new jh(e)[Rf];let a=[],c={type:"delete",request:o,options:r};a.push(c);let l=Nb(),u=null,d;try{d=this.#t(a)}catch(A){u=A}return queueMicrotask(()=>{u===null?l.resolve(!!d?.length):l.reject(u)}),l.promise}async keys(e=void 0,r={}){Zt.brandCheck(this,t);let n="Cache.keys";e!==void 0&&(e=Zt.converters.RequestInfo(e,n,"request")),r=Zt.converters.CacheQueryOptions(r,n,"options");let o=null;if(e!==void 0)if(e instanceof jh){if(o=e[Rf],o.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(o=new jh(e)[Rf]);let a=Nb(),c=[];if(e===void 0)for(let l of this.#e)c.push(l[0]);else{let l=this.#i(o,r);for(let u of l)c.push(u[0])}return queueMicrotask(()=>{let l=[];for(let u of c){let d=slt(u,new AbortController().signal,"immutable");l.push(d)}a.resolve(Object.freeze(l))}),a.promise}#t(e){let r=this.#e,n=[...r],o=[],a=[];try{for(let c of e){if(c.type!=="delete"&&c.type!=="put")throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(c.type==="delete"&&c.response!=null)throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(c.request,c.options,o).length)throw new DOMException("???","InvalidStateError");let l;if(c.type==="delete"){if(l=this.#i(c.request,c.options),l.length===0)return[];for(let u of l){let d=r.indexOf(u);vJ(d!==-1),r.splice(d,1)}}else if(c.type==="put"){if(c.response==null)throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let u=c.request;if(!RP(u.url))throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(u.method!=="GET")throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(c.options!=null)throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(c.request);for(let d of l){let A=r.indexOf(d);vJ(A!==-1),r.splice(A,1)}r.push([c.request,c.response]),o.push([c.request,c.response])}a.push([c.request,c.response])}return a}catch(c){throw this.#e.length=0,this.#e=n,c}}#i(e,r,n){let o=[],a=n??this.#e;for(let c of a){let[l,u]=c;this.#n(e,l,u,r)&&o.push(c)}return o}#n(e,r,n=null,o){let a=new URL(e.url),c=new URL(r.url);if(o?.ignoreSearch&&(c.search="",a.search=""),!tlt(a,c,!0))return!1;if(n==null||o?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=xJ(n.headersList.get("vary"));for(let u of l){if(u==="*")return!1;let d=r.headersList.get(u),A=e.headersList.get(u);if(d!==A)return!1}return!0}#r(e,r,n=1/0){let o=null;if(e!==void 0)if(e instanceof jh){if(o=e[Rf],o.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(o=new jh(e)[Rf]);let a=[];if(e===void 0)for(let l of this.#e)a.push(l[1]);else{let l=this.#i(o,r);for(let u of l)a.push(u[1])}let c=[];for(let l of a){let u=olt(l,"immutable");if(c.push(u.clone()),c.length>=n)break}return Object.freeze(c)}};Object.defineProperties(kP.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:SE,matchAll:SE,add:SE,addAll:SE,put:SE,delete:SE,keys:SE});var e5e=[{key:"ignoreSearch",converter:Zt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Zt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Zt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];Zt.converters.CacheQueryOptions=Zt.dictionaryConverter(e5e);Zt.converters.MultiCacheQueryOptions=Zt.dictionaryConverter([...e5e,{key:"cacheName",converter:Zt.converters.DOMString}]);Zt.converters.Response=Zt.interfaceConverter(nlt);Zt.converters["sequence<RequestInfo>"]=Zt.sequenceConverter(Zt.converters.RequestInfo);t5e.exports={Cache:kP}});var i5e=q((JYr,n5e)=>{"use strict";f();var{kConstruct:sS}=BP(),{Cache:DP}=r5e(),{webidl:o0}=Da(),{kEnumerableProperty:aS}=dn(),NP=class t{static{s(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==sS&&o0.illegalConstructor(),o0.util.markAsUncloneable(this)}async match(e,r={}){if(o0.brandCheck(this,t),o0.argumentLengthCheck(arguments,1,"CacheStorage.match"),e=o0.converters.RequestInfo(e),r=o0.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new DP(sS,n).match(e,r)}}else for(let n of this.#e.values()){let a=await new DP(sS,n).match(e,r);if(a!==void 0)return a}}async has(e){o0.brandCheck(this,t);let r="CacheStorage.has";return o0.argumentLengthCheck(arguments,1,r),e=o0.converters.DOMString(e,r,"cacheName"),this.#e.has(e)}async open(e){o0.brandCheck(this,t);let r="CacheStorage.open";if(o0.argumentLengthCheck(arguments,1,r),e=o0.converters.DOMString(e,r,"cacheName"),this.#e.has(e)){let o=this.#e.get(e);return new DP(sS,o)}let n=[];return this.#e.set(e,n),new DP(sS,n)}async delete(e){o0.brandCheck(this,t);let r="CacheStorage.delete";return o0.argumentLengthCheck(arguments,1,r),e=o0.converters.DOMString(e,r,"cacheName"),this.#e.delete(e)}async keys(){return o0.brandCheck(this,t),[...this.#e.keys()]}};Object.defineProperties(NP.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:aS,has:aS,open:aS,delete:aS,keys:aS});n5e.exports={CacheStorage:NP}});var s5e=q((e$r,o5e)=>{"use strict";f();o5e.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var bJ=q((r$r,f5e)=>{"use strict";f();function llt(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}s(llt,"isCTLExcludingHtab");function a5e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}s(a5e,"validateCookieName");function c5e(t){let e=t.length,r=0;if(t[0]==='"'){if(e===1||t[e-1]!=='"')throw new Error("Invalid cookie value");--e,++r}for(;r<e;){let n=t.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}s(c5e,"validateCookieValue");function l5e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}s(l5e,"validateCookiePath");function ult(t){if(t.startsWith("-")||t.endsWith(".")||t.endsWith("-"))throw new Error("Invalid cookie domain")}s(ult,"validateCookieDomain");var flt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dlt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],QP=Array(61).fill(0).map((t,e)=>e.toString().padStart(2,"0"));function u5e(t){return typeof t=="number"&&(t=new Date(t)),`${flt[t.getUTCDay()]}, ${QP[t.getUTCDate()]} ${dlt[t.getUTCMonth()]} ${t.getUTCFullYear()} ${QP[t.getUTCHours()]}:${QP[t.getUTCMinutes()]}:${QP[t.getUTCSeconds()]} GMT`}s(u5e,"toIMFDate");function Alt(t){if(t<0)throw new Error("Invalid cookie max-age")}s(Alt,"validateCookieMaxAge");function hlt(t){if(t.name.length===0)return null;a5e(t.name),c5e(t.value);let e=[`${t.name}=${t.value}`];t.name.startsWith("__Secure-")&&(t.secure=!0),t.name.startsWith("__Host-")&&(t.secure=!0,t.domain=null,t.path="/"),t.secure&&e.push("Secure"),t.httpOnly&&e.push("HttpOnly"),typeof t.maxAge=="number"&&(Alt(t.maxAge),e.push(`Max-Age=${t.maxAge}`)),t.domain&&(ult(t.domain),e.push(`Domain=${t.domain}`)),t.path&&(l5e(t.path),e.push(`Path=${t.path}`)),t.expires&&t.expires.toString()!=="Invalid Date"&&e.push(`Expires=${u5e(t.expires)}`),t.sameSite&&e.push(`SameSite=${t.sameSite}`);for(let r of t.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...o]=r.split("=");e.push(`${n.trim()}=${o.join("=")}`)}return e.join("; ")}s(hlt,"stringify");f5e.exports={isCTLExcludingHtab:llt,validateCookieName:a5e,validateCookiePath:l5e,validateCookieValue:c5e,toIMFDate:u5e,stringify:hlt}});var A5e=q((o$r,d5e)=>{"use strict";f();var{maxNameValuePairSize:plt,maxAttributeValueSize:mlt}=s5e(),{isCTLExcludingHtab:glt}=bJ(),{collectASequenceOfCodePointsFast:PP}=Ac(),ylt=require("node:assert");function Clt(t){if(glt(t))return null;let e="",r="",n="",o="";if(t.includes(";")){let a={position:0};e=PP(";",t,a),r=t.slice(a.position)}else e=t;if(!e.includes("="))o=e;else{let a={position:0};n=PP("=",e,a),o=e.slice(a.position+1)}return n=n.trim(),o=o.trim(),n.length+o.length>plt?null:{name:n,value:o,...Qb(r)}}s(Clt,"parseSetCookie");function Qb(t,e={}){if(t.length===0)return e;ylt(t[0]===";"),t=t.slice(1);let r="";t.includes(";")?(r=PP(";",t,{position:0}),t=t.slice(r.length)):(r=t,t="");let n="",o="";if(r.includes("=")){let c={position:0};n=PP("=",r,c),o=r.slice(c.position+1)}else n=r;if(n=n.trim(),o=o.trim(),o.length>mlt)return Qb(t,e);let a=n.toLowerCase();if(a==="expires"){let c=new Date(o);e.expires=c}else if(a==="max-age"){let c=o.charCodeAt(0);if((c<48||c>57)&&o[0]!=="-"||!/^\d+$/.test(o))return Qb(t,e);let l=Number(o);e.maxAge=l}else if(a==="domain"){let c=o;c[0]==="."&&(c=c.slice(1)),c=c.toLowerCase(),e.domain=c}else if(a==="path"){let c="";o.length===0||o[0]!=="/"?c="/":c=o,e.path=c}else if(a==="secure")e.secure=!0;else if(a==="httponly")e.httpOnly=!0;else if(a==="samesite"){let c="Default",l=o.toLowerCase();l.includes("none")&&(c="None"),l.includes("strict")&&(c="Strict"),l.includes("lax")&&(c="Lax"),e.sameSite=c}else e.unparsed??=[],e.unparsed.push(`${n}=${o}`);return Qb(t,e)}s(Qb,"parseUnparsedAttributes");d5e.exports={parseSetCookie:Clt,parseUnparsedAttributes:Qb}});var m5e=q((c$r,p5e)=>{"use strict";f();var{parseSetCookie:Elt}=A5e(),{stringify:Ilt}=bJ(),{webidl:Rn}=Da(),{Headers:FP}=vE();function xlt(t){Rn.argumentLengthCheck(arguments,1,"getCookies"),Rn.brandCheck(t,FP,{strict:!1});let e=t.get("cookie"),r={};if(!e)return r;for(let n of e.split(";")){let[o,...a]=n.split("=");r[o.trim()]=a.join("=")}return r}s(xlt,"getCookies");function vlt(t,e,r){Rn.brandCheck(t,FP,{strict:!1});let n="deleteCookie";Rn.argumentLengthCheck(arguments,2,n),e=Rn.converters.DOMString(e,n,"name"),r=Rn.converters.DeleteCookieAttributes(r),h5e(t,{name:e,value:"",expires:new Date(0),...r})}s(vlt,"deleteCookie");function blt(t){Rn.argumentLengthCheck(arguments,1,"getSetCookies"),Rn.brandCheck(t,FP,{strict:!1});let e=t.getSetCookie();return e?e.map(r=>Elt(r)):[]}s(blt,"getSetCookies");function h5e(t,e){Rn.argumentLengthCheck(arguments,2,"setCookie"),Rn.brandCheck(t,FP,{strict:!1}),e=Rn.converters.Cookie(e);let r=Ilt(e);r&&t.append("Set-Cookie",r)}s(h5e,"setCookie");Rn.converters.DeleteCookieAttributes=Rn.dictionaryConverter([{converter:Rn.nullableConverter(Rn.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")}]);Rn.converters.Cookie=Rn.dictionaryConverter([{converter:Rn.converters.DOMString,key:"name"},{converter:Rn.converters.DOMString,key:"value"},{converter:Rn.nullableConverter(t=>typeof t=="number"?Rn.converters["unsigned long long"](t):new Date(t)),key:"expires",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters["long long"]),key:"maxAge",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.boolean),key:"secure",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.boolean),key:"httpOnly",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Rn.sequenceConverter(Rn.converters.DOMString),key:"unparsed",defaultValue:s(()=>new Array(0),"defaultValue")}]);p5e.exports={getCookies:xlt,deleteCookie:vlt,getSetCookies:blt,setCookie:h5e}});var Fb=q((f$r,y5e)=>{"use strict";f();var{webidl:Kt}=Da(),{kEnumerableProperty:gc}=dn(),{kConstruct:g5e}=ho(),{MessagePort:Tlt}=require("node:worker_threads"),Pb=class t extends Event{static{s(this,"MessageEvent")}#e;constructor(e,r={}){if(e===g5e){super(arguments[1],arguments[2]),Kt.util.markAsUncloneable(this);return}let n="MessageEvent constructor";Kt.argumentLengthCheck(arguments,1,n),e=Kt.converters.DOMString(e,n,"type"),r=Kt.converters.MessageEventInit(r,n,"eventInitDict"),super(e,r),this.#e=r,Kt.util.markAsUncloneable(this)}get data(){return Kt.brandCheck(this,t),this.#e.data}get origin(){return Kt.brandCheck(this,t),this.#e.origin}get lastEventId(){return Kt.brandCheck(this,t),this.#e.lastEventId}get source(){return Kt.brandCheck(this,t),this.#e.source}get ports(){return Kt.brandCheck(this,t),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,r=!1,n=!1,o=null,a="",c="",l=null,u=[]){return Kt.brandCheck(this,t),Kt.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new t(e,{bubbles:r,cancelable:n,data:o,origin:a,lastEventId:c,source:l,ports:u})}static createFastMessageEvent(e,r){let n=new t(g5e,e,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:_lt}=Pb;delete Pb.createFastMessageEvent;var LP=class t extends Event{static{s(this,"CloseEvent")}#e;constructor(e,r={}){let n="CloseEvent constructor";Kt.argumentLengthCheck(arguments,1,n),e=Kt.converters.DOMString(e,n,"type"),r=Kt.converters.CloseEventInit(r),super(e,r),this.#e=r,Kt.util.markAsUncloneable(this)}get wasClean(){return Kt.brandCheck(this,t),this.#e.wasClean}get code(){return Kt.brandCheck(this,t),this.#e.code}get reason(){return Kt.brandCheck(this,t),this.#e.reason}},MP=class t extends Event{static{s(this,"ErrorEvent")}#e;constructor(e,r){let n="ErrorEvent constructor";Kt.argumentLengthCheck(arguments,1,n),super(e,r),Kt.util.markAsUncloneable(this),e=Kt.converters.DOMString(e,n,"type"),r=Kt.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return Kt.brandCheck(this,t),this.#e.message}get filename(){return Kt.brandCheck(this,t),this.#e.filename}get lineno(){return Kt.brandCheck(this,t),this.#e.lineno}get colno(){return Kt.brandCheck(this,t),this.#e.colno}get error(){return Kt.brandCheck(this,t),this.#e.error}};Object.defineProperties(Pb.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:gc,origin:gc,lastEventId:gc,source:gc,ports:gc,initMessageEvent:gc});Object.defineProperties(LP.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:gc,code:gc,wasClean:gc});Object.defineProperties(MP.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:gc,filename:gc,lineno:gc,colno:gc,error:gc});Kt.converters.MessagePort=Kt.interfaceConverter(Tlt);Kt.converters["sequence<MessagePort>"]=Kt.sequenceConverter(Kt.converters.MessagePort);var TJ=[{key:"bubbles",converter:Kt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:Kt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:Kt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];Kt.converters.MessageEventInit=Kt.dictionaryConverter([...TJ,{key:"data",converter:Kt.converters.any,defaultValue:s(()=>null,"defaultValue")},{key:"origin",converter:Kt.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lastEventId",converter:Kt.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"source",converter:Kt.nullableConverter(Kt.converters.MessagePort),defaultValue:s(()=>null,"defaultValue")},{key:"ports",converter:Kt.converters["sequence<MessagePort>"],defaultValue:s(()=>new Array(0),"defaultValue")}]);Kt.converters.CloseEventInit=Kt.dictionaryConverter([...TJ,{key:"wasClean",converter:Kt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"code",converter:Kt.converters["unsigned short"],defaultValue:s(()=>0,"defaultValue")},{key:"reason",converter:Kt.converters.USVString,defaultValue:s(()=>"","defaultValue")}]);Kt.converters.ErrorEventInit=Kt.dictionaryConverter([...TJ,{key:"message",converter:Kt.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"filename",converter:Kt.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lineno",converter:Kt.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"colno",converter:Kt.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"error",converter:Kt.converters.any}]);y5e.exports={MessageEvent:Pb,CloseEvent:LP,ErrorEvent:MP,createFastMessageEvent:_lt}});var BE=q((h$r,C5e)=>{"use strict";f();var wlt="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",Slt={enumerable:!0,writable:!1,configurable:!1},Blt={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},Rlt={NOT_SENT:0,PROCESSING:1,SENT:2},klt={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},Dlt=2**16-1,Nlt={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},Qlt=Buffer.allocUnsafe(0),Plt={string:1,typedArray:2,arrayBuffer:3,blob:4};C5e.exports={uid:wlt,sentCloseFrameState:Rlt,staticPropertyDescriptors:Slt,states:Blt,opcodes:klt,maxUnsigned16Bit:Dlt,parserStates:Nlt,emptyBuffer:Qlt,sendHints:Plt}});var cS=q((m$r,E5e)=>{"use strict";f();E5e.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var fS=q((y$r,B5e)=>{"use strict";f();var{kReadyState:lS,kController:Flt,kResponse:Llt,kBinaryType:Mlt,kWebSocketURL:Olt}=cS(),{states:uS,opcodes:c1}=BE(),{ErrorEvent:Ult,createFastMessageEvent:Hlt}=Fb(),{isUtf8:qlt}=require("node:buffer"),{collectASequenceOfCodePointsFast:Glt,removeHTTPWhitespace:I5e}=Ac();function Vlt(t){return t[lS]===uS.CONNECTING}s(Vlt,"isConnecting");function Wlt(t){return t[lS]===uS.OPEN}s(Wlt,"isEstablished");function Ylt(t){return t[lS]===uS.CLOSING}s(Ylt,"isClosing");function $lt(t){return t[lS]===uS.CLOSED}s($lt,"isClosed");function _J(t,e,r=(o,a)=>new Event(o,a),n={}){let o=r(t,n);e.dispatchEvent(o)}s(_J,"fireEvent");function zlt(t,e,r){if(t[lS]!==uS.OPEN)return;let n;if(e===c1.TEXT)try{n=S5e(r)}catch{v5e(t,"Received invalid UTF-8 in text frame.");return}else e===c1.BINARY&&(t[Mlt]==="blob"?n=new Blob([r]):n=jlt(r));_J("message",t,Hlt,{origin:t[Olt].origin,data:n})}s(zlt,"websocketMessageReceived");function jlt(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}s(jlt,"toArrayBuffer");function Klt(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}s(Klt,"isValidSubprotocol");function Jlt(t){return t>=1e3&&t<1015?t!==1004&&t!==1005&&t!==1006:t>=3e3&&t<=4999}s(Jlt,"isValidStatusCode");function v5e(t,e){let{[Flt]:r,[Llt]:n}=t;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),e&&_J("error",t,(o,a)=>new Ult(o,a),{error:new Error(e),message:e})}s(v5e,"failWebsocketConnection");function b5e(t){return t===c1.CLOSE||t===c1.PING||t===c1.PONG}s(b5e,"isControlFrame");function T5e(t){return t===c1.CONTINUATION}s(T5e,"isContinuationFrame");function _5e(t){return t===c1.TEXT||t===c1.BINARY}s(_5e,"isTextBinaryFrame");function Xlt(t){return _5e(t)||T5e(t)||b5e(t)}s(Xlt,"isValidOpcode");function Zlt(t){let e={position:0},r=new Map;for(;e.position<t.length;){let n=Glt(";",t,e),[o,a=""]=n.split("=");r.set(I5e(o,!0,!1),I5e(a,!1,!0)),e.position++}return r}s(Zlt,"parseExtensions");function eut(t){for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r<48||r>57)return!1}return!0}s(eut,"isValidClientWindowBits");var w5e=typeof process.versions.icu=="string",x5e=w5e?new TextDecoder("utf-8",{fatal:!0}):void 0,S5e=w5e?x5e.decode.bind(x5e):function(t){if(qlt(t))return t.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};B5e.exports={isConnecting:Vlt,isEstablished:Wlt,isClosing:Ylt,isClosed:$lt,fireEvent:_J,isValidSubprotocol:Klt,isValidStatusCode:Jlt,failWebsocketConnection:v5e,websocketMessageReceived:zlt,utf8Decode:S5e,isControlFrame:b5e,isContinuationFrame:T5e,isTextBinaryFrame:_5e,isValidOpcode:Xlt,parseExtensions:Zlt,isValidClientWindowBits:eut}});var UP=q((I$r,R5e)=>{"use strict";f();var{maxUnsigned16Bit:tut}=BE(),OP=16386,wJ,dS=null,Lb=OP;try{wJ=require("node:crypto")}catch{wJ={randomFillSync:s(function(e,r,n){for(let o=0;o<e.length;++o)e[o]=Math.random()*255|0;return e},"randomFillSync")}}function rut(){return Lb===OP&&(Lb=0,wJ.randomFillSync(dS??=Buffer.allocUnsafe(OP),0,OP)),[dS[Lb++],dS[Lb++],dS[Lb++],dS[Lb++]]}s(rut,"generateMask");var SJ=class{static{s(this,"WebsocketFrameSend")}constructor(e){this.frameData=e}createFrame(e){let r=this.frameData,n=rut(),o=r?.byteLength??0,a=o,c=6;o>tut?(c+=8,a=127):o>125&&(c+=2,a=126);let l=Buffer.allocUnsafe(o+c);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+e;l[c-4]=n[0],l[c-3]=n[1],l[c-2]=n[2],l[c-1]=n[3],l[1]=a,a===126?l.writeUInt16BE(o,2):a===127&&(l[2]=l[3]=0,l.writeUIntBE(o,4,6)),l[1]|=128;for(let u=0;u<o;++u)l[c+u]=r[u]^n[u&3];return l}};R5e.exports={WebsocketFrameSend:SJ}});var RJ=q((b$r,L5e)=>{"use strict";f();var{uid:nut,states:AS,sentCloseFrameState:HP,emptyBuffer:iut,opcodes:sut}=BE(),{kReadyState:hS,kSentClose:qP,kByteParser:D5e,kReceivedClose:k5e,kResponse:N5e}=cS(),{fireEvent:aut,failWebsocketConnection:l1,isClosing:cut,isClosed:lut,isEstablished:uut,parseExtensions:fut}=fS(),{channels:Mb}=Jv(),{CloseEvent:dut}=Fb(),{makeRequest:Aut}=Rb(),{fetching:hut}=iS(),{Headers:put,getHeadersList:mut}=vE(),{getDecodeSplit:gut}=il(),{WebsocketFrameSend:yut}=UP(),BJ;try{BJ=require("node:crypto")}catch{}function Cut(t,e,r,n,o,a){let c=t;c.protocol=t.protocol==="ws:"?"http:":"https:";let l=Aut({urlList:[c],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(a.headers){let h=mut(new put(a.headers));l.headersList=h}let u=BJ.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",u),l.headersList.append("sec-websocket-version","13");for(let h of e)l.headersList.append("sec-websocket-protocol",h);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),hut({request:l,useParallelQueue:!0,dispatcher:a.dispatcher,processResponse(h){if(h.type==="error"||h.status!==101){l1(n,"Received network error or non-101 status code.");return}if(e.length!==0&&!h.headersList.get("Sec-WebSocket-Protocol")){l1(n,"Server did not respond with sent protocols.");return}if(h.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){l1(n,'Server did not set Upgrade header to "websocket".');return}if(h.headersList.get("Connection")?.toLowerCase()!=="upgrade"){l1(n,'Server did not set Connection header to "upgrade".');return}let p=h.headersList.get("Sec-WebSocket-Accept"),y=BJ.createHash("sha1").update(u+nut).digest("base64");if(p!==y){l1(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let E=h.headersList.get("Sec-WebSocket-Extensions"),v;if(E!==null&&(v=fut(E),!v.has("permessage-deflate"))){l1(n,"Sec-WebSocket-Extensions header does not match.");return}let w=h.headersList.get("Sec-WebSocket-Protocol");if(w!==null&&!gut("sec-websocket-protocol",l.headersList).includes(w)){l1(n,"Protocol was not set in the opening handshake.");return}h.socket.on("data",Q5e),h.socket.on("close",P5e),h.socket.on("error",F5e),Mb.open.hasSubscribers&&Mb.open.publish({address:h.socket.address(),protocol:w,extensions:E}),o(h,v)}})}s(Cut,"establishWebSocketConnection");function Eut(t,e,r,n){if(!(cut(t)||lut(t)))if(!uut(t))l1(t,"Connection was closed before it was established."),t[hS]=AS.CLOSING;else if(t[qP]===HP.NOT_SENT){t[qP]=HP.PROCESSING;let o=new yut;e!==void 0&&r===void 0?(o.frameData=Buffer.allocUnsafe(2),o.frameData.writeUInt16BE(e,0)):e!==void 0&&r!==void 0?(o.frameData=Buffer.allocUnsafe(2+n),o.frameData.writeUInt16BE(e,0),o.frameData.write(r,2,"utf-8")):o.frameData=iut,t[N5e].socket.write(o.createFrame(sut.CLOSE)),t[qP]=HP.SENT,t[hS]=AS.CLOSING}else t[hS]=AS.CLOSING}s(Eut,"closeWebSocketConnection");function Q5e(t){this.ws[D5e].write(t)||this.pause()}s(Q5e,"onSocketData");function P5e(){let{ws:t}=this,{[N5e]:e}=t;e.socket.off("data",Q5e),e.socket.off("close",P5e),e.socket.off("error",F5e);let r=t[qP]===HP.SENT&&t[k5e],n=1005,o="",a=t[D5e].closingInfo;a&&!a.error?(n=a.code??1005,o=a.reason):t[k5e]||(n=1006),t[hS]=AS.CLOSED,aut("close",t,(c,l)=>new dut(c,l),{wasClean:r,code:n,reason:o}),Mb.close.hasSubscribers&&Mb.close.publish({websocket:t,code:n,reason:o})}s(P5e,"onSocketClose");function F5e(t){let{ws:e}=this;e[hS]=AS.CLOSING,Mb.socketError.hasSubscribers&&Mb.socketError.publish(t),this.destroy()}s(F5e,"onSocketError");L5e.exports={establishWebSocketConnection:Cut,closeWebSocketConnection:Eut}});var O5e=q((w$r,M5e)=>{"use strict";f();var{createInflateRaw:Iut,Z_DEFAULT_WINDOWBITS:xut}=require("node:zlib"),{isValidClientWindowBits:vut}=fS(),but=Buffer.from([0,0,255,255]),GP=Symbol("kBuffer"),VP=Symbol("kLength"),kJ=class{static{s(this,"PerMessageDeflate")}#e;#t={};constructor(e){this.#t.serverNoContextTakeover=e.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=e.get("server_max_window_bits")}decompress(e,r,n){if(!this.#e){let o=xut;if(this.#t.serverMaxWindowBits){if(!vut(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}o=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=Iut({windowBits:o}),this.#e[GP]=[],this.#e[VP]=0,this.#e.on("data",a=>{this.#e[GP].push(a),this.#e[VP]+=a.length}),this.#e.on("error",a=>{this.#e=null,n(a)})}this.#e.write(e),r&&this.#e.write(but),this.#e.flush(()=>{let o=Buffer.concat(this.#e[GP],this.#e[VP]);this.#e[GP].length=0,this.#e[VP]=0,n(null,o)})}};M5e.exports={PerMessageDeflate:kJ}});var K5e=q((R$r,j5e)=>{"use strict";f();var{Writable:Tut}=require("node:stream"),_ut=require("node:assert"),{parserStates:yc,opcodes:Ob,states:wut,emptyBuffer:U5e,sentCloseFrameState:H5e}=BE(),{kReadyState:Sut,kSentClose:q5e,kResponse:G5e,kReceivedClose:V5e}=cS(),{channels:WP}=Jv(),{isValidStatusCode:But,isValidOpcode:Rut,failWebsocketConnection:fu,websocketMessageReceived:W5e,utf8Decode:kut,isControlFrame:Y5e,isTextBinaryFrame:DJ,isContinuationFrame:Dut}=fS(),{WebsocketFrameSend:$5e}=UP(),{closeWebSocketConnection:z5e}=RJ(),{PerMessageDeflate:Nut}=O5e(),NJ=class extends Tut{static{s(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=yc.INFO;#r={};#o=[];#s;constructor(e,r){super(),this.ws=e,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new Nut(r))}_write(e,r,n){this.#e.push(e),this.#t+=e.length,this.#i=!0,this.run(n)}run(e){for(;this.#i;)if(this.#n===yc.INFO){if(this.#t<2)return e();let r=this.consume(2),n=(r[0]&128)!==0,o=r[0]&15,a=(r[1]&128)===128,c=!n&&o!==Ob.CONTINUATION,l=r[1]&127,u=r[0]&64,d=r[0]&32,A=r[0]&16;if(!Rut(o))return fu(this.ws,"Invalid opcode received"),e();if(a)return fu(this.ws,"Frame cannot be masked"),e();if(u!==0&&!this.#s.has("permessage-deflate")){fu(this.ws,"Expected RSV1 to be clear.");return}if(d!==0||A!==0){fu(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(c&&!DJ(o)){fu(this.ws,"Invalid frame type was fragmented.");return}if(DJ(o)&&this.#o.length>0){fu(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&c){fu(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||c)&&Y5e(o)){fu(this.ws,"Control frame either too large or fragmented");return}if(Dut(o)&&this.#o.length===0&&!this.#r.compressed){fu(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=yc.READ_DATA):l===126?this.#n=yc.PAYLOADLENGTH_16:l===127&&(this.#n=yc.PAYLOADLENGTH_64),DJ(o)&&(this.#r.binaryType=o,this.#r.compressed=u!==0),this.#r.opcode=o,this.#r.masked=a,this.#r.fin=n,this.#r.fragmented=c}else if(this.#n===yc.PAYLOADLENGTH_16){if(this.#t<2)return e();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=yc.READ_DATA}else if(this.#n===yc.PAYLOADLENGTH_64){if(this.#t<8)return e();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){fu(this.ws,"Received payload length > 2^31 bytes.");return}let o=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+o,this.#n=yc.READ_DATA}else if(this.#n===yc.READ_DATA){if(this.#t<this.#r.payloadLength)return e();let r=this.consume(this.#r.payloadLength);if(Y5e(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=yc.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,o)=>{if(n){z5e(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(o),!this.#r.fin){this.#n=yc.INFO,this.#i=!0,this.run(e);return}W5e(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=yc.INFO,this.#o.length=0,this.run(e)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);W5e(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=yc.INFO}}}consume(e){if(e>this.#t)throw new Error("Called consume() before buffers satiated.");if(e===0)return U5e;if(this.#e[0].length===e)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(e),n=0;for(;n!==e;){let o=this.#e[0],{length:a}=o;if(a+n===e){r.set(this.#e.shift(),n);break}else if(a+n>e){r.set(o.subarray(0,e-n),n),this.#e[0]=o.subarray(e-n);break}else r.set(this.#e.shift(),n),n+=o.length}return this.#t-=e,r}parseCloseBody(e){_ut(e.length!==1);let r;if(e.length>=2&&(r=e.readUInt16BE(0)),r!==void 0&&!But(r))return{code:1002,reason:"Invalid status code",error:!0};let n=e.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=kut(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(e){let{opcode:r,payloadLength:n}=this.#r;if(r===Ob.CLOSE){if(n===1)return fu(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(e),this.#r.closeInfo.error){let{code:o,reason:a}=this.#r.closeInfo;return z5e(this.ws,o,a,a.length),fu(this.ws,a),!1}if(this.ws[q5e]!==H5e.SENT){let o=U5e;this.#r.closeInfo.code&&(o=Buffer.allocUnsafe(2),o.writeUInt16BE(this.#r.closeInfo.code,0));let a=new $5e(o);this.ws[G5e].socket.write(a.createFrame(Ob.CLOSE),c=>{c||(this.ws[q5e]=H5e.SENT)})}return this.ws[Sut]=wut.CLOSING,this.ws[V5e]=!0,!1}else if(r===Ob.PING){if(!this.ws[V5e]){let o=new $5e(e);this.ws[G5e].socket.write(o.createFrame(Ob.PONG)),WP.ping.hasSubscribers&&WP.ping.publish({payload:e})}}else r===Ob.PONG&&WP.pong.hasSubscribers&&WP.pong.publish({payload:e});return!0}get closingInfo(){return this.#r.closeInfo}};j5e.exports={ByteParser:NJ}});var tTe=q((N$r,eTe)=>{"use strict";f();var{WebsocketFrameSend:Qut}=UP(),{opcodes:J5e,sendHints:Ub}=BE(),Put=Wj(),X5e=Buffer[Symbol.species],QJ=class{static{s(this,"SendQueue")}#e=new Put;#t=!1;#i;constructor(e){this.#i=e}add(e,r,n){if(n!==Ub.blob){let a=Z5e(e,n);if(!this.#t)this.#i.write(a,r);else{let c={promise:null,callback:r,frame:a};this.#e.push(c)}return}let o={promise:e.arrayBuffer().then(a=>{o.promise=null,o.frame=Z5e(a,n)}),callback:r,frame:null};this.#e.push(o),this.#t||this.#n()}async#n(){this.#t=!0;let e=this.#e;for(;!e.isEmpty();){let r=e.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function Z5e(t,e){return new Qut(Fut(t,e)).createFrame(e===Ub.string?J5e.TEXT:J5e.BINARY)}s(Z5e,"createFrame");function Fut(t,e){switch(e){case Ub.string:return Buffer.from(t);case Ub.arrayBuffer:case Ub.blob:return new X5e(t);case Ub.typedArray:return new X5e(t.buffer,t.byteOffset,t.byteLength)}}s(Fut,"toBuffer");eTe.exports={SendQueue:QJ}});var uTe=q((F$r,lTe)=>{"use strict";f();var{webidl:Br}=Da(),{URLSerializer:Lut}=Ac(),{environmentSettingsObject:rTe}=il(),{staticPropertyDescriptors:u1,states:pS,sentCloseFrameState:Mut,sendHints:YP}=BE(),{kWebSocketURL:nTe,kReadyState:PJ,kController:Out,kBinaryType:$P,kResponse:iTe,kSentClose:Uut,kByteParser:Hut}=cS(),{isConnecting:qut,isEstablished:Gut,isClosing:Vut,isValidSubprotocol:Wut,fireEvent:oTe}=fS(),{establishWebSocketConnection:Yut,closeWebSocketConnection:sTe}=RJ(),{ByteParser:$ut}=K5e(),{kEnumerableProperty:du,isBlobLike:aTe}=dn(),{getGlobalDispatcher:zut}=aP(),{types:cTe}=require("node:util"),{ErrorEvent:jut,CloseEvent:Kut}=Fb(),{SendQueue:Jut}=tTe(),fl=class t extends EventTarget{static{s(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(e,r=[]){super(),Br.util.markAsUncloneable(this);let n="WebSocket constructor";Br.argumentLengthCheck(arguments,1,n);let o=Br.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");e=Br.converters.USVString(e,n,"url"),r=o.protocols;let a=rTe.settingsObject.baseUrl,c;try{c=new URL(e,a)}catch(u){throw new DOMException(u,"SyntaxError")}if(c.protocol==="http:"?c.protocol="ws:":c.protocol==="https:"&&(c.protocol="wss:"),c.protocol!=="ws:"&&c.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${c.protocol}`,"SyntaxError");if(c.hash||c.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(u=>u.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(u=>Wut(u)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[nTe]=new URL(c.href);let l=rTe.settingsObject;this[Out]=Yut(c,r,l,this,(u,d)=>this.#o(u,d),o),this[PJ]=t.CONNECTING,this[Uut]=Mut.NOT_SENT,this[$P]="blob"}close(e=void 0,r=void 0){Br.brandCheck(this,t);let n="WebSocket.close";if(e!==void 0&&(e=Br.converters["unsigned short"](e,n,"code",{clamp:!0})),r!==void 0&&(r=Br.converters.USVString(r,n,"reason")),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new DOMException("invalid code","InvalidAccessError");let o=0;if(r!==void 0&&(o=Buffer.byteLength(r),o>123))throw new DOMException(`Reason must be less than 123 bytes; received ${o}`,"SyntaxError");sTe(this,e,r,o)}send(e){Br.brandCheck(this,t);let r="WebSocket.send";if(Br.argumentLengthCheck(arguments,1,r),e=Br.converters.WebSocketSendData(e,r,"data"),qut(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!Gut(this)||Vut(this)))if(typeof e=="string"){let n=Buffer.byteLength(e);this.#t+=n,this.#r.add(e,()=>{this.#t-=n},YP.string)}else cTe.isArrayBuffer(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},YP.arrayBuffer)):ArrayBuffer.isView(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},YP.typedArray)):aTe(e)&&(this.#t+=e.size,this.#r.add(e,()=>{this.#t-=e.size},YP.blob))}get readyState(){return Br.brandCheck(this,t),this[PJ]}get bufferedAmount(){return Br.brandCheck(this,t),this.#t}get url(){return Br.brandCheck(this,t),Lut(this[nTe])}get extensions(){return Br.brandCheck(this,t),this.#n}get protocol(){return Br.brandCheck(this,t),this.#i}get onopen(){return Br.brandCheck(this,t),this.#e.open}set onopen(e){Br.brandCheck(this,t),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return Br.brandCheck(this,t),this.#e.error}set onerror(e){Br.brandCheck(this,t),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return Br.brandCheck(this,t),this.#e.close}set onclose(e){Br.brandCheck(this,t),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return Br.brandCheck(this,t),this.#e.message}set onmessage(e){Br.brandCheck(this,t),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return Br.brandCheck(this,t),this[$P]}set binaryType(e){Br.brandCheck(this,t),e!=="blob"&&e!=="arraybuffer"?this[$P]="blob":this[$P]=e}#o(e,r){this[iTe]=e;let n=new $ut(this,r);n.on("drain",Xut),n.on("error",Zut.bind(this)),e.socket.ws=this,this[Hut]=n,this.#r=new Jut(e.socket),this[PJ]=pS.OPEN;let o=e.headersList.get("sec-websocket-extensions");o!==null&&(this.#n=o);let a=e.headersList.get("sec-websocket-protocol");a!==null&&(this.#i=a),oTe("open",this)}};fl.CONNECTING=fl.prototype.CONNECTING=pS.CONNECTING;fl.OPEN=fl.prototype.OPEN=pS.OPEN;fl.CLOSING=fl.prototype.CLOSING=pS.CLOSING;fl.CLOSED=fl.prototype.CLOSED=pS.CLOSED;Object.defineProperties(fl.prototype,{CONNECTING:u1,OPEN:u1,CLOSING:u1,CLOSED:u1,url:du,readyState:du,bufferedAmount:du,onopen:du,onerror:du,onclose:du,close:du,onmessage:du,binaryType:du,send:du,extensions:du,protocol:du,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(fl,{CONNECTING:u1,OPEN:u1,CLOSING:u1,CLOSED:u1});Br.converters["sequence<DOMString>"]=Br.sequenceConverter(Br.converters.DOMString);Br.converters["DOMString or sequence<DOMString>"]=function(t,e,r){return Br.util.Type(t)==="Object"&&Symbol.iterator in t?Br.converters["sequence<DOMString>"](t):Br.converters.DOMString(t,e,r)};Br.converters.WebSocketInit=Br.dictionaryConverter([{key:"protocols",converter:Br.converters["DOMString or sequence<DOMString>"],defaultValue:s(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Br.converters.any,defaultValue:s(()=>zut(),"defaultValue")},{key:"headers",converter:Br.nullableConverter(Br.converters.HeadersInit)}]);Br.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(t){return Br.util.Type(t)==="Object"&&!(Symbol.iterator in t)?Br.converters.WebSocketInit(t):{protocols:Br.converters["DOMString or sequence<DOMString>"](t)}};Br.converters.WebSocketSendData=function(t){if(Br.util.Type(t)==="Object"){if(aTe(t))return Br.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||cTe.isArrayBuffer(t))return Br.converters.BufferSource(t)}return Br.converters.USVString(t)};function Xut(){this.ws[iTe].socket.resume()}s(Xut,"onParserDrain");function Zut(t){let e,r;t instanceof Kut?(e=t.reason,r=t.code):e=t.message,oTe("error",this,()=>new jut("error",{error:t,message:e})),sTe(this,r)}s(Zut,"onParserError");lTe.exports={WebSocket:fl}});var FJ=q((O$r,fTe)=>{"use strict";f();function eft(t){return t.indexOf("\0")===-1}s(eft,"isValidLastEventId");function tft(t){if(t.length===0)return!1;for(let e=0;e<t.length;e++)if(t.charCodeAt(e)<48||t.charCodeAt(e)>57)return!1;return!0}s(tft,"isASCIINumber");function rft(t){return new Promise(e=>{setTimeout(e,t).unref()})}s(rft,"delay");fTe.exports={isValidLastEventId:eft,isASCIINumber:tft,delay:rft}});var pTe=q((q$r,hTe)=>{"use strict";f();var{Transform:nft}=require("node:stream"),{isASCIINumber:dTe,isValidLastEventId:ATe}=FJ(),Kh=[239,187,191],LJ=10,zP=13,ift=58,oft=32,MJ=class extends nft{static{s(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(e={}){e.readableObjectMode=!0,super(e),this.state=e.eventSourceSettings||{},e.push&&(this.push=e.push)}_transform(e,r,n){if(e.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,e]):this.buffer=e,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===Kh[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===Kh[0]&&this.buffer[1]===Kh[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===Kh[0]&&this.buffer[1]===Kh[1]&&this.buffer[2]===Kh[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===Kh[0]&&this.buffer[1]===Kh[1]&&this.buffer[2]===Kh[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===LJ){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===LJ||this.buffer[this.pos]===zP){this.buffer[this.pos]===zP&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===LJ||this.buffer[this.pos]===zP){this.buffer[this.pos]===zP&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(e,r){if(e.length===0)return;let n=e.indexOf(ift);if(n===0)return;let o="",a="";if(n!==-1){o=e.subarray(0,n).toString("utf8");let c=n+1;e[c]===oft&&++c,a=e.subarray(c).toString("utf8")}else o=e.toString("utf8"),a="";switch(o){case"data":r[o]===void 0?r[o]=a:r[o]+=`
${a}`;break;case"retry":dTe(a)&&(r[o]=a);break;case"id":ATe(a)&&(r[o]=a);break;case"event":a.length>0&&(r[o]=a);break}}processEvent(e){e.retry&&dTe(e.retry)&&(this.state.reconnectionTime=parseInt(e.retry,10)),e.id&&ATe(e.id)&&(this.state.lastEventId=e.id),e.data!==void 0&&this.push({type:e.event||"message",options:{data:e.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};hTe.exports={EventSourceStream:MJ}});var vTe=q((W$r,xTe)=>{"use strict";f();var{pipeline:sft}=require("node:stream"),{fetching:aft}=iS(),{makeRequest:cft}=Rb(),{webidl:Jh}=Da(),{EventSourceStream:lft}=pTe(),{parseMIMEType:uft}=Ac(),{createFastMessageEvent:fft}=Fb(),{isNetworkError:mTe}=rS(),{delay:dft}=FJ(),{kEnumerableProperty:RE}=dn(),{environmentSettingsObject:gTe}=il(),yTe=!1,CTe=3e3,mS=0,ETe=1,gS=2,Aft="anonymous",hft="use-credentials",Hb=class t extends EventTarget{static{s(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=mS;#r=null;#o=null;#s;#a;constructor(e,r={}){super(),Jh.util.markAsUncloneable(this);let n="EventSource constructor";Jh.argumentLengthCheck(arguments,1,n),yTe||(yTe=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),e=Jh.converters.USVString(e,n,"url"),r=Jh.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:CTe};let o=gTe,a;try{a=new URL(e,o.settingsObject.baseUrl),this.#a.origin=a.origin}catch(u){throw new DOMException(u,"SyntaxError")}this.#t=a.href;let c=Aft;r.withCredentials&&(c=hft,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:c==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=gTe.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=cft(l),this.#c()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#c(){if(this.#n===gS)return;this.#n=mS;let e={request:this.#r,dispatcher:this.#s},r=s(n=>{mTe(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#l()},"processEventSourceEndOfBody");e.processResponseEndOfBody=r,e.processResponse=n=>{if(mTe(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#l();return}let o=n.headersList.get("content-type",!0),a=o!==null?uft(o):"failure",c=a!=="failure"&&a.essence==="text/event-stream";if(n.status!==200||c===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=ETe,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new lft({eventSourceSettings:this.#a,push:s(u=>{this.dispatchEvent(fft(u.type,u.options))},"push")});sft(n.body.stream,l,u=>{u?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=aft(e)}async#l(){this.#n!==gS&&(this.#n=mS,this.dispatchEvent(new Event("error")),await dft(this.#a.reconnectionTime),this.#n===mS&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#c()))}close(){Jh.brandCheck(this,t),this.#n!==gS&&(this.#n=gS,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(e){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(e){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(e){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}},ITe={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:mS,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:ETe,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:gS,writable:!1}};Object.defineProperties(Hb,ITe);Object.defineProperties(Hb.prototype,ITe);Object.defineProperties(Hb.prototype,{close:RE,onerror:RE,onmessage:RE,onopen:RE,readyState:RE,url:RE,withCredentials:RE});Jh.converters.EventSourceInitDict=Jh.dictionaryConverter([{key:"withCredentials",converter:Jh.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"dispatcher",converter:Jh.converters.any}]);xTe.exports={EventSource:Hb,defaultReconnectionTime:CTe}});var wTe=q((z$r,Er)=>{"use strict";f();var pft=H3(),bTe=C3(),mft=gb(),gft=k2e(),yft=yb(),Cft=lK(),Eft=z2e(),Ift=exe(),TTe=ui(),KP=dn(),{InvalidArgumentError:jP}=TTe,qb=Uxe(),xft=I3(),vft=VK(),bft=Ive(),Tft=$K(),_ft=kK(),wft=JQ(),{getGlobalDispatcher:_Te,setGlobalDispatcher:Sft}=aP(),Bft=cP(),Rft=OQ(),kft=UQ();Object.assign(bTe.prototype,qb);Er.exports.Dispatcher=bTe;Er.exports.Client=pft;Er.exports.Pool=mft;Er.exports.BalancedPool=gft;Er.exports.Agent=yft;Er.exports.ProxyAgent=Cft;Er.exports.EnvHttpProxyAgent=Eft;Er.exports.RetryAgent=Ift;Er.exports.RetryHandler=wft;Er.exports.DecoratorHandler=Bft;Er.exports.RedirectHandler=Rft;Er.exports.createRedirectInterceptor=kft;Er.exports.interceptors={redirect:Sve(),retry:Rve(),dump:Dve(),dns:Pve()};Er.exports.buildConnector=xft;Er.exports.errors=TTe;Er.exports.util={parseHeaders:KP.parseHeaders,headerNameToString:KP.headerNameToString};function yS(t){return(e,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new jP("invalid url");if(r!=null&&typeof r!="object")throw new jP("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new jP("invalid opts.path");let c=r.path;r.path.startsWith("/")||(c=`/${c}`),e=new URL(KP.parseOrigin(e).origin+c)}else r||(r=typeof e=="object"?e:{}),e=KP.parseURL(e);let{agent:o,dispatcher:a=_Te()}=r;if(o)throw new jP("unsupported opts.agent. Did you mean opts.client?");return t.call(a,{...r,origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}s(yS,"makeDispatcher");Er.exports.setGlobalDispatcher=Sft;Er.exports.getGlobalDispatcher=_Te;var Dft=iS().fetch;Er.exports.fetch=s(async function(e,r=void 0){try{return await Dft(e,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");Er.exports.Headers=vE().Headers;Er.exports.Response=rS().Response;Er.exports.Request=Rb().Request;Er.exports.FormData=S3().FormData;Er.exports.File=globalThis.File??require("node:buffer").File;Er.exports.FileReader=jbe().FileReader;var{setGlobalOrigin:Nft,getGlobalOrigin:Qft}=uj();Er.exports.setGlobalOrigin=Nft;Er.exports.getGlobalOrigin=Qft;var{CacheStorage:Pft}=i5e(),{kConstruct:Fft}=BP();Er.exports.caches=new Pft(Fft);var{deleteCookie:Lft,getCookies:Mft,getSetCookies:Oft,setCookie:Uft}=m5e();Er.exports.deleteCookie=Lft;Er.exports.getCookies=Mft;Er.exports.getSetCookies=Oft;Er.exports.setCookie=Uft;var{parseMIMEType:Hft,serializeAMimeType:qft}=Ac();Er.exports.parseMIMEType=Hft;Er.exports.serializeAMimeType=qft;var{CloseEvent:Gft,ErrorEvent:Vft,MessageEvent:Wft}=Fb();Er.exports.WebSocket=uTe().WebSocket;Er.exports.CloseEvent=Gft;Er.exports.ErrorEvent=Vft;Er.exports.MessageEvent=Wft;Er.exports.request=yS(qb.request);Er.exports.stream=yS(qb.stream);Er.exports.pipeline=yS(qb.pipeline);Er.exports.connect=yS(qb.connect);Er.exports.upgrade=yS(qb.upgrade);Er.exports.MockClient=vft;Er.exports.MockPool=Tft;Er.exports.MockAgent=bft;Er.exports.mockErrors=_ft;var{EventSource:Yft}=vTe();Er.exports.EventSource=Yft});var tn=q((J$r,STe)=>{f();STe.exports={options:{usePureJavaScript:!1}}});var kTe=q((Z$r,RTe)=>{f();var OJ={};RTe.exports=OJ;var BTe={};OJ.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=$ft(t,e);else{var o=0,a=e.length,c=e.charAt(0),l=[0];for(o=0;o<t.length;++o){for(var u=0,d=t[o];u<l.length;++u)d+=l[u]<<8,l[u]=d%a,d=d/a|0;for(;d>0;)l.push(d%a),d=d/a|0}for(o=0;t[o]===0&&o<t.length-1;++o)n+=c;for(o=l.length-1;o>=0;--o)n+=e[l[o]]}if(r){var A=new RegExp(".{1,"+r+"}","g");n=n.match(A).join(`\r
`)}return n};OJ.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=BTe[e];if(!r){r=BTe[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var o=e.length,a=e.charAt(0),c=[0],n=0;n<t.length;n++){var l=r[t.charCodeAt(n)];if(l===void 0)return;for(var u=0,d=l;u<c.length;++u)d+=c[u]*o,c[u]=d&255,d>>=8;for(;d>0;)c.push(d&255),d>>=8}for(var A=0;t[A]===a&&A<t.length-1;++A)c.push(0);return typeof Buffer<"u"?Buffer.from(c.reverse()):new Uint8Array(c.reverse())};function $ft(t,e){var r=0,n=e.length,o=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var c=0,l=t.at(r);c<a.length;++c)l+=a[c]<<8,a[c]=l%n,l=l/n|0;for(;l>0;)a.push(l%n),l=l/n|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=o;for(r=a.length-1;r>=0;--r)u+=e[a[r]];return u}s($ft,"_encodeWithByteBuffer")});var ri=q((rzr,PTe)=>{f();var DTe=tn(),NTe=kTe(),ve=PTe.exports=DTe.util=DTe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){ve.nextTick=process.nextTick,typeof setImmediate=="function"?ve.setImmediate=setImmediate:ve.setImmediate=ve.nextTick;return}if(typeof setImmediate=="function"){ve.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ve.nextTick=function(l){return setImmediate(l)};return}if(ve.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var d=e.slice();e.length=0,d.forEach(function(A){A()})}};var c=l;s(l,"handler");var t="forge.setImmediate",e=[];ve.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,o=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(d){d()})}).observe(o,{attributes:!0});var a=ve.setImmediate;ve.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),a(u)):(e.push(u),e.length===1&&o.setAttribute("a",n=!n))}}ve.nextTick=ve.setImmediate})();ve.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;ve.globalScope=function(){return ve.isNodejs?global:typeof self>"u"?window:self}();ve.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};ve.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};ve.isArrayBufferView=function(t){return t&&ve.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function CS(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}s(CS,"_checkBitsParam");ve.ByteBuffer=UJ;function UJ(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(ve.isArrayBuffer(t)||ve.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof UJ||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}s(UJ,"ByteStringBuffer");ve.ByteStringBuffer=UJ;var zft=4096;ve.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>zft&&(this.data.substr(0,1),this._constructedStringLength=0)};ve.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ve.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ve.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};ve.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};ve.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};ve.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(ve.encodeUtf8(t))};ve.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ve.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ve.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ve.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};ve.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};ve.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};ve.ByteStringBuffer.prototype.putInt=function(t,e){CS(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};ve.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};ve.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};ve.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ve.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};ve.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};ve.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};ve.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};ve.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};ve.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};ve.ByteStringBuffer.prototype.getInt=function(t){CS(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};ve.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ve.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ve.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ve.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};ve.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};ve.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ve.ByteStringBuffer.prototype.copy=function(){var t=ve.createBuffer(this.data);return t.read=this.read,t};ve.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ve.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ve.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};ve.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ve.ByteStringBuffer.prototype.toString=function(){return ve.decodeUtf8(this.bytes())};function jft(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=ve.isArrayBuffer(t),n=ve.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}s(jft,"DataBuffer");ve.DataBuffer=jft;ve.DataBuffer.prototype.length=function(){return this.write-this.read};ve.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ve.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};ve.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};ve.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};ve.DataBuffer.prototype.putBytes=function(t,e){if(ve.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var o=new Uint8Array(this.data.buffer,this.write);return o.set(r),this.write+=n,this}if(ve.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var o=new Uint8Array(this.data.buffer);return o.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof ve.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&ve.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var o=new Uint8Array(t.data.byteLength,this.write);return o.set(r),this.write+=r.byteLength,this}if(t instanceof ve.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=ve.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=ve.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=ve.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=ve.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=ve.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};ve.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};ve.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};ve.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};ve.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};ve.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};ve.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};ve.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};ve.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};ve.DataBuffer.prototype.putInt=function(t,e){CS(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};ve.DataBuffer.prototype.putSignedInt=function(t,e){return CS(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};ve.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ve.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};ve.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};ve.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};ve.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};ve.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};ve.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};ve.DataBuffer.prototype.getInt=function(t){CS(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};ve.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ve.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ve.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ve.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};ve.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};ve.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ve.DataBuffer.prototype.copy=function(){return new ve.DataBuffer(this)};ve.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};ve.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ve.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};ve.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ve.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return ve.binary.raw.encode(e);if(t==="hex")return ve.binary.hex.encode(e);if(t==="base64")return ve.binary.base64.encode(e);if(t==="utf8")return ve.text.utf8.decode(e);if(t==="utf16")return ve.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};ve.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=ve.encodeUtf8(t)),new ve.ByteBuffer(t)};ve.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};ve.xorBytes=function(t,e,r){for(var n="",o="",a="",c=0,l=0;r>0;--r,++c)o=t.charCodeAt(c)^e.charCodeAt(c),l>=10&&(n+=a,a="",l=0),a+=String.fromCharCode(o),++l;return n+=a,n};ve.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};ve.bytesToHex=function(t){return ve.createBuffer(t).toHex()};ve.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var f1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d1=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],QTe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ve.encode64=function(t,e){for(var r="",n="",o,a,c,l=0;l<t.length;)o=t.charCodeAt(l++),a=t.charCodeAt(l++),c=t.charCodeAt(l++),r+=f1.charAt(o>>2),r+=f1.charAt((o&3)<<4|a>>4),isNaN(a)?r+="==":(r+=f1.charAt((a&15)<<2|c>>6),r+=isNaN(c)?"=":f1.charAt(c&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ve.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,o,a,c=0;c<t.length;)r=d1[t.charCodeAt(c++)-43],n=d1[t.charCodeAt(c++)-43],o=d1[t.charCodeAt(c++)-43],a=d1[t.charCodeAt(c++)-43],e+=String.fromCharCode(r<<2|n>>4),o!==64&&(e+=String.fromCharCode((n&15)<<4|o>>2),a!==64&&(e+=String.fromCharCode((o&3)<<6|a)));return e};ve.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};ve.decodeUtf8=function(t){return decodeURIComponent(escape(t))};ve.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:NTe.encode,decode:NTe.decode}};ve.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};ve.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var o=r,a=0;a<t.length;++a)n[o++]=t.charCodeAt(a);return e?o-r:n};ve.binary.hex.encode=ve.bytesToHex;ve.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var o=0,a=r;for(t.length&1&&(o=1,n[a++]=parseInt(t[0],16));o<t.length;o+=2)n[a++]=parseInt(t.substr(o,2),16);return e?a-r:n};ve.binary.base64.encode=function(t,e){for(var r="",n="",o,a,c,l=0;l<t.byteLength;)o=t[l++],a=t[l++],c=t[l++],r+=f1.charAt(o>>2),r+=f1.charAt((o&3)<<4|a>>4),isNaN(a)?r+="==":(r+=f1.charAt((a&15)<<2|c>>6),r+=isNaN(c)?"=":f1.charAt(c&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ve.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var o,a,c,l,u=0,d=r;u<t.length;)o=d1[t.charCodeAt(u++)-43],a=d1[t.charCodeAt(u++)-43],c=d1[t.charCodeAt(u++)-43],l=d1[t.charCodeAt(u++)-43],n[d++]=o<<2|a>>4,c!==64&&(n[d++]=(a&15)<<4|c>>2,l!==64&&(n[d++]=(c&3)<<6|l));return e?d-r:n.subarray(0,d)};ve.binary.base58.encode=function(t,e){return ve.binary.baseN.encode(t,QTe,e)};ve.binary.base58.decode=function(t,e){return ve.binary.baseN.decode(t,QTe,e)};ve.text={utf8:{},utf16:{}};ve.text.utf8.encode=function(t,e,r){t=ve.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var o=r,a=0;a<t.length;++a)n[o++]=t.charCodeAt(a);return e?o-r:n};ve.text.utf8.decode=function(t){return ve.decodeUtf8(String.fromCharCode.apply(null,t))};ve.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var o=new Uint16Array(n.buffer);r=r||0;for(var a=r,c=r,l=0;l<t.length;++l)o[c++]=t.charCodeAt(l),a+=2;return e?a-r:n};ve.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};ve.deflate=function(t,e,r){if(e=ve.decode64(t.deflate(ve.encode64(e)).rval),r){var n=2,o=e.charCodeAt(1);o&32&&(n=6),e=e.substring(n,e.length-4)}return e};ve.inflate=function(t,e,r){var n=t.inflate(ve.encode64(e)).rval;return n===null?null:ve.decode64(n)};var HJ=s(function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=ve.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var o=new Error(n.error.message);throw o.id=n.error.id,o.name=n.error.name,o}},"_setStorageObject"),qJ=s(function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(ve.decode64(r))),r},"_getStorageObject"),Kft=s(function(t,e,r,n){var o=qJ(t,e);o===null&&(o={}),o[r]=n,HJ(t,e,o)},"_setItem"),Jft=s(function(t,e,r){var n=qJ(t,e);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),Xft=s(function(t,e,r){var n=qJ(t,e);if(n!==null&&r in n){delete n[r];var o=!0;for(var a in n){o=!1;break}o&&(n=null),HJ(t,e,n)}},"_removeItem"),Zft=s(function(t,e){HJ(t,e,null)},"_clearItems"),JP=s(function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var o,a=!1,c=null;for(var l in r){o=r[l];try{if(o==="flash"||o==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),a=o==="flash"}(o==="web"||o==="both")&&(e[0]=localStorage,n=t.apply(this,e),a=!0)}catch(u){c=u}if(a)break}if(!a)throw c;return n},"_callStorageFunction");ve.setItem=function(t,e,r,n,o){JP(Kft,arguments,o)};ve.getItem=function(t,e,r,n){return JP(Jft,arguments,n)};ve.removeItem=function(t,e,r,n){JP(Xft,arguments,n)};ve.clearItems=function(t,e,r){JP(Zft,arguments,r)};ve.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};ve.format=function(t){for(var e=/%./g,r,n,o=0,a=[],c=0;r=e.exec(t);){n=t.substring(c,e.lastIndex-2),n.length>0&&a.push(n),c=e.lastIndex;var l=r[0][1];switch(l){case"s":case"o":o<arguments.length?a.push(arguments[o+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+l+"?>")}}return a.push(t.substring(c)),a.join("")};ve.formatNumber=function(t,e,r,n){var o=t,a=isNaN(e=Math.abs(e))?2:e,c=r===void 0?",":r,l=n===void 0?".":n,u=o<0?"-":"",d=parseInt(o=Math.abs(+o||0).toFixed(a),10)+"",A=d.length>3?d.length%3:0;return u+(A?d.substr(0,A)+l:"")+d.substr(A).replace(/(\d{3})(?=\d)/g,"$1"+l)+(a?c+Math.abs(o-d).toFixed(a).slice(2):"")};ve.formatSize=function(t){return t>=1073741824?t=ve.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=ve.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=ve.formatNumber(t/1024,0)+" KiB":t=ve.formatNumber(t,0)+" bytes",t};ve.bytesFromIP=function(t){return t.indexOf(".")!==-1?ve.bytesFromIPv4(t):t.indexOf(":")!==-1?ve.bytesFromIPv6(t):null};ve.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=ve.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};ve.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(c){return c.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=ve.createBuffer(),o=0;o<8;++o){if(!t[o]||t[o].length===0){n.fillWithByte(0,r),r=0;continue}var a=ve.hexToBytes(t[o]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};ve.bytesToIP=function(t){return t.length===4?ve.bytesToIPv4(t):t.length===16?ve.bytesToIPv6(t):null};ve.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};ve.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,o=0;o<t.length;o+=2){for(var a=ve.bytesToHex(t[o]+t[o+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var c=r[r.length-1],l=e.length;!c||l!==c.end+1?r.push({start:l,end:l}):(c.end=l,c.end-c.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(a)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};ve.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in ve&&!t.update)return e(null,ve.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ve.cores=navigator.hardwareConcurrency,e(null,ve.cores);if(typeof Worker>"u")return ve.cores=1,e(null,ve.cores);if(typeof Blob>"u")return ve.cores=2,e(null,ve.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(c){for(var l=Date.now(),u=l+4;Date.now()<u;);self.postMessage({st:l,et:u})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(c,l,u){if(l===0){var d=Math.floor(c.reduce(function(A,h){return A+h},0)/c.length);return ve.cores=Math.max(1,d),URL.revokeObjectURL(r),e(null,ve.cores)}o(u,function(A,h){c.push(a(u,h)),n(c,l-1,u)})}s(n,"sample");function o(c,l){for(var u=[],d=[],A=0;A<c;++A){var h=new Worker(r);h.addEventListener("message",function(p){if(d.push(p.data),d.length===c){for(var y=0;y<c;++y)u[y].terminate();l(null,d)}}),u.push(h)}for(var A=0;A<c;++A)u[A].postMessage(A)}s(o,"map");function a(c,l){for(var u=[],d=0;d<c;++d)for(var A=l[d],h=u[d]=[],p=0;p<c;++p)if(d!==p){var y=l[p];(A.st>y.st&&A.st<y.et||y.st>A.st&&y.st<A.et)&&h.push(p)}return u.reduce(function(E,v){return Math.max(E,v.length)},0)}s(a,"reduce")}});var XP=q((ozr,FTe)=>{f();var sa=tn();ri();FTe.exports=sa.cipher=sa.cipher||{};sa.cipher.algorithms=sa.cipher.algorithms||{};sa.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=sa.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new sa.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};sa.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=sa.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new sa.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};sa.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),sa.cipher.algorithms[t]=e};sa.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in sa.cipher.algorithms?sa.cipher.algorithms[t]:null};var GJ=sa.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};GJ.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=sa.util.createBuffer(),this.output=t.output||sa.util.createBuffer(),this.mode.start(e)};GJ.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};GJ.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var WJ=q((azr,LTe)=>{f();var aa=tn();ri();aa.cipher=aa.cipher||{};var Cn=LTe.exports=aa.cipher.modes=aa.cipher.modes||{};Cn.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Cn.ecb.prototype.start=function(t){};Cn.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Cn.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Cn.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Cn.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Cn.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Cn.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=ZP(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Cn.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};Cn.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Cn.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Cn.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Cn.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=aa.util.createBuffer(),this._partialBytes=0};Cn.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ZP(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Cn.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)this._inBlock[o]=t.getInt32()^this._outBlock[o],e.putInt32(this._inBlock[o]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialBlock[o]=t.getInt32()^this._outBlock[o],this._partialOutput.putInt32(this._partialBlock[o]);if(a>0)t.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Cn.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)this._inBlock[o]=t.getInt32(),e.putInt32(this._inBlock[o]^this._outBlock[o]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialBlock[o]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[o]^this._outBlock[o]);if(a>0)t.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Cn.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=aa.util.createBuffer(),this._partialBytes=0};Cn.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ZP(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Cn.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)e.putInt32(t.getInt32()^this._outBlock[o]),this._inBlock[o]=this._outBlock[o];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a>0)t.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._outBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Cn.ofb.prototype.decrypt=Cn.ofb.prototype.encrypt;Cn.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=aa.util.createBuffer(),this._partialBytes=0};Cn.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ZP(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Cn.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var o=0;o<this._ints;++o)e.putInt32(t.getInt32()^this._outBlock[o]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}eF(this._inBlock)};Cn.ctr.prototype.decrypt=Cn.ctr.prototype.encrypt;Cn.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=aa.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Cn.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=aa.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=aa.util.createBuffer(t.additionalData):r=aa.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=aa.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(VJ(n*8)))}this._inBlock=this._j0.slice(0),eF(this._inBlock),this._partialBytes=0,r=aa.util.createBuffer(r),this._aDataLength=VJ(r.length()*8);var o=r.length()%this.blockSize;for(o&&r.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Cn.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a<=0||r){if(r){var c=n%this.blockSize;this._cipherLength+=c,this._partialOutput.truncate(this.blockSize-c)}else this._cipherLength+=this.blockSize;for(var o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),eF(this._inBlock)};Cn.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),eF(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^this._hashBlock[o]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Cn.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=aa.util.createBuffer();var n=this._aDataLength.concat(VJ(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Cn.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),o=0;o<128;++o){var a=t[o/32|0]&1<<31-o%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Cn.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};Cn.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,o=t[n]>>>(7-r%8)*4&15,a=this._m[r][o];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};Cn.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};Cn.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,o=16*r,a=new Array(o),c=0;c<o;++c){var l=[0,0,0,0],u=c/n|0,d=(n-1-c%n)*e;l[u]=1<<e-1<<d,a[c]=this.generateSubHashTable(this.multiply(l,t),e)}return a};Cn.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,o=new Array(r);o[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(o[2*a],o[a]=[]),a>>=1;for(a=2;a<n;){for(var c=1;c<a;++c){var l=o[a],u=o[c];o[a+c]=[l[0]^u[0],l[1]^u[1],l[2]^u[2],l[3]^u[3]]}a*=2}for(o[0]=[0,0,0,0],a=n+1;a<r;++a){var d=o[a^n];o[a]=[t[0]^d[0],t[1]^d[1],t[2]^d[2],t[3]^d[3]]}return o};function ZP(t,e){if(typeof t=="string"&&(t=aa.util.createBuffer(t)),aa.util.isArray(t)&&t.length>4){var r=t;t=aa.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!aa.util.isArray(t)){for(var o=[],a=e/4,n=0;n<a;++n)o.push(t.getInt32());t=o}return t}s(ZP,"transformIV");function eF(t){t[t.length-1]=t[t.length-1]+1&4294967295}s(eF,"inc32");function VJ(t){return[t/4294967296|0,t&4294967295]}s(VJ,"from64To32")});var A1=q((uzr,HTe)=>{f();var qi=tn();XP();WJ();ri();HTe.exports=qi.aes=qi.aes||{};qi.aes.startEncrypting=function(t,e,r,n){var o=tF({key:t,output:r,decrypt:!1,mode:n});return o.start(e),o};qi.aes.createEncryptionCipher=function(t,e){return tF({key:t,output:null,decrypt:!1,mode:e})};qi.aes.startDecrypting=function(t,e,r,n){var o=tF({key:t,output:r,decrypt:!0,mode:n});return o.start(e),o};qi.aes.createDecryptionCipher=function(t,e){return tF({key:t,output:null,decrypt:!0,mode:e})};qi.aes.Algorithm=function(t,e){zJ||OTe();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:s(function(n,o){return $J(r._w,n,o,!1)},"encrypt"),decrypt:s(function(n,o){return $J(r._w,n,o,!0)},"decrypt")}}),r._init=!1};qi.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=qi.util.createBuffer(e);else if(qi.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=qi.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!qi.util.isArray(e)){r=e,e=[];var o=r.length();if(o===16||o===24||o===32){o=o>>>2;for(var n=0;n<o;++n)e.push(r.getInt32())}}if(!qi.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,c=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=UTe(e,t.decrypt&&!c),this._init=!0}};qi.aes._expandKey=function(t,e){return zJ||OTe(),UTe(t,e)};qi.aes._updateBlock=$J;Vb("AES-ECB",qi.cipher.modes.ecb);Vb("AES-CBC",qi.cipher.modes.cbc);Vb("AES-CFB",qi.cipher.modes.cfb);Vb("AES-OFB",qi.cipher.modes.ofb);Vb("AES-CTR",qi.cipher.modes.ctr);Vb("AES-GCM",qi.cipher.modes.gcm);function Vb(t,e){var r=s(function(){return new qi.aes.Algorithm(t,e)},"factory");qi.cipher.registerAlgorithm(t,r)}s(Vb,"registerAlgorithm");var zJ=!1,Gb=4,S0,YJ,MTe,kE,kf;function OTe(){zJ=!0,MTe=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;S0=new Array(256),YJ=new Array(256),kE=new Array(4),kf=new Array(4);for(var e=0;e<4;++e)kE[e]=new Array(256),kf[e]=new Array(256);for(var r=0,n=0,o,a,c,l,u,d,A,e=0;e<256;++e){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,S0[r]=l,YJ[l]=r,u=t[l],o=t[r],a=t[o],c=t[a],d=u<<24^l<<16^l<<8^(l^u),A=(o^a^c)<<24^(r^c)<<16^(r^a^c)<<8^(r^o^c);for(var h=0;h<4;++h)kE[h][r]=d,kf[h][l]=A,d=d<<24|d>>>8,A=A<<24|A>>>8;r===0?r=n=1:(r=o^t[t[t[o^c]]],n^=t[t[n]])}}s(OTe,"initialize");function UTe(t,e){for(var r=t.slice(0),n,o=1,a=r.length,c=a+6+1,l=Gb*c,u=a;u<l;++u)n=r[u-1],u%a===0?(n=S0[n>>>16&255]<<24^S0[n>>>8&255]<<16^S0[n&255]<<8^S0[n>>>24]^MTe[o]<<24,o++):a>6&&u%a===4&&(n=S0[n>>>24]<<24^S0[n>>>16&255]<<16^S0[n>>>8&255]<<8^S0[n&255]),r[u]=r[u-a]^n;if(e){var d,A=kf[0],h=kf[1],p=kf[2],y=kf[3],E=r.slice(0);l=r.length;for(var u=0,v=l-Gb;u<l;u+=Gb,v-=Gb)if(u===0||u===l-Gb)E[u]=r[v],E[u+1]=r[v+3],E[u+2]=r[v+2],E[u+3]=r[v+1];else for(var w=0;w<Gb;++w)d=r[v+w],E[u+(3&-w)]=A[S0[d>>>24]]^h[S0[d>>>16&255]]^p[S0[d>>>8&255]]^y[S0[d&255]];r=E}return r}s(UTe,"_expandKey");function $J(t,e,r,n){var o=t.length/4-1,a,c,l,u,d;n?(a=kf[0],c=kf[1],l=kf[2],u=kf[3],d=YJ):(a=kE[0],c=kE[1],l=kE[2],u=kE[3],d=S0);var A,h,p,y,E,v,w;A=e[0]^t[0],h=e[n?3:1]^t[1],p=e[2]^t[2],y=e[n?1:3]^t[3];for(var _=3,S=1;S<o;++S)E=a[A>>>24]^c[h>>>16&255]^l[p>>>8&255]^u[y&255]^t[++_],v=a[h>>>24]^c[p>>>16&255]^l[y>>>8&255]^u[A&255]^t[++_],w=a[p>>>24]^c[y>>>16&255]^l[A>>>8&255]^u[h&255]^t[++_],y=a[y>>>24]^c[A>>>16&255]^l[h>>>8&255]^u[p&255]^t[++_],A=E,h=v,p=w;r[0]=d[A>>>24]<<24^d[h>>>16&255]<<16^d[p>>>8&255]<<8^d[y&255]^t[++_],r[n?3:1]=d[h>>>24]<<24^d[p>>>16&255]<<16^d[y>>>8&255]<<8^d[A&255]^t[++_],r[2]=d[p>>>24]<<24^d[y>>>16&255]<<16^d[A>>>8&255]<<8^d[h&255]^t[++_],r[n?1:3]=d[y>>>24]<<24^d[A>>>16&255]<<16^d[h>>>8&255]<<8^d[p&255]^t[++_]}s($J,"_updateBlock");function tF(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=qi.cipher.createDecipher(r,t.key):n=qi.cipher.createCipher(r,t.key);var o=n.start;return n.start=function(a,c){var l=null;c instanceof qi.util.ByteBuffer&&(l=c,c={}),c=c||{},c.output=l,c.iv=a,o.call(n,c)},n}s(tF,"_createCipher")});var h1=q((Azr,qTe)=>{f();var ES=tn();ES.pki=ES.pki||{};var jJ=qTe.exports=ES.pki.oids=ES.oids=ES.oids||{};function ut(t,e){jJ[t]=e,jJ[e]=t}s(ut,"_IN");function mi(t,e){jJ[t]=e}s(mi,"_I_");ut("1.2.840.113549.1.1.1","rsaEncryption");ut("1.2.840.113549.1.1.4","md5WithRSAEncryption");ut("1.2.840.113549.1.1.5","sha1WithRSAEncryption");ut("1.2.840.113549.1.1.7","RSAES-OAEP");ut("1.2.840.113549.1.1.8","mgf1");ut("1.2.840.113549.1.1.9","pSpecified");ut("1.2.840.113549.1.1.10","RSASSA-PSS");ut("1.2.840.113549.1.1.11","sha256WithRSAEncryption");ut("1.2.840.113549.1.1.12","sha384WithRSAEncryption");ut("1.2.840.113549.1.1.13","sha512WithRSAEncryption");ut("1.3.101.112","EdDSA25519");ut("1.2.840.10040.4.3","dsa-with-sha1");ut("1.3.14.3.2.7","desCBC");ut("1.3.14.3.2.26","sha1");ut("1.3.14.3.2.29","sha1WithRSASignature");ut("2.16.840.1.101.3.4.2.1","sha256");ut("2.16.840.1.101.3.4.2.2","sha384");ut("2.16.840.1.101.3.4.2.3","sha512");ut("2.16.840.1.101.3.4.2.4","sha224");ut("2.16.840.1.101.3.4.2.5","sha512-224");ut("2.16.840.1.101.3.4.2.6","sha512-256");ut("1.2.840.113549.2.2","md2");ut("1.2.840.113549.2.5","md5");ut("1.2.840.113549.1.7.1","data");ut("1.2.840.113549.1.7.2","signedData");ut("1.2.840.113549.1.7.3","envelopedData");ut("1.2.840.113549.1.7.4","signedAndEnvelopedData");ut("1.2.840.113549.1.7.5","digestedData");ut("1.2.840.113549.1.7.6","encryptedData");ut("1.2.840.113549.1.9.1","emailAddress");ut("1.2.840.113549.1.9.2","unstructuredName");ut("1.2.840.113549.1.9.3","contentType");ut("1.2.840.113549.1.9.4","messageDigest");ut("1.2.840.113549.1.9.5","signingTime");ut("1.2.840.113549.1.9.6","counterSignature");ut("1.2.840.113549.1.9.7","challengePassword");ut("1.2.840.113549.1.9.8","unstructuredAddress");ut("1.2.840.113549.1.9.14","extensionRequest");ut("1.2.840.113549.1.9.20","friendlyName");ut("1.2.840.113549.1.9.21","localKeyId");ut("1.2.840.113549.1.9.22.1","x509Certificate");ut("1.2.840.113549.1.12.10.1.1","keyBag");ut("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");ut("1.2.840.113549.1.12.10.1.3","certBag");ut("1.2.840.113549.1.12.10.1.4","crlBag");ut("1.2.840.113549.1.12.10.1.5","secretBag");ut("1.2.840.113549.1.12.10.1.6","safeContentsBag");ut("1.2.840.113549.1.5.13","pkcs5PBES2");ut("1.2.840.113549.1.5.12","pkcs5PBKDF2");ut("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");ut("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");ut("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");ut("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");ut("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");ut("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");ut("1.2.840.113549.2.7","hmacWithSHA1");ut("1.2.840.113549.2.8","hmacWithSHA224");ut("1.2.840.113549.2.9","hmacWithSHA256");ut("1.2.840.113549.2.10","hmacWithSHA384");ut("1.2.840.113549.2.11","hmacWithSHA512");ut("1.2.840.113549.3.7","des-EDE3-CBC");ut("2.16.840.1.101.3.4.1.2","aes128-CBC");ut("2.16.840.1.101.3.4.1.22","aes192-CBC");ut("2.16.840.1.101.3.4.1.42","aes256-CBC");ut("2.5.4.3","commonName");ut("2.5.4.4","surname");ut("2.5.4.5","serialNumber");ut("2.5.4.6","countryName");ut("2.5.4.7","localityName");ut("2.5.4.8","stateOrProvinceName");ut("2.5.4.9","streetAddress");ut("2.5.4.10","organizationName");ut("2.5.4.11","organizationalUnitName");ut("2.5.4.12","title");ut("2.5.4.13","description");ut("2.5.4.15","businessCategory");ut("2.5.4.17","postalCode");ut("2.5.4.42","givenName");ut("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");ut("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");ut("2.16.840.1.113730.1.1","nsCertType");ut("2.16.840.1.113730.1.13","nsComment");mi("2.5.29.1","authorityKeyIdentifier");mi("2.5.29.2","keyAttributes");mi("2.5.29.3","certificatePolicies");mi("2.5.29.4","keyUsageRestriction");mi("2.5.29.5","policyMapping");mi("2.5.29.6","subtreesConstraint");mi("2.5.29.7","subjectAltName");mi("2.5.29.8","issuerAltName");mi("2.5.29.9","subjectDirectoryAttributes");mi("2.5.29.10","basicConstraints");mi("2.5.29.11","nameConstraints");mi("2.5.29.12","policyConstraints");mi("2.5.29.13","basicConstraints");ut("2.5.29.14","subjectKeyIdentifier");ut("2.5.29.15","keyUsage");mi("2.5.29.16","privateKeyUsagePeriod");ut("2.5.29.17","subjectAltName");ut("2.5.29.18","issuerAltName");ut("2.5.29.19","basicConstraints");mi("2.5.29.20","cRLNumber");mi("2.5.29.21","cRLReason");mi("2.5.29.22","expirationDate");mi("2.5.29.23","instructionCode");mi("2.5.29.24","invalidityDate");mi("2.5.29.25","cRLDistributionPoints");mi("2.5.29.26","issuingDistributionPoint");mi("2.5.29.27","deltaCRLIndicator");mi("2.5.29.28","issuingDistributionPoint");mi("2.5.29.29","certificateIssuer");mi("2.5.29.30","nameConstraints");ut("2.5.29.31","cRLDistributionPoints");ut("2.5.29.32","certificatePolicies");mi("2.5.29.33","policyMappings");mi("2.5.29.34","policyConstraints");ut("2.5.29.35","authorityKeyIdentifier");mi("2.5.29.36","policyConstraints");ut("2.5.29.37","extKeyUsage");mi("2.5.29.46","freshestCRL");mi("2.5.29.54","inhibitAnyPolicy");ut("1.3.6.1.4.1.11129.2.4.2","timestampList");ut("1.3.6.1.5.5.7.1.1","authorityInfoAccess");ut("1.3.6.1.5.5.7.3.1","serverAuth");ut("1.3.6.1.5.5.7.3.2","clientAuth");ut("1.3.6.1.5.5.7.3.3","codeSigning");ut("1.3.6.1.5.5.7.3.4","emailProtection");ut("1.3.6.1.5.5.7.3.8","timeStamping")});var Df=q((mzr,VTe)=>{f();var ro=tn();ri();h1();var wt=VTe.exports=ro.asn1=ro.asn1||{};wt.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};wt.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};wt.create=function(t,e,r,n,o){if(ro.util.isArray(n)){for(var a=[],c=0;c<n.length;++c)n[c]!==void 0&&a.push(n[c]);n=a}var l={tagClass:t,type:e,constructed:r,composed:r||ro.util.isArray(n),value:n};return o&&"bitStringContents"in o&&(l.bitStringContents=o.bitStringContents,l.original=wt.copy(l)),l};wt.copy=function(t,e){var r;if(ro.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(wt.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:wt.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};wt.equals=function(t,e,r){if(ro.util.isArray(t)){if(!ro.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!wt.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var o=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&wt.equals(t.value,e.value);return r&&r.includeBitStringContents&&(o=o&&t.bitStringContents===e.bitStringContents),o};wt.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function IS(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}s(IS,"_checkBufferLength");var edt=s(function(t,e){var r=t.getByte();if(e--,r!==128){var n,o=r&128;if(!o)n=r;else{var a=r&127;IS(t,e,a),n=t.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");wt.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=ro.util.createBuffer(t));var r=t.length(),n=rF(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var o=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw o.byteCount=r,o.remaining=t.length(),o}return n};function rF(t,e,r,n){var o;IS(t,e,2);var a=t.getByte();e--;var c=a&192,l=a&31;o=t.length();var u=edt(t,e);if(e-=o-t.length(),u!==void 0&&u>e){if(n.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=t.length(),d.remaining=e,d.requested=u,d}u=e}var A,h,p=(a&32)===32;if(p)if(A=[],u===void 0)for(;;){if(IS(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}o=t.length(),A.push(rF(t,e,r+1,n)),e-=o-t.length()}else for(;u>0;)o=t.length(),A.push(rF(t,u,r+1,n)),e-=o-t.length(),u-=o-t.length();if(A===void 0&&c===wt.Class.UNIVERSAL&&l===wt.Type.BITSTRING&&(h=t.bytes(u)),A===void 0&&n.decodeBitStrings&&c===wt.Class.UNIVERSAL&&l===wt.Type.BITSTRING&&u>1){var y=t.read,E=e,v=0;if(l===wt.Type.BITSTRING&&(IS(t,e,1),v=t.getByte(),e--),v===0)try{o=t.length();var w={strict:!0,decodeBitStrings:!0},_=rF(t,e,r+1,w),S=o-t.length();e-=S,l==wt.Type.BITSTRING&&S++;var D=_.tagClass;S===u&&(D===wt.Class.UNIVERSAL||D===wt.Class.CONTEXT_SPECIFIC)&&(A=[_])}catch{}A===void 0&&(t.read=y,e=E)}if(A===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(l===wt.Type.BMPSTRING)for(A="";u>0;u-=2)IS(t,e,2),A+=String.fromCharCode(t.getInt16()),e-=2;else A=t.getBytes(u),e-=u}var N=h===void 0?null:{bitStringContents:h};return wt.create(c,l,p,A,N)}s(rF,"_fromDer");wt.toDer=function(t){var e=ro.util.createBuffer(),r=t.tagClass|t.type,n=ro.util.createBuffer(),o=!1;if("bitStringContents"in t&&(o=!0,t.original&&(o=wt.equals(t,t.original))),o)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&n.putBuffer(wt.toDer(t.value[a]))}else if(t.type===wt.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)n.putInt16(t.value.charCodeAt(a));else t.type===wt.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)===0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var c=n.length(),l="";do l+=String.fromCharCode(c&255),c=c>>>8;while(c>0);e.putByte(l.length|128);for(var a=l.length-1;a>=0;--a)e.putByte(l.charCodeAt(a))}return e.putBuffer(n),e};wt.oidToDer=function(t){var e=t.split("."),r=ro.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,o,a,c,l=2;l<e.length;++l){n=!0,o=[],a=parseInt(e[l],10);do c=a&127,a=a>>>7,n||(c|=128),o.push(c),n=!1;while(a>0);for(var u=o.length-1;u>=0;--u)r.putByte(o[u])}return r};wt.derToOid=function(t){var e;typeof t=="string"&&(t=ro.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};wt.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,o=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),c=parseInt(t.substr(8,2),10),l=0;if(t.length>11){var u=t.charAt(10),d=10;u!=="+"&&u!=="-"&&(l=parseInt(t.substr(10,2),10),d+=2)}if(e.setUTCFullYear(r,n,o),e.setUTCHours(a,c,l,0),d&&(u=t.charAt(d),u==="+"||u==="-")){var A=parseInt(t.substr(d+1,2),10),h=parseInt(t.substr(d+4,2),10),p=A*60+h;p*=6e4,u==="+"?e.setTime(+e-p):e.setTime(+e+p)}return e};wt.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,o=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),c=parseInt(t.substr(10,2),10),l=parseInt(t.substr(12,2),10),u=0,d=0,A=!1;t.charAt(t.length-1)==="Z"&&(A=!0);var h=t.length-5,p=t.charAt(h);if(p==="+"||p==="-"){var y=parseInt(t.substr(h+1,2),10),E=parseInt(t.substr(h+4,2),10);d=y*60+E,d*=6e4,p==="+"&&(d*=-1),A=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),A?(e.setUTCFullYear(r,n,o),e.setUTCHours(a,c,l,u),e.setTime(+e+d)):(e.setFullYear(r,n,o),e.setHours(a,c,l,u)),e};wt.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};wt.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};wt.integerToDer=function(t){var e=ro.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};wt.derToInteger=function(t){typeof t=="string"&&(t=ro.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};wt.validate=function(t,e,r,n){var o=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(o=!0,e.value&&ro.util.isArray(e.value))for(var a=0,c=0;o&&c<e.value.length;++c)o=e.value[c].optional||!1,t.value[a]&&(o=wt.validate(t.value[a],e.value[c],r,n),o?++a:e.value[c].optional&&(o=!0)),!o&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(o&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var l;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return o};var GTe=/[^\\u0000-\\u00ff]/;wt.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var o="",a=0;a<e*r;++a)o+=" ";switch(n+=o+"Tag: ",t.tagClass){case wt.Class.UNIVERSAL:n+="Universal:";break;case wt.Class.APPLICATION:n+="Application:";break;case wt.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case wt.Class.PRIVATE:n+="Private:";break}if(t.tagClass===wt.Class.UNIVERSAL)switch(n+=t.type,t.type){case wt.Type.NONE:n+=" (None)";break;case wt.Type.BOOLEAN:n+=" (Boolean)";break;case wt.Type.INTEGER:n+=" (Integer)";break;case wt.Type.BITSTRING:n+=" (Bit string)";break;case wt.Type.OCTETSTRING:n+=" (Octet string)";break;case wt.Type.NULL:n+=" (Null)";break;case wt.Type.OID:n+=" (Object Identifier)";break;case wt.Type.ODESC:n+=" (Object Descriptor)";break;case wt.Type.EXTERNAL:n+=" (External or Instance of)";break;case wt.Type.REAL:n+=" (Real)";break;case wt.Type.ENUMERATED:n+=" (Enumerated)";break;case wt.Type.EMBEDDED:n+=" (Embedded PDV)";break;case wt.Type.UTF8:n+=" (UTF8)";break;case wt.Type.ROID:n+=" (Relative Object Identifier)";break;case wt.Type.SEQUENCE:n+=" (Sequence)";break;case wt.Type.SET:n+=" (Set)";break;case wt.Type.PRINTABLESTRING:n+=" (Printable String)";break;case wt.Type.IA5String:n+=" (IA5String (ASCII))";break;case wt.Type.UTCTIME:n+=" (UTC time)";break;case wt.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case wt.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=o+"Constructed: "+t.constructed+`
`,t.composed){for(var c=0,l="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(c+=1,l+=wt.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(l+=","));n+=o+"Sub values: "+c+l}else{if(n+=o+"Value: ",t.type===wt.Type.OID){var u=wt.derToOid(t.value);n+=u,ro.pki&&ro.pki.oids&&u in ro.pki.oids&&(n+=" ("+ro.pki.oids[u]+") ")}if(t.type===wt.Type.INTEGER)try{n+=wt.derToInteger(t.value)}catch{n+="0x"+ro.util.bytesToHex(t.value)}else if(t.type===wt.Type.BITSTRING){if(t.value.length>1?n+="0x"+ro.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var d=t.value.charCodeAt(0);d==1?n+=" (1 unused bit shown)":d>1&&(n+=" ("+d+" unused bits shown)")}}else if(t.type===wt.Type.OCTETSTRING)GTe.test(t.value)||(n+="("+t.value+") "),n+="0x"+ro.util.bytesToHex(t.value);else if(t.type===wt.Type.UTF8)try{n+=ro.util.decodeUtf8(t.value)}catch(A){if(A.message==="URI malformed")n+="0x"+ro.util.bytesToHex(t.value)+" (malformed UTF8)";else throw A}else t.type===wt.Type.PRINTABLESTRING||t.type===wt.Type.IA5String?n+=t.value:GTe.test(t.value)?n+="0x"+ro.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var aA=q((Czr,WTe)=>{f();var nF=tn();WTe.exports=nF.md=nF.md||{};nF.md.algorithms=nF.md.algorithms||{}});var Wb=q((Izr,YTe)=>{f();var Xh=tn();aA();ri();var tdt=YTe.exports=Xh.hmac=Xh.hmac||{};tdt.create=function(){var t=null,e=null,r=null,n=null,o={};return o.start=function(a,c){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in Xh.md.algorithms)e=Xh.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(c===null)c=t;else{if(typeof c=="string")c=Xh.util.createBuffer(c);else if(Xh.util.isArray(c)){var l=c;c=Xh.util.createBuffer();for(var u=0;u<l.length;++u)c.putByte(l[u])}var d=c.length();d>e.blockLength&&(e.start(),e.update(c.bytes()),c=e.digest()),r=Xh.util.createBuffer(),n=Xh.util.createBuffer(),d=c.length();for(var u=0;u<d;++u){var l=c.at(u);r.putByte(54^l),n.putByte(92^l)}if(d<e.blockLength)for(var l=e.blockLength-d,u=0;u<l;++u)r.putByte(54),n.putByte(92);t=c,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},o.update=function(a){e.update(a)},o.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(n),e.update(a),e.digest()},o.digest=o.getMac,o}});var oF=q((vzr,KTe)=>{f();var cA=tn();aA();ri();var zTe=KTe.exports=cA.md5=cA.md5||{};cA.md.md5=cA.md.algorithms.md5=zTe;zTe.create=function(){jTe||rdt();var t=null,e=cA.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var o=n.messageLengthSize/4,a=0;a<o;++a)n.fullMessageLength.push(0);return e=cA.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(o,a){a==="utf8"&&(o=cA.util.encodeUtf8(o));var c=o.length;n.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=c[1],c[1]=c[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(o),$Te(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var o=cA.util.createBuffer();o.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,c=a&n.blockLength-1;o.putBytes(KJ.substr(0,n.blockLength-c));for(var l,u=0,d=n.fullMessageLength.length-1;d>=0;--d)l=n.fullMessageLength[d]*8+u,u=l/4294967296>>>0,o.putInt32Le(l>>>0);var A={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};$Te(A,r,o);var h=cA.util.createBuffer();return h.putInt32Le(A.h0),h.putInt32Le(A.h1),h.putInt32Le(A.h2),h.putInt32Le(A.h3),h},n};var KJ=null,iF=null,xS=null,Yb=null,jTe=!1;function rdt(){KJ="\x80",KJ+=cA.util.fillString("\0",64),iF=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],xS=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],Yb=new Array(64);for(var t=0;t<64;++t)Yb[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296);jTe=!0}s(rdt,"_init");function $Te(t,e,r){for(var n,o,a,c,l,u,d,A,h=r.length();h>=64;){for(o=t.h0,a=t.h1,c=t.h2,l=t.h3,A=0;A<16;++A)e[A]=r.getInt32Le(),u=l^a&(c^l),n=o+u+Yb[A]+e[A],d=xS[A],o=l,l=c,c=a,a+=n<<d|n>>>32-d;for(;A<32;++A)u=c^l&(a^c),n=o+u+Yb[A]+e[iF[A]],d=xS[A],o=l,l=c,c=a,a+=n<<d|n>>>32-d;for(;A<48;++A)u=a^c^l,n=o+u+Yb[A]+e[iF[A]],d=xS[A],o=l,l=c,c=a,a+=n<<d|n>>>32-d;for(;A<64;++A)u=c^(a|~l),n=o+u+Yb[A]+e[iF[A]],d=xS[A],o=l,l=c,c=a,a+=n<<d|n>>>32-d;t.h0=t.h0+o|0,t.h1=t.h1+a|0,t.h2=t.h2+c|0,t.h3=t.h3+l|0,h-=64}}s($Te,"_update")});var DE=q((_zr,XTe)=>{f();var aF=tn();ri();var JTe=XTe.exports=aF.pem=aF.pem||{};JTe.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=sF(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=sF(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=sF(n)),t.headers)for(var o=0;o<t.headers.length;++o)r+=sF(t.headers[o]);return t.procType&&(r+=`\r
`),r+=aF.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};JTe.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/,a;a=r.exec(t),!!a;){var c=a[1];c==="NEW CERTIFICATE REQUEST"&&(c="CERTIFICATE REQUEST");var l={type:c,procType:null,contentDomain:null,dekInfo:null,headers:[],body:aF.util.decode64(a[3])};if(e.push(l),!!a[2]){for(var u=a[2].split(o),d=0;a&&d<u.length;){for(var A=u[d].replace(/\s+$/,""),h=d+1;h<u.length;++h){var p=u[h];if(!/\s/.test(p[0]))break;A+=p,d=h}if(a=A.match(n),a){for(var y={name:a[1],values:[]},E=a[2].split(","),v=0;v<E.length;++v)y.values.push(ndt(E[v]));if(l.procType)if(!l.contentDomain&&y.name==="Content-Domain")l.contentDomain=E[0]||"";else if(!l.dekInfo&&y.name==="DEK-Info"){if(y.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:E[0],parameters:E[1]||null}}else l.headers.push(y);else{if(y.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(y.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:E[0],type:E[1]}}}++d}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function sF(t){for(var e=t.name+": ",r=[],n=s(function(u,d){return" "+d},"insertSpace"),o=0;o<t.values.length;++o)r.push(t.values[o].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var a=0,c=-1,o=0;o<e.length;++o,++a)if(a>65&&c!==-1){var l=e[c];l===","?(++c,e=e.substr(0,c)+`\r
 `+e.substr(c)):e=e.substr(0,c)+`\r
`+l+e.substr(c+1),a=o-c-1,c=-1,++o}else(e[o]===" "||e[o]==="	"||e[o]===",")&&(c=o);return e}s(sF,"foldHeader");function ndt(t){return t.replace(/^\s+/,"")}s(ndt,"ltrim")});var vS=q((Bzr,e_e)=>{f();var po=tn();XP();WJ();ri();e_e.exports=po.des=po.des||{};po.des.startEncrypting=function(t,e,r,n){var o=cF({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return o.start(e),o};po.des.createEncryptionCipher=function(t,e){return cF({key:t,output:null,decrypt:!1,mode:e})};po.des.startDecrypting=function(t,e,r,n){var o=cF({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return o.start(e),o};po.des.createDecryptionCipher=function(t,e){return cF({key:t,output:null,decrypt:!0,mode:e})};po.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:s(function(n,o){return ZTe(r._keys,n,o,!1)},"encrypt"),decrypt:s(function(n,o){return ZTe(r._keys,n,o,!0)},"decrypt")}}),r._init=!1};po.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=po.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=ddt(e),this._init=!0}};lA("DES-ECB",po.cipher.modes.ecb);lA("DES-CBC",po.cipher.modes.cbc);lA("DES-CFB",po.cipher.modes.cfb);lA("DES-OFB",po.cipher.modes.ofb);lA("DES-CTR",po.cipher.modes.ctr);lA("3DES-ECB",po.cipher.modes.ecb);lA("3DES-CBC",po.cipher.modes.cbc);lA("3DES-CFB",po.cipher.modes.cfb);lA("3DES-OFB",po.cipher.modes.ofb);lA("3DES-CTR",po.cipher.modes.ctr);function lA(t,e){var r=s(function(){return new po.des.Algorithm(t,e)},"factory");po.cipher.registerAlgorithm(t,r)}s(lA,"registerAlgorithm");var idt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],odt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],sdt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],adt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],cdt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],ldt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],udt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],fdt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function ddt(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],c=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],d=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],A=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],y=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],E=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],v=t.length()>8?3:1,w=[],_=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],S=0,D,N=0;N<v;N++){var P=t.getInt32(),O=t.getInt32();D=(P>>>4^O)&252645135,O^=D,P^=D<<4,D=(O>>>-16^P)&65535,P^=D,O^=D<<-16,D=(P>>>2^O)&858993459,O^=D,P^=D<<2,D=(O>>>-16^P)&65535,P^=D,O^=D<<-16,D=(P>>>1^O)&1431655765,O^=D,P^=D<<1,D=(O>>>8^P)&16711935,P^=D,O^=D<<8,D=(P>>>1^O)&1431655765,O^=D,P^=D<<1,D=P<<8|O>>>20&240,P=O<<24|O<<8&16711680|O>>>8&65280|O>>>24&240,O=D;for(var $=0;$<_.length;++$){_[$]?(P=P<<2|P>>>26,O=O<<2|O>>>26):(P=P<<1|P>>>27,O=O<<1|O>>>27),P&=-15,O&=-15;var ne=e[P>>>28]|r[P>>>24&15]|n[P>>>20&15]|o[P>>>16&15]|a[P>>>12&15]|c[P>>>8&15]|l[P>>>4&15],oe=u[O>>>28]|d[O>>>24&15]|A[O>>>20&15]|h[O>>>16&15]|p[O>>>12&15]|y[O>>>8&15]|E[O>>>4&15];D=(oe>>>16^ne)&65535,w[S++]=ne^D,w[S++]=oe^D<<16}}return w}s(ddt,"_createKeys");function ZTe(t,e,r,n){var o=t.length===32?3:9,a;o===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var c,l=e[0],u=e[1];c=(l>>>4^u)&252645135,u^=c,l^=c<<4,c=(l>>>16^u)&65535,u^=c,l^=c<<16,c=(u>>>2^l)&858993459,l^=c,u^=c<<2,c=(u>>>8^l)&16711935,l^=c,u^=c<<8,c=(l>>>1^u)&1431655765,u^=c,l^=c<<1,l=l<<1|l>>>31,u=u<<1|u>>>31;for(var d=0;d<o;d+=3){for(var A=a[d+1],h=a[d+2],p=a[d];p!=A;p+=h){var y=u^t[p],E=(u>>>4|u<<28)^t[p+1];c=l,l=u,u=c^(odt[y>>>24&63]|adt[y>>>16&63]|ldt[y>>>8&63]|fdt[y&63]|idt[E>>>24&63]|sdt[E>>>16&63]|cdt[E>>>8&63]|udt[E&63])}c=l,l=u,u=c}l=l>>>1|l<<31,u=u>>>1|u<<31,c=(l>>>1^u)&1431655765,u^=c,l^=c<<1,c=(u>>>8^l)&16711935,l^=c,u^=c<<8,c=(u>>>2^l)&858993459,l^=c,u^=c<<2,c=(l>>>16^u)&65535,u^=c,l^=c<<16,c=(l>>>4^u)&252645135,u^=c,l^=c<<4,r[0]=l,r[1]=u}s(ZTe,"_updateBlock");function cF(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=po.cipher.createDecipher(r,t.key):n=po.cipher.createCipher(r,t.key);var o=n.start;return n.start=function(a,c){var l=null;c instanceof po.util.ByteBuffer&&(l=c,c={}),c=c||{},c.output=l,c.iv=a,o.call(n,c)},n}s(cF,"_createCipher")});var lF=q((Dzr,t_e)=>{f();var B0=tn();Wb();aA();ri();var Adt=B0.pkcs5=B0.pkcs5||{},Zh;B0.util.isNodejs&&!B0.options.usePureJavaScript&&(Zh=require("crypto"));t_e.exports=B0.pbkdf2=Adt.pbkdf2=function(t,e,r,n,o,a){if(typeof o=="function"&&(a=o,o=null),B0.util.isNodejs&&!B0.options.usePureJavaScript&&Zh.pbkdf2&&(o===null||typeof o!="object")&&(Zh.pbkdf2Sync.length>4||!o||o==="sha1"))return typeof o!="string"&&(o="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?Zh.pbkdf2Sync.length===4?Zh.pbkdf2(t,e,r,n,function(D,N){if(D)return a(D);a(null,N.toString("binary"))}):Zh.pbkdf2(t,e,r,n,o,function(D,N){if(D)return a(D);a(null,N.toString("binary"))}):Zh.pbkdf2Sync.length===4?Zh.pbkdf2Sync(t,e,r,n).toString("binary"):Zh.pbkdf2Sync(t,e,r,n,o).toString("binary");if((typeof o>"u"||o===null)&&(o="sha1"),typeof o=="string"){if(!(o in B0.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=B0.md[o].create()}var c=o.digestLength;if(n>4294967295*c){var l=new Error("Derived key is too long.");if(a)return a(l);throw l}var u=Math.ceil(n/c),d=n-(u-1)*c,A=B0.hmac.create();A.start(o,t);var h="",p,y,E;if(!a){for(var v=1;v<=u;++v){A.start(null,null),A.update(e),A.update(B0.util.int32ToBytes(v)),p=E=A.digest().getBytes();for(var w=2;w<=r;++w)A.start(null,null),A.update(E),y=A.digest().getBytes(),p=B0.util.xorBytes(p,y,c),E=y;h+=v<u?p:p.substr(0,d)}return h}var v=1,w;function _(){if(v>u)return a(null,h);A.start(null,null),A.update(e),A.update(B0.util.int32ToBytes(v)),p=E=A.digest().getBytes(),w=2,S()}s(_,"outer");function S(){if(w<=r)return A.start(null,null),A.update(E),y=A.digest().getBytes(),p=B0.util.xorBytes(p,y,c),E=y,++w,B0.util.setImmediate(S);h+=v<u?p:p.substr(0,d),++v,_()}s(S,"inner"),_()}});var XJ=q((Pzr,s_e)=>{f();var uA=tn();aA();ri();var n_e=s_e.exports=uA.sha256=uA.sha256||{};uA.md.sha256=uA.md.algorithms.sha256=n_e;n_e.create=function(){i_e||hdt();var t=null,e=uA.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var o=n.messageLengthSize/4,a=0;a<o;++a)n.fullMessageLength.push(0);return e=uA.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(o,a){a==="utf8"&&(o=uA.util.encodeUtf8(o));var c=o.length;n.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=c[1],c[1]=c[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(o),r_e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var o=uA.util.createBuffer();o.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,c=a&n.blockLength-1;o.putBytes(JJ.substr(0,n.blockLength-c));for(var l,u,d=n.fullMessageLength[0]*8,A=0;A<n.fullMessageLength.length-1;++A)l=n.fullMessageLength[A+1]*8,u=l/4294967296>>>0,d+=u,o.putInt32(d>>>0),d=l>>>0;o.putInt32(d);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};r_e(h,r,o);var p=uA.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},n};var JJ=null,i_e=!1,o_e=null;function hdt(){JJ="\x80",JJ+=uA.util.fillString("\0",64),o_e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i_e=!0}s(hdt,"_init");function r_e(t,e,r){for(var n,o,a,c,l,u,d,A,h,p,y,E,v,w,_,S=r.length();S>=64;){for(d=0;d<16;++d)e[d]=r.getInt32();for(;d<64;++d)n=e[d-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,o=e[d-15],o=(o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,e[d]=n+e[d-7]+o+e[d-16]|0;for(A=t.h0,h=t.h1,p=t.h2,y=t.h3,E=t.h4,v=t.h5,w=t.h6,_=t.h7,d=0;d<64;++d)c=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),l=w^E&(v^w),a=(A>>>2|A<<30)^(A>>>13|A<<19)^(A>>>22|A<<10),u=A&h|p&(A^h),n=_+c+l+o_e[d]+e[d],o=a+u,_=w,w=v,v=E,E=y+n>>>0,y=p,p=h,h=A,A=n+o>>>0;t.h0=t.h0+A|0,t.h1=t.h1+h|0,t.h2=t.h2+p|0,t.h3=t.h3+y|0,t.h4=t.h4+E|0,t.h5=t.h5+v|0,t.h6=t.h6+w|0,t.h7=t.h7+_|0,S-=64}}s(r_e,"_update")});var ZJ=q((Mzr,a_e)=>{f();var fA=tn();ri();var uF=null;fA.util.isNodejs&&!fA.options.usePureJavaScript&&!process.versions["node-webkit"]&&(uF=require("crypto"));var pdt=a_e.exports=fA.prng=fA.prng||{};pdt.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),o=0;o<32;++o)n[o]=r.create();e.pools=n,e.pool=0,e.generate=function(d,A){if(!A)return e.generateSync(d);var h=e.plugin.cipher,p=e.plugin.increment,y=e.plugin.formatKey,E=e.plugin.formatSeed,v=fA.util.createBuffer();e.key=null,w();function w(_){if(_)return A(_);if(v.length()>=d)return A(null,v.getBytes(d));if(e.generated>1048575&&(e.key=null),e.key===null)return fA.util.nextTick(function(){a(w)});var S=h(e.key,e.seed);e.generated+=S.length,v.putBytes(S),e.key=y(h(e.key,p(e.seed))),e.seed=E(h(e.key,e.seed)),fA.util.setImmediate(w)}s(w,"generate")},e.generateSync=function(d){var A=e.plugin.cipher,h=e.plugin.increment,p=e.plugin.formatKey,y=e.plugin.formatSeed;e.key=null;for(var E=fA.util.createBuffer();E.length()<d;){e.generated>1048575&&(e.key=null),e.key===null&&c();var v=A(e.key,e.seed);e.generated+=v.length,E.putBytes(v),e.key=p(A(e.key,h(e.seed))),e.seed=y(A(e.key,e.seed))}return E.getBytes(d)};function a(d){if(e.pools[0].messageLength>=32)return l(),d();var A=32-e.pools[0].messageLength<<5;e.seedFile(A,function(h,p){if(h)return d(h);e.collect(p),l(),d()})}s(a,"_reseed");function c(){if(e.pools[0].messageLength>=32)return l();var d=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(d)),l()}s(c,"_reseedSync");function l(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var d=e.plugin.md.create();d.update(e.keyBytes);for(var A=1,h=0;h<32;++h)e.reseeds%A===0&&(d.update(e.pools[h].digest().getBytes()),e.pools[h].start()),A=A<<1;e.keyBytes=d.digest().getBytes(),d.start(),d.update(e.keyBytes);var p=d.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(p),e.generated=0}s(l,"_seed");function u(d){var A=null,h=fA.util.globalScope,p=h.crypto||h.msCrypto;p&&p.getRandomValues&&(A=s(function(P){return p.getRandomValues(P)},"getRandomValues"));var y=fA.util.createBuffer();if(A)for(;y.length()<d;){var E=Math.max(1,Math.min(d-y.length(),65536)/4),v=new Uint32Array(Math.floor(E));try{A(v);for(var w=0;w<v.length;++w)y.putInt32(v[w])}catch(P){if(!(typeof QuotaExceededError<"u"&&P instanceof QuotaExceededError))throw P}}if(y.length()<d)for(var _,S,D,N=Math.floor(Math.random()*65536);y.length()<d;){S=16807*(N&65535),_=16807*(N>>16),S+=(_&32767)<<16,S+=_>>15,S=(S&2147483647)+(S>>31),N=S&4294967295;for(var w=0;w<3;++w)D=N>>>(w<<3),D^=Math.floor(Math.random()*256),y.putByte(D&255)}return y.getBytes(d)}return s(u,"defaultSeedFile"),uF?(e.seedFile=function(d,A){uF.randomBytes(d,function(h,p){if(h)return A(h);A(null,p.toString())})},e.seedFileSync=function(d){return uF.randomBytes(d).toString()}):(e.seedFile=function(d,A){try{A(null,u(d))}catch(h){A(h)}},e.seedFileSync=u),e.collect=function(d){for(var A=d.length,h=0;h<A;++h)e.pools[e.pool].update(d.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(d,A){for(var h="",p=0;p<A;p+=8)h+=String.fromCharCode(d>>p&255);e.collect(h)},e.registerWorker=function(d){if(d===self)e.seedFile=function(h,p){function y(E){var v=E.data;v.forge&&v.forge.prng&&(self.removeEventListener("message",y),p(v.forge.prng.err,v.forge.prng.bytes))}s(y,"listener"),self.addEventListener("message",y),self.postMessage({forge:{prng:{needed:h}}})};else{var A=s(function(h){var p=h.data;p.forge&&p.forge.prng&&e.seedFile(p.forge.prng.needed,function(y,E){d.postMessage({forge:{prng:{err:y,bytes:E}}})})},"listener");d.addEventListener("message",A)}},e}});var Au=q((Hzr,eX)=>{f();var ca=tn();A1();XJ();ZJ();ri();(function(){if(ca.random&&ca.random.getBytes){eX.exports=ca.random;return}(function(t){var e={},r=new Array(4),n=ca.util.createBuffer();e.formatKey=function(h){var p=ca.util.createBuffer(h);return h=new Array(4),h[0]=p.getInt32(),h[1]=p.getInt32(),h[2]=p.getInt32(),h[3]=p.getInt32(),ca.aes._expandKey(h,!1)},e.formatSeed=function(h){var p=ca.util.createBuffer(h);return h=new Array(4),h[0]=p.getInt32(),h[1]=p.getInt32(),h[2]=p.getInt32(),h[3]=p.getInt32(),h},e.cipher=function(h,p){return ca.aes._updateBlock(h,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(h){return++h[3],h},e.md=ca.md.sha256;function o(){var h=ca.prng.create(e);return h.getBytes=function(p,y){return h.generate(p,y)},h.getBytesSync=function(p){return h.generate(p)},h}s(o,"spawnPrng");var a=o(),c=null,l=ca.util.globalScope,u=l.crypto||l.msCrypto;if(u&&u.getRandomValues&&(c=s(function(h){return u.getRandomValues(h)},"getRandomValues")),ca.options.usePureJavaScript||!ca.util.isNodejs&&!c){if(typeof window>"u"||window.document,a.collectInt(+new Date,32),typeof navigator<"u"){var d="";for(var A in navigator)try{typeof navigator[A]=="string"&&(d+=navigator[A])}catch{}a.collect(d),d=null}t&&(t().mousemove(function(h){a.collectInt(h.clientX,16),a.collectInt(h.clientY,16)}),t().keypress(function(h){a.collectInt(h.charCode,8)}))}if(!ca.random)ca.random=a;else for(var A in a)ca.random[A]=a[A];ca.random.createInstance=o,eX.exports=ca.random})(typeof jQuery<"u"?jQuery:null)})()});var rX=q((Vzr,u_e)=>{f();var Cc=tn();ri();var tX=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],c_e=[1,2,3,5],mdt=s(function(t,e){return t<<e&65535|(t&65535)>>16-e},"rol"),gdt=s(function(t,e){return(t&65535)>>e|t<<16-e&65535},"ror");u_e.exports=Cc.rc2=Cc.rc2||{};Cc.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Cc.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),o=e,a=Math.ceil(o/8),c=255>>(o&7),l;for(l=n;l<128;l++)r.putByte(tX[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-a,tX[r.at(128-a)&c]),l=127-a;l>=0;l--)r.setAt(l,tX[r.at(l+1)^r.at(l+a)]);return r};var l_e=s(function(t,e,r){var n=!1,o=null,a=null,c=null,l,u,d,A,h=[];for(t=Cc.rc2.expandKey(t,e),d=0;d<64;d++)h.push(t.getInt16Le());r?(l=s(function(E){for(d=0;d<4;d++)E[d]+=h[A]+(E[(d+3)%4]&E[(d+2)%4])+(~E[(d+3)%4]&E[(d+1)%4]),E[d]=mdt(E[d],c_e[d]),A++},"mixRound"),u=s(function(E){for(d=0;d<4;d++)E[d]+=h[E[(d+3)%4]&63]},"mashRound")):(l=s(function(E){for(d=3;d>=0;d--)E[d]=gdt(E[d],c_e[d]),E[d]-=h[A]+(E[(d+3)%4]&E[(d+2)%4])+(~E[(d+3)%4]&E[(d+1)%4]),A--},"mixRound"),u=s(function(E){for(d=3;d>=0;d--)E[d]-=h[E[(d+3)%4]&63]},"mashRound"));var p=s(function(E){var v=[];for(d=0;d<4;d++){var w=o.getInt16Le();c!==null&&(r?w^=c.getInt16Le():c.putInt16Le(w)),v.push(w&65535)}A=r?0:63;for(var _=0;_<E.length;_++)for(var S=0;S<E[_][0];S++)E[_][1](v);for(d=0;d<4;d++)c!==null&&(r?c.putInt16Le(v[d]):v[d]^=c.getInt16Le()),a.putInt16Le(v[d])},"runPlan"),y=null;return y={start:s(function(E,v){E&&typeof E=="string"&&(E=Cc.util.createBuffer(E)),n=!1,o=Cc.util.createBuffer(),a=v||new Cc.util.createBuffer,c=E,y.output=a},"start"),update:s(function(E){for(n||o.putBuffer(E);o.length()>=8;)p([[5,l],[1,u],[6,l],[1,u],[5,l]])},"update"),finish:s(function(E){var v=!0;if(r)if(E)v=E(8,o,!r);else{var w=o.length()===8?8:8-o.length();o.fillWithByte(w,w)}if(v&&(n=!0,y.update()),!r&&(v=o.length()===0,v))if(E)v=E(8,a,!r);else{var _=a.length(),S=a.at(_-1);S>_?v=!1:a.truncate(S)}return v},"finish")},y},"createCipher");Cc.rc2.startEncrypting=function(t,e,r){var n=Cc.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Cc.rc2.createEncryptionCipher=function(t,e){return l_e(t,e,!0)};Cc.rc2.startDecrypting=function(t,e,r){var n=Cc.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Cc.rc2.createDecryptionCipher=function(t,e){return l_e(t,e,!1)}});var TS=q(($zr,y_e)=>{f();var nX=tn();y_e.exports=nX.jsbn=nX.jsbn||{};var ep,ydt=0xdeadbeefcafe,f_e=(ydt&16777215)==15715070;function it(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}s(it,"BigInteger");nX.jsbn.BigInteger=it;function ni(){return new it(null)}s(ni,"nbi");function Cdt(t,e,r,n,o,a){for(;--a>=0;){var c=e*this.data[t++]+r.data[n]+o;o=Math.floor(c/67108864),r.data[n++]=c&67108863}return o}s(Cdt,"am1");function Edt(t,e,r,n,o,a){for(var c=e&32767,l=e>>15;--a>=0;){var u=this.data[t]&32767,d=this.data[t++]>>15,A=l*u+d*c;u=c*u+((A&32767)<<15)+r.data[n]+(o&1073741823),o=(u>>>30)+(A>>>15)+l*d+(o>>>30),r.data[n++]=u&1073741823}return o}s(Edt,"am2");function d_e(t,e,r,n,o,a){for(var c=e&16383,l=e>>14;--a>=0;){var u=this.data[t]&16383,d=this.data[t++]>>14,A=l*u+d*c;u=c*u+((A&16383)<<14)+r.data[n]+o,o=(u>>28)+(A>>14)+l*d,r.data[n++]=u&268435455}return o}s(d_e,"am3");typeof navigator>"u"?(it.prototype.am=d_e,ep=28):f_e&&navigator.appName=="Microsoft Internet Explorer"?(it.prototype.am=Edt,ep=30):f_e&&navigator.appName!="Netscape"?(it.prototype.am=Cdt,ep=26):(it.prototype.am=d_e,ep=28);it.prototype.DB=ep;it.prototype.DM=(1<<ep)-1;it.prototype.DV=1<<ep;var iX=52;it.prototype.FV=Math.pow(2,iX);it.prototype.F1=iX-ep;it.prototype.F2=2*ep-iX;var Idt="0123456789abcdefghijklmnopqrstuvwxyz",fF=new Array,$b,hu;$b=48;for(hu=0;hu<=9;++hu)fF[$b++]=hu;$b=97;for(hu=10;hu<36;++hu)fF[$b++]=hu;$b=65;for(hu=10;hu<36;++hu)fF[$b++]=hu;function A_e(t){return Idt.charAt(t)}s(A_e,"int2char");function h_e(t,e){var r=fF[t.charCodeAt(e)];return r??-1}s(h_e,"intAt");function xdt(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}s(xdt,"bnpCopyTo");function vdt(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}s(vdt,"bnpFromInt");function p1(t){var e=ni();return e.fromInt(t),e}s(p1,"nbv");function bdt(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,o=!1,a=0;--n>=0;){var c=r==8?t[n]&255:h_e(t,n);if(c<0){t.charAt(n)=="-"&&(o=!0);continue}o=!1,a==0?this.data[this.t++]=c:a+r>this.DB?(this.data[this.t-1]|=(c&(1<<this.DB-a)-1)<<a,this.data[this.t++]=c>>this.DB-a):this.data[this.t-1]|=c<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&it.ZERO.subTo(this,this)}s(bdt,"bnpFromString");function Tdt(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}s(Tdt,"bnpClamp");function _dt(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,o=!1,a="",c=this.t,l=this.DB-c*this.DB%e;if(c-- >0)for(l<this.DB&&(n=this.data[c]>>l)>0&&(o=!0,a=A_e(n));c>=0;)l<e?(n=(this.data[c]&(1<<l)-1)<<e-l,n|=this.data[--c]>>(l+=this.DB-e)):(n=this.data[c]>>(l-=e)&r,l<=0&&(l+=this.DB,--c)),n>0&&(o=!0),o&&(a+=A_e(n));return o?a:"0"}s(_dt,"bnToString");function wdt(){var t=ni();return it.ZERO.subTo(this,t),t}s(wdt,"bnNegate");function Sdt(){return this.s<0?this.negate():this}s(Sdt,"bnAbs");function Bdt(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}s(Bdt,"bnCompareTo");function dF(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}s(dF,"nbits");function Rdt(){return this.t<=0?0:this.DB*(this.t-1)+dF(this.data[this.t-1]^this.s&this.DM)}s(Rdt,"bnBitLength");function kdt(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}s(kdt,"bnpDLShiftTo");function Ddt(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}s(Ddt,"bnpDRShiftTo");function Ndt(t,e){var r=t%this.DB,n=this.DB-r,o=(1<<n)-1,a=Math.floor(t/this.DB),c=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)e.data[l+a+1]=this.data[l]>>n|c,c=(this.data[l]&o)<<r;for(l=a-1;l>=0;--l)e.data[l]=0;e.data[a]=c,e.t=this.t+a+1,e.s=this.s,e.clamp()}s(Ndt,"bnpLShiftTo");function Qdt(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,o=this.DB-n,a=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var c=r+1;c<this.t;++c)e.data[c-r-1]|=(this.data[c]&a)<<o,e.data[c-r]=this.data[c]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&a)<<o),e.t=this.t-r,e.clamp()}s(Qdt,"bnpRShiftTo");function Pdt(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}s(Pdt,"bnpSubTo");function Fdt(t,e){var r=this.abs(),n=t.abs(),o=r.t;for(e.t=o+n.t;--o>=0;)e.data[o]=0;for(o=0;o<n.t;++o)e.data[o+r.t]=r.am(0,n.data[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&it.ZERO.subTo(e,e)}s(Fdt,"bnpMultiplyTo");function Ldt(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}s(Ldt,"bnpSquareTo");function Mdt(t,e,r){var n=t.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ni());var a=ni(),c=this.s,l=t.s,u=this.DB-dF(n.data[n.t-1]);u>0?(n.lShiftTo(u,a),o.lShiftTo(u,r)):(n.copyTo(a),o.copyTo(r));var d=a.t,A=a.data[d-1];if(A!=0){var h=A*(1<<this.F1)+(d>1?a.data[d-2]>>this.F2:0),p=this.FV/h,y=(1<<this.F1)/h,E=1<<this.F2,v=r.t,w=v-d,_=e??ni();for(a.dlShiftTo(w,_),r.compareTo(_)>=0&&(r.data[r.t++]=1,r.subTo(_,r)),it.ONE.dlShiftTo(d,_),_.subTo(a,a);a.t<d;)a.data[a.t++]=0;for(;--w>=0;){var S=r.data[--v]==A?this.DM:Math.floor(r.data[v]*p+(r.data[v-1]+E)*y);if((r.data[v]+=a.am(0,S,r,w,0,d))<S)for(a.dlShiftTo(w,_),r.subTo(_,r);r.data[v]<--S;)r.subTo(_,r)}e!=null&&(r.drShiftTo(d,e),c!=l&&it.ZERO.subTo(e,e)),r.t=d,r.clamp(),u>0&&r.rShiftTo(u,r),c<0&&it.ZERO.subTo(r,r)}}}s(Mdt,"bnpDivRemTo");function Odt(t){var e=ni();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(it.ZERO)>0&&t.subTo(e,e),e}s(Odt,"bnMod");function NE(t){this.m=t}s(NE,"Classic");function Udt(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}s(Udt,"cConvert");function Hdt(t){return t}s(Hdt,"cRevert");function qdt(t){t.divRemTo(this.m,null,t)}s(qdt,"cReduce");function Gdt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}s(Gdt,"cMulTo");function Vdt(t,e){t.squareTo(e),this.reduce(e)}s(Vdt,"cSqrTo");NE.prototype.convert=Udt;NE.prototype.revert=Hdt;NE.prototype.reduce=qdt;NE.prototype.mulTo=Gdt;NE.prototype.sqrTo=Vdt;function Wdt(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}s(Wdt,"bnpInvDigit");function QE(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}s(QE,"Montgomery");function Ydt(t){var e=ni();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(it.ZERO)>0&&this.m.subTo(e,e),e}s(Ydt,"montConvert");function $dt(t){var e=ni();return t.copyTo(e),this.reduce(e),e}s($dt,"montRevert");function zdt(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}s(zdt,"montReduce");function jdt(t,e){t.squareTo(e),this.reduce(e)}s(jdt,"montSqrTo");function Kdt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}s(Kdt,"montMulTo");QE.prototype.convert=Ydt;QE.prototype.revert=$dt;QE.prototype.reduce=zdt;QE.prototype.mulTo=Kdt;QE.prototype.sqrTo=jdt;function Jdt(){return(this.t>0?this.data[0]&1:this.s)==0}s(Jdt,"bnpIsEven");function Xdt(t,e){if(t>4294967295||t<1)return it.ONE;var r=ni(),n=ni(),o=e.convert(this),a=dF(t)-1;for(o.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,o,r);else{var c=r;r=n,n=c}return e.revert(r)}s(Xdt,"bnpExp");function Zdt(t,e){var r;return t<256||e.isEven()?r=new NE(e):r=new QE(e),this.exp(t,r)}s(Zdt,"bnModPowInt");it.prototype.copyTo=xdt;it.prototype.fromInt=vdt;it.prototype.fromString=bdt;it.prototype.clamp=Tdt;it.prototype.dlShiftTo=kdt;it.prototype.drShiftTo=Ddt;it.prototype.lShiftTo=Ndt;it.prototype.rShiftTo=Qdt;it.prototype.subTo=Pdt;it.prototype.multiplyTo=Fdt;it.prototype.squareTo=Ldt;it.prototype.divRemTo=Mdt;it.prototype.invDigit=Wdt;it.prototype.isEven=Jdt;it.prototype.exp=Xdt;it.prototype.toString=_dt;it.prototype.negate=wdt;it.prototype.abs=Sdt;it.prototype.compareTo=Bdt;it.prototype.bitLength=Rdt;it.prototype.mod=Odt;it.prototype.modPowInt=Zdt;it.ZERO=p1(0);it.ONE=p1(1);function eAt(){var t=ni();return this.copyTo(t),t}s(eAt,"bnClone");function tAt(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}s(tAt,"bnIntValue");function rAt(){return this.t==0?this.s:this.data[0]<<24>>24}s(rAt,"bnByteValue");function nAt(){return this.t==0?this.s:this.data[0]<<16>>16}s(nAt,"bnShortValue");function iAt(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}s(iAt,"bnpChunkSize");function oAt(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}s(oAt,"bnSigNum");function sAt(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=p1(r),o=ni(),a=ni(),c="";for(this.divRemTo(n,o,a);o.signum()>0;)c=(r+a.intValue()).toString(t).substr(1)+c,o.divRemTo(n,o,a);return a.intValue().toString(t)+c}s(sAt,"bnpToRadix");function aAt(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),o=!1,a=0,c=0,l=0;l<t.length;++l){var u=h_e(t,l);if(u<0){t.charAt(l)=="-"&&this.signum()==0&&(o=!0);continue}c=e*c+u,++a>=r&&(this.dMultiply(n),this.dAddOffset(c,0),a=0,c=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(c,0)),o&&it.ZERO.subTo(this,this)}s(aAt,"bnpFromRadix");function cAt(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(it.ONE.shiftLeft(t-1),oX,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(it.ONE.shiftLeft(t-1),this);else{var n=new Array,o=t&7;n.length=(t>>3)+1,e.nextBytes(n),o>0?n[0]&=(1<<o)-1:n[0]=0,this.fromString(n,256)}}s(cAt,"bnpFromNumber");function lAt(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,o=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[o++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),o==0&&(this.s&128)!=(n&128)&&++o,(o>0||n!=this.s)&&(e[o++]=n);return e}s(lAt,"bnToByteArray");function uAt(t){return this.compareTo(t)==0}s(uAt,"bnEquals");function fAt(t){return this.compareTo(t)<0?this:t}s(fAt,"bnMin");function dAt(t){return this.compareTo(t)>0?this:t}s(dAt,"bnMax");function AAt(t,e,r){var n,o,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(o=t.s&this.DM,n=a;n<this.t;++n)r.data[n]=e(this.data[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=a;n<t.t;++n)r.data[n]=e(o,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}s(AAt,"bnpBitwiseTo");function hAt(t,e){return t&e}s(hAt,"op_and");function pAt(t){var e=ni();return this.bitwiseTo(t,hAt,e),e}s(pAt,"bnAnd");function oX(t,e){return t|e}s(oX,"op_or");function mAt(t){var e=ni();return this.bitwiseTo(t,oX,e),e}s(mAt,"bnOr");function p_e(t,e){return t^e}s(p_e,"op_xor");function gAt(t){var e=ni();return this.bitwiseTo(t,p_e,e),e}s(gAt,"bnXor");function m_e(t,e){return t&~e}s(m_e,"op_andnot");function yAt(t){var e=ni();return this.bitwiseTo(t,m_e,e),e}s(yAt,"bnAndNot");function CAt(){for(var t=ni(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}s(CAt,"bnNot");function EAt(t){var e=ni();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}s(EAt,"bnShiftLeft");function IAt(t){var e=ni();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}s(IAt,"bnShiftRight");function xAt(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}s(xAt,"lbit");function vAt(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+xAt(this.data[t]);return this.s<0?this.t*this.DB:-1}s(vAt,"bnGetLowestSetBit");function bAt(t){for(var e=0;t!=0;)t&=t-1,++e;return e}s(bAt,"cbit");function TAt(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=bAt(this.data[r]^e);return t}s(TAt,"bnBitCount");function _At(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}s(_At,"bnTestBit");function wAt(t,e){var r=it.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}s(wAt,"bnpChangeBit");function SAt(t){return this.changeBit(t,oX)}s(SAt,"bnSetBit");function BAt(t){return this.changeBit(t,m_e)}s(BAt,"bnClearBit");function RAt(t){return this.changeBit(t,p_e)}s(RAt,"bnFlipBit");function kAt(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}s(kAt,"bnpAddTo");function DAt(t){var e=ni();return this.addTo(t,e),e}s(DAt,"bnAdd");function NAt(t){var e=ni();return this.subTo(t,e),e}s(NAt,"bnSubtract");function QAt(t){var e=ni();return this.multiplyTo(t,e),e}s(QAt,"bnMultiply");function PAt(t){var e=ni();return this.divRemTo(t,e,null),e}s(PAt,"bnDivide");function FAt(t){var e=ni();return this.divRemTo(t,null,e),e}s(FAt,"bnRemainder");function LAt(t){var e=ni(),r=ni();return this.divRemTo(t,e,r),new Array(e,r)}s(LAt,"bnDivideAndRemainder");function MAt(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}s(MAt,"bnpDMultiply");function OAt(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}s(OAt,"bnpDAddOffset");function bS(){}s(bS,"NullExp");function g_e(t){return t}s(g_e,"nNop");function UAt(t,e,r){t.multiplyTo(e,r)}s(UAt,"nMulTo");function HAt(t,e){t.squareTo(e)}s(HAt,"nSqrTo");bS.prototype.convert=g_e;bS.prototype.revert=g_e;bS.prototype.mulTo=UAt;bS.prototype.sqrTo=HAt;function qAt(t){return this.exp(t,new bS)}s(qAt,"bnPow");function GAt(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var o;for(o=r.t-this.t;n<o;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(o=Math.min(t.t,e);n<o;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}s(GAt,"bnpMultiplyLowerTo");function VAt(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}s(VAt,"bnpMultiplyUpperTo");function zb(t){this.r2=ni(),this.q3=ni(),it.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}s(zb,"Barrett");function WAt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ni();return t.copyTo(e),this.reduce(e),e}s(WAt,"barrettConvert");function YAt(t){return t}s(YAt,"barrettRevert");function $At(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}s($At,"barrettReduce");function zAt(t,e){t.squareTo(e),this.reduce(e)}s(zAt,"barrettSqrTo");function jAt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}s(jAt,"barrettMulTo");zb.prototype.convert=WAt;zb.prototype.revert=YAt;zb.prototype.reduce=$At;zb.prototype.mulTo=jAt;zb.prototype.sqrTo=zAt;function KAt(t,e){var r=t.bitLength(),n,o=p1(1),a;if(r<=0)return o;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new NE(e):e.isEven()?a=new zb(e):a=new QE(e);var c=new Array,l=3,u=n-1,d=(1<<n)-1;if(c[1]=a.convert(this),n>1){var A=ni();for(a.sqrTo(c[1],A);l<=d;)c[l]=ni(),a.mulTo(A,c[l-2],c[l]),l+=2}var h=t.t-1,p,y=!0,E=ni(),v;for(r=dF(t.data[h])-1;h>=0;){for(r>=u?p=t.data[h]>>r-u&d:(p=(t.data[h]&(1<<r+1)-1)<<u-r,h>0&&(p|=t.data[h-1]>>this.DB+r-u)),l=n;(p&1)==0;)p>>=1,--l;if((r-=l)<0&&(r+=this.DB,--h),y)c[p].copyTo(o),y=!1;else{for(;l>1;)a.sqrTo(o,E),a.sqrTo(E,o),l-=2;l>0?a.sqrTo(o,E):(v=o,o=E,E=v),a.mulTo(E,c[p],o)}for(;h>=0&&(t.data[h]&1<<r)==0;)a.sqrTo(o,E),v=o,o=E,E=v,--r<0&&(r=this.DB-1,--h)}return a.revert(o)}s(KAt,"bnModPow");function JAt(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var o=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(o<a&&(a=o),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}s(JAt,"bnGCD");function XAt(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}s(XAt,"bnpModInt");function ZAt(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return it.ZERO;for(var r=t.clone(),n=this.clone(),o=p1(1),a=p1(0),c=p1(0),l=p1(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?((!c.isEven()||!l.isEven())&&(c.addTo(this,c),l.subTo(t,l)),c.rShiftTo(1,c)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),e&&o.subTo(c,o),a.subTo(l,a)):(n.subTo(r,n),e&&c.subTo(o,c),l.subTo(a,l))}if(n.compareTo(it.ONE)!=0)return it.ZERO;if(l.compareTo(t)>=0)return l.subtract(t);if(l.signum()<0)l.addTo(t,l);else return l;return l.signum()<0?l.add(t):l}s(ZAt,"bnModInverse");var Nf=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],eht=(1<<26)/Nf[Nf.length-1];function tht(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Nf[Nf.length-1]){for(e=0;e<Nf.length;++e)if(r.data[0]==Nf[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Nf.length;){for(var n=Nf[e],o=e+1;o<Nf.length&&n<eht;)n*=Nf[o++];for(n=r.modInt(n);e<o;)if(n%Nf[e++]==0)return!1}return r.millerRabin(t)}s(tht,"bnIsProbablePrime");function rht(t){var e=this.subtract(it.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),o=nht(),a,c=0;c<t;++c){do a=new it(this.bitLength(),o);while(a.compareTo(it.ONE)<=0||a.compareTo(e)>=0);var l=a.modPow(n,this);if(l.compareTo(it.ONE)!=0&&l.compareTo(e)!=0){for(var u=1;u++<r&&l.compareTo(e)!=0;)if(l=l.modPowInt(2,this),l.compareTo(it.ONE)==0)return!1;if(l.compareTo(e)!=0)return!1}}return!0}s(rht,"bnpMillerRabin");function nht(){return{nextBytes:s(function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)},"nextBytes")}}s(nht,"bnGetPrng");it.prototype.chunkSize=iAt;it.prototype.toRadix=sAt;it.prototype.fromRadix=aAt;it.prototype.fromNumber=cAt;it.prototype.bitwiseTo=AAt;it.prototype.changeBit=wAt;it.prototype.addTo=kAt;it.prototype.dMultiply=MAt;it.prototype.dAddOffset=OAt;it.prototype.multiplyLowerTo=GAt;it.prototype.multiplyUpperTo=VAt;it.prototype.modInt=XAt;it.prototype.millerRabin=rht;it.prototype.clone=eAt;it.prototype.intValue=tAt;it.prototype.byteValue=rAt;it.prototype.shortValue=nAt;it.prototype.signum=oAt;it.prototype.toByteArray=lAt;it.prototype.equals=uAt;it.prototype.min=fAt;it.prototype.max=dAt;it.prototype.and=pAt;it.prototype.or=mAt;it.prototype.xor=gAt;it.prototype.andNot=yAt;it.prototype.not=CAt;it.prototype.shiftLeft=EAt;it.prototype.shiftRight=IAt;it.prototype.getLowestSetBit=vAt;it.prototype.bitCount=TAt;it.prototype.testBit=_At;it.prototype.setBit=SAt;it.prototype.clearBit=BAt;it.prototype.flipBit=RAt;it.prototype.add=DAt;it.prototype.subtract=NAt;it.prototype.multiply=QAt;it.prototype.divide=PAt;it.prototype.remainder=FAt;it.prototype.divideAndRemainder=LAt;it.prototype.modPow=KAt;it.prototype.modInverse=ZAt;it.prototype.pow=qAt;it.prototype.gcd=JAt;it.prototype.isProbablePrime=tht});var jb=q((Kzr,x_e)=>{f();var dA=tn();aA();ri();var E_e=x_e.exports=dA.sha1=dA.sha1||{};dA.md.sha1=dA.md.algorithms.sha1=E_e;E_e.create=function(){I_e||iht();var t=null,e=dA.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var o=n.messageLengthSize/4,a=0;a<o;++a)n.fullMessageLength.push(0);return e=dA.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(o,a){a==="utf8"&&(o=dA.util.encodeUtf8(o));var c=o.length;n.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=c[1],c[1]=c[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(o),C_e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var o=dA.util.createBuffer();o.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,c=a&n.blockLength-1;o.putBytes(sX.substr(0,n.blockLength-c));for(var l,u,d=n.fullMessageLength[0]*8,A=0;A<n.fullMessageLength.length-1;++A)l=n.fullMessageLength[A+1]*8,u=l/4294967296>>>0,d+=u,o.putInt32(d>>>0),d=l>>>0;o.putInt32(d);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};C_e(h,r,o);var p=dA.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},n};var sX=null,I_e=!1;function iht(){sX="\x80",sX+=dA.util.fillString("\0",64),I_e=!0}s(iht,"_init");function C_e(t,e,r){for(var n,o,a,c,l,u,d,A,h=r.length();h>=64;){for(o=t.h0,a=t.h1,c=t.h2,l=t.h3,u=t.h4,A=0;A<16;++A)n=r.getInt32(),e[A]=n,d=l^a&(c^l),n=(o<<5|o>>>27)+d+u+1518500249+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;A<20;++A)n=e[A-3]^e[A-8]^e[A-14]^e[A-16],n=n<<1|n>>>31,e[A]=n,d=l^a&(c^l),n=(o<<5|o>>>27)+d+u+1518500249+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;A<32;++A)n=e[A-3]^e[A-8]^e[A-14]^e[A-16],n=n<<1|n>>>31,e[A]=n,d=a^c^l,n=(o<<5|o>>>27)+d+u+1859775393+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;A<40;++A)n=e[A-6]^e[A-16]^e[A-28]^e[A-32],n=n<<2|n>>>30,e[A]=n,d=a^c^l,n=(o<<5|o>>>27)+d+u+1859775393+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;A<60;++A)n=e[A-6]^e[A-16]^e[A-28]^e[A-32],n=n<<2|n>>>30,e[A]=n,d=a&c|l&(a^c),n=(o<<5|o>>>27)+d+u+2400959708+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;A<80;++A)n=e[A-6]^e[A-16]^e[A-28]^e[A-32],n=n<<2|n>>>30,e[A]=n,d=a^c^l,n=(o<<5|o>>>27)+d+u+3395469782+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;t.h0=t.h0+o|0,t.h1=t.h1+a|0,t.h2=t.h2+c|0,t.h3=t.h3+l|0,t.h4=t.h4+u|0,h-=64}}s(C_e,"_update")});var aX=q((Zzr,b_e)=>{f();var AA=tn();ri();Au();jb();var v_e=b_e.exports=AA.pkcs1=AA.pkcs1||{};v_e.encode_rsa_oaep=function(t,e,r){var n,o,a,c;typeof r=="string"?(n=r,o=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,o=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),a?a.start():a=AA.md.sha1.create(),c||(c=a);var l=Math.ceil(t.n.bitLength()/8),u=l-2*a.digestLength-2;if(e.length>u){var d=new Error("RSAES-OAEP input message length is too long.");throw d.length=e.length,d.maxLength=u,d}n||(n=""),a.update(n,"raw");for(var A=a.digest(),h="",p=u-e.length,y=0;y<p;y++)h+="\0";var E=A.getBytes()+h+""+e;if(!o)o=AA.random.getBytes(a.digestLength);else if(o.length!==a.digestLength){var d=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw d.seedLength=o.length,d.digestLength=a.digestLength,d}var v=AF(o,l-a.digestLength-1,c),w=AA.util.xorBytes(E,v,E.length),_=AF(w,a.digestLength,c),S=AA.util.xorBytes(o,_,o.length);return"\0"+S+w};v_e.decode_rsa_oaep=function(t,e,r){var n,o,a;typeof r=="string"?(n=r,o=arguments[3]||void 0):r&&(n=r.label||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var c=Math.ceil(t.n.bitLength()/8);if(e.length!==c){var w=new Error("RSAES-OAEP encoded message length is invalid.");throw w.length=e.length,w.expectedLength=c,w}if(o===void 0?o=AA.md.sha1.create():o.start(),a||(a=o),c<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),o.update(n,"raw");for(var l=o.digest().getBytes(),u=e.charAt(0),d=e.substring(1,o.digestLength+1),A=e.substring(1+o.digestLength),h=AF(A,o.digestLength,a),p=AA.util.xorBytes(d,h,d.length),y=AF(p,c-o.digestLength-1,a),E=AA.util.xorBytes(A,y,A.length),v=E.substring(0,o.digestLength),w=u!=="\0",_=0;_<o.digestLength;++_)w|=l.charAt(_)!==v.charAt(_);for(var S=1,D=o.digestLength,N=o.digestLength;N<E.length;N++){var P=E.charCodeAt(N),O=P&1^1,$=S?65534:0;w|=P&$,S=S&O,D+=S}if(w||E.charCodeAt(D)!==1)throw new Error("Invalid RSAES-OAEP padding.");return E.substring(D+1)};function AF(t,e,r){r||(r=AA.md.sha1.create());for(var n="",o=Math.ceil(e/r.digestLength),a=0;a<o;++a){var c=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+c),n+=r.digest().getBytes()}return n.substring(0,e)}s(AF,"rsa_mgf1")});var lX=q((rjr,cX)=>{f();var m1=tn();ri();TS();Au();(function(){if(m1.prime){cX.exports=m1.prime;return}var t=cX.exports=m1.prime=m1.prime||{},e=m1.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var o=s(function(h,p){return h|p},"op_or");t.generateProbablePrime=function(h,p,y){typeof p=="function"&&(y=p,p={}),p=p||{};var E=p.algorithm||"PRIMEINC";typeof E=="string"&&(E={name:E}),E.options=E.options||{};var v=p.prng||m1.random,w={nextBytes:s(function(_){for(var S=v.getBytesSync(_.length),D=0;D<_.length;++D)_[D]=S.charCodeAt(D)},"nextBytes")};if(E.name==="PRIMEINC")return a(h,w,E.options,y);throw new Error("Invalid prime generation algorithm: "+E.name)};function a(h,p,y,E){return"workers"in y?u(h,p,y,E):c(h,p,y,E)}s(a,"primeincFindPrime");function c(h,p,y,E){var v=d(h,p),w=0,_=A(v.bitLength());"millerRabinTests"in y&&(_=y.millerRabinTests);var S=10;"maxBlockTime"in y&&(S=y.maxBlockTime),l(v,h,p,w,_,S,E)}s(c,"primeincFindPrimeWithoutWorkers");function l(h,p,y,E,v,w,_){var S=+new Date;do{if(h.bitLength()>p&&(h=d(p,y)),h.isProbablePrime(v))return _(null,h);h.dAddOffset(r[E++%8],0)}while(w<0||+new Date-S<w);m1.util.setImmediate(function(){l(h,p,y,E,v,w,_)})}s(l,"_primeinc");function u(h,p,y,E){if(typeof Worker>"u")return c(h,p,y,E);var v=d(h,p),w=y.workers,_=y.workLoad||100,S=_*30/8,D=y.workerScript||"forge/prime.worker.js";if(w===-1)return m1.util.estimateCores(function(P,O){P&&(O=2),w=O-1,N()});N();function N(){w=Math.max(1,w);for(var P=[],O=0;O<w;++O)P[O]=new Worker(D);for(var $=w,O=0;O<w;++O)P[O].addEventListener("message",oe);var ne=!1;function oe(Ae){if(!ne){--$;var Y=Ae.data;if(Y.found){for(var K=0;K<P.length;++K)P[K].terminate();return ne=!0,E(null,new e(Y.prime,16))}v.bitLength()>h&&(v=d(h,p));var xe=v.toString(16);Ae.target.postMessage({hex:xe,workLoad:_}),v.dAddOffset(S,0)}}s(oe,"workerMessage")}s(N,"generate")}s(u,"primeincFindPrimeWithWorkers");function d(h,p){var y=new e(h,p),E=h-1;return y.testBit(E)||y.bitwiseTo(e.ONE.shiftLeft(E),o,y),y.dAddOffset(31-y.mod(n).byteValue(),0),y}s(d,"generateRandom");function A(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}s(A,"getMillerRabinTests")})()});var _S=q((ojr,k_e)=>{f();var er=tn();Df();TS();h1();aX();lX();Au();ri();typeof zn>"u"&&(zn=er.jsbn.BigInteger);var zn,uX=er.util.isNodejs?require("crypto"):null,ke=er.asn1,pu=er.util;er.pki=er.pki||{};k_e.exports=er.pki.rsa=er.rsa=er.rsa||{};var Yr=er.pki,oht=[6,4,2,4,2,4,6,2],sht={name:"PrivateKeyInfo",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},aht={name:"RSAPrivateKey",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},cht={name:"RSAPublicKey",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},lht=er.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:ke.Class.UNIVERSAL,type:ke.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},uht={name:"DigestInfo",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:ke.Class.UNIVERSAL,type:ke.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},fht=s(function(t){var e;if(t.algorithm in Yr.oids)e=Yr.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=ke.oidToDer(e).getBytes(),o=ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[]),a=ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[]);a.value.push(ke.create(ke.Class.UNIVERSAL,ke.Type.OID,!1,n)),a.value.push(ke.create(ke.Class.UNIVERSAL,ke.Type.NULL,!1,""));var c=ke.create(ke.Class.UNIVERSAL,ke.Type.OCTETSTRING,!1,t.digest().getBytes());return o.value.push(a),o.value.push(c),ke.toDer(o).getBytes()},"emsaPkcs1v15encode"),B_e=s(function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(zn.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(zn.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new zn(er.util.bytesToHex(er.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(zn.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var o=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);o.compareTo(a)<0;)o=o.add(e.p);var c=o.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return c=c.multiply(n.modInverse(e.n)).mod(e.n),c},"_modPow");Yr.rsa.encrypt=function(t,e,r){var n=r,o,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,o=R_e(t,e,r)):(o=er.util.createBuffer(),o.putBytes(t));for(var c=new zn(o.toHex(),16),l=B_e(c,e,n),u=l.toString(16),d=er.util.createBuffer(),A=a-Math.ceil(u.length/2);A>0;)d.putByte(0),--A;return d.putBytes(er.util.hexToBytes(u)),d.getBytes()};Yr.rsa.decrypt=function(t,e,r,n){var o=Math.ceil(e.n.bitLength()/8);if(t.length!==o){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=o,a}var c=new zn(er.util.createBuffer(t).toHex(),16);if(c.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=B_e(c,e,r),u=l.toString(16),d=er.util.createBuffer(),A=o-Math.ceil(u.length/2);A>0;)d.putByte(0),--A;return d.putBytes(er.util.hexToBytes(u)),n!==!1?hF(d.getBytes(),e,r):d.getBytes()};Yr.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||er.random,o={nextBytes:s(function(l){for(var u=n.getBytesSync(l.length),d=0;d<l.length;++d)l[d]=u.charCodeAt(d)},"nextBytes")},a=r.algorithm||"PRIMEINC",c;if(a==="PRIMEINC")c={algorithm:a,state:0,bits:t,rng:o,eInt:e||65537,e:new zn(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},c.e.fromInt(c.eInt);else throw new Error("Invalid key generation algorithm: "+a);return c};Yr.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new zn(null);r.fromInt(30);for(var n=0,o=s(function(h,p){return h|p},"op_or"),a=+new Date,c,l=0;t.keys===null&&(e<=0||l<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,d=u-1;t.pqState===0?(t.num=new zn(u,t.rng),t.num.testBit(d)||t.num.bitwiseTo(zn.ONE.shiftLeft(d),o,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(Aht(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(oht[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(zn.ONE).gcd(t.e).compareTo(zn.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(zn.ONE),t.q1=t.q.subtract(zn.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(zn.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var A=t.e.modInverse(t.phi);t.keys={privateKey:Yr.rsa.setPrivateKey(t.n,t.e,A,t.p,t.q,A.mod(t.p1),A.mod(t.q1),t.q.modInverse(t.p)),publicKey:Yr.rsa.setPublicKey(t.n,t.e)}}c=+new Date,l+=c-a,a=c}return t.keys!==null};Yr.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!er.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(T_e("generateKeyPair"))return uX.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,u,d){if(l)return n(l);n(null,{privateKey:Yr.privateKeyFromPem(d),publicKey:Yr.publicKeyFromPem(u)})});if(__e("generateKey")&&__e("exportKey"))return pu.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:S_e(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return pu.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var u=Yr.privateKeyFromAsn1(ke.fromDer(er.util.createBuffer(l)));n(null,{privateKey:u,publicKey:Yr.setRsaPublicKey(u.n,u.e)})}});if(w_e("generateKey")&&w_e("exportKey")){var o=pu.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:S_e(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);o.oncomplete=function(l){var u=l.target.result,d=pu.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);d.oncomplete=function(A){var h=A.target.result,p=Yr.privateKeyFromAsn1(ke.fromDer(er.util.createBuffer(h)));n(null,{privateKey:p,publicKey:Yr.setRsaPublicKey(p.n,p.e)})},d.onerror=function(A){n(A)}},o.onerror=function(l){n(l)};return}}else if(T_e("generateKeyPairSync")){var a=uX.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Yr.privateKeyFromPem(a.privateKey),publicKey:Yr.publicKeyFromPem(a.publicKey)}}}var c=Yr.rsa.createKeyPairGenerationState(t,e,r);if(!n)return Yr.rsa.stepKeyPairGenerationState(c,0),c.keys;dht(c,r,n)};Yr.setRsaPublicKey=Yr.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,o,a){if(typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSAES-PKCS1-V1_5"),o==="RSAES-PKCS1-V1_5")o={encode:s(function(l,u,d){return R_e(l,u,2).getBytes()},"encode")};else if(o==="RSA-OAEP"||o==="RSAES-OAEP")o={encode:s(function(l,u){return er.pkcs1.encode_rsa_oaep(u,l,a)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(o)!==-1)o={encode:s(function(l){return l},"encode")};else if(typeof o=="string")throw new Error('Unsupported encryption scheme: "'+o+'".');var c=o.encode(n,r,!0);return Yr.rsa.encrypt(c,r,!0)},r.verify=function(n,o,a,c){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),c===void 0&&(c={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in c||(c._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:s(function(u,d){d=hF(d,r,!0);var A=ke.fromDer(d,{parseAllBytes:c._parseAllDigestBytes}),h={},p=[];if(!ke.validate(A,uht,h,p)){var y=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw y.errors=p,y}var E=ke.derToOid(h.algorithmIdentifier);if(!(E===er.oids.md2||E===er.oids.md5||E===er.oids.sha1||E===er.oids.sha224||E===er.oids.sha256||E===er.oids.sha384||E===er.oids.sha512||E===er.oids["sha512-224"]||E===er.oids["sha512-256"])){var y=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw y.oid=E,y}if((E===er.oids.md2||E===er.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return u===h.digest},"verify")}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:s(function(u,d){return d=hF(d,r,!0),u===d},"verify")});var l=Yr.rsa.decrypt(o,r,!0,!1);return a.verify(n,l,r.n.bitLength())},r};Yr.setRsaPrivateKey=Yr.rsa.setPrivateKey=function(t,e,r,n,o,a,c,l){var u={n:t,e,d:r,p:n,q:o,dP:a,dQ:c,qInv:l};return u.decrypt=function(d,A,h){typeof A=="string"?A=A.toUpperCase():A===void 0&&(A="RSAES-PKCS1-V1_5");var p=Yr.rsa.decrypt(d,u,!1,!1);if(A==="RSAES-PKCS1-V1_5")A={decode:hF};else if(A==="RSA-OAEP"||A==="RSAES-OAEP")A={decode:s(function(y,E){return er.pkcs1.decode_rsa_oaep(E,y,h)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(A)!==-1)A={decode:s(function(y){return y},"decode")};else throw new Error('Unsupported encryption scheme: "'+A+'".');return A.decode(p,u,!1)},u.sign=function(d,A){var h=!1;typeof A=="string"&&(A=A.toUpperCase()),A===void 0||A==="RSASSA-PKCS1-V1_5"?(A={encode:fht},h=1):(A==="NONE"||A==="NULL"||A===null)&&(A={encode:s(function(){return d},"encode")},h=1);var p=A.encode(d,u.n.bitLength());return Yr.rsa.encrypt(p,u,h)},u};Yr.wrapRsaPrivateKey=function(t){return ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,ke.integerToDer(0).getBytes()),ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.OID,!1,ke.oidToDer(Yr.oids.rsaEncryption).getBytes()),ke.create(ke.Class.UNIVERSAL,ke.Type.NULL,!1,"")]),ke.create(ke.Class.UNIVERSAL,ke.Type.OCTETSTRING,!1,ke.toDer(t).getBytes())])};Yr.privateKeyFromAsn1=function(t){var e={},r=[];if(ke.validate(t,sht,e,r)&&(t=ke.fromDer(er.util.createBuffer(e.privateKey))),e={},r=[],!ke.validate(t,aht,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var o,a,c,l,u,d,A,h;return o=er.util.createBuffer(e.privateKeyModulus).toHex(),a=er.util.createBuffer(e.privateKeyPublicExponent).toHex(),c=er.util.createBuffer(e.privateKeyPrivateExponent).toHex(),l=er.util.createBuffer(e.privateKeyPrime1).toHex(),u=er.util.createBuffer(e.privateKeyPrime2).toHex(),d=er.util.createBuffer(e.privateKeyExponent1).toHex(),A=er.util.createBuffer(e.privateKeyExponent2).toHex(),h=er.util.createBuffer(e.privateKeyCoefficient).toHex(),Yr.setRsaPrivateKey(new zn(o,16),new zn(a,16),new zn(c,16),new zn(l,16),new zn(u,16),new zn(d,16),new zn(A,16),new zn(h,16))};Yr.privateKeyToAsn1=Yr.privateKeyToRSAPrivateKey=function(t){return ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,ke.integerToDer(0).getBytes()),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.n)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.e)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.d)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.p)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.q)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.dP)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.dQ)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.qInv))])};Yr.publicKeyFromAsn1=function(t){var e={},r=[];if(ke.validate(t,lht,e,r)){var n=ke.derToOid(e.publicKeyOid);if(n!==Yr.oids.rsaEncryption){var o=new Error("Cannot read public key. Unknown OID.");throw o.oid=n,o}t=e.rsaPublicKey}if(r=[],!ke.validate(t,cht,e,r)){var o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw o.errors=r,o}var a=er.util.createBuffer(e.publicKeyModulus).toHex(),c=er.util.createBuffer(e.publicKeyExponent).toHex();return Yr.setRsaPublicKey(new zn(a,16),new zn(c,16))};Yr.publicKeyToAsn1=Yr.publicKeyToSubjectPublicKeyInfo=function(t){return ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.OID,!1,ke.oidToDer(Yr.oids.rsaEncryption).getBytes()),ke.create(ke.Class.UNIVERSAL,ke.Type.NULL,!1,"")]),ke.create(ke.Class.UNIVERSAL,ke.Type.BITSTRING,!1,[Yr.publicKeyToRSAPublicKey(t)])])};Yr.publicKeyToRSAPublicKey=function(t){return ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.n)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,hA(t.e))])};function R_e(t,e,r){var n=er.util.createBuffer(),o=Math.ceil(e.n.bitLength()/8);if(t.length>o-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=o-11,a}n.putByte(0),n.putByte(r);var c=o-3-t.length,l;if(r===0||r===1){l=r===0?0:255;for(var u=0;u<c;++u)n.putByte(l)}else for(;c>0;){for(var d=0,A=er.random.getBytes(c),u=0;u<c;++u)l=A.charCodeAt(u),l===0?++d:n.putByte(l);c=d}return n.putByte(0),n.putBytes(t),n}s(R_e,"_encodePkcs1_v1_5");function hF(t,e,r,n){var o=Math.ceil(e.n.bitLength()/8),a=er.util.createBuffer(t),c=a.getByte(),l=a.getByte();if(c!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var u=0;if(l===0){u=o-3-n;for(var d=0;d<u;++d)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(u=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++u}else if(l===2)for(u=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++u}var A=a.getByte();if(A!==0||u!==o-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}s(hF,"_decodePkcs1_v1_5");function dht(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),o();function o(){a(t.pBits,function(l,u){if(l)return r(l);if(t.p=u,t.q!==null)return c(l,t.q);a(t.qBits,c)})}s(o,"generate");function a(l,u){er.prime.generateProbablePrime(l,n,u)}s(a,"getPrime");function c(l,u){if(l)return r(l);if(t.q=u,t.p.compareTo(t.q)<0){var d=t.p;t.p=t.q,t.q=d}if(t.p.subtract(zn.ONE).gcd(t.e).compareTo(zn.ONE)!==0){t.p=null,o();return}if(t.q.subtract(zn.ONE).gcd(t.e).compareTo(zn.ONE)!==0){t.q=null,a(t.qBits,c);return}if(t.p1=t.p.subtract(zn.ONE),t.q1=t.q.subtract(zn.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(zn.ONE)!==0){t.p=t.q=null,o();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,c);return}var A=t.e.modInverse(t.phi);t.keys={privateKey:Yr.rsa.setPrivateKey(t.n,t.e,A,t.p,t.q,A.mod(t.p1),A.mod(t.q1),t.q.modInverse(t.p)),publicKey:Yr.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}s(c,"finish")}s(dht,"_generateKeyPair");function hA(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=er.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}s(hA,"_bnToBytes");function Aht(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}s(Aht,"_getMillerRabinTests");function T_e(t){return er.util.isNodejs&&typeof uX[t]=="function"}s(T_e,"_detectNodeCrypto");function __e(t){return typeof pu.globalScope<"u"&&typeof pu.globalScope.crypto=="object"&&typeof pu.globalScope.crypto.subtle=="object"&&typeof pu.globalScope.crypto.subtle[t]=="function"}s(__e,"_detectSubtleCrypto");function w_e(t){return typeof pu.globalScope<"u"&&typeof pu.globalScope.msCrypto=="object"&&typeof pu.globalScope.msCrypto.subtle=="object"&&typeof pu.globalScope.msCrypto.subtle[t]=="function"}s(w_e,"_detectSubtleMsCrypto");function S_e(t){for(var e=er.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}s(S_e,"_intToUint8Array")});var fX=q((cjr,F_e)=>{f();var kt=tn();A1();Df();vS();aA();h1();lF();DE();Au();rX();_S();ri();typeof D_e>"u"&&(D_e=kt.jsbn.BigInteger);var D_e,We=kt.asn1,Xr=kt.pki=kt.pki||{};F_e.exports=Xr.pbe=kt.pbe=kt.pbe||{};var PE=Xr.oids,hht={name:"EncryptedPrivateKeyInfo",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},pht={name:"PBES2Algorithms",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},mht={name:"pkcs-12PbeParams",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"iterations"}]};Xr.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=kt.random.getBytesSync(r.saltSize),o=r.count,a=We.integerToDer(o),c,l,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var d,A,h;switch(r.algorithm){case"aes128":c=16,d=16,A=PE["aes128-CBC"],h=kt.aes.createEncryptionCipher;break;case"aes192":c=24,d=16,A=PE["aes192-CBC"],h=kt.aes.createEncryptionCipher;break;case"aes256":c=32,d=16,A=PE["aes256-CBC"],h=kt.aes.createEncryptionCipher;break;case"des":c=8,d=8,A=PE.desCBC,h=kt.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),E=P_e(y),v=kt.pkcs5.pbkdf2(e,n,o,c,E),w=kt.random.getBytesSync(d),_=h(v);_.start(w),_.update(We.toDer(t)),_.finish(),u=_.output.getBytes();var S=ght(n,a,c,y);l=We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer(PE.pkcs5PBES2).getBytes()),We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer(PE.pkcs5PBKDF2).getBytes()),S]),We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer(A).getBytes()),We.create(We.Class.UNIVERSAL,We.Type.OCTETSTRING,!1,w)])])])}else if(r.algorithm==="3des"){c=24;var D=new kt.util.ByteBuffer(n),v=Xr.pbe.generatePkcs12Key(e,D,1,o,c),w=Xr.pbe.generatePkcs12Key(e,D,2,o,c),_=kt.des.createEncryptionCipher(v);_.start(w),_.update(We.toDer(t)),_.finish(),u=_.output.getBytes(),l=We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer(PE["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OCTETSTRING,!1,n),We.create(We.Class.UNIVERSAL,We.Type.INTEGER,!1,a.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var N=We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[l,We.create(We.Class.UNIVERSAL,We.Type.OCTETSTRING,!1,u)]);return N};Xr.decryptPrivateKeyInfo=function(t,e){var r=null,n={},o=[];if(!We.validate(t,hht,n,o)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=o,a}var c=We.derToOid(n.encryptionOid),l=Xr.pbe.getCipher(c,n.encryptionParams,e),u=kt.util.createBuffer(n.encryptedData);return l.update(u),l.finish()&&(r=We.fromDer(l.output)),r};Xr.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:We.toDer(t).getBytes()};return kt.pem.encode(r,{maxline:e})};Xr.encryptedPrivateKeyFromPem=function(t){var e=kt.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return We.fromDer(e.body)};Xr.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=Xr.wrapRsaPrivateKey(Xr.privateKeyToAsn1(t));return n=Xr.encryptPrivateKeyInfo(n,e,r),Xr.encryptedPrivateKeyToPem(n)}var o,a,c,l;switch(r.algorithm){case"aes128":o="AES-128-CBC",c=16,a=kt.random.getBytesSync(16),l=kt.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",c=24,a=kt.random.getBytesSync(16),l=kt.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",c=32,a=kt.random.getBytesSync(16),l=kt.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",c=24,a=kt.random.getBytesSync(8),l=kt.des.createEncryptionCipher;break;case"des":o="DES-CBC",c=8,a=kt.random.getBytesSync(8),l=kt.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var d=kt.pbe.opensslDeriveBytes(e,a.substr(0,8),c),A=l(d);A.start(a),A.update(We.toDer(Xr.privateKeyToAsn1(t))),A.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:kt.util.bytesToHex(a).toUpperCase()},body:A.output.getBytes()};return kt.pem.encode(h)};Xr.decryptRsaPrivateKey=function(t,e){var r=null,n=kt.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var o=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw o.headerType=o,o}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,c;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,c=kt.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,c=kt.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,c=kt.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,c=kt.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,c=kt.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,c=s(function(h){return kt.rc2.createDecryptionCipher(h,40)},"cipherFn");break;case"RC2-64-CBC":a=8,c=s(function(h){return kt.rc2.createDecryptionCipher(h,64)},"cipherFn");break;case"RC2-128-CBC":a=16,c=s(function(h){return kt.rc2.createDecryptionCipher(h,128)},"cipherFn");break;default:var o=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw o.algorithm=n.dekInfo.algorithm,o}var l=kt.util.hexToBytes(n.dekInfo.parameters),u=kt.pbe.opensslDeriveBytes(e,l.substr(0,8),a),d=c(u);if(d.start(l),d.update(kt.util.createBuffer(n.body)),d.finish())r=d.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Xr.decryptPrivateKeyInfo(We.fromDer(r),e):r=We.fromDer(r),r!==null&&(r=Xr.privateKeyFromAsn1(r)),r};Xr.pbe.generatePkcs12Key=function(t,e,r,n,o,a){var c,l;if(typeof a>"u"||a===null){if(!("sha1"in kt.md))throw new Error('"sha1" hash algorithm unavailable.');a=kt.md.sha1.create()}var u=a.digestLength,d=a.blockLength,A=new kt.util.ByteBuffer,h=new kt.util.ByteBuffer;if(t!=null){for(l=0;l<t.length;l++)h.putInt16(t.charCodeAt(l));h.putInt16(0)}var p=h.length(),y=e.length(),E=new kt.util.ByteBuffer;E.fillWithByte(r,d);var v=d*Math.ceil(y/d),w=new kt.util.ByteBuffer;for(l=0;l<v;l++)w.putByte(e.at(l%y));var _=d*Math.ceil(p/d),S=new kt.util.ByteBuffer;for(l=0;l<_;l++)S.putByte(h.at(l%p));var D=w;D.putBuffer(S);for(var N=Math.ceil(o/u),P=1;P<=N;P++){var O=new kt.util.ByteBuffer;O.putBytes(E.bytes()),O.putBytes(D.bytes());for(var $=0;$<n;$++)a.start(),a.update(O.getBytes()),O=a.digest();var ne=new kt.util.ByteBuffer;for(l=0;l<d;l++)ne.putByte(O.at(l%u));var oe=Math.ceil(y/d)+Math.ceil(p/d),Ae=new kt.util.ByteBuffer;for(c=0;c<oe;c++){var Y=new kt.util.ByteBuffer(D.getBytes(d)),K=511;for(l=ne.length()-1;l>=0;l--)K=K>>8,K+=ne.at(l)+Y.at(l),Y.setAt(l,K&255);Ae.putBuffer(Y)}D=Ae,A.putBuffer(O)}return A.truncate(A.length()-o),A};Xr.pbe.getCipher=function(t,e,r){switch(t){case Xr.oids.pkcs5PBES2:return Xr.pbe.getCipherForPBES2(t,e,r);case Xr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Xr.oids["pbewithSHAAnd40BitRC2-CBC"]:return Xr.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Xr.pbe.getCipherForPBES2=function(t,e,r){var n={},o=[];if(!We.validate(e,pht,n,o)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=o,a}if(t=We.derToOid(n.kdfOid),t!==Xr.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=We.derToOid(n.encOid),t!==Xr.oids["aes128-CBC"]&&t!==Xr.oids["aes192-CBC"]&&t!==Xr.oids["aes256-CBC"]&&t!==Xr.oids["des-EDE3-CBC"]&&t!==Xr.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var c=n.kdfSalt,l=kt.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var u,d;switch(Xr.oids[t]){case"aes128-CBC":u=16,d=kt.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,d=kt.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,d=kt.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,d=kt.des.createDecryptionCipher;break;case"desCBC":u=8,d=kt.des.createDecryptionCipher;break}var A=Q_e(n.prfOid),h=kt.pkcs5.pbkdf2(r,c,l,u,A),p=n.encIv,y=d(h);return y.start(p),y};Xr.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},o=[];if(!We.validate(e,mht,n,o)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=o,a}var c=kt.util.createBuffer(n.salt),l=kt.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var u,d,A;switch(t){case Xr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,d=8,A=kt.des.startDecrypting;break;case Xr.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,d=8,A=s(function(v,w){var _=kt.rc2.createDecryptionCipher(v,40);return _.start(w,null),_},"cipherFn");break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var h=Q_e(n.prfOid),p=Xr.pbe.generatePkcs12Key(r,c,1,l,u,h);h.start();var y=Xr.pbe.generatePkcs12Key(r,c,2,l,d,h);return A(p,y)};Xr.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in kt.md))throw new Error('"md5" hash algorithm unavailable.');n=kt.md.md5.create()}e===null&&(e="");for(var o=[N_e(n,t+e)],a=16,c=1;a<r;++c,a+=16)o.push(N_e(n,o[c-1]+t+e));return o.join("").substr(0,r)};function N_e(t,e){return t.start().update(e).digest().getBytes()}s(N_e,"hash");function Q_e(t){var e;if(!t)e="hmacWithSHA1";else if(e=Xr.oids[We.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return P_e(e)}s(Q_e,"prfOidToMessageDigest");function P_e(t){var e=kt.md;switch(t){case"hmacWithSHA224":e=kt.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}s(P_e,"prfAlgorithmToMessageDigest");function ght(t,e,r,n){var o=We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OCTETSTRING,!1,t),We.create(We.Class.UNIVERSAL,We.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&o.value.push(We.create(We.Class.UNIVERSAL,We.Type.INTEGER,!1,kt.util.hexToBytes(r.toString(16))),We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer(Xr.oids[n]).getBytes()),We.create(We.Class.UNIVERSAL,We.Type.NULL,!1,"")])),o}s(ght,"createPbkdf2Params")});var dX=q((fjr,O_e)=>{f();var Kb=tn();Df();ri();var Bt=Kb.asn1,Jb=O_e.exports=Kb.pkcs7asn1=Kb.pkcs7asn1||{};Kb.pkcs7=Kb.pkcs7||{};Kb.pkcs7.asn1=Jb;var L_e={name:"ContentInfo",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Jb.contentInfoValidator=L_e;var M_e={name:"EncryptedContentInfo",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Bt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Jb.envelopedDataValidator={name:"EnvelopedData",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(M_e)};Jb.encryptedDataValidator={name:"EncryptedData",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"version"}].concat(M_e)};var yht={name:"SignerInfo",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Jb.signedDataValidator={name:"SignedData",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},L_e,{name:"SignedData.Certificates",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SET,capture:"signerInfos",optional:!0,value:[yht]}]};Jb.recipientInfoValidator={name:"RecipientInfo",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var AX=q((Ajr,U_e)=>{f();var FE=tn();ri();FE.mgf=FE.mgf||{};var Cht=U_e.exports=FE.mgf.mgf1=FE.mgf1=FE.mgf1||{};Cht.create=function(t){var e={generate:s(function(r,n){for(var o=new FE.util.ByteBuffer,a=Math.ceil(n/t.digestLength),c=0;c<a;c++){var l=new FE.util.ByteBuffer;l.putInt32(c),t.start(),t.update(r+l.getBytes()),o.putBuffer(t.digest())}return o.truncate(o.length()-n),o.getBytes()},"generate")};return e}});var q_e=q((mjr,H_e)=>{f();var pF=tn();AX();H_e.exports=pF.mgf=pF.mgf||{};pF.mgf.mgf1=pF.mgf1});var mF=q((yjr,G_e)=>{f();var LE=tn();Au();ri();var Eht=G_e.exports=LE.pss=LE.pss||{};Eht.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,o=t.salt||null;typeof o=="string"&&(o=LE.util.createBuffer(o));var a;if("saltLength"in t)a=t.saltLength;else if(o!==null)a=o.length();else throw new Error("Salt length not specified or specific salt not given.");if(o!==null&&o.length()!==a)throw new Error("Given salt length does not match length of given salt.");var c=t.prng||LE.random,l={};return l.encode=function(u,d){var A,h=d-1,p=Math.ceil(h/8),y=u.digest().getBytes();if(p<n+a+2)throw new Error("Message is too long to encrypt.");var E;o===null?E=c.getBytesSync(a):E=o.bytes();var v=new LE.util.ByteBuffer;v.fillWithByte(0,8),v.putBytes(y),v.putBytes(E),e.start(),e.update(v.getBytes());var w=e.digest().getBytes(),_=new LE.util.ByteBuffer;_.fillWithByte(0,p-a-n-2),_.putByte(1),_.putBytes(E);var S=_.getBytes(),D=p-n-1,N=r.generate(w,D),P="";for(A=0;A<D;A++)P+=String.fromCharCode(S.charCodeAt(A)^N.charCodeAt(A));var O=65280>>8*p-h&255;return P=String.fromCharCode(P.charCodeAt(0)&~O)+P.substr(1),P+w+"\xBC"},l.verify=function(u,d,A){var h,p=A-1,y=Math.ceil(p/8);if(d=d.substr(-y),y<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(d.charCodeAt(y-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var E=y-n-1,v=d.substr(0,E),w=d.substr(E,n),_=65280>>8*y-p&255;if((v.charCodeAt(0)&_)!==0)throw new Error("Bits beyond keysize not zero as expected.");var S=r.generate(w,E),D="";for(h=0;h<E;h++)D+=String.fromCharCode(v.charCodeAt(h)^S.charCodeAt(h));D=String.fromCharCode(D.charCodeAt(0)&~_)+D.substr(1);var N=y-n-a-2;for(h=0;h<N;h++)if(D.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(D.charCodeAt(N)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var P=D.substr(-a),O=new LE.util.ByteBuffer;O.fillWithByte(0,8),O.putBytes(u),O.putBytes(P),e.start(),e.update(O.getBytes());var $=e.digest().getBytes();return w===$},l}});var CF=q((Ejr,z_e)=>{f();var tr=tn();A1();Df();vS();aA();q_e();h1();DE();mF();_S();ri();var U=tr.asn1,yt=z_e.exports=tr.pki=tr.pki||{},jn=yt.oids,Wo={};Wo.CN=jn.commonName;Wo.commonName="CN";Wo.C=jn.countryName;Wo.countryName="C";Wo.L=jn.localityName;Wo.localityName="L";Wo.ST=jn.stateOrProvinceName;Wo.stateOrProvinceName="ST";Wo.O=jn.organizationName;Wo.organizationName="O";Wo.OU=jn.organizationalUnitName;Wo.organizationalUnitName="OU";Wo.E=jn.emailAddress;Wo.emailAddress="E";var W_e=tr.pki.rsa.publicKeyValidator,Iht={name:"Certificate",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:U.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:U.Class.UNIVERSAL,type:U.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:U.Class.UNIVERSAL,type:U.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:U.Class.UNIVERSAL,type:U.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:U.Class.UNIVERSAL,type:U.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},W_e,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:U.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:U.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:U.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:U.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},xht={name:"rsapss",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:U.Class.UNIVERSAL,type:U.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:U.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:U.Class.UNIVERSAL,type:U.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:U.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:U.Class.UNIVERSAL,type:U.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:U.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:U.Class.UNIVERSAL,type:U.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},vht={name:"CertificationRequestInfo",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},W_e,{name:"CertificationRequestInfo.attributes",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:U.Class.UNIVERSAL,type:U.Type.SET,constructed:!0}]}]}]},bht={name:"CertificationRequest",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[vht,{name:"CertificationRequest.signatureAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:U.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};yt.RDNAttributesAsArray=function(t,e){for(var r=[],n,o,a,c=0;c<t.value.length;++c){n=t.value[c];for(var l=0;l<n.value.length;++l)a={},o=n.value[l],a.type=U.derToOid(o.value[0].value),a.value=o.value[1].value,a.valueTagClass=o.value[1].type,a.type in jn&&(a.name=jn[a.type],a.name in Wo&&(a.shortName=Wo[a.name])),e&&(e.update(a.type),e.update(a.value)),r.push(a)}return r};yt.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],o=U.derToOid(n.value[0].value),a=n.value[1].value,c=0;c<a.length;++c){var l={};if(l.type=o,l.value=a[c].value,l.valueTagClass=a[c].type,l.type in jn&&(l.name=jn[l.type],l.name in Wo&&(l.shortName=Wo[l.name])),l.type===jn.extensionRequest){l.extensions=[];for(var u=0;u<l.value.length;++u)l.extensions.push(yt.certificateExtensionFromAsn1(l.value[u]))}e.push(l)}return e};function g1(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,o=0;r===null&&o<t.attributes.length;++o)n=t.attributes[o],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}s(g1,"_getAttribute");var gF=s(function(t,e,r){var n={};if(t!==jn["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:jn.sha1},mgf:{algorithmOid:jn.mgf1,hash:{algorithmOid:jn.sha1}},saltLength:20});var o={},a=[];if(!U.validate(e,xht,o,a)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=a,c}return o.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=U.derToOid(o.hashOid)),o.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=U.derToOid(o.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=U.derToOid(o.maskGenHashOid)),o.saltLength!==void 0&&(n.saltLength=o.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),yF=s(function(t){switch(jn[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return tr.md.sha1.create();case"md5WithRSAEncryption":return tr.md.md5.create();case"sha256WithRSAEncryption":return tr.md.sha256.create();case"sha384WithRSAEncryption":return tr.md.sha384.create();case"sha512WithRSAEncryption":return tr.md.sha512.create();case"RSASSA-PSS":return tr.md.sha256.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},"_createSignatureDigest"),Y_e=s(function(t){var e=t.certificate,r;switch(e.signatureOid){case jn.sha1WithRSAEncryption:case jn.sha1WithRSASignature:break;case jn["RSASSA-PSS"]:var n,o;if(n=jn[e.signatureParameters.mgf.hash.algorithmOid],n===void 0||tr.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=e.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(o=jn[e.signatureParameters.mgf.algorithmOid],o===void 0||tr.mgf[o]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=e.signatureParameters.mgf.algorithmOid,a.name=o,a}if(o=tr.mgf[o].create(tr.md[n].create()),n=jn[e.signatureParameters.hash.algorithmOid],n===void 0||tr.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=e.signatureParameters.hash.algorithmOid,a.name=n,a}r=tr.pss.create(tr.md[n].create(),o,e.signatureParameters.saltLength);break}return e.publicKey.verify(t.md.digest().getBytes(),t.signature,r)},"_verifySignature");yt.certificateFromPem=function(t,e,r){var n=tr.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=n.type,o}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=U.fromDer(n.body,r);return yt.certificateFromAsn1(a,e)};yt.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:U.toDer(yt.certificateToAsn1(t)).getBytes()};return tr.pem.encode(r,{maxline:e})};yt.publicKeyFromPem=function(t){var e=tr.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=U.fromDer(e.body);return yt.publicKeyFromAsn1(n)};yt.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:U.toDer(yt.publicKeyToAsn1(t)).getBytes()};return tr.pem.encode(r,{maxline:e})};yt.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:U.toDer(yt.publicKeyToRSAPublicKey(t)).getBytes()};return tr.pem.encode(r,{maxline:e})};yt.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||tr.md.sha1.create(),n=e.type||"RSAPublicKey",o;switch(n){case"RSAPublicKey":o=U.toDer(yt.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":o=U.toDer(yt.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(o);var a=r.digest();if(e.encoding==="hex"){var c=a.toHex();return e.delimiter?c.match(/.{2}/g).join(e.delimiter):c}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};yt.certificationRequestFromPem=function(t,e,r){var n=tr.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=n.type,o}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=U.fromDer(n.body,r);return yt.certificationRequestFromAsn1(a,e)};yt.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:U.toDer(yt.certificationRequestToAsn1(t)).getBytes()};return tr.pem.encode(r,{maxline:e})};yt.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return g1(t.issuer,e)},t.issuer.addField=function(e){mu([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return g1(t.subject,e)},t.subject.addField=function(e){mu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){mu(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){mu(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)$_e(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,o=0;r===null&&o<t.extensions.length;++o)n=t.extensions[o],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||tr.md.sha1.create();var n=jn[t.md.algorithm+"WithRSAEncryption"];if(!n){var o=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw o.algorithm=t.md.algorithm,o}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=yt.getTBSCertificate(t);var a=U.toDer(t.tbsCertificate);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,o=t.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=o.attributes,a.actualIssuer=n.attributes,a}var c=e.md;if(c===null){c=yF({signatureOid:e.signatureOid,type:"certificate"});var l=e.tbsCertificate||yt.getTBSCertificate(e),u=U.toDer(l);c.update(u.getBytes())}return c!==null&&(r=Y_e({certificate:t,md:c,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,o=e.subject;if(n.hash&&o.hash)r=n.hash===o.hash;else if(n.attributes.length===o.attributes.length){r=!0;for(var a,c,l=0;r&&l<n.attributes.length;++l)a=n.attributes[l],c=o.attributes[l],(a.type!==c.type||a.value!==c.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return yt.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=jn.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var o=t.generateSubjectKeyIdentifier().getBytes();return tr.util.hexToBytes(n.subjectKeyIdentifier)===o}}return!1},t};yt.certificateFromAsn1=function(t,e){var r={},n=[];if(!U.validate(t,Iht,r,n)){var o=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw o.errors=n,o}var a=U.derToOid(r.publicKeyOid);if(a!==yt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=yt.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=tr.util.createBuffer(r.certSerialNumber);c.serialNumber=l.toHex(),c.signatureOid=tr.asn1.derToOid(r.certSignatureOid),c.signatureParameters=gF(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=tr.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=gF(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var u=[];if(r.certValidity1UTCTime!==void 0&&u.push(U.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&u.push(U.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&u.push(U.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&u.push(U.generalizedTimeToDate(r.certValidity4GeneralizedTime)),u.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(u.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=u[0],c.validity.notAfter=u[1],c.tbsCertificate=r.tbsCertificate,e){c.md=yF({signatureOid:c.signatureOid,type:"certificate"});var d=U.toDer(c.tbsCertificate);c.md.update(d.getBytes())}var A=tr.md.sha1.create(),h=U.toDer(r.certIssuer);A.update(h.getBytes()),c.issuer.getField=function(E){return g1(c.issuer,E)},c.issuer.addField=function(E){mu([E]),c.issuer.attributes.push(E)},c.issuer.attributes=yt.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=A.digest().toHex();var p=tr.md.sha1.create(),y=U.toDer(r.certSubject);return p.update(y.getBytes()),c.subject.getField=function(E){return g1(c.subject,E)},c.subject.addField=function(E){mu([E]),c.subject.attributes.push(E)},c.subject.attributes=yt.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=p.digest().toHex(),r.certExtensions?c.extensions=yt.certificateExtensionsFromAsn1(r.certExtensions):c.extensions=[],c.publicKey=yt.publicKeyFromAsn1(r.subjectPublicKeyInfo),c};yt.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],o=0;o<n.value.length;++o)e.push(yt.certificateExtensionFromAsn1(n.value[o]));return e};yt.certificateExtensionFromAsn1=function(t){var e={};if(e.id=U.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===U.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in jn){if(e.name=jn[e.id],e.name==="keyUsage"){var r=U.fromDer(e.value),n=0,o=0;r.value.length>1&&(n=r.value.charCodeAt(1),o=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(o&128)===128}else if(e.name==="basicConstraints"){var r=U.fromDer(e.value);r.value.length>0&&r.value[0].type===U.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var a=null;r.value.length>0&&r.value[0].type===U.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(e.pathLenConstraint=U.derToInteger(a))}else if(e.name==="extKeyUsage")for(var r=U.fromDer(e.value),c=0;c<r.value.length;++c){var l=U.derToOid(r.value[c].value);l in jn?e[jn[l]]=!0:e[l]=!0}else if(e.name==="nsCertType"){var r=U.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var u,r=U.fromDer(e.value),d=0;d<r.value.length;++d){u=r.value[d];var A={type:u.type,value:u.value};switch(e.altNames.push(A),u.type){case 1:case 2:case 6:break;case 7:A.ip=tr.util.bytesToIP(u.value);break;case 8:A.oid=U.derToOid(u.value);break;default:}}}else if(e.name==="subjectKeyIdentifier"){var r=U.fromDer(e.value);e.subjectKeyIdentifier=tr.util.bytesToHex(r.value)}}return e};yt.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!U.validate(t,bht,r,n)){var o=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw o.errors=n,o}var a=U.derToOid(r.publicKeyOid);if(a!==yt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=yt.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=tr.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=gF(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=tr.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=gF(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,e){c.md=yF({signatureOid:c.signatureOid,type:"certification request"});var l=U.toDer(c.certificationRequestInfo);c.md.update(l.getBytes())}var u=tr.md.sha1.create();return c.subject.getField=function(d){return g1(c.subject,d)},c.subject.addField=function(d){mu([d]),c.subject.attributes.push(d)},c.subject.attributes=yt.RDNAttributesAsArray(r.certificationRequestInfoSubject,u),c.subject.hash=u.digest().toHex(),c.publicKey=yt.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(d){return g1(c,d)},c.addAttribute=function(d){mu([d]),c.attributes.push(d)},c.attributes=yt.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c};yt.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return g1(t.subject,e)},t.subject.addField=function(e){mu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return g1(t,e)},t.addAttribute=function(e){mu([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){mu(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){mu(e),t.attributes=e},t.sign=function(e,r){t.md=r||tr.md.sha1.create();var n=jn[t.md.algorithm+"WithRSAEncryption"];if(!n){var o=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw o.algorithm=t.md.algorithm,o}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=yt.getCertificationRequestInfo(t);var a=U.toDer(t.certificationRequestInfo);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){r=yF({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||yt.getCertificationRequestInfo(t),o=U.toDer(n);r.update(o.getBytes())}return r!==null&&(e=Y_e({certificate:t,md:r,signature:t.signature})),e},t};function Xb(t){for(var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]),r,n,o=t.attributes,a=0;a<o.length;++a){r=o[a];var c=r.value,l=U.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===U.Type.UTF8&&(c=tr.util.encodeUtf8(c))),n=U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(r.type).getBytes()),U.create(U.Class.UNIVERSAL,l,!1,c)])]),e.value.push(n)}return e}s(Xb,"_dnToAsn1");function mu(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in yt.oids?e.name=yt.oids[e.type]:e.shortName&&e.shortName in Wo&&(e.name=yt.oids[Wo[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in yt.oids)e.type=yt.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in Wo&&(e.shortName=Wo[e.name]),e.type===jn.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=U.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var o=0;o<e.extensions.length;++o)e.value.push(yt.certificateExtensionToAsn1($_e(e.extensions[o])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}s(mu,"_fillMissingFields");function $_e(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in yt.oids&&(t.name=yt.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in yt.oids)t.id=yt.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,o=0,a=0;t.digitalSignature&&(o|=128,n=7),t.nonRepudiation&&(o|=64,n=6),t.keyEncipherment&&(o|=32,n=5),t.dataEncipherment&&(o|=16,n=4),t.keyAgreement&&(o|=8,n=3),t.keyCertSign&&(o|=4,n=2),t.cRLSign&&(o|=2,n=1),t.encipherOnly&&(o|=1,n=0),t.decipherOnly&&(a|=128,n=7);var c=String.fromCharCode(n);a!==0?c+=String.fromCharCode(o)+String.fromCharCode(a):o!==0&&(c+=String.fromCharCode(o)),t.value=U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,c)}else if(t.name==="basicConstraints")t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(U.create(U.Class.UNIVERSAL,U.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in t&&t.value.value.push(U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);var l=t.value.value;for(var u in t)t[u]===!0&&(u in jn?l.push(U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(jn[u]).getBytes())):u.indexOf(".")!==-1&&l.push(U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(u).getBytes())))}else if(t.name==="nsCertType"){var n=0,o=0;t.client&&(o|=128,n=7),t.server&&(o|=64,n=6),t.email&&(o|=32,n=5),t.objsign&&(o|=16,n=4),t.reserved&&(o|=8,n=3),t.sslCA&&(o|=4,n=2),t.emailCA&&(o|=2,n=1),t.objCA&&(o|=1,n=0);var c=String.fromCharCode(n);o!==0&&(c+=String.fromCharCode(o)),t.value=U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,c)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);for(var d,A=0;A<t.altNames.length;++A){d=t.altNames[A];var c=d.value;if(d.type===7&&d.ip){if(c=tr.util.bytesFromIP(d.ip),c===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else d.type===8&&(d.oid?c=U.oidToDer(U.oidToDer(d.oid)):c=U.oidToDer(c));t.value.value.push(U.create(U.Class.CONTEXT_SPECIFIC,d.type,!1,c))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=U.create(U.Class.UNIVERSAL,U.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var h=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=h.toHex(),t.value=U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,h.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);var l=t.value.value;if(t.keyIdentifier){var p=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;l.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!1,p))}if(t.authorityCertIssuer){var y=[U.create(U.Class.CONTEXT_SPECIFIC,4,!0,[Xb(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];l.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,y))}if(t.serialNumber){var E=tr.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);l.push(U.create(U.Class.CONTEXT_SPECIFIC,2,!1,E))}}else if(t.name==="cRLDistributionPoints"){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);for(var l=t.value.value,v=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]),w=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[]),d,A=0;A<t.altNames.length;++A){d=t.altNames[A];var c=d.value;if(d.type===7&&d.ip){if(c=tr.util.bytesFromIP(d.ip),c===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else d.type===8&&(d.oid?c=U.oidToDer(U.oidToDer(d.oid)):c=U.oidToDer(c));w.value.push(U.create(U.Class.CONTEXT_SPECIFIC,d.type,!1,c))}v.value.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[w])),l.push(v)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}s($_e,"_fillMissingExtensionFields");function hX(t,e){switch(t){case jn["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.hash.algorithmOid).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.mgf.algorithmOid).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.mgf.hash.algorithmOid).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(U.create(U.Class.CONTEXT_SPECIFIC,2,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(e.saltLength).getBytes())])),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,r);default:return U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")}}s(hX,"_signatureParametersToAsn1");function Tht(t){var e=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var o=r[n],a=o.value,c=U.Type.UTF8;"valueTagClass"in o&&(c=o.valueTagClass),c===U.Type.UTF8&&(a=tr.util.encodeUtf8(a));var l=!1;"valueConstructed"in o&&(l=o.valueConstructed);var u=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(o.type).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[U.create(U.Class.UNIVERSAL,c,l,a)])]);e.value.push(u)}return e}s(Tht,"_CRIAttributesToAsn1");var _ht=new Date("1950-01-01T00:00:00Z"),wht=new Date("2050-01-01T00:00:00Z");function V_e(t){return t>=_ht&&t<wht?U.create(U.Class.UNIVERSAL,U.Type.UTCTIME,!1,U.dateToUtcTime(t)):U.create(U.Class.UNIVERSAL,U.Type.GENERALIZEDTIME,!1,U.dateToGeneralizedTime(t))}s(V_e,"_dateToAsn1");yt.getTBSCertificate=function(t){var e=V_e(t.validity.notBefore),r=V_e(t.validity.notAfter),n=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes())]),U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,tr.util.hexToBytes(t.serialNumber)),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.siginfo.algorithmOid).getBytes()),hX(t.siginfo.algorithmOid,t.siginfo.parameters)]),Xb(t.issuer),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[e,r]),Xb(t.subject),yt.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,[U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,"\0"+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(U.create(U.Class.CONTEXT_SPECIFIC,2,!0,[U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,"\0"+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(yt.certificateExtensionsToAsn1(t.extensions)),n};yt.getCertificationRequestInfo=function(t){var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes()),Xb(t.subject),yt.publicKeyToAsn1(t.publicKey),Tht(t)]);return e};yt.distinguishedNameToAsn1=function(t){return Xb(t)};yt.certificateToAsn1=function(t){var e=t.tbsCertificate||yt.getTBSCertificate(t);return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[e,U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.signatureOid).getBytes()),hX(t.signatureOid,t.signatureParameters)]),U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,"\0"+t.signature)])};yt.certificateExtensionsToAsn1=function(t){var e=U.create(U.Class.CONTEXT_SPECIFIC,3,!0,[]),r=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(yt.certificateExtensionToAsn1(t[n]));return e};yt.certificateExtensionToAsn1=function(t){var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);e.value.push(U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.id).getBytes())),t.critical&&e.value.push(U.create(U.Class.UNIVERSAL,U.Type.BOOLEAN,!1,"\xFF"));var r=t.value;return typeof t.value!="string"&&(r=U.toDer(r).getBytes()),e.value.push(U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,r)),e};yt.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||yt.getCertificationRequestInfo(t);return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[e,U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.signatureOid).getBytes()),hX(t.signatureOid,t.signatureParameters)]),U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,"\0"+t.signature)])};yt.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(c){var l=r(c.issuer);return l},e.addCertificate=function(c){if(typeof c=="string"&&(c=tr.pki.certificateFromPem(c)),n(c.subject),!e.hasCertificate(c))if(c.subject.hash in e.certs){var l=e.certs[c.subject.hash];tr.util.isArray(l)||(l=[l]),l.push(c),e.certs[c.subject.hash]=l}else e.certs[c.subject.hash]=c},e.hasCertificate=function(c){typeof c=="string"&&(c=tr.pki.certificateFromPem(c));var l=r(c.subject);if(!l)return!1;tr.util.isArray(l)||(l=[l]);for(var u=U.toDer(yt.certificateToAsn1(c)).getBytes(),d=0;d<l.length;++d){var A=U.toDer(yt.certificateToAsn1(l[d])).getBytes();if(u===A)return!0}return!1},e.listAllCertificates=function(){var c=[];for(var l in e.certs)if(e.certs.hasOwnProperty(l)){var u=e.certs[l];if(!tr.util.isArray(u))c.push(u);else for(var d=0;d<u.length;++d)c.push(u[d])}return c},e.removeCertificate=function(c){var l;if(typeof c=="string"&&(c=tr.pki.certificateFromPem(c)),n(c.subject),!e.hasCertificate(c))return null;var u=r(c.subject);if(!tr.util.isArray(u))return l=e.certs[c.subject.hash],delete e.certs[c.subject.hash],l;for(var d=U.toDer(yt.certificateToAsn1(c)).getBytes(),A=0;A<u.length;++A){var h=U.toDer(yt.certificateToAsn1(u[A])).getBytes();d===h&&(l=u[A],u.splice(A,1))}return u.length===0&&delete e.certs[c.subject.hash],l};function r(c){return n(c),e.certs[c.hash]||null}s(r,"getBySubject");function n(c){if(!c.hash){var l=tr.md.sha1.create();c.attributes=yt.RDNAttributesAsArray(Xb(c),l),c.hash=l.digest().toHex()}}if(s(n,"ensureSubjectHasHash"),t)for(var o=0;o<t.length;++o){var a=t[o];e.addCertificate(a)}return e};yt.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};yt.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),o=r.validityCheckDate;typeof o>"u"&&(o=new Date);var a=!0,c=null,l=0;do{var u=e.shift(),d=null,A=!1;if(o&&(o<u.validity.notBefore||o>u.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:yt.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:o}),c===null){if(d=e[0]||t.getIssuer(u),d===null&&u.isIssuer(u)&&(A=!0,d=u),d){var h=d;tr.util.isArray(h)||(h=[h]);for(var p=!1;!p&&h.length>0;){d=h.shift();try{p=d.verify(u)}catch{}}p||(c={message:"Certificate signature is invalid.",error:yt.certificateError.bad_certificate})}c===null&&(!d||A)&&!t.hasCertificate(u)&&(c={message:"Certificate is not trusted.",error:yt.certificateError.unknown_ca})}if(c===null&&d&&!u.isIssuer(d)&&(c={message:"Certificate issuer is invalid.",error:yt.certificateError.bad_certificate}),c===null)for(var y={keyUsage:!0,basicConstraints:!0},E=0;c===null&&E<u.extensions.length;++E){var v=u.extensions[E];v.critical&&!(v.name in y)&&(c={message:"Certificate has an unsupported critical extension.",error:yt.certificateError.unsupported_certificate})}if(c===null&&(!a||e.length===0&&(!d||A))){var w=u.getExtension("basicConstraints"),_=u.getExtension("keyUsage");if(_!==null&&(!_.keyCertSign||w===null)&&(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:yt.certificateError.bad_certificate}),c===null&&w!==null&&!w.cA&&(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:yt.certificateError.bad_certificate}),c===null&&_!==null&&"pathLenConstraint"in w){var S=l-1;S>w.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:yt.certificateError.bad_certificate})}}var D=c===null?!0:c.error,N=r.verify?r.verify(D,l,n):D;if(N===!0)c=null;else throw D===!0&&(c={message:"The application rejected the certificate.",error:yt.certificateError.bad_certificate}),(N||N===0)&&(typeof N=="object"&&!tr.util.isArray(N)?(N.message&&(c.message=N.message),N.error&&(c.error=N.error)):typeof N=="string"&&(c.error=N)),c;a=!1,++l}while(e.length>0);return!0}});var mX=q((vjr,K_e)=>{f();var Gi=tn();Df();Wb();h1();dX();fX();Au();_S();jb();ri();CF();var me=Gi.asn1,En=Gi.pki,SS=K_e.exports=Gi.pkcs12=Gi.pkcs12||{},j_e={name:"ContentInfo",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:me.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},Sht={name:"PFX",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:me.Class.UNIVERSAL,type:me.Type.INTEGER,constructed:!1,capture:"version"},j_e,{name:"PFX.macData",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:me.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:me.Class.UNIVERSAL,type:me.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:me.Class.UNIVERSAL,type:me.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:me.Class.UNIVERSAL,type:me.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},Bht={name:"SafeBag",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:me.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:me.Class.UNIVERSAL,type:me.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},Rht={name:"Attribute",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:me.Class.UNIVERSAL,type:me.Type.SET,constructed:!0,capture:"values"}]},kht={name:"CertBag",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:me.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:me.Class.UNIVERSAL,type:me.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function wS(t,e,r,n){for(var o=[],a=0;a<t.length;a++)for(var c=0;c<t[a].safeBags.length;c++){var l=t[a].safeBags[c];if(!(n!==void 0&&l.type!==n)){if(e===null){o.push(l);continue}l.attributes[e]!==void 0&&l.attributes[e].indexOf(r)>=0&&o.push(l)}}return o}s(wS,"_getBagsByAttribute");SS.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},o=[];if(!me.validate(t,Sht,n,o)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var c={version:n.version.charCodeAt(0),safeContents:[],getBags:s(function(w){var _={},S;return"localKeyId"in w?S=w.localKeyId:"localKeyIdHex"in w&&(S=Gi.util.hexToBytes(w.localKeyIdHex)),S===void 0&&!("friendlyName"in w)&&"bagType"in w&&(_[w.bagType]=wS(c.safeContents,null,null,w.bagType)),S!==void 0&&(_.localKeyId=wS(c.safeContents,"localKeyId",S,w.bagType)),"friendlyName"in w&&(_.friendlyName=wS(c.safeContents,"friendlyName",w.friendlyName,w.bagType)),_},"getBags"),getBagsByFriendlyName:s(function(w,_){return wS(c.safeContents,"friendlyName",w,_)},"getBagsByFriendlyName"),getBagsByLocalKeyId:s(function(w,_){return wS(c.safeContents,"localKeyId",w,_)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(me.derToOid(n.contentType)!==En.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=me.derToOid(n.contentType),a}var l=n.content.value[0];if(l.tagClass!==me.Class.UNIVERSAL||l.type!==me.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=pX(l),n.mac){var u=null,d=0,A=me.derToOid(n.macAlgorithm);switch(A){case En.oids.sha1:u=Gi.md.sha1.create(),d=20;break;case En.oids.sha256:u=Gi.md.sha256.create(),d=32;break;case En.oids.sha384:u=Gi.md.sha384.create(),d=48;break;case En.oids.sha512:u=Gi.md.sha512.create(),d=64;break;case En.oids.md5:u=Gi.md.md5.create(),d=16;break}if(u===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+A);var h=new Gi.util.ByteBuffer(n.macSalt),p="macIterations"in n?parseInt(Gi.util.bytesToHex(n.macIterations),16):1,y=SS.generateKey(r,h,3,p,d,u),E=Gi.hmac.create();E.start(u,y),E.update(l.value);var v=E.getMac();if(v.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return Dht(c,l.value,e,r),c};function pX(t){if(t.composed||t.constructed){for(var e=Gi.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}s(pX,"_decodePkcs7Data");function Dht(t,e,r,n){if(e=me.fromDer(e,r),e.tagClass!==me.Class.UNIVERSAL||e.type!==me.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var o=0;o<e.value.length;o++){var a=e.value[o],c={},l=[];if(!me.validate(a,j_e,c,l)){var u=new Error("Cannot read ContentInfo.");throw u.errors=l,u}var d={encrypted:!1},A=null,h=c.content.value[0];switch(me.derToOid(c.contentType)){case En.oids.data:if(h.tagClass!==me.Class.UNIVERSAL||h.type!==me.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");A=pX(h).value;break;case En.oids.encryptedData:A=Nht(h,n),d.encrypted=!0;break;default:var u=new Error("Unsupported PKCS#12 contentType.");throw u.contentType=me.derToOid(c.contentType),u}d.safeBags=Qht(A,r,n),t.safeContents.push(d)}}s(Dht,"_decodeAuthenticatedSafe");function Nht(t,e){var r={},n=[];if(!me.validate(t,Gi.pkcs7.asn1.encryptedDataValidator,r,n)){var o=new Error("Cannot read EncryptedContentInfo.");throw o.errors=n,o}var a=me.derToOid(r.contentType);if(a!==En.oids.data){var o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw o.oid=a,o}a=me.derToOid(r.encAlgorithm);var c=En.pbe.getCipher(a,r.encParameter,e),l=pX(r.encryptedContentAsn1),u=Gi.util.createBuffer(l.value);if(c.update(u),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}s(Nht,"_decryptSafeContents");function Qht(t,e,r){if(!e&&t.length===0)return[];if(t=me.fromDer(t,e),t.tagClass!==me.Class.UNIVERSAL||t.type!==me.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],o=0;o<t.value.length;o++){var a=t.value[o],c={},l=[];if(!me.validate(a,Bht,c,l)){var u=new Error("Cannot read SafeBag.");throw u.errors=l,u}var d={type:me.derToOid(c.bagId),attributes:Pht(c.bagAttributes)};n.push(d);var A,h,p=c.bagValue.value[0];switch(d.type){case En.oids.pkcs8ShroudedKeyBag:if(p=En.decryptPrivateKeyInfo(p,r),p===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case En.oids.keyBag:try{d.key=En.privateKeyFromAsn1(p)}catch{d.key=null,d.asn1=p}continue;case En.oids.certBag:A=kht,h=s(function(){if(me.derToOid(c.certId)!==En.oids.x509Certificate){var E=new Error("Unsupported certificate type, only X.509 supported.");throw E.oid=me.derToOid(c.certId),E}var v=me.fromDer(c.cert,e);try{d.cert=En.certificateFromAsn1(v,!0)}catch{d.cert=null,d.asn1=v}},"decoder");break;default:var u=new Error("Unsupported PKCS#12 SafeBag type.");throw u.oid=d.type,u}if(A!==void 0&&!me.validate(p,A,c,l)){var u=new Error("Cannot read PKCS#12 "+A.name);throw u.errors=l,u}h()}return n}s(Qht,"_decodeSafeContents");function Pht(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},o=[];if(!me.validate(t[r],Rht,n,o)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=o,a}var c=me.derToOid(n.oid);if(En.oids[c]!==void 0){e[En.oids[c]]=[];for(var l=0;l<n.values.length;++l)e[En.oids[c]].push(n.values[l].value)}}return e}s(Pht,"_decodeBagAttributes");SS.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var o=n.localKeyId,a;if(o!==null)o=Gi.util.hexToBytes(o);else if(n.generateLocalKeyId)if(e){var c=Gi.util.isArray(e)?e[0]:e;typeof c=="string"&&(c=En.certificateFromPem(c));var l=Gi.md.sha1.create();l.update(me.toDer(En.certificateToAsn1(c)).getBytes()),o=l.digest().getBytes()}else o=Gi.random.getBytes(20);var u=[];o!==null&&u.push(me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.localKeyId).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.SET,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,o)])])),"friendlyName"in n&&u.push(me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.friendlyName).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.SET,!0,[me.create(me.Class.UNIVERSAL,me.Type.BMPSTRING,!1,n.friendlyName)])])),u.length>0&&(a=me.create(me.Class.UNIVERSAL,me.Type.SET,!0,u));var d=[],A=[];e!==null&&(Gi.util.isArray(e)?A=e:A=[e]);for(var h=[],p=0;p<A.length;++p){e=A[p],typeof e=="string"&&(e=En.certificateFromPem(e));var y=p===0?a:void 0,E=En.certificateToAsn1(e),v=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.certBag).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.x509Certificate).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,me.toDer(E).getBytes())])])]),y]);h.push(v)}if(h.length>0){var w=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,h),_=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.data).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,me.toDer(w).getBytes())])]);d.push(_)}var S=null;if(t!==null){var D=En.wrapRsaPrivateKey(En.privateKeyToAsn1(t));r===null?S=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.keyBag).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[D]),a]):S=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.pkcs8ShroudedKeyBag).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[En.encryptPrivateKeyInfo(D,r,n)]),a]);var N=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[S]),P=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.data).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,me.toDer(N).getBytes())])]);d.push(P)}var O=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,d),$;if(n.useMac){var l=Gi.md.sha1.create(),ne=new Gi.util.ByteBuffer(Gi.random.getBytes(n.saltSize)),oe=n.count,t=SS.generateKey(r,ne,3,oe,20),Ae=Gi.hmac.create();Ae.start(l,t),Ae.update(me.toDer(O).getBytes());var Y=Ae.getMac();$=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.sha1).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.NULL,!1,"")]),me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,Y.getBytes())]),me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,ne.getBytes()),me.create(me.Class.UNIVERSAL,me.Type.INTEGER,!1,me.integerToDer(oe).getBytes())])}return me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.INTEGER,!1,me.integerToDer(3).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.data).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,me.toDer(O).getBytes())])]),$])};SS.generateKey=Gi.pbe.generatePkcs12Key});var yX=q((_jr,J_e)=>{f();var y1=tn();Df();h1();fX();DE();lF();mX();mF();_S();ri();CF();var gX=y1.asn1,Zb=J_e.exports=y1.pki=y1.pki||{};Zb.pemToDer=function(t){var e=y1.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return y1.util.createBuffer(e.body)};Zb.privateKeyFromPem=function(t){var e=y1.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=gX.fromDer(e.body);return Zb.privateKeyFromAsn1(n)};Zb.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:gX.toDer(Zb.privateKeyToAsn1(t)).getBytes()};return y1.pem.encode(r,{maxline:e})};Zb.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:gX.toDer(t).getBytes()};return y1.pem.encode(r,{maxline:e})}});var bX=q((Sjr,o4e)=>{f();var ot=tn();Df();Wb();oF();DE();yX();Au();jb();ri();var vF=s(function(t,e,r,n){var o=ot.util.createBuffer(),a=t.length>>1,c=a+(t.length&1),l=t.substr(0,c),u=t.substr(a,c),d=ot.util.createBuffer(),A=ot.hmac.create();r=e+r;var h=Math.ceil(n/16),p=Math.ceil(n/20);A.start("MD5",l);var y=ot.util.createBuffer();d.putBytes(r);for(var E=0;E<h;++E)A.start(null,null),A.update(d.getBytes()),d.putBuffer(A.digest()),A.start(null,null),A.update(d.bytes()+r),y.putBuffer(A.digest());A.start("SHA1",u);var v=ot.util.createBuffer();d.clear(),d.putBytes(r);for(var E=0;E<p;++E)A.start(null,null),A.update(d.getBytes()),d.putBuffer(A.digest()),A.start(null,null),A.update(d.bytes()+r),v.putBuffer(A.digest());return o.putBytes(ot.util.xorBytes(y.getBytes(),v.getBytes(),n)),o},"prf_TLS1"),Fht=s(function(t,e,r){var n=ot.hmac.create();n.start("SHA1",t);var o=ot.util.createBuffer();return o.putInt32(e[0]),o.putInt32(e[1]),o.putByte(r.type),o.putByte(r.version.major),o.putByte(r.version.minor),o.putInt16(r.length),o.putBytes(r.fragment.bytes()),n.update(o.getBytes()),n.digest().getBytes()},"hmac_sha1"),Lht=s(function(t,e,r){var n=!1;try{var o=t.deflate(e.fragment.getBytes());e.fragment=ot.util.createBuffer(o),e.length=o.length,n=!0}catch{}return n},"deflate"),Mht=s(function(t,e,r){var n=!1;try{var o=t.inflate(e.fragment.getBytes());e.fragment=ot.util.createBuffer(o),e.length=o.length,n=!0}catch{}return n},"inflate"),dl=s(function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32();break}return ot.util.createBuffer(t.getBytes(r))},"readVector"),gu=s(function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},"writeVector"),G={};G.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};G.SupportedVersions=[G.Versions.TLS_1_1,G.Versions.TLS_1_0];G.Version=G.SupportedVersions[0];G.MaxFragment=15360;G.ConnectionEnd={server:0,client:1};G.PRFAlgorithm={tls_prf_sha256:0};G.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};G.CipherType={stream:0,block:1,aead:2};G.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};G.CompressionMethod={none:0,deflate:1};G.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};G.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};G.Alert={};G.Alert.Level={warning:1,fatal:2};G.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};G.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};G.CipherSuites={};G.getCipherSuite=function(t){var e=null;for(var r in G.CipherSuites){var n=G.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e};G.handleUnexpected=function(t,e){var r=!t.open&&t.entity===G.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unexpected_message}})};G.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(G.queue(t,G.createAlert(t,{level:G.Alert.Level.warning,description:G.Alert.Description.no_renegotiation})),G.flush(t)),t.process()};G.parseHelloMessage=function(t,e,r){var n=null,o=t.entity===G.ConnectionEnd.client;if(r<38)t.error(t,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});else{var a=e.fragment,c=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:ot.util.createBuffer(a.getBytes(32)),session_id:dl(a,1),extensions:[]},o?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=dl(a,2),n.compression_methods=dl(a,1)),c=r-(c-a.length()),c>0){for(var l=dl(a,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:dl(l,2)});if(!o)for(var u=0;u<n.extensions.length;++u){var d=n.extensions[u];if(d.type[0]===0&&d.type[1]===0)for(var A=dl(d.data,2);A.length()>0;){var h=A.getByte();if(h!==0)break;t.session.extensions.server_name.serverNameList.push(dl(A,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}});if(o)t.session.cipherSuite=G.getCipherSuite(n.cipher_suite);else for(var p=ot.util.createBuffer(n.cipher_suites.bytes());p.length()>0&&(t.session.cipherSuite=G.getCipherSuite(p.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.handshake_failure},cipherSuite:ot.util.bytesToHex(n.cipher_suite)});o?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=G.CompressionMethod.none}return n};G.createSecurityParameters=function(t,e){var r=t.entity===G.ConnectionEnd.client,n=e.random.bytes(),o=r?t.session.sp.client_random:n,a=r?n:G.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:G.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:o,server_random:a}};G.handleServerHello=function(t,e,r){var n=G.parseHelloMessage(t,e,r);if(!t.fail){if(n.version.minor<=t.version.minor)t.version.minor=n.version.minor;else return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}});t.session.version=t.version;var o=n.session_id.bytes();o.length>0&&o===t.session.id?(t.expect=e4e,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=Uht,t.session.resuming=!1,G.createSecurityParameters(t,n)),t.session.id=o,t.process()}};G.handleClientHello=function(t,e,r){var n=G.parseHelloMessage(t,e,r);if(!t.fail){var o=n.session_id.bytes(),a=null;if(t.sessionCache&&(a=t.sessionCache.getSession(o),a===null?o="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,o="")),o.length===0&&(o=ot.random.getBytes(32)),t.session.id=o,t.session.clientHelloVersion=n.version,t.session.sp={},a)t.version=t.session.version=a.version,t.session.sp=a.sp;else{for(var c,l=1;l<G.SupportedVersions.length&&(c=G.SupportedVersions[l],!(c.minor<=n.version.minor));++l);t.version={major:c.major,minor:c.minor},t.session.version=t.version}a!==null?(t.expect=xX,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?$ht:IX,t.session.resuming=!1,G.createSecurityParameters(t,n)),t.open=!0,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerHello(t)})),t.session.resuming?(G.queue(t,G.createRecord(t,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),t.state.pending=G.createConnectionState(t),t.state.current.write=t.state.pending.write,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createFinished(t)}))):(G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificate(t)})),t.fail||(G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerKeyExchange(t)})),t.verifyClient!==!1&&G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificateRequest(t)})),G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerHelloDone(t)})))),G.flush(t),t.process()}};G.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment,o={certificate_list:dl(n,3)},a,c,l=[];try{for(;o.certificate_list.length()>0;)a=dl(o.certificate_list,3),c=ot.asn1.fromDer(a),a=ot.pki.certificateFromAsn1(c,!0),l.push(a)}catch(d){return t.error(t,{message:"Could not parse certificate list.",cause:d,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate}})}var u=t.entity===G.ConnectionEnd.client;(u||t.verifyClient===!0)&&l.length===0?t.error(t,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}}):l.length===0?t.expect=u?X_e:IX:(u?t.session.serverCertificate=l[0]:t.session.clientCertificate=l[0],G.verifyCertificateChain(t,l)&&(t.expect=u?X_e:IX)),t.process()};G.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unsupported_certificate}});t.expect=Hht,t.process()};G.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unsupported_certificate}});var n=e.fragment,o={enc_pre_master_secret:dl(n,2).getBytes()},a=null;if(t.getPrivateKey)try{a=t.getPrivateKey(t,t.session.serverCertificate),a=ot.pki.privateKeyFromPem(a)}catch(u){t.error(t,{message:"Could not get private key.",cause:u,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}})}if(a===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}});try{var c=t.session.sp;c.pre_master_secret=a.decrypt(o.enc_pre_master_secret);var l=t.session.clientHelloVersion;if(l.major!==c.pre_master_secret.charCodeAt(0)||l.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{c.pre_master_secret=ot.random.getBytes(48)}t.expect=xX,t.session.clientCertificate!==null&&(t.expect=zht),t.process()};G.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment,o={certificate_types:dl(n,1),certificate_authorities:dl(n,2)};t.session.certificateRequest=o,t.expect=qht,t.process()};G.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var o=n.bytes();n.read+=4;var a={signature:dl(n,2).getBytes()},c=ot.util.createBuffer();c.putBuffer(t.session.md5.digest()),c.putBuffer(t.session.sha1.digest()),c=c.getBytes();try{var l=t.session.clientCertificate;if(!l.publicKey.verify(c,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(o),t.session.sha1.update(o)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.handshake_failure}})}t.expect=xX,t.process()};G.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.record_overflow}});if(t.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.insufficient_security}},o=0,a=t.verify(t,n.alert.description,o,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!ot.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),t.error(t,n)}t.session.certificateRequest!==null&&(e=G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificate(t)}),G.queue(t,e)),e=G.createRecord(t,{type:G.ContentType.handshake,data:G.createClientKeyExchange(t)}),G.queue(t,e),t.expect=Wht;var c=s(function(l,u){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&G.queue(l,G.createRecord(l,{type:G.ContentType.handshake,data:G.createCertificateVerify(l,u)})),G.queue(l,G.createRecord(l,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),l.state.pending=G.createConnectionState(l),l.state.current.write=l.state.pending.write,G.queue(l,G.createRecord(l,{type:G.ContentType.handshake,data:G.createFinished(l)})),l.expect=e4e,G.flush(l),l.process()},"callback");if(t.session.certificateRequest===null||t.session.clientCertificate===null)return c(t,null);G.getClientSignature(t,c)};G.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var r=t.entity===G.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=G.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?Ght:jht,t.process()};G.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var o=n.bytes();n.read+=4;var a=e.fragment.getBytes();n=ot.util.createBuffer(),n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var c=t.entity===G.ConnectionEnd.client,l=c?"server finished":"client finished",u=t.session.sp,d=12,A=vF;if(n=A(u.master_secret,l,n.getBytes(),d),n.getBytes()!==a)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.decrypt_error}});t.session.md5.update(o),t.session.sha1.update(o),(t.session.resuming&&c||!t.session.resuming&&!c)&&(G.queue(t,G.createRecord(t,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createFinished(t)}))),t.expect=c?Vht:Kht,t.handshaking=!1,++t.handshakes,t.peerCertificate=c?t.session.serverCertificate:t.session.clientCertificate,G.flush(t),t.isConnected=!0,t.connected(t),t.process()};G.handleAlert=function(t,e){var r=e.fragment,n={level:r.getByte(),description:r.getByte()},o;switch(n.description){case G.Alert.Description.close_notify:o="Connection closed.";break;case G.Alert.Description.unexpected_message:o="Unexpected message.";break;case G.Alert.Description.bad_record_mac:o="Bad record MAC.";break;case G.Alert.Description.decryption_failed:o="Decryption failed.";break;case G.Alert.Description.record_overflow:o="Record overflow.";break;case G.Alert.Description.decompression_failure:o="Decompression failed.";break;case G.Alert.Description.handshake_failure:o="Handshake failure.";break;case G.Alert.Description.bad_certificate:o="Bad certificate.";break;case G.Alert.Description.unsupported_certificate:o="Unsupported certificate.";break;case G.Alert.Description.certificate_revoked:o="Certificate revoked.";break;case G.Alert.Description.certificate_expired:o="Certificate expired.";break;case G.Alert.Description.certificate_unknown:o="Certificate unknown.";break;case G.Alert.Description.illegal_parameter:o="Illegal parameter.";break;case G.Alert.Description.unknown_ca:o="Unknown certificate authority.";break;case G.Alert.Description.access_denied:o="Access denied.";break;case G.Alert.Description.decode_error:o="Decode error.";break;case G.Alert.Description.decrypt_error:o="Decrypt error.";break;case G.Alert.Description.export_restriction:o="Export restriction.";break;case G.Alert.Description.protocol_version:o="Unsupported protocol version.";break;case G.Alert.Description.insufficient_security:o="Insufficient security.";break;case G.Alert.Description.internal_error:o="Internal error.";break;case G.Alert.Description.user_canceled:o="User canceled.";break;case G.Alert.Description.no_renegotiation:o="Renegotiation not supported.";break;default:o="Unknown error.";break}if(n.description===G.Alert.Description.close_notify)return t.close();t.error(t,{message:o,send:!1,origin:t.entity===G.ConnectionEnd.client?"server":"client",alert:n}),t.process()};G.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),o=r.getInt24();if(o>r.length())return t.fragmented=e,e.fragment=ot.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var a=r.bytes(o+4);r.read+=4,n in xF[t.entity][t.expect]?(t.entity===G.ConnectionEnd.server&&!t.open&&!t.fail&&(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:ot.md.md5.create(),sha1:ot.md.sha1.create()}),n!==G.HandshakeType.hello_request&&n!==G.HandshakeType.certificate_verify&&n!==G.HandshakeType.finished&&(t.session.md5.update(a),t.session.sha1.update(a)),xF[t.entity][t.expect][n](t,e,o)):G.handleUnexpected(t,e)};G.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()};G.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),o=r.getInt16(),a=r.getBytes(o);if(n===G.HeartbeatMessageType.heartbeat_request){if(t.handshaking||o>a.length)return t.process();G.queue(t,G.createRecord(t,{type:G.ContentType.heartbeat,data:G.createHeartbeat(G.HeartbeatMessageType.heartbeat_response,a)})),G.flush(t)}else if(n===G.HeartbeatMessageType.heartbeat_response){if(a!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,ot.util.createBuffer(a))}t.process()};var Oht=0,Uht=1,X_e=2,Hht=3,qht=4,e4e=5,Ght=6,Vht=7,Wht=8,Yht=0,$ht=1,IX=2,zht=3,xX=4,jht=5,Kht=6,H=G.handleUnexpected,t4e=G.handleChangeCipherSpec,Na=G.handleAlert,R0=G.handleHandshake,r4e=G.handleApplicationData,Qa=G.handleHeartbeat,vX=[];vX[G.ConnectionEnd.client]=[[H,Na,R0,H,Qa],[H,Na,R0,H,Qa],[H,Na,R0,H,Qa],[H,Na,R0,H,Qa],[H,Na,R0,H,Qa],[t4e,Na,H,H,Qa],[H,Na,R0,H,Qa],[H,Na,R0,r4e,Qa],[H,Na,R0,H,Qa]];vX[G.ConnectionEnd.server]=[[H,Na,R0,H,Qa],[H,Na,R0,H,Qa],[H,Na,R0,H,Qa],[H,Na,R0,H,Qa],[t4e,Na,H,H,Qa],[H,Na,R0,H,Qa],[H,Na,R0,r4e,Qa],[H,Na,R0,H,Qa]];var C1=G.handleHelloRequest,Jht=G.handleServerHello,n4e=G.handleCertificate,Z_e=G.handleServerKeyExchange,CX=G.handleCertificateRequest,EF=G.handleServerHelloDone,i4e=G.handleFinished,xF=[];xF[G.ConnectionEnd.client]=[[H,H,Jht,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[C1,H,H,H,H,H,H,H,H,H,H,n4e,Z_e,CX,EF,H,H,H,H,H,H],[C1,H,H,H,H,H,H,H,H,H,H,H,Z_e,CX,EF,H,H,H,H,H,H],[C1,H,H,H,H,H,H,H,H,H,H,H,H,CX,EF,H,H,H,H,H,H],[C1,H,H,H,H,H,H,H,H,H,H,H,H,H,EF,H,H,H,H,H,H],[C1,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[C1,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,i4e],[C1,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[C1,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H]];var Xht=G.handleClientHello,Zht=G.handleClientKeyExchange,ept=G.handleCertificateVerify;xF[G.ConnectionEnd.server]=[[H,Xht,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,n4e,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,Zht,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,ept,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,i4e],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H]];G.generateKeys=function(t,e){var r=vF,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var o=2*e.mac_key_length+2*e.enc_key_length,a=t.version.major===G.Versions.TLS_1_0.major&&t.version.minor===G.Versions.TLS_1_0.minor;a&&(o+=2*e.fixed_iv_length);var c=r(e.master_secret,"key expansion",n,o),l={client_write_MAC_key:c.getBytes(e.mac_key_length),server_write_MAC_key:c.getBytes(e.mac_key_length),client_write_key:c.getBytes(e.enc_key_length),server_write_key:c.getBytes(e.enc_key_length)};return a&&(l.client_write_IV=c.getBytes(e.fixed_iv_length),l.server_write_IV=c.getBytes(e.fixed_iv_length)),l};G.createConnectionState=function(t){var e=t.entity===G.ConnectionEnd.client,r=s(function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:s(function(c){return!0},"cipherFunction"),compressionState:null,compressFunction:s(function(c){return!0},"compressFunction"),updateSequenceNumber:s(function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]},"updateSequenceNumber")};return a},"createMode"),n={read:r(),write:r()};if(n.read.update=function(a,c){return n.read.cipherFunction(c,n.read)?n.read.compressFunction(a,c,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,c){return n.write.compressFunction(a,c,n.write)?n.write.cipherFunction(c,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}),!a.fail},t.session){var o=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(o),o.keys=G.generateKeys(t,o),n.read.macKey=e?o.keys.server_write_MAC_key:o.keys.client_write_MAC_key,n.write.macKey=e?o.keys.client_write_MAC_key:o.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,o),o.compression_algorithm){case G.CompressionMethod.none:break;case G.CompressionMethod.deflate:n.read.compressFunction=Mht,n.write.compressFunction=Lht;break;default:throw new Error("Unsupported compression algorithm.")}}return n};G.createRandom=function(){var t=new Date,e=+t+t.getTimezoneOffset()*6e4,r=ot.util.createBuffer();return r.putInt32(e),r.putBytes(ot.random.getBytes(28)),r};G.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r};G.createAlert=function(t,e){var r=ot.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),G.createRecord(t,{type:G.ContentType.alert,data:r})};G.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=ot.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var o=e.length(),a=ot.util.createBuffer();a.putByte(G.CompressionMethod.none);var c=a.length(),l=ot.util.createBuffer();if(t.virtualHost){var u=ot.util.createBuffer();u.putByte(0),u.putByte(0);var d=ot.util.createBuffer();d.putByte(0),gu(d,2,ot.util.createBuffer(t.virtualHost));var A=ot.util.createBuffer();gu(A,2,d),gu(u,2,A),l.putBuffer(u)}var h=l.length();h>0&&(h+=2);var p=t.session.id,y=p.length+1+2+4+28+2+o+1+c+h,E=ot.util.createBuffer();return E.putByte(G.HandshakeType.client_hello),E.putInt24(y),E.putByte(t.version.major),E.putByte(t.version.minor),E.putBytes(t.session.sp.client_random),gu(E,1,ot.util.createBuffer(p)),gu(E,2,e),gu(E,1,a),h>0&&gu(E,2,l),E};G.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=ot.util.createBuffer();return n.putByte(G.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),gu(n,1,ot.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n};G.createCertificate=function(t){var e=t.entity===G.ConnectionEnd.client,r=null;if(t.getCertificate){var n;e?n=t.session.certificateRequest:n=t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var o=ot.util.createBuffer();if(r!==null)try{ot.util.isArray(r)||(r=[r]);for(var a=null,c=0;c<r.length;++c){var l=ot.pem.decode(r[c])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=l.type,u}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=ot.util.createBuffer(l.body);a===null&&(a=ot.asn1.fromDer(d.bytes(),!1));var A=ot.util.createBuffer();gu(A,3,d),o.putBuffer(A)}r=ot.pki.certificateFromAsn1(a),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(y){return t.error(t,{message:"Could not send certificate list.",cause:y,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate}})}var h=3+o.length(),p=ot.util.createBuffer();return p.putByte(G.HandshakeType.certificate),p.putInt24(h),gu(p,3,o),p};G.createClientKeyExchange=function(t){var e=ot.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(ot.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var o=e.length+2,a=ot.util.createBuffer();return a.putByte(G.HandshakeType.client_key_exchange),a.putInt24(o),a.putInt16(e.length),a.putBytes(e),a};G.createServerKeyExchange=function(t){var e=0,r=ot.util.createBuffer();return e>0&&(r.putByte(G.HandshakeType.server_key_exchange),r.putInt24(e)),r};G.getClientSignature=function(t,e){var r=ot.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(n,o,a){var c=null;if(n.getPrivateKey)try{c=n.getPrivateKey(n,n.session.clientCertificate),c=ot.pki.privateKeyFromPem(c)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}})}c===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}):o=c.sign(o,null),a(n,o)},t.getSignature(t,r,e)};G.createCertificateVerify=function(t,e){var r=e.length+2,n=ot.util.createBuffer();return n.putByte(G.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n};G.createCertificateRequest=function(t){var e=ot.util.createBuffer();e.putByte(1);var r=ot.util.createBuffer();for(var n in t.caStore.certs){var o=t.caStore.certs[n],a=ot.pki.distinguishedNameToAsn1(o.subject),c=ot.asn1.toDer(a);r.putInt16(c.length()),r.putBuffer(c)}var l=1+e.length()+2+r.length(),u=ot.util.createBuffer();return u.putByte(G.HandshakeType.certificate_request),u.putInt24(l),gu(u,1,e),gu(u,2,r),u};G.createServerHelloDone=function(t){var e=ot.util.createBuffer();return e.putByte(G.HandshakeType.server_hello_done),e.putInt24(0),e};G.createChangeCipherSpec=function(){var t=ot.util.createBuffer();return t.putByte(1),t};G.createFinished=function(t){var e=ot.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===G.ConnectionEnd.client,n=t.session.sp,o=12,a=vF,c=r?"client finished":"server finished";e=a(n.master_secret,c,e.getBytes(),o);var l=ot.util.createBuffer();return l.putByte(G.HandshakeType.finished),l.putInt24(e.length()),l.putBuffer(e),l};G.createHeartbeat=function(t,e,r){typeof r>"u"&&(r=e.length);var n=ot.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var o=n.length(),a=Math.max(16,o-r-3);return n.putBytes(ot.random.getBytes(a)),n};G.queue=function(t,e){if(e&&!(e.fragment.length()===0&&(e.type===G.ContentType.handshake||e.type===G.ContentType.alert||e.type===G.ContentType.change_cipher_spec))){if(e.type===G.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=G.MaxFragment)n=[e];else{n=[];for(var o=e.fragment.bytes();o.length>G.MaxFragment;)n.push(G.createRecord(t,{type:e.type,data:ot.util.createBuffer(o.slice(0,G.MaxFragment))})),o=o.slice(G.MaxFragment);o.length>0&&n.push(G.createRecord(t,{type:e.type,data:ot.util.createBuffer(o)}))}for(var a=0;a<n.length&&!t.fail;++a){var c=n[a],l=t.state.current.write;l.update(t,c)&&t.records.push(c)}}};G.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var EX=s(function(t){switch(t){case!0:return!0;case ot.pki.certificateError.bad_certificate:return G.Alert.Description.bad_certificate;case ot.pki.certificateError.unsupported_certificate:return G.Alert.Description.unsupported_certificate;case ot.pki.certificateError.certificate_revoked:return G.Alert.Description.certificate_revoked;case ot.pki.certificateError.certificate_expired:return G.Alert.Description.certificate_expired;case ot.pki.certificateError.certificate_unknown:return G.Alert.Description.certificate_unknown;case ot.pki.certificateError.unknown_ca:return G.Alert.Description.unknown_ca;default:return G.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),tpt=s(function(t){switch(t){case!0:return!0;case G.Alert.Description.bad_certificate:return ot.pki.certificateError.bad_certificate;case G.Alert.Description.unsupported_certificate:return ot.pki.certificateError.unsupported_certificate;case G.Alert.Description.certificate_revoked:return ot.pki.certificateError.certificate_revoked;case G.Alert.Description.certificate_expired:return ot.pki.certificateError.certificate_expired;case G.Alert.Description.certificate_unknown:return ot.pki.certificateError.certificate_unknown;case G.Alert.Description.unknown_ca:return ot.pki.certificateError.unknown_ca;default:return ot.pki.certificateError.bad_certificate}},"_alertDescToCertError");G.verifyCertificateChain=function(t,e){try{var r={};for(var n in t.verifyOptions)r[n]=t.verifyOptions[n];r.verify=function(a,c,l){var u=EX(a),d=t.verify(t,a,c,l);if(d!==!0){if(typeof d=="object"&&!ot.util.isArray(d)){var A=new Error("The application rejected the certificate.");throw A.send=!0,A.alert={level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate},d.message&&(A.message=d.message),d.alert&&(A.alert.description=d.alert),A}d!==a&&(d=tpt(d))}return d},ot.pki.verifyCertificateChain(t.caStore,e,r)}catch(a){var o=a;(typeof o!="object"||ot.util.isArray(o))&&(o={send:!0,alert:{level:G.Alert.Level.fatal,description:EX(a)}}),"send"in o||(o.send=!0),"alert"in o||(o.alert={level:G.Alert.Level.fatal,description:EX(o.error)}),t.error(t,o)}return!t.fail};G.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(o){var a=null,c=null;if(o?c=ot.util.bytesToHex(o):r.order.length>0&&(c=r.order[0]),c!==null&&c in r.cache){a=r.cache[c],delete r.cache[c];for(var l in r.order)if(r.order[l]===c){r.order.splice(l,1);break}}return a},r.setSession=function(o,a){if(r.order.length===r.capacity){var c=r.order.shift();delete r.cache[c]}var c=ot.util.bytesToHex(o);r.order.push(c),r.cache[c]=a}}return r};G.createConnection=function(t){var e=null;t.caStore?ot.util.isArray(t.caStore)?e=ot.pki.createCaStore(t.caStore):e=t.caStore:e=ot.pki.createCaStore();var r=t.cipherSuites||null;if(r===null){r=[];for(var n in G.CipherSuites)r.push(G.CipherSuites[n])}var o=t.server?G.ConnectionEnd.server:G.ConnectionEnd.client,a=t.sessionCache?G.createSessionCache(t.sessionCache):null,c={version:{major:G.Version.major,minor:G.Version.minor},entity:o,sessionId:t.sessionId,caStore:e,sessionCache:a,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(A,h,p,y){return h},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:ot.util.createBuffer(),tlsData:ot.util.createBuffer(),data:ot.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:s(function(A,h){h.origin=h.origin||(A.entity===G.ConnectionEnd.client?"client":"server"),h.send&&(G.queue(A,G.createAlert(A,h.alert)),G.flush(A));var p=h.fatal!==!1;p&&(A.fail=!0),t.error(A,h),p&&A.close(!1)},"error"),deflate:t.deflate||null,inflate:t.inflate||null};c.reset=function(A){c.version={major:G.Version.major,minor:G.Version.minor},c.record=null,c.session=null,c.peerCertificate=null,c.state={pending:null,current:null},c.expect=c.entity===G.ConnectionEnd.client?Oht:Yht,c.fragmented=null,c.records=[],c.open=!1,c.handshakes=0,c.handshaking=!1,c.isConnected=!1,c.fail=!(A||typeof A>"u"),c.input.clear(),c.tlsData.clear(),c.data.clear(),c.state.current=G.createConnectionState(c)},c.reset();var l=s(function(A,h){var p=h.type-G.ContentType.change_cipher_spec,y=vX[A.entity][A.expect];p in y?y[p](A,h):G.handleUnexpected(A,h)},"_update"),u=s(function(A){var h=0,p=A.input,y=p.length();if(y<5)h=5-y;else{A.record={type:p.getByte(),version:{major:p.getByte(),minor:p.getByte()},length:p.getInt16(),fragment:ot.util.createBuffer(),ready:!1};var E=A.record.version.major===A.version.major;E&&A.session&&A.session.version&&(E=A.record.version.minor===A.version.minor),E||A.error(A,{message:"Incompatible TLS version.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}})}return h},"_readRecordHeader"),d=s(function(A){var h=0,p=A.input,y=p.length();if(y<A.record.length)h=A.record.length-y;else{A.record.fragment.putBytes(p.getBytes(A.record.length)),p.compact();var E=A.state.current.read;E.update(A,A.record)&&(A.fragmented!==null&&(A.fragmented.type===A.record.type?(A.fragmented.fragment.putBuffer(A.record.fragment),A.record=A.fragmented):A.error(A,{message:"Invalid fragmented record.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unexpected_message}})),A.record.ready=!0)}return h},"_readRecord");return c.handshake=function(A){if(c.entity!==G.ConnectionEnd.client)c.error(c,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(c.handshaking)c.error(c,{message:"Handshake already in progress.",fatal:!1});else{c.fail&&!c.open&&c.handshakes===0&&(c.fail=!1),c.handshaking=!0,A=A||"";var h=null;A.length>0&&(c.sessionCache&&(h=c.sessionCache.getSession(A)),h===null&&(A="")),A.length===0&&c.sessionCache&&(h=c.sessionCache.getSession(),h!==null&&(A=h.id)),c.session={id:A,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:ot.md.md5.create(),sha1:ot.md.sha1.create()},h&&(c.version=h.version,c.session.sp=h.sp),c.session.sp.client_random=G.createRandom().getBytes(),c.open=!0,G.queue(c,G.createRecord(c,{type:G.ContentType.handshake,data:G.createClientHello(c)})),G.flush(c)}},c.process=function(A){var h=0;return A&&c.input.putBytes(A),c.fail||(c.record!==null&&c.record.ready&&c.record.fragment.isEmpty()&&(c.record=null),c.record===null&&(h=u(c)),!c.fail&&c.record!==null&&!c.record.ready&&(h=d(c)),!c.fail&&c.record!==null&&c.record.ready&&l(c,c.record)),h},c.prepare=function(A){return G.queue(c,G.createRecord(c,{type:G.ContentType.application_data,data:ot.util.createBuffer(A)})),G.flush(c)},c.prepareHeartbeatRequest=function(A,h){return A instanceof ot.util.ByteBuffer&&(A=A.bytes()),typeof h>"u"&&(h=A.length),c.expectedHeartbeatPayload=A,G.queue(c,G.createRecord(c,{type:G.ContentType.heartbeat,data:G.createHeartbeat(G.HeartbeatMessageType.heartbeat_request,A,h)})),G.flush(c)},c.close=function(A){if(!c.fail&&c.sessionCache&&c.session){var h={id:c.session.id,version:c.session.version,sp:c.session.sp};h.sp.keys=null,c.sessionCache.setSession(h.id,h)}c.open&&(c.open=!1,c.input.clear(),(c.isConnected||c.handshaking)&&(c.isConnected=c.handshaking=!1,G.queue(c,G.createAlert(c,{level:G.Alert.Level.warning,description:G.Alert.Description.close_notify})),G.flush(c)),c.closed(c)),c.reset(A)},c};o4e.exports=ot.tls=ot.tls||{};for(IF in G)typeof G[IF]!="function"&&(ot.tls[IF]=G[IF]);var IF;ot.tls.prf_tls1=vF;ot.tls.hmac_sha1=Fht;ot.tls.createSessionCache=G.createSessionCache;ot.tls.createConnection=G.createConnection});var c4e=q((kjr,a4e)=>{f();var E1=tn();A1();bX();var yu=a4e.exports=E1.tls;yu.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:s(function(t){t.bulk_cipher_algorithm=yu.BulkCipherAlgorithm.aes,t.cipher_type=yu.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=yu.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:s4e};yu.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:s(function(t){t.bulk_cipher_algorithm=yu.BulkCipherAlgorithm.aes,t.cipher_type=yu.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=yu.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:s4e};function s4e(t,e,r){var n=e.entity===E1.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:E1.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:E1.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=opt,t.write.cipherFunction=rpt,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=yu.hmac_sha1}s(s4e,"initConnectionState");function rpt(t,e){var r=!1,n=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(n),e.updateSequenceNumber();var o;t.version.minor===yu.Versions.TLS_1_0.minor?o=e.cipherState.init?null:e.cipherState.iv:o=E1.random.getBytesSync(16),e.cipherState.init=!0;var a=e.cipherState.cipher;return a.start({iv:o}),t.version.minor>=yu.Versions.TLS_1_1.minor&&a.output.putBytes(o),a.update(t.fragment),a.finish(npt)&&(t.fragment=a.output,t.length=t.fragment.length(),r=!0),r}s(rpt,"encrypt_aes_cbc_sha1");function npt(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}s(npt,"encrypt_aes_cbc_sha1_padding");function ipt(t,e,r){var n=!0;if(r){for(var o=e.length(),a=e.last(),c=o-1-a;c<o-1;++c)n=n&&e.at(c)==a;n&&e.truncate(a+1)}return n}s(ipt,"decrypt_aes_cbc_sha1_padding");function opt(t,e){var r=!1,n;t.version.minor===yu.Versions.TLS_1_0.minor?n=e.cipherState.init?null:e.cipherState.iv:n=t.fragment.getBytes(16),e.cipherState.init=!0;var o=e.cipherState.cipher;o.start({iv:n}),o.update(t.fragment),r=o.finish(ipt);var a=e.macLength,c=E1.random.getBytesSync(a),l=o.output.length();l>=a?(t.fragment=o.output.getBytes(l-a),c=o.output.getBytes(a)):t.fragment=o.output.getBytes(),t.fragment=E1.util.createBuffer(t.fragment),t.length=t.fragment.length();var u=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=spt(e.macKey,c,u)&&r,r}s(opt,"decrypt_aes_cbc_sha1");function spt(t,e,r){var n=E1.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}s(spt,"compareMacs")});var wX=q((Qjr,d4e)=>{f();var no=tn();aA();ri();var BS=d4e.exports=no.sha512=no.sha512||{};no.md.sha512=no.md.algorithms.sha512=BS;var u4e=no.sha384=no.sha512.sha384=no.sha512.sha384||{};u4e.create=function(){return BS.create("SHA-384")};no.md.sha384=no.md.algorithms.sha384=u4e;no.sha512.sha256=no.sha512.sha256||{create:s(function(){return BS.create("SHA-512/256")},"create")};no.md["sha512/256"]=no.md.algorithms["sha512/256"]=no.sha512.sha256;no.sha512.sha224=no.sha512.sha224||{create:s(function(){return BS.create("SHA-512/224")},"create")};no.md["sha512/224"]=no.md.algorithms["sha512/224"]=no.sha512.sha224;BS.create=function(t){if(f4e||apt(),typeof t>"u"&&(t="SHA-512"),!(t in ME))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=ME[t],r=null,n=no.util.createBuffer(),o=new Array(80),a=0;a<80;++a)o[a]=new Array(2);var c=64;switch(t){case"SHA-384":c=48;break;case"SHA-512/256":c=32;break;case"SHA-512/224":c=28;break}var l={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:c,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var u=l.messageLengthSize/4,d=0;d<u;++d)l.fullMessageLength.push(0);n=no.util.createBuffer(),r=new Array(e.length);for(var d=0;d<e.length;++d)r[d]=e[d].slice(0);return l},l.start(),l.update=function(u,d){d==="utf8"&&(u=no.util.encodeUtf8(u));var A=u.length;l.messageLength+=A,A=[A/4294967296>>>0,A>>>0];for(var h=l.fullMessageLength.length-1;h>=0;--h)l.fullMessageLength[h]+=A[1],A[1]=A[0]+(l.fullMessageLength[h]/4294967296>>>0),l.fullMessageLength[h]=l.fullMessageLength[h]>>>0,A[0]=A[1]/4294967296>>>0;return n.putBytes(u),l4e(r,o,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var u=no.util.createBuffer();u.putBytes(n.bytes());var d=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,A=d&l.blockLength-1;u.putBytes(TX.substr(0,l.blockLength-A));for(var h,p,y=l.fullMessageLength[0]*8,E=0;E<l.fullMessageLength.length-1;++E)h=l.fullMessageLength[E+1]*8,p=h/4294967296>>>0,y+=p,u.putInt32(y>>>0),y=h>>>0;u.putInt32(y);for(var v=new Array(r.length),E=0;E<r.length;++E)v[E]=r[E].slice(0);l4e(v,o,u);var w=no.util.createBuffer(),_;t==="SHA-512"?_=v.length:t==="SHA-384"?_=v.length-2:_=v.length-4;for(var E=0;E<_;++E)w.putInt32(v[E][0]),(E!==_-1||t!=="SHA-512/224")&&w.putInt32(v[E][1]);return w},l};var TX=null,f4e=!1,_X=null,ME=null;function apt(){TX="\x80",TX+=no.util.fillString("\0",128),_X=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],ME={},ME["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],ME["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],ME["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],ME["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],f4e=!0}s(apt,"_init");function l4e(t,e,r){for(var n,o,a,c,l,u,d,A,h,p,y,E,v,w,_,S,D,N,P,O,$,ne,oe,Ae,Y,K,xe,ce,J,W,Z,re,te,ie,ue,he=r.length();he>=128;){for(J=0;J<16;++J)e[J][0]=r.getInt32()>>>0,e[J][1]=r.getInt32()>>>0;for(;J<80;++J)re=e[J-2],W=re[0],Z=re[1],n=((W>>>19|Z<<13)^(Z>>>29|W<<3)^W>>>6)>>>0,o=((W<<13|Z>>>19)^(Z<<3|W>>>29)^(W<<26|Z>>>6))>>>0,ie=e[J-15],W=ie[0],Z=ie[1],a=((W>>>1|Z<<31)^(W>>>8|Z<<24)^W>>>7)>>>0,c=((W<<31|Z>>>1)^(W<<24|Z>>>8)^(W<<25|Z>>>7))>>>0,te=e[J-7],ue=e[J-16],Z=o+te[1]+c+ue[1],e[J][0]=n+te[0]+a+ue[0]+(Z/4294967296>>>0)>>>0,e[J][1]=Z>>>0;for(v=t[0][0],w=t[0][1],_=t[1][0],S=t[1][1],D=t[2][0],N=t[2][1],P=t[3][0],O=t[3][1],$=t[4][0],ne=t[4][1],oe=t[5][0],Ae=t[5][1],Y=t[6][0],K=t[6][1],xe=t[7][0],ce=t[7][1],J=0;J<80;++J)d=(($>>>14|ne<<18)^($>>>18|ne<<14)^(ne>>>9|$<<23))>>>0,A=(($<<18|ne>>>14)^($<<14|ne>>>18)^(ne<<23|$>>>9))>>>0,h=(Y^$&(oe^Y))>>>0,p=(K^ne&(Ae^K))>>>0,l=((v>>>28|w<<4)^(w>>>2|v<<30)^(w>>>7|v<<25))>>>0,u=((v<<4|w>>>28)^(w<<30|v>>>2)^(w<<25|v>>>7))>>>0,y=(v&_|D&(v^_))>>>0,E=(w&S|N&(w^S))>>>0,Z=ce+A+p+_X[J][1]+e[J][1],n=xe+d+h+_X[J][0]+e[J][0]+(Z/4294967296>>>0)>>>0,o=Z>>>0,Z=u+E,a=l+y+(Z/4294967296>>>0)>>>0,c=Z>>>0,xe=Y,ce=K,Y=oe,K=Ae,oe=$,Ae=ne,Z=O+o,$=P+n+(Z/4294967296>>>0)>>>0,ne=Z>>>0,P=D,O=N,D=_,N=S,_=v,S=w,Z=o+c,v=n+a+(Z/4294967296>>>0)>>>0,w=Z>>>0;Z=t[0][1]+w,t[0][0]=t[0][0]+v+(Z/4294967296>>>0)>>>0,t[0][1]=Z>>>0,Z=t[1][1]+S,t[1][0]=t[1][0]+_+(Z/4294967296>>>0)>>>0,t[1][1]=Z>>>0,Z=t[2][1]+N,t[2][0]=t[2][0]+D+(Z/4294967296>>>0)>>>0,t[2][1]=Z>>>0,Z=t[3][1]+O,t[3][0]=t[3][0]+P+(Z/4294967296>>>0)>>>0,t[3][1]=Z>>>0,Z=t[4][1]+ne,t[4][0]=t[4][0]+$+(Z/4294967296>>>0)>>>0,t[4][1]=Z>>>0,Z=t[5][1]+Ae,t[5][0]=t[5][0]+oe+(Z/4294967296>>>0)>>>0,t[5][1]=Z>>>0,Z=t[6][1]+K,t[6][0]=t[6][0]+Y+(Z/4294967296>>>0)>>>0,t[6][1]=Z>>>0,Z=t[7][1]+ce,t[7][0]=t[7][0]+xe+(Z/4294967296>>>0)>>>0,t[7][1]=Z>>>0,he-=128}}s(l4e,"_update")});var A4e=q(SX=>{f();var cpt=tn();Df();var la=cpt.asn1;SX.privateKeyValidator={name:"PrivateKeyInfo",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:la.Class.UNIVERSAL,type:la.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:la.Class.UNIVERSAL,type:la.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:la.Class.UNIVERSAL,type:la.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};SX.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:la.Class.UNIVERSAL,type:la.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:la.Class.UNIVERSAL,type:la.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var _4e=q((Ojr,T4e)=>{f();var Pa=tn();TS();Au();wX();ri();var C4e=A4e(),lpt=C4e.publicKeyValidator,upt=C4e.privateKeyValidator;typeof h4e>"u"&&(h4e=Pa.jsbn.BigInteger);var h4e,kX=Pa.util.ByteBuffer,Ec=typeof Buffer>"u"?Uint8Array:Buffer;Pa.pki=Pa.pki||{};T4e.exports=Pa.pki.ed25519=Pa.ed25519=Pa.ed25519||{};var In=Pa.ed25519;In.constants={};In.constants.PUBLIC_KEY_BYTE_LENGTH=32;In.constants.PRIVATE_KEY_BYTE_LENGTH=64;In.constants.SEED_BYTE_LENGTH=32;In.constants.SIGN_BYTE_LENGTH=64;In.constants.HASH_BYTE_LENGTH=64;In.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=Pa.random.getBytesSync(In.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==In.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+In.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=tp({message:e,encoding:"binary"});for(var r=new Ec(In.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Ec(In.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)n[o]=e[o];return hpt(r,n),{publicKey:r,privateKey:n}};In.privateKeyFromAsn1=function(t){var e={},r=[],n=Pa.asn1.validate(t,upt,e,r);if(!n){var o=new Error("Invalid Key.");throw o.errors=r,o}var a=Pa.asn1.derToOid(e.privateKeyOid),c=Pa.oids.EdDSA25519;if(a!==c)throw new Error('Invalid OID "'+a+'"; OID must be "'+c+'".');var l=e.privateKey,u=tp({message:Pa.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:u}};In.publicKeyFromAsn1=function(t){var e={},r=[],n=Pa.asn1.validate(t,lpt,e,r);if(!n){var o=new Error("Invalid Key.");throw o.errors=r,o}var a=Pa.asn1.derToOid(e.publicKeyOid),c=Pa.oids.EdDSA25519;if(a!==c)throw new Error('Invalid OID "'+a+'"; OID must be "'+c+'".');var l=e.ed25519PublicKey;if(l.length!==In.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return tp({message:l,encoding:"binary"})};In.publicKeyFromPrivateKey=function(t){t=t||{};var e=tp({message:t.privateKey,encoding:"binary"});if(e.length!==In.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+In.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Ec(In.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};In.sign=function(t){t=t||{};var e=tp(t),r=tp({message:t.privateKey,encoding:"binary"});if(r.length===In.constants.SEED_BYTE_LENGTH){var n=In.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==In.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+In.constants.SEED_BYTE_LENGTH+" or "+In.constants.PRIVATE_KEY_BYTE_LENGTH);var o=new Ec(In.constants.SIGN_BYTE_LENGTH+e.length);ppt(o,e,e.length,r);for(var a=new Ec(In.constants.SIGN_BYTE_LENGTH),c=0;c<a.length;++c)a[c]=o[c];return a};In.verify=function(t){t=t||{};var e=tp(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=tp({message:t.signature,encoding:"binary"});if(r.length!==In.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+In.constants.SIGN_BYTE_LENGTH);var n=tp({message:t.publicKey,encoding:"binary"});if(n.length!==In.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+In.constants.PUBLIC_KEY_BYTE_LENGTH);var o=new Ec(In.constants.SIGN_BYTE_LENGTH+e.length),a=new Ec(In.constants.SIGN_BYTE_LENGTH+e.length),c;for(c=0;c<In.constants.SIGN_BYTE_LENGTH;++c)o[c]=r[c];for(c=0;c<e.length;++c)o[c+In.constants.SIGN_BYTE_LENGTH]=e[c];return mpt(a,o,o.length,n)>=0};function tp(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Ec)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new kX(e,r)}else if(!(e instanceof kX))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Ec(e.length()),o=0;o<n.length;++o)n[o]=e.at(o);return n}s(tp,"messageToNativeBuffer");var DX=Ar(),bF=Ar([1]),fpt=Ar([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),dpt=Ar([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p4e=Ar([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m4e=Ar([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),BX=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Apt=Ar([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function RS(t,e){var r=Pa.md.sha512.create(),n=new kX(t);r.update(n.getBytes(e),"binary");var o=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(o,"binary");for(var a=new Ec(In.constants.HASH_BYTE_LENGTH),c=0;c<64;++c)a[c]=o.charCodeAt(c);return a}s(RS,"sha512");function hpt(t,e){var r=[Ar(),Ar(),Ar(),Ar()],n,o=RS(e,32);for(o[0]&=248,o[31]&=127,o[31]|=64,FX(r,o),PX(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}s(hpt,"crypto_sign_keypair");function ppt(t,e,r,n){var o,a,c=new Float64Array(64),l=[Ar(),Ar(),Ar(),Ar()],u=RS(n,32);u[0]&=248,u[31]&=127,u[31]|=64;var d=r+64;for(o=0;o<r;++o)t[64+o]=e[o];for(o=0;o<32;++o)t[32+o]=u[32+o];var A=RS(t.subarray(32),r+32);for(NX(A),FX(l,A),PX(t,l),o=32;o<64;++o)t[o]=n[o];var h=RS(t,r+64);for(NX(h),o=32;o<64;++o)c[o]=0;for(o=0;o<32;++o)c[o]=A[o];for(o=0;o<32;++o)for(a=0;a<32;a++)c[o+a]+=h[o]*u[a];return E4e(t.subarray(32),c),d}s(ppt,"crypto_sign");function mpt(t,e,r,n){var o,a,c=new Ec(32),l=[Ar(),Ar(),Ar(),Ar()],u=[Ar(),Ar(),Ar(),Ar()];if(a=-1,r<64||gpt(u,n))return-1;for(o=0;o<r;++o)t[o]=e[o];for(o=0;o<32;++o)t[o+32]=n[o];var d=RS(t,r);if(NX(d),v4e(l,u,d),FX(u,e.subarray(32)),QX(l,u),PX(c,l),r-=64,I4e(e,0,c,0)){for(o=0;o<r;++o)t[o]=0;return-1}for(o=0;o<r;++o)t[o]=e[o+64];return a=r,a}s(mpt,"crypto_sign_open");function E4e(t,e){var r,n,o,a;for(n=63;n>=32;--n){for(r=0,o=n-32,a=n-12;o<a;++o)e[o]+=r-16*e[n]*BX[o-(n-32)],r=e[o]+128>>8,e[o]-=r*256;e[o]+=r,e[n]=0}for(r=0,o=0;o<32;++o)e[o]+=r-(e[31]>>4)*BX[o],r=e[o]>>8,e[o]&=255;for(o=0;o<32;++o)e[o]-=r*BX[o];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}s(E4e,"modL");function NX(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;E4e(t,e)}s(NX,"reduce");function QX(t,e){var r=Ar(),n=Ar(),o=Ar(),a=Ar(),c=Ar(),l=Ar(),u=Ar(),d=Ar(),A=Ar();t5(r,t[1],t[0]),t5(A,e[1],e[0]),Qi(r,r,A),e5(n,t[0],t[1]),e5(A,e[0],e[1]),Qi(n,n,A),Qi(o,t[3],e[3]),Qi(o,o,dpt),Qi(a,t[2],e[2]),e5(a,a,a),t5(c,n,r),t5(l,a,o),e5(u,a,o),e5(d,n,r),Qi(t[0],c,l),Qi(t[1],d,u),Qi(t[2],u,l),Qi(t[3],c,d)}s(QX,"add");function g4e(t,e,r){for(var n=0;n<4;++n)b4e(t[n],e[n],r)}s(g4e,"cswap");function PX(t,e){var r=Ar(),n=Ar(),o=Ar();Ipt(o,e[2]),Qi(r,e[0],o),Qi(n,e[1],o),TF(t,n),t[31]^=x4e(r)<<7}s(PX,"pack");function TF(t,e){var r,n,o,a=Ar(),c=Ar();for(r=0;r<16;++r)c[r]=e[r];for(RX(c),RX(c),RX(c),n=0;n<2;++n){for(a[0]=c[0]-65517,r=1;r<15;++r)a[r]=c[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=c[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,b4e(c,a,1-o)}for(r=0;r<16;r++)t[2*r]=c[r]&255,t[2*r+1]=c[r]>>8}s(TF,"pack25519");function gpt(t,e){var r=Ar(),n=Ar(),o=Ar(),a=Ar(),c=Ar(),l=Ar(),u=Ar();return I1(t[2],bF),ypt(t[1],e),OE(o,t[1]),Qi(a,o,fpt),t5(o,o,t[2]),e5(a,t[2],a),OE(c,a),OE(l,c),Qi(u,l,c),Qi(r,u,o),Qi(r,r,a),Cpt(r,r),Qi(r,r,o),Qi(r,r,a),Qi(r,r,a),Qi(t[0],r,a),OE(n,t[0]),Qi(n,n,a),y4e(n,o)&&Qi(t[0],t[0],Apt),OE(n,t[0]),Qi(n,n,a),y4e(n,o)?-1:(x4e(t[0])===e[31]>>7&&t5(t[0],DX,t[0]),Qi(t[3],t[0],t[1]),0)}s(gpt,"unpackneg");function ypt(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}s(ypt,"unpack25519");function Cpt(t,e){var r=Ar(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)OE(r,r),n!==1&&Qi(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}s(Cpt,"pow2523");function y4e(t,e){var r=new Ec(32),n=new Ec(32);return TF(r,t),TF(n,e),I4e(r,0,n,0)}s(y4e,"neq25519");function I4e(t,e,r,n){return Ept(t,e,r,n,32)}s(I4e,"crypto_verify_32");function Ept(t,e,r,n,o){var a,c=0;for(a=0;a<o;++a)c|=t[e+a]^r[n+a];return(1&c-1>>>8)-1}s(Ept,"vn");function x4e(t){var e=new Ec(32);return TF(e,t),e[0]&1}s(x4e,"par25519");function v4e(t,e,r){var n,o;for(I1(t[0],DX),I1(t[1],bF),I1(t[2],bF),I1(t[3],DX),o=255;o>=0;--o)n=r[o/8|0]>>(o&7)&1,g4e(t,e,n),QX(e,t),QX(t,t),g4e(t,e,n)}s(v4e,"scalarmult");function FX(t,e){var r=[Ar(),Ar(),Ar(),Ar()];I1(r[0],p4e),I1(r[1],m4e),I1(r[2],bF),Qi(r[3],p4e,m4e),v4e(t,r,e)}s(FX,"scalarbase");function I1(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}s(I1,"set25519");function Ipt(t,e){var r=Ar(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)OE(r,r),n!==2&&n!==4&&Qi(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}s(Ipt,"inv25519");function RX(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}s(RX,"car25519");function b4e(t,e,r){for(var n,o=~(r-1),a=0;a<16;++a)n=o&(t[a]^e[a]),t[a]^=n,e[a]^=n}s(b4e,"sel25519");function Ar(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}s(Ar,"gf");function e5(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}s(e5,"A");function t5(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}s(t5,"Z");function OE(t,e){Qi(t,e,e)}s(OE,"S");function Qi(t,e,r){var n,o,a=0,c=0,l=0,u=0,d=0,A=0,h=0,p=0,y=0,E=0,v=0,w=0,_=0,S=0,D=0,N=0,P=0,O=0,$=0,ne=0,oe=0,Ae=0,Y=0,K=0,xe=0,ce=0,J=0,W=0,Z=0,re=0,te=0,ie=r[0],ue=r[1],he=r[2],Je=r[3],rt=r[4],lt=r[5],Ct=r[6],Vt=r[7],Hr=r[8],Dn=r[9],br=r[10],le=r[11],Xe=r[12],ge=r[13],ft=r[14],st=r[15];n=e[0],a+=n*ie,c+=n*ue,l+=n*he,u+=n*Je,d+=n*rt,A+=n*lt,h+=n*Ct,p+=n*Vt,y+=n*Hr,E+=n*Dn,v+=n*br,w+=n*le,_+=n*Xe,S+=n*ge,D+=n*ft,N+=n*st,n=e[1],c+=n*ie,l+=n*ue,u+=n*he,d+=n*Je,A+=n*rt,h+=n*lt,p+=n*Ct,y+=n*Vt,E+=n*Hr,v+=n*Dn,w+=n*br,_+=n*le,S+=n*Xe,D+=n*ge,N+=n*ft,P+=n*st,n=e[2],l+=n*ie,u+=n*ue,d+=n*he,A+=n*Je,h+=n*rt,p+=n*lt,y+=n*Ct,E+=n*Vt,v+=n*Hr,w+=n*Dn,_+=n*br,S+=n*le,D+=n*Xe,N+=n*ge,P+=n*ft,O+=n*st,n=e[3],u+=n*ie,d+=n*ue,A+=n*he,h+=n*Je,p+=n*rt,y+=n*lt,E+=n*Ct,v+=n*Vt,w+=n*Hr,_+=n*Dn,S+=n*br,D+=n*le,N+=n*Xe,P+=n*ge,O+=n*ft,$+=n*st,n=e[4],d+=n*ie,A+=n*ue,h+=n*he,p+=n*Je,y+=n*rt,E+=n*lt,v+=n*Ct,w+=n*Vt,_+=n*Hr,S+=n*Dn,D+=n*br,N+=n*le,P+=n*Xe,O+=n*ge,$+=n*ft,ne+=n*st,n=e[5],A+=n*ie,h+=n*ue,p+=n*he,y+=n*Je,E+=n*rt,v+=n*lt,w+=n*Ct,_+=n*Vt,S+=n*Hr,D+=n*Dn,N+=n*br,P+=n*le,O+=n*Xe,$+=n*ge,ne+=n*ft,oe+=n*st,n=e[6],h+=n*ie,p+=n*ue,y+=n*he,E+=n*Je,v+=n*rt,w+=n*lt,_+=n*Ct,S+=n*Vt,D+=n*Hr,N+=n*Dn,P+=n*br,O+=n*le,$+=n*Xe,ne+=n*ge,oe+=n*ft,Ae+=n*st,n=e[7],p+=n*ie,y+=n*ue,E+=n*he,v+=n*Je,w+=n*rt,_+=n*lt,S+=n*Ct,D+=n*Vt,N+=n*Hr,P+=n*Dn,O+=n*br,$+=n*le,ne+=n*Xe,oe+=n*ge,Ae+=n*ft,Y+=n*st,n=e[8],y+=n*ie,E+=n*ue,v+=n*he,w+=n*Je,_+=n*rt,S+=n*lt,D+=n*Ct,N+=n*Vt,P+=n*Hr,O+=n*Dn,$+=n*br,ne+=n*le,oe+=n*Xe,Ae+=n*ge,Y+=n*ft,K+=n*st,n=e[9],E+=n*ie,v+=n*ue,w+=n*he,_+=n*Je,S+=n*rt,D+=n*lt,N+=n*Ct,P+=n*Vt,O+=n*Hr,$+=n*Dn,ne+=n*br,oe+=n*le,Ae+=n*Xe,Y+=n*ge,K+=n*ft,xe+=n*st,n=e[10],v+=n*ie,w+=n*ue,_+=n*he,S+=n*Je,D+=n*rt,N+=n*lt,P+=n*Ct,O+=n*Vt,$+=n*Hr,ne+=n*Dn,oe+=n*br,Ae+=n*le,Y+=n*Xe,K+=n*ge,xe+=n*ft,ce+=n*st,n=e[11],w+=n*ie,_+=n*ue,S+=n*he,D+=n*Je,N+=n*rt,P+=n*lt,O+=n*Ct,$+=n*Vt,ne+=n*Hr,oe+=n*Dn,Ae+=n*br,Y+=n*le,K+=n*Xe,xe+=n*ge,ce+=n*ft,J+=n*st,n=e[12],_+=n*ie,S+=n*ue,D+=n*he,N+=n*Je,P+=n*rt,O+=n*lt,$+=n*Ct,ne+=n*Vt,oe+=n*Hr,Ae+=n*Dn,Y+=n*br,K+=n*le,xe+=n*Xe,ce+=n*ge,J+=n*ft,W+=n*st,n=e[13],S+=n*ie,D+=n*ue,N+=n*he,P+=n*Je,O+=n*rt,$+=n*lt,ne+=n*Ct,oe+=n*Vt,Ae+=n*Hr,Y+=n*Dn,K+=n*br,xe+=n*le,ce+=n*Xe,J+=n*ge,W+=n*ft,Z+=n*st,n=e[14],D+=n*ie,N+=n*ue,P+=n*he,O+=n*Je,$+=n*rt,ne+=n*lt,oe+=n*Ct,Ae+=n*Vt,Y+=n*Hr,K+=n*Dn,xe+=n*br,ce+=n*le,J+=n*Xe,W+=n*ge,Z+=n*ft,re+=n*st,n=e[15],N+=n*ie,P+=n*ue,O+=n*he,$+=n*Je,ne+=n*rt,oe+=n*lt,Ae+=n*Ct,Y+=n*Vt,K+=n*Hr,xe+=n*Dn,ce+=n*br,J+=n*le,W+=n*Xe,Z+=n*ge,re+=n*ft,te+=n*st,a+=38*P,c+=38*O,l+=38*$,u+=38*ne,d+=38*oe,A+=38*Ae,h+=38*Y,p+=38*K,y+=38*xe,E+=38*ce,v+=38*J,w+=38*W,_+=38*Z,S+=38*re,D+=38*te,o=1,n=a+o+65535,o=Math.floor(n/65536),a=n-o*65536,n=c+o+65535,o=Math.floor(n/65536),c=n-o*65536,n=l+o+65535,o=Math.floor(n/65536),l=n-o*65536,n=u+o+65535,o=Math.floor(n/65536),u=n-o*65536,n=d+o+65535,o=Math.floor(n/65536),d=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=h+o+65535,o=Math.floor(n/65536),h=n-o*65536,n=p+o+65535,o=Math.floor(n/65536),p=n-o*65536,n=y+o+65535,o=Math.floor(n/65536),y=n-o*65536,n=E+o+65535,o=Math.floor(n/65536),E=n-o*65536,n=v+o+65535,o=Math.floor(n/65536),v=n-o*65536,n=w+o+65535,o=Math.floor(n/65536),w=n-o*65536,n=_+o+65535,o=Math.floor(n/65536),_=n-o*65536,n=S+o+65535,o=Math.floor(n/65536),S=n-o*65536,n=D+o+65535,o=Math.floor(n/65536),D=n-o*65536,n=N+o+65535,o=Math.floor(n/65536),N=n-o*65536,a+=o-1+37*(o-1),o=1,n=a+o+65535,o=Math.floor(n/65536),a=n-o*65536,n=c+o+65535,o=Math.floor(n/65536),c=n-o*65536,n=l+o+65535,o=Math.floor(n/65536),l=n-o*65536,n=u+o+65535,o=Math.floor(n/65536),u=n-o*65536,n=d+o+65535,o=Math.floor(n/65536),d=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=h+o+65535,o=Math.floor(n/65536),h=n-o*65536,n=p+o+65535,o=Math.floor(n/65536),p=n-o*65536,n=y+o+65535,o=Math.floor(n/65536),y=n-o*65536,n=E+o+65535,o=Math.floor(n/65536),E=n-o*65536,n=v+o+65535,o=Math.floor(n/65536),v=n-o*65536,n=w+o+65535,o=Math.floor(n/65536),w=n-o*65536,n=_+o+65535,o=Math.floor(n/65536),_=n-o*65536,n=S+o+65535,o=Math.floor(n/65536),S=n-o*65536,n=D+o+65535,o=Math.floor(n/65536),D=n-o*65536,n=N+o+65535,o=Math.floor(n/65536),N=n-o*65536,a+=o-1+37*(o-1),t[0]=a,t[1]=c,t[2]=l,t[3]=u,t[4]=d,t[5]=A,t[6]=h,t[7]=p,t[8]=y,t[9]=E,t[10]=v,t[11]=w,t[12]=_,t[13]=S,t[14]=D,t[15]=N}s(Qi,"M")});var R4e=q((qjr,B4e)=>{f();var Al=tn();ri();Au();TS();B4e.exports=Al.kem=Al.kem||{};var w4e=Al.jsbn.BigInteger;Al.kem.rsa={};Al.kem.rsa.create=function(t,e){e=e||{};var r=e.prng||Al.random,n={};return n.encrypt=function(o,a){var c=Math.ceil(o.n.bitLength()/8),l;do l=new w4e(Al.util.bytesToHex(r.getBytesSync(c)),16).mod(o.n);while(l.compareTo(w4e.ONE)<=0);l=Al.util.hexToBytes(l.toString(16));var u=c-l.length;u>0&&(l=Al.util.fillString("\0",u)+l);var d=o.encrypt(l,"NONE"),A=t.generate(l,a);return{encapsulation:d,key:A}},n.decrypt=function(o,a,c){var l=o.decrypt(a,"NONE");return t.generate(l,c)},n};Al.kem.kdf1=function(t,e){S4e(this,t,0,e||t.digestLength)};Al.kem.kdf2=function(t,e){S4e(this,t,1,e||t.digestLength)};function S4e(t,e,r,n){t.generate=function(o,a){for(var c=new Al.util.ByteBuffer,l=Math.ceil(a/n)+r,u=new Al.util.ByteBuffer,d=r;d<l;++d){u.putInt32(d),e.start(),e.update(o+u.getBytes());var A=e.digest();c.putBytes(A.getBytes(n))}return c.truncate(c.length()-a),c.getBytes()}}s(S4e,"_createKDF")});var Q4e=q((Wjr,N4e)=>{f();var kn=tn();ri();N4e.exports=kn.log=kn.log||{};kn.log.levels=["none","error","warning","info","debug","verbose","max"];var _F={},OX=[],DS=null;kn.log.LEVEL_LOCKED=2;kn.log.NO_LEVEL_CHECK=4;kn.log.INTERPOLATE=8;for(pA=0;pA<kn.log.levels.length;++pA)LX=kn.log.levels[pA],_F[LX]={index:pA,name:LX.toUpperCase()};var LX,pA;kn.log.logMessage=function(t){for(var e=_F[t.level].index,r=0;r<OX.length;++r){var n=OX[r];if(n.flags&kn.log.NO_LEVEL_CHECK)n.f(t);else{var o=_F[n.level].index;e<=o&&n.f(n,t)}}};kn.log.prepareStandard=function(t){"standard"in t||(t.standard=_F[t.level].name+" ["+t.category+"] "+t.message)};kn.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=kn.util.format.apply(this,e)}};kn.log.prepareStandardFull=function(t){"standardFull"in t||(kn.log.prepareStandard(t),t.standardFull=t.standard)};for(MX=["error","warning","info","debug","verbose"],pA=0;pA<MX.length;++pA)(function(e){kn.log[e]=function(r,n){var o=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:e,category:r,message:n,arguments:o};kn.log.logMessage(a)}})(MX[pA]);var MX,pA;kn.log.makeLogger=function(t){var e={flags:0,f:t};return kn.log.setLevel(e,"none"),e};kn.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&kn.log.LEVEL_LOCKED))for(var n=0;n<kn.log.levels.length;++n){var o=kn.log.levels[n];if(e==o){t.level=e,r=!0;break}}return r};kn.log.lock=function(t,e){typeof e>"u"||e?t.flags|=kn.log.LEVEL_LOCKED:t.flags&=~kn.log.LEVEL_LOCKED};kn.log.addLogger=function(t){OX.push(t)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(k4e={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},NS=s(function(t,e){kn.log.prepareStandard(e);var r=k4e[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)},"f"),r5=kn.log.makeLogger(NS)):(NS=s(function(e,r){kn.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),r5=kn.log.makeLogger(NS)),kn.log.setLevel(r5,"debug"),kn.log.addLogger(r5),DS=r5):console={log:s(function(){},"log")};var r5,k4e,NS;DS!==null&&typeof window<"u"&&window.location&&(kS=new URL(window.location.href).searchParams,kS.has("console.level")&&kn.log.setLevel(DS,kS.get("console.level").slice(-1)[0]),kS.has("console.lock")&&(D4e=kS.get("console.lock").slice(-1)[0],D4e=="true"&&kn.log.lock(DS)));var kS,D4e;kn.log.consoleLogger=DS});var F4e=q((zjr,P4e)=>{f();P4e.exports=aA();oF();jb();XJ();wX()});var O4e=q((Kjr,M4e)=>{f();var xt=tn();A1();Df();vS();h1();DE();dX();Au();ri();CF();var Ie=xt.asn1,k0=M4e.exports=xt.pkcs7=xt.pkcs7||{};k0.messageFromPem=function(t){var e=xt.pem.decode(t)[0];if(e.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Ie.fromDer(e.body);return k0.messageFromAsn1(n)};k0.messageToPem=function(t,e){var r={type:"PKCS7",body:Ie.toDer(t.toAsn1()).getBytes()};return xt.pem.encode(r,{maxline:e})};k0.messageFromAsn1=function(t){var e={},r=[];if(!Ie.validate(t,k0.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var o=Ie.derToOid(e.contentType),a;switch(o){case xt.pki.oids.envelopedData:a=k0.createEnvelopedData();break;case xt.pki.oids.encryptedData:a=k0.createEncryptedData();break;case xt.pki.oids.signedData:a=k0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+o+" is not (yet) supported.")}return a.fromAsn1(e.content.value[0]),a};k0.createSignedData=function(){var t=null;return t={type:xt.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:s(function(n){if(HX(t,n,k0.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var o=t.rawCapture.certificates.value,a=0;a<o.length;++a)t.certificates.push(xt.pki.certificateFromAsn1(o[a]))},"fromAsn1"),toAsn1:s(function(){t.contentInfo||t.sign();for(var n=[],o=0;o<t.certificates.length;++o)n.push(xt.pki.certificateToAsn1(t.certificates[o]));var a=[],c=Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,Ie.integerToDer(t.version).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return n.length>0&&c.value[0].value.push(Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&c.value[0].value.push(Ie.create(Ie.Class.CONTEXT_SPECIFIC,1,!0,a)),c.value[0].value.push(Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,t.signerInfos)),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.type).getBytes()),c])},"toAsn1"),addSigner:s(function(n){var o=n.issuer,a=n.serialNumber;if(n.certificate){var c=n.certificate;typeof c=="string"&&(c=xt.pki.certificateFromPem(c)),o=c.issuer.attributes,a=c.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=xt.pki.privateKeyFromPem(l));var u=n.digestAlgorithm||xt.pki.oids.sha1;switch(u){case xt.pki.oids.sha1:case xt.pki.oids.sha256:case xt.pki.oids.sha384:case xt.pki.oids.sha512:case xt.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+u)}var d=n.authenticatedAttributes||[];if(d.length>0){for(var A=!1,h=!1,p=0;p<d.length;++p){var y=d[p];if(!A&&y.type===xt.pki.oids.contentType){if(A=!0,h)break;continue}if(!h&&y.type===xt.pki.oids.messageDigest){if(h=!0,A)break;continue}}if(!A||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:l,version:1,issuer:o,serialNumber:a,digestAlgorithm:u,signatureAlgorithm:xt.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:d,unauthenticatedAttributes:[]})},"addSigner"),sign:s(function(n){if(n=n||{},(typeof t.content!="object"||t.contentInfo===null)&&(t.contentInfo=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(xt.pki.oids.data).getBytes())]),"content"in t)){var o;t.content instanceof xt.util.ByteBuffer?o=t.content.bytes():typeof t.content=="string"&&(o=xt.util.encodeUtf8(t.content)),n.detached?t.detachedContent=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,o):t.contentInfo.value.push(Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,o)]))}if(t.signers.length!==0){var a=e();r(a)}},"sign"),verify:s(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:s(function(n){typeof n=="string"&&(n=xt.pki.certificateFromPem(n)),t.certificates.push(n)},"addCertificate"),addCertificateRevokationList:s(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},t;function e(){for(var n={},o=0;o<t.signers.length;++o){var a=t.signers[o],c=a.digestAlgorithm;c in n||(n[c]=xt.md[xt.pki.oids[c]].create()),a.authenticatedAttributes.length===0?a.md=n[c]:a.md=xt.md[xt.pki.oids[c]].create()}t.digestAlgorithmIdentifiers=[];for(var c in n)t.digestAlgorithmIdentifiers.push(Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(c).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.NULL,!1,"")]));return n}s(e,"addDigestAlgorithmIds");function r(n){var o;if(t.detachedContent?o=t.detachedContent:(o=t.contentInfo.value[1],o=o.value[0]),!o)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=Ie.derToOid(t.contentInfo.value[0].value),c=Ie.toDer(o);c.getByte(),Ie.getBerValueLength(c),c=c.getBytes();for(var l in n)n[l].start().update(c);for(var u=new Date,d=0;d<t.signers.length;++d){var A=t.signers[d];if(A.authenticatedAttributes.length===0){if(a!==xt.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{A.authenticatedAttributesAsn1=Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,[]),p=0;p<A.authenticatedAttributes.length;++p){var y=A.authenticatedAttributes[p];y.type===xt.pki.oids.messageDigest?y.value=n[A.digestAlgorithm].digest():y.type===xt.pki.oids.signingTime&&(y.value||(y.value=u)),h.value.push(UX(y)),A.authenticatedAttributesAsn1.value.push(UX(y))}c=Ie.toDer(h).getBytes(),A.md.start().update(c)}A.signature=A.key.sign(A.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=wpt(t.signers)}s(r,"addSignerInfos")};k0.createEncryptedData=function(){var t=null;return t={type:xt.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:xt.pki.oids["aes256-CBC"]},fromAsn1:s(function(e){HX(t,e,k0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:s(function(e){e!==void 0&&(t.encryptedContent.key=e),L4e(t)},"decrypt")},t};k0.createEnvelopedData=function(){var t=null;return t={type:xt.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:xt.pki.oids["aes256-CBC"]},fromAsn1:s(function(e){var r=HX(t,e,k0.asn1.envelopedDataValidator);t.recipients=bpt(r.recipientInfos.value)},"fromAsn1"),toAsn1:s(function(){return Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.type).getBytes()),Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,Ie.integerToDer(t.version).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,Tpt(t.recipients)),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,Spt(t.encryptedContent))])])])},"toAsn1"),findRecipient:s(function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var o=t.recipients[n],a=o.issuer;if(o.serialNumber===e.serialNumber&&a.length===r.length){for(var c=!0,l=0;l<r.length;++l)if(a[l].type!==r[l].type||a[l].value!==r[l].value){c=!1;break}if(c)return o}}return null},"findRecipient"),decrypt:s(function(e,r){if(t.encryptedContent.key===void 0&&e!==void 0&&r!==void 0)switch(e.encryptedContent.algorithm){case xt.pki.oids.rsaEncryption:case xt.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=xt.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}L4e(t)},"decrypt"),addRecipient:s(function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:xt.pki.oids.rsaEncryption,key:e.publicKey}})},"addRecipient"),encrypt:s(function(e,r){if(t.encryptedContent.content===void 0){r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key;var n,o,a;switch(r){case xt.pki.oids["aes128-CBC"]:n=16,o=16,a=xt.aes.createEncryptionCipher;break;case xt.pki.oids["aes192-CBC"]:n=24,o=16,a=xt.aes.createEncryptionCipher;break;case xt.pki.oids["aes256-CBC"]:n=32,o=16,a=xt.aes.createEncryptionCipher;break;case xt.pki.oids["des-EDE3-CBC"]:n=24,o=8,a=xt.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(e===void 0)e=xt.util.createBuffer(xt.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=xt.util.createBuffer(xt.random.getBytes(o));var c=a(e);if(c.start(t.encryptedContent.parameter.copy()),c.update(t.content),!c.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=c.output}for(var l=0;l<t.recipients.length;++l){var u=t.recipients[l];if(u.encryptedContent.content===void 0)switch(u.encryptedContent.algorithm){case xt.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}},"encrypt")},t};function xpt(t){var e={},r=[];if(!Ie.validate(t,k0.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:xt.pki.RDNAttributesAsArray(e.issuer),serialNumber:xt.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:Ie.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}s(xpt,"_recipientFromAsn1");function vpt(t){return Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,Ie.integerToDer(t.version).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[xt.pki.distinguishedNameToAsn1({attributes:t.issuer}),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,xt.util.hexToBytes(t.serialNumber))]),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.encryptedContent.algorithm).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.NULL,!1,"")]),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.encryptedContent.content)])}s(vpt,"_recipientToAsn1");function bpt(t){for(var e=[],r=0;r<t.length;++r)e.push(xpt(t[r]));return e}s(bpt,"_recipientsFromAsn1");function Tpt(t){for(var e=[],r=0;r<t.length;++r)e.push(vpt(t[r]));return e}s(Tpt,"_recipientsToAsn1");function _pt(t){var e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,Ie.integerToDer(t.version).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[xt.pki.distinguishedNameToAsn1({attributes:t.issuer}),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,xt.util.hexToBytes(t.serialNumber))]),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.digestAlgorithm).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.signatureAlgorithm).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.NULL,!1,"")])),e.value.push(Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=Ie.create(Ie.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var o=t.unauthenticatedAttributes[n];r.values.push(UX(o))}e.value.push(r)}return e}s(_pt,"_signerToAsn1");function wpt(t){for(var e=[],r=0;r<t.length;++r)e.push(_pt(t[r]));return e}s(wpt,"_signersToAsn1");function UX(t){var e;if(t.type===xt.pki.oids.contentType)e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.value).getBytes());else if(t.type===xt.pki.oids.messageDigest)e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===xt.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),o=t.value;if(typeof o=="string"){var a=Date.parse(o);isNaN(a)?o.length===13?o=Ie.utcTimeToDate(o):o=Ie.generalizedTimeToDate(o):o=new Date(a)}o>=r&&o<n?e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.UTCTIME,!1,Ie.dateToUtcTime(o)):e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.GENERALIZEDTIME,!1,Ie.dateToGeneralizedTime(o))}return Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.type).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,[e])])}s(UX,"_attributeToAsn1");function Spt(t){return[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(xt.pki.oids.data).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.algorithm).getBytes()),t.parameter?Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.content.getBytes())])]}s(Spt,"_encryptedContentToAsn1");function HX(t,e,r){var n={},o=[];if(!Ie.validate(e,r,n,o)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var c=Ie.derToOid(n.contentType);if(c!==xt.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(xt.util.isArray(n.encryptedContent))for(var u=0;u<n.encryptedContent.length;++u){if(n.encryptedContent[u].type!==Ie.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[u].value}else l=n.encryptedContent;t.encryptedContent={algorithm:Ie.derToOid(n.encAlgorithm),parameter:xt.util.createBuffer(n.encParameter.value),content:xt.util.createBuffer(l)}}if(n.content){var l="";if(xt.util.isArray(n.content))for(var u=0;u<n.content.length;++u){if(n.content[u].type!==Ie.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[u].value}else l=n.content;t.content=xt.util.createBuffer(l)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}s(HX,"_fromAsn1");function L4e(t){if(t.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(t.content===void 0){var e;switch(t.encryptedContent.algorithm){case xt.pki.oids["aes128-CBC"]:case xt.pki.oids["aes192-CBC"]:case xt.pki.oids["aes256-CBC"]:e=xt.aes.createDecryptionCipher(t.encryptedContent.key);break;case xt.pki.oids.desCBC:case xt.pki.oids["des-EDE3-CBC"]:e=xt.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}s(L4e,"_decryptContent")});var H4e=q((Zjr,U4e)=>{f();var Ts=tn();A1();Wb();oF();jb();ri();var SF=U4e.exports=Ts.ssh=Ts.ssh||{};SF.privateKeyToPutty=function(t,e,r){r=r||"",e=e||"";var n="ssh-rsa",o=e===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+o+`\r
`,a+="Comment: "+r+`\r
`;var c=Ts.util.createBuffer();n5(c,n),mA(c,t.e),mA(c,t.n);var l=Ts.util.encode64(c.bytes(),64),u=Math.floor(l.length/66)+1;a+="Public-Lines: "+u+`\r
`,a+=l;var d=Ts.util.createBuffer();mA(d,t.d),mA(d,t.p),mA(d,t.q),mA(d,t.qInv);var A;if(!e)A=Ts.util.encode64(d.bytes(),64);else{var h=d.length()+16-1;h-=h%16;var p=wF(d.bytes());p.truncate(p.length()-h+d.length()),d.putBuffer(p);var y=Ts.util.createBuffer();y.putBuffer(wF("\0\0\0\0",e)),y.putBuffer(wF("\0\0\0",e));var E=Ts.aes.createEncryptionCipher(y.truncate(8),"CBC");E.start(Ts.util.createBuffer().fillWithByte(0,16)),E.update(d.copy()),E.finish();var v=E.output;v.truncate(16),A=Ts.util.encode64(v.bytes(),64)}u=Math.floor(A.length/66)+1,a+=`\r
Private-Lines: `+u+`\r
`,a+=A;var w=wF("putty-private-key-file-mac-key",e),_=Ts.util.createBuffer();n5(_,n),n5(_,o),n5(_,r),_.putInt32(c.length()),_.putBuffer(c),_.putInt32(d.length()),_.putBuffer(d);var S=Ts.hmac.create();return S.start("sha1",w),S.update(_.bytes()),a+=`\r
Private-MAC: `+S.digest().toHex()+`\r
`,a};SF.publicKeyToOpenSSH=function(t,e){var r="ssh-rsa";e=e||"";var n=Ts.util.createBuffer();return n5(n,r),mA(n,t.e),mA(n,t.n),r+" "+Ts.util.encode64(n.bytes())+" "+e};SF.privateKeyToOpenSSH=function(t,e){return e?Ts.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):Ts.pki.privateKeyToPem(t)};SF.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||Ts.md.md5.create(),n="ssh-rsa",o=Ts.util.createBuffer();n5(o,n),mA(o,t.e),mA(o,t.n),r.start(),r.update(o.getBytes());var a=r.digest();if(e.encoding==="hex"){var c=a.toHex();return e.delimiter?c.match(/.{2}/g).join(e.delimiter):c}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};function mA(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=Ts.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}s(mA,"_addBigIntegerToBuffer");function n5(t,e){t.putInt32(e.length),t.putString(e)}s(n5,"_addStringToBuffer");function wF(){for(var t=Ts.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}s(wF,"_sha1")});var G4e=q((rKr,q4e)=>{f();q4e.exports=tn();A1();c4e();Df();XP();vS();_4e();Wb();R4e();Q4e();F4e();AX();lF();DE();aX();mX();O4e();yX();lX();ZJ();mF();Au();rX();H4e();bX();ri()});var Y4e=q(UE=>{"use strict";f();Object.defineProperty(UE,"__esModule",{value:!0});UE.convert=UE.Format=void 0;var QS=G4e(),x1;(function(t){t.der="der",t.pem="pem",t.txt="txt",t.asn1="asn1",t.x509="x509",t.fingerprint="fingerprint"})(x1=UE.Format||(UE.Format={}));function V4e(t){var e=QS.pki.pemToDer(t),r=QS.asn1,n=r.fromDer(e.data.toString("binary")).value[0].value,o=n[0],a=o.tagClass===r.Class.CONTEXT_SPECIFIC&&o.type===0&&o.constructed,c=n.slice(a);return{serial:c[0],issuer:c[2],valid:c[3],subject:c[4]}}s(V4e,"myASN");function Bpt(t){var e=V4e(t),r=e.subject.value.map(function(o){return o.value[0].value[1].value}).join("/"),n=e.valid.value.map(function(o){return o.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(t)].join(`
`)}s(Bpt,"txtFormat");function W4e(t,e){switch(e){case x1.der:return QS.pki.pemToDer(t);case x1.pem:return t;case x1.txt:return Bpt(t);case x1.asn1:return V4e(t);case x1.fingerprint:var r=QS.md.sha1.create(),n=W4e(t,x1.der);return r.update(n.getBytes()),r.digest().toHex();case x1.x509:return QS.pki.certificateFromPem(t);default:throw new Error("unknown format ".concat(e))}}s(W4e,"convert");UE.convert=W4e});var X4e=q(Ic=>{"use strict";f();var v1=Ic&&Ic.__assign||function(){return v1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},v1.apply(this,arguments)},BF=Ic&&Ic.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,a;n<o;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.convert=Ic.Format=Ic.addToGlobalAgent=Ic.get=void 0;var qX=require("https"),Rpt=require("tls"),$4e=require("child_process"),z4e=wTe(),rp=Y4e();Object.defineProperty(Ic,"Format",{enumerable:!0,get:s(function(){return rp.Format},"get")});Object.defineProperty(Ic,"convert",{enumerable:!0,get:s(function(){return rp.convert},"get")});var j4e=process.platform==="darwin",K4e=qX.globalAgent,kF={keychain:"all",unique:!0,excludeBundled:!0,format:rp.Format.pem};function J4e(t){if(t===void 0&&(t=kF),!j4e)return[];t=v1(v1({},kF),t);var e=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(t.keychain==="all"||t.keychain==="SystemRootCertificates"){var o="/System/Library/Keychains/SystemRootCertificates.keychain",a=(0,$4e.spawnSync)("/usr/bin/security",r.concat(o)).stdout.toString().split(e).map(function(d){return d.trim()});n=BF(BF([],n,!0),a,!0)}if(t.keychain==="all"||t.keychain==="current"){var c=(0,$4e.spawnSync)("/usr/bin/security",r).stdout.toString().split(e).map(function(d){return d.trim()});n=BF(BF([],n,!0),c,!0)}if(t.unique||t.excludeBundled){var l=n.map(function(d){return(0,rp.convert)(d,rp.Format.fingerprint)}),u=t.excludeBundled?Rpt.rootCertificates.map(function(d){return(0,rp.convert)(d,rp.Format.fingerprint)}):[];n=n.filter(function(d,A){var h=l[A];return!(t.unique&&A!==l.indexOf(h)||t.excludeBundled&&u.includes(h))})}return n.map(function(d){return(0,rp.convert)(d,t.format)})}s(J4e,"get");Ic.get=J4e;var RF=K4e.options.ca,kpt=s(function(t){if(t===void 0&&(t=kF),!!j4e){var e;Array.isArray(RF)?e=Array.from(RF):e=typeof RF<"u"?[RF]:[],J4e(v1(v1(v1({},kF),t),{format:rp.Format.pem,excludeBundled:!1})).forEach(function(r){return e.push(r)}),K4e.options.ca=e,qX.Agent=function(r){var n=s(function(o){var a=typeof o<"u"?v1({},o):{};return typeof a.ca>"u"&&(a.ca=e),r.call(this,a)},"newAgent");return n.prototype=r.prototype,n}(qX.Agent),(0,z4e.setGlobalDispatcher)(new z4e.Agent({connect:{ca:e}}))}},"addToGlobalAgent");Ic.addToGlobalAgent=kpt});var Z4e=q((uKr,GX)=>{f();function Dpt(){let{X509Certificate:t}=require("crypto"),{join:e}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=process.arch==="arm64"?"crypt32-arm64.node":"crypt32.node",o=r(e(__dirname,n)),a=[],c=new o.Crypt32;try{let l;for(;l=c.next();){let u=new t(l);a.push(u.toString())}}finally{c.done()}return Array.from(new Set(a))}s(Dpt,"all");process.platform!=="win32"?GX.exports.all=()=>[]:GX.exports.all=Dpt});var lwe=q((gKr,cwe)=>{f();var XX=require("fs"),NF=require("path"),PS=NF.join,Qpt=NF.dirname,swe=XX.accessSync&&function(t){try{XX.accessSync(t)}catch{return!1}return!0}||XX.existsSync||NF.existsSync,awe={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function Ppt(t){typeof t=="string"?t={bindings:t}:t||(t={}),Object.keys(awe).map(function(u){u in t||(t[u]=awe[u])}),t.module_root||(t.module_root=Fpt(__filename)),NF.extname(t.bindings)!=".node"&&(t.bindings+=".node");for(var e=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,o=t.try.length,a,c,l;n<o;n++){a=PS.apply(null,t.try[n].map(function(u){return t[u]||u})),r.push(a);try{return c=t.path?e.resolve(a):e(a),t.path||(c.path=a),c}catch(u){if(u.code!=="MODULE_NOT_FOUND"&&u.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(u.message))throw u}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(u){return t.arrow+u}).join(`
`)),l.tries=r,l}s(Ppt,"bindings");cwe.exports=Ppt;function Fpt(t){for(var e=Qpt(t),r;;){if(e==="."&&(e=process.cwd()),swe(PS(e,"dist")))return PS(e,"dist");if(swe(PS(e,"compiled")))return e;if(r===e)throw new Error('Could not find module root given file: "'+t+'". Do you have a `dist` or `compiled` directory? ');r=e,e=PS(e,"..")}}s(Fpt,"getRoot")});var dwe=q((EKr,fwe)=>{"use strict";f();function uwe(t,e,r){let n=e[r];if(t==null&&n.required===!1)return;if(t==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let o=typeof t;if(n.type&&o!==n.type){if(n.required===!1&&e.slice(r).some(a=>a.type===o))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof t}\``)}return!0}s(uwe,"validateParameter");function Lpt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}s(Lpt,"hasOwnProperty");function Mpt(t,e){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let a=0,c=0;a<e.length;++a,++c){let l=e[a],u=r[c];Lpt(l,"default")&&u==null&&(u=l.default),l.type==="object"&&l.default!=null&&(u=Object.assign({},l.default,u)),l.name==="options"&&(typeof u=="function"||u==null)&&(u={}),uwe(u,e,a)?n.push(u):c--}if(typeof arguments[arguments.length-1]!="function")return new Promise((a,c)=>{n.push((l,u)=>{if(l)return c(l);a(u)}),t.apply(this,n)});t.apply(this,n)}}s(Mpt,"defineOperation");fwe.exports={defineOperation:Mpt,validateParameter:uwe}});var ZX=q((vKr,pwe)=>{"use strict";f();var s5=lwe()("kerberos"),o5=s5.KerberosClient,Awe=s5.KerberosServer,b1=dwe().defineOperation,Opt=1,Upt=2,Hpt=4,qpt=8,Gpt=16,Vpt=32,Wpt=64,Ypt=128,$pt=256,hwe=0,zpt=9,jpt=6;o5.prototype.step=b1(o5.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);o5.prototype.wrap=b1(o5.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);o5.prototype.unwrap=b1(o5.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);Awe.prototype.step=b1(Awe.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var Kpt=b1(s5.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),Jpt=b1(s5.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Xpt=b1(s5.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:hwe}},{name:"callback",type:"function",required:!1}]),Zpt=b1(s5.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);pwe.exports={initializeClient:Xpt,initializeServer:Zpt,principalDetails:Jpt,checkPassword:Kpt,GSS_C_DELEG_FLAG:Opt,GSS_C_MUTUAL_FLAG:Upt,GSS_C_REPLAY_FLAG:Hpt,GSS_C_SEQUENCE_FLAG:qpt,GSS_C_CONF_FLAG:Gpt,GSS_C_INTEG_FLAG:Vpt,GSS_C_ANON_FLAG:Wpt,GSS_C_PROT_READY_FLAG:Ypt,GSS_C_TRANS_FLAG:$pt,GSS_C_NO_OID:hwe,GSS_MECH_OID_KRB5:zpt,GSS_MECH_OID_SPNEGO:jpt}});var mwe=q((TKr,emt)=>{emt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var ywe=q((_Kr,gwe)=>{"use strict";f();var tmt=require("dns"),rmt=ZX(),eZ=class{static{s(this,"MongoAuthProcess")}constructor(e,r,n,o){o=o||{},this.host=e,this.port=r,this.serviceName=n||o.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof o.gssapiCanonicalizeHostName=="boolean"?o.gssapiCanonicalizeHostName:!1,this._transition=nmt(this),this.retries=10}init(e,r,n){let o=this;this.username=e,this.password=r;function a(c,l,u){if(!c)return u();tmt.resolveCname(l,(d,A)=>{if(d)return u(d);Array.isArray(A)&&A.length>0&&(o.host=A[0]),u()})}s(a,"performGssapiCanonicalizeHostName"),a(this.canonicalizeHostName,this.host,c=>{if(c)return n(c);let l={};r!=null&&Object.assign(l,{user:e,password:r});let u=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;rmt.initializeClient(u,l,(d,A)=>{if(d)return n(d,null);o.client=A,n(null,A)})})}transition(e,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(e,r)}};function nmt(t){return(e,r)=>{t.client.step("",(n,o)=>{if(n)return r(n);t._transition=imt(t),r(null,o)})}}s(nmt,"firstTransition");function imt(t){return(e,r)=>{t.client.step(e,(n,o)=>{if(n&&t.retries===0)return r(n);if(n)return t.retries=t.retries-1,t.transition(e,r);t._transition=omt(t),r(null,o||"")})}}s(imt,"secondTransition");function omt(t){return(e,r)=>{t.client.unwrap(e,(n,o)=>{if(n)return r(n,!1);t.client.wrap(o,{user:t.username},(a,c)=>{if(a)return r(a,!1);t._transition=smt(t),r(null,c)})})}}s(omt,"thirdTransition");function smt(t){return(e,r)=>{t._transition=null,r(null,!0)}}s(smt,"fourthTransition");gwe.exports={MongoAuthProcess:eZ}});var Ewe=q((BKr,FS)=>{"use strict";f();var Cwe=ZX();FS.exports=Cwe;FS.exports.Kerberos=Cwe;FS.exports.version=mwe().version;FS.exports.processes={MongoAuthProcess:ywe().MongoAuthProcess}});var fZ=q((RJr,Uwe)=>{f();var LS=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Tmt=typeof AbortController=="function",MF=Tmt?AbortController:class{static{s(this,"AbortController")}constructor(){this.signal=new Lwe}abort(){this.signal.dispatchEvent("abort")}},_mt=typeof AbortSignal=="function",wmt=typeof MF.AbortSignal=="function",Lwe=_mt?AbortSignal:wmt?MF.AbortController:class{static{s(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if(e==="abort"){this.aborted=!0;let r={type:e,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},lZ=new Set,sZ=s((t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;OF(r)&&uZ(r,`${t} option`,`options.${e}`,l5)},"deprecatedOption"),aZ=s((t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(OF(r)){let{prototype:n}=l5,{get:o}=Object.getOwnPropertyDescriptor(n,t);uZ(r,`${t} method`,`cache.${e}()`,o)}},"deprecatedMethod"),Smt=s((t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(OF(r)){let{prototype:n}=l5,{get:o}=Object.getOwnPropertyDescriptor(n,t);uZ(r,`${t} property`,`cache.${e}`,o)}},"deprecatedProperty"),Mwe=s((...t)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...t):console.error(...t)},"emitWarning"),OF=s(t=>!lZ.has(t),"shouldWarn"),uZ=s((t,e,r,n)=>{lZ.add(t);let o=`The ${e} is deprecated. Please use ${r} instead.`;Mwe(o,"DeprecationWarning",t,n)},"warn"),GE=s(t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),"isPosInt"),Owe=s(t=>GE(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?c5:null:null,"getUintArray"),c5=class extends Array{static{s(this,"ZeroArray")}constructor(e){super(e),this.fill(0)}},cZ=class{static{s(this,"Stack")}constructor(e){if(e===0)return[];let r=Owe(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},l5=class t{static{s(this,"LRUCache")}constructor(e={}){let{max:r=0,ttl:n,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:c,updateAgeOnHas:l,allowStale:u,dispose:d,disposeAfter:A,noDisposeOnSet:h,noUpdateTTL:p,maxSize:y=0,sizeCalculation:E,fetchMethod:v,fetchContext:w,noDeleteOnFetchRejection:_,noDeleteOnStaleGet:S}=e,{length:D,maxAge:N,stale:P}=e instanceof t?{}:e;if(r!==0&&!GE(r))throw new TypeError("max option must be a nonnegative integer");let O=r?Owe(r):Array;if(!O)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=y,this.sizeCalculation=E||D,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=v||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=w,!this.fetchMethod&&w!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new O(r),this.prev=new O(r),this.head=0,this.tail=0,this.free=new cZ(r),this.initialFill=1,this.size=0,typeof d=="function"&&(this.dispose=d),typeof A=="function"?(this.disposeAfter=A,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!_,this.maxSize!==0){if(!GE(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!u||!!P,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!c,this.updateAgeOnHas=!!l,this.ttlResolution=GE(o)||o===0?o:1,this.ttlAutopurge=!!a,this.ttl=n||N||0,this.ttl){if(!GE(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let $="LRU_CACHE_UNBOUNDED";OF($)&&(lZ.add($),Mwe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",$,t))}P&&sZ("stale","allowStale"),N&&sZ("maxAge","ttl"),D&&sZ("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new c5(this.max),this.starts=new c5(this.max),this.setItemTTL=(n,o,a=LS.now())=>{if(this.starts[n]=o!==0?a:0,this.ttls[n]=o,o!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},o+1);c.unref&&c.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?LS.now():0};let e=0,r=s(()=>{let n=LS.now();if(this.ttlResolution>0){e=n;let o=setTimeout(()=>e=0,this.ttlResolution);o.unref&&o.unref()}return n},"getNow");this.getRemainingTTL=n=>{let o=this.keyMap.get(n);return o===void 0?0:this.ttls[o]===0||this.starts[o]===0?1/0:this.starts[o]+this.ttls[o]-(e||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(e||r())-this.starts[n]>this.ttls[n]}updateItemAge(e){}setItemTTL(e,r,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new c5(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,r,n,o)=>{if(!GE(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(r,e),!GE(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(e,r)=>{this.sizes[e]=r;let n=this.maxSize-this.sizes[e];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,r){}requireSize(e,r,n,o){if(n||o)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.indexes())if(e(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(e,r=this){for(let n of this.indexes())e.call(r,this.valList[n],this.keyList[n],this)}rforEach(e,r=this){for(let n of this.rindexes())e.call(r,this.valList[n],this.keyList[n],this)}get prune(){return aZ("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],o=this.valList[r],c={value:this.isBackgroundFetch(o)?o.__staleWhileFetching:o};if(this.ttls){c.ttl=this.ttls[r];let l=LS.now()-this.starts[r];c.start=Math.floor(Date.now()-l)}this.sizes&&(c.size=this.sizes[r]),e.unshift([n,c])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let o=Date.now()-n.start;n.start=LS.now()-o}this.set(r,n.value,n)}}dispose(e,r,n){}set(e,r,{ttl:n=this.ttl,start:o,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL}={}){if(c=this.requireSize(e,r,c,l),this.maxSize&&c>this.maxSize)return this;let d=this.size===0?void 0:this.keyMap.get(e);if(d===void 0)d=this.newIndex(),this.keyList[d]=e,this.valList[d]=r,this.keyMap.set(e,d),this.next[this.tail]=d,this.prev[d]=this.tail,this.tail=d,this.size++,this.addItemSize(d,c),u=!1;else{let A=this.valList[d];r!==A&&(this.isBackgroundFetch(A)?A.__abortController.abort():a||(this.dispose(A,e,"set"),this.disposeAfter&&this.disposed.push([A,e,"set"])),this.removeItemSize(d),this.valList[d]=r,this.addItemSize(d,c)),this.moveToTail(d)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),u||this.setItemTTL(d,n,o),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,n=this.keyList[r],o=this.valList[r];return this.isBackgroundFetch(o)?o.__abortController.abort():(this.dispose(o,n,"evict"),this.disposeAfter&&this.disposed.push([o,n,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(e);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(e,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(e);if(n!==void 0&&(r||!this.isStale(n))){let o=this.valList[n];return this.isBackgroundFetch(o)?o.__staleWhileFetching:o}}backgroundFetch(e,r,n,o){let a=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(a))return a;let c=new MF,l={signal:c.signal,options:n,context:o},u=s(p=>(c.signal.aborted||this.set(e,p,l.options),p),"cb"),d=s(p=>{if(this.valList[r]===h&&(!n.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(e):this.valList[r]=h.__staleWhileFetching),h.__returned===h)throw p},"eb"),A=s(p=>p(this.fetchMethod(e,a,l)),"pcall"),h=new Promise(A).then(u,d);return h.__abortController=c,h.__staleWhileFetching=a,h.__returned=null,r===void 0?(this.set(e,h,l.options),r=this.keyMap.get(e)):this.valList[r]=h,h}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:A=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext,forceRefresh:p=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:o});let y={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:a,noDisposeOnSet:c,size:l,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:A},E=this.keyMap.get(e);if(E===void 0){let v=this.backgroundFetch(e,E,y,h);return v.__returned=v}else{let v=this.valList[E];if(this.isBackgroundFetch(v))return r&&v.__staleWhileFetching!==void 0?v.__staleWhileFetching:v.__returned=v;if(!p&&!this.isStale(E))return this.moveToTail(E),n&&this.updateItemAge(E),v;let w=this.backgroundFetch(e,E,y,h);return r&&w.__staleWhileFetching!==void 0?w.__staleWhileFetching:w.__returned=w}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet}={}){let a=this.keyMap.get(e);if(a!==void 0){let c=this.valList[a],l=this.isBackgroundFetch(c);return this.isStale(a)?l?r?c.__staleWhileFetching:void 0:(o||this.delete(e),r?c:void 0):l?void 0:(this.moveToTail(a),n&&this.updateItemAge(a),c)}}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return aZ("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let n=this.keyMap.get(e);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let o=this.valList[n];this.isBackgroundFetch(o)?o.__abortController.abort():(this.dispose(o,e,"delete"),this.disposeAfter&&this.disposed.push([o,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[e];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return aZ("reset","clear"),this.clear}get length(){return Smt("length","size"),this.size}static get AbortController(){return MF}static get AbortSignal(){return Lwe}};Uwe.exports=l5});var hZ=q((NJr,Hwe)=>{"use strict";f();var MS=class extends Error{static{s(this,"FetchBaseError")}constructor(e,r,n){super(e),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},dZ=class extends MS{static{s(this,"FetchError")}constructor(e,r,n){super(e,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},AZ=class extends MS{static{s(this,"AbortError")}constructor(e,r="aborted"){super(e,r,"AbortError")}};Hwe.exports={FetchBaseError:MS,FetchError:dZ,AbortError:AZ}});var np=q((FJr,Gwe)=>{"use strict";f();var{constants:{MAX_LENGTH:Bmt}}=require("buffer"),{pipeline:UF,PassThrough:Rmt}=require("stream"),{promisify:kmt}=require("util"),{createGunzip:Dmt,createInflate:Nmt,createBrotliDecompress:Qmt,constants:{Z_SYNC_FLUSH:qwe}}=require("zlib"),Pmt=Rd()("helix-fetch:utils"),Fmt=kmt(UF),Lmt=s((t,e)=>t===204||t===304||+e["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(e["content-encoding"]),"canDecode"),Mmt=s((t,e,r,n)=>{if(!Lmt(t,e))return r;let o=s(a=>{a&&(Pmt(`encountered error while decoding stream: ${a}`),n(a))},"cb");switch(e["content-encoding"].trim()){case"gzip":case"x-gzip":return UF(r,Dmt({flush:qwe,finishFlush:qwe}),o);case"deflate":case"x-deflate":return UF(r,Nmt(),o);case"br":return UF(r,Qmt(),o);default:return r}},"decodeStream"),Omt=s(t=>{if(!t||typeof t!="object"||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},"isPlainObject"),HF=s((t,e)=>{if(Buffer.isBuffer(t))return t.length;switch(typeof t){case"string":return t.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(t)?Symbol.keyFor(t).length*2:(t.toString().length-8)*2;case"object":return Array.isArray(t)?Umt(t,e):Hmt(t,e);default:return 0}},"calcSize"),Umt=s((t,e)=>(e.add(t),t.map(r=>e.has(r)?0:HF(r,e)).reduce((r,n)=>r+n,0)),"calcArraySize"),Hmt=s((t,e)=>{if(t==null)return 0;e.add(t);let r=0,n=[];for(let o in t)n.push(o);return n.push(...Object.getOwnPropertySymbols(t)),n.forEach(o=>{if(r+=HF(o,e),typeof t[o]=="object"&&t[o]!==null){if(e.has(t[o]))return;e.add(t[o])}r+=HF(t[o],e)}),r},"calcObjectSize"),qmt=s(t=>HF(t,new WeakSet),"sizeof"),Gmt=s(async t=>{let e=new Rmt,r=0,n=[];return e.on("data",o=>{if(r+o.length>Bmt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(o),r+=o.length}),await Fmt(t,e),Buffer.concat(n,r)},"streamToBuffer");Gwe.exports={decodeStream:Mmt,isPlainObject:Omt,sizeof:qmt,streamToBuffer:Gmt}});var GF=q((OJr,$we)=>{"use strict";f();var{PassThrough:Vwe,Readable:ip}=require("stream"),{types:{isAnyArrayBuffer:Ywe}}=require("util"),{FetchError:Vmt,FetchBaseError:Wmt}=hZ(),{streamToBuffer:Ymt}=np(),$mt=Buffer.alloc(0),Cu=Symbol("Body internals"),zmt=s(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),Wwe=s(async t=>{if(t[Cu].disturbed)throw new TypeError("Already read");if(t[Cu].error)throw new TypeError(`Stream had error: ${t[Cu].error.message}`);t[Cu].disturbed=!0;let{stream:e}=t[Cu];return e===null?$mt:Ymt(e)},"consume"),qF=class{static{s(this,"Body")}constructor(e){let r;e==null?r=null:e instanceof URLSearchParams?r=ip.from(e.toString()):e instanceof ip?r=e:Buffer.isBuffer(e)?r=ip.from(e):Ywe(e)?r=ip.from(Buffer.from(e)):typeof e=="string"||e instanceof String?r=ip.from(e):r=ip.from(String(e)),this[Cu]={stream:r,disturbed:!1,error:null},e instanceof ip&&r.on("error",n=>{let o=n instanceof Wmt?n:new Vmt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Cu].error=o})}get body(){return this[Cu].stream}get bodyUsed(){return this[Cu].disturbed}async buffer(){return Wwe(this)}async arrayBuffer(){return zmt(await this.buffer())}async text(){return(await Wwe(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(qF.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var jmt=s(t=>{if(t[Cu].disturbed)throw new TypeError("Cannot clone: already read");let{stream:e}=t[Cu],r=e;if(e instanceof ip){r=new Vwe;let n=new Vwe;e.pipe(r),e.pipe(n),t[Cu].stream=n}return r},"cloneStream"),Kmt=s(t=>t===null?null:typeof t=="string"?"text/plain; charset=utf-8":t instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(t)||Ywe(t)||t instanceof ip?null:"text/plain; charset=utf-8","guessContentType");$we.exports={Body:qF,cloneStream:jmt,guessContentType:Kmt}});var u5=q((qJr,Jwe)=>{"use strict";f();var{validateHeaderName:zwe,validateHeaderValue:jwe}=require("http"),{isPlainObject:Jmt}=np(),op=Symbol("Headers internals"),OS=s(t=>{let e=typeof t!="string"?String(t):t;if(typeof zwe=="function")zwe(e);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let r=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return e.toLowerCase()},"normalizeName"),Kwe=s((t,e)=>{let r=typeof t!="string"?String(t):t;if(typeof jwe=="function")jwe(e,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),VF=class t{static{s(this,"Headers")}constructor(e={}){if(this[op]={map:new Map},e instanceof t)e.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(e))e.forEach(([r,n])=>{this.append(r,n)});else if(Jmt(e))for(let[r,n]of Object.entries(e))this.append(r,n)}set(e,r){this[op].map.set(OS(e),Kwe(r,e))}has(e){return this[op].map.has(OS(e))}get(e){let r=this[op].map.get(OS(e));return r===void 0?null:r}append(e,r){let n=OS(e),o=Kwe(r,e),a=this[op].map.get(n);this[op].map.set(n,a?`${a}, ${o}`:o)}delete(e){this[op].map.delete(OS(e))}forEach(e,r){for(let n of this.keys())e.call(r,this.get(n),n)}keys(){return Array.from(this[op].map.keys()).sort()}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[op].map)}};Object.defineProperties(VF.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));Jwe.exports={Headers:VF}});var pZ=q((WJr,Xwe)=>{"use strict";f();var{EventEmitter:Xmt}=require("events"),Qf=Symbol("AbortSignal internals"),f5=class{static{s(this,"AbortSignal")}constructor(){this[Qf]={eventEmitter:new Xmt,onabort:null,aborted:!1}}get aborted(){return this[Qf].aborted}get onabort(){return this[Qf].onabort}set onabort(e){this[Qf].onabort=e}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(e,r){this[Qf].eventEmitter.removeListener(e,r)}addEventListener(e,r){this[Qf].eventEmitter.on(e,r)}dispatchEvent(e){let r={type:e,target:this},n=`on${e}`;typeof this[Qf][n]=="function"&&this[n](r),this[Qf].eventEmitter.emit(e,r)}fire(){this[Qf].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(f5.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var YF=class extends f5{static{s(this,"TimeoutSignal")}constructor(e){if(!Number.isInteger(e))throw new TypeError(`Expected an integer, got ${typeof e}`);super(),this[Qf].timerId=setTimeout(()=>{this.fire()},e)}clear(){clearTimeout(this[Qf].timerId)}};Object.defineProperties(YF.prototype,{clear:{enumerable:!0}});var WF=Symbol("AbortController internals"),$F=class{static{s(this,"AbortController")}constructor(){this[WF]={signal:new f5}}get signal(){return this[WF].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[WF].signal.aborted||this[WF].signal.fire()}};Object.defineProperties($F.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});Xwe.exports={AbortController:$F,AbortSignal:f5,TimeoutSignal:YF}});var US=q((zJr,t3e)=>{"use strict";f();var{randomBytes:Zmt}=require("crypto"),{Readable:egt}=require("stream"),gZ=s(t=>typeof t=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&typeof t.type=="string"&&typeof t.size=="number"&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),"isBlob"),tgt=s(t=>t!=null&&typeof t=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&t[Symbol.toStringTag]==="FormData","isFormData"),Zwe=s(t=>`--${t}--\r
\r
`,"getFooter"),e3e=s((t,e,r)=>{let n="";return n+=`--${t}\r
`,n+=`Content-Disposition: form-data; name="${e}"`,gZ(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*rgt(t,e){for(let[r,n]of t)yield e3e(e,r,n),gZ(n)?yield*n.stream():yield n,yield`\r
`;yield Zwe(e)}s(rgt,"formDataIterator");var ngt=s((t,e)=>{let r=0;for(let[n,o]of t)r+=Buffer.byteLength(e3e(e,n,o)),r+=gZ(o)?o.size:Buffer.byteLength(String(o)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(Zwe(e)),r},"getFormDataLength"),mZ=class{static{s(this,"FormDataSerializer")}constructor(e){this.fd=e,this.boundary=Zmt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=ngt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return egt.from(rgt(this.fd,this.boundary))}};t3e.exports={isFormData:tgt,FormDataSerializer:mZ}});var n3e=q((XJr,r3e)=>{"use strict";f();var{AbortSignal:JJr}=pZ(),{Body:igt,cloneStream:ogt,guessContentType:sgt}=GF(),{Headers:agt}=u5(),{isPlainObject:cgt}=np(),{isFormData:lgt,FormDataSerializer:ugt}=US(),fgt=20,_1=Symbol("Request internals"),zF=class t extends igt{static{s(this,"Request")}constructor(e,r={}){let n=e instanceof t?e:null,o=n?new URL(n.url):new URL(e),a=r.method||n&&n.method||"GET";if(a=a.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(a))throw new TypeError("Request with GET/HEAD method cannot have body");let c=r.body||(n&&n.body?ogt(n):null),l=new agt(r.headers||n&&n.headers||{});if(lgt(c)&&!l.has("content-type")){let h=new ugt(c);c=h.stream(),l.set("content-type",h.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",h.length())}if(!l.has("content-type"))if(cgt(c))c=JSON.stringify(c),l.set("content-type","application/json");else{let h=sgt(c);h&&l.set("content-type",h)}super(c);let u=n?n.signal:null;"signal"in r&&(u=r.signal);let d=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(d))throw new TypeError(`'${d}' is not a valid redirect option`);let A=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(A))throw new TypeError(`'${A}' is not a valid cache option`);this[_1]={init:{...r},method:a,redirect:d,cache:A,headers:l,parsedURL:o,signal:u},r.follow===void 0?!n||n.follow===void 0?this.follow=fgt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[_1].method}get url(){return this[_1].parsedURL.toString()}get headers(){return this[_1].headers}get redirect(){return this[_1].redirect}get cache(){return this[_1].cache}get signal(){return this[_1].signal}clone(){return new t(this)}get init(){return this[_1].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(zF.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});r3e.exports={Request:zF}});var yZ=q((tXr,i3e)=>{"use strict";f();var{Body:dgt,cloneStream:Agt,guessContentType:hgt}=GF(),{Headers:pgt}=u5(),{isPlainObject:mgt}=np(),{isFormData:ggt,FormDataSerializer:ygt}=US(),Pf=Symbol("Response internals"),jF=class t extends dgt{static{s(this,"Response")}constructor(e=null,r={}){let n=new pgt(r.headers),o=e;if(ggt(o)&&!n.has("content-type")){let a=new ygt(o);o=a.stream(),n.set("content-type",a.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",a.length())}if(o!==null&&!n.has("content-type"))if(mgt(o))o=JSON.stringify(o),n.set("content-type","application/json");else{let a=hgt(o);a&&n.set("content-type",a)}super(o),this[Pf]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Pf].url||""}get status(){return this[Pf].status}get statusText(){return this[Pf].statusText}get ok(){return this[Pf].status>=200&&this[Pf].status<300}get redirected(){return this[Pf].counter>0}get headers(){return this[Pf].headers}get httpVersion(){return this[Pf].httpVersion}get decoded(){return this[Pf].decoded}static redirect(e,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new t(null,{headers:{location:new URL(e).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new t(Agt(this),{...this[Pf]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(jF.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});i3e.exports={Response:jF}});var s3e=q((oXr,o3e)=>{"use strict";f();var Cgt=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),Egt=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Igt=new Set([500,502,503,504]),xgt={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},vgt={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function VE(t){let e=parseInt(t,10);return isFinite(e)?e:0}s(VE,"toNumberOrZero");function bgt(t){return t?Igt.has(t.status):!0}s(bgt,"isErrorResponse");function CZ(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[o,a]=n.split(/=/,2);e[o.trim()]=a===void 0?!0:a.trim().replace(/^"|"$/g,"")}return e}s(CZ,"parseCacheControl");function Tgt(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}s(Tgt,"formatCacheControl");o3e.exports=class{static{s(this,"CachePolicy")}constructor(e,r,{shared:n,cacheHeuristic:o,immutableMinTimeToLive:a,ignoreCargoCult:c,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=o!==void 0?o:.1,this._immutableMinTtl=a!==void 0?a:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=CZ(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=CZ(e.headers["cache-control"]),c&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Tgt(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Egt.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Cgt.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=CZ(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)xgt[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let o of n)delete r[o]}if(r.warning){let n=r.warning.split(/,/).filter(o=>!/^\s*1[0-9][0-9]/.test(o));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return VE(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return VE(this._rescc["s-maxage"])}if(this._rescc["max-age"])return VE(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+VE(this._rescc["stale-if-error"]),n=e+VE(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+VE(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+VE(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let o=r["if-none-match"].split(/,/).filter(a=>!/^\s*W\//.test(a));o.length?r["if-none-match"]=o.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&bgt(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let o={};for(let c in this._resHeaders)o[c]=c in r.headers&&!vgt[c]?r.headers[c]:this._resHeaders[c];let a=Object.assign({},r,{status:this._status,method:this._method,headers:o});return{policy:new this.constructor(e,a,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var u3e=q((cXr,l3e)=>{"use strict";f();var _gt=s3e(),{Headers:wgt}=u5(),a3e=s(t=>({url:t.url,method:t.method,headers:t.headers.plain()}),"convertRequest"),c3e=s(t=>({status:t.status,headers:t.headers.plain()}),"convertResponse"),EZ=class{static{s(this,"CachePolicyWrapper")}constructor(e,r,n){this.policy=new _gt(a3e(e),c3e(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(e){return this.policy.satisfiesWithoutRevalidation(a3e(e))}responseHeaders(e){return new wgt(this.policy.responseHeaders(c3e(e)))}timeToLive(){return this.policy.timeToLive()}};l3e.exports=EZ});var A3e=q((fXr,d3e)=>{"use strict";f();var{Readable:Sgt}=require("stream"),{Headers:f3e}=u5(),{Response:Bgt}=yZ(),w1=Symbol("CacheableResponse internals"),Rgt=s(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),IZ=class t extends Bgt{static{s(this,"CacheableResponse")}constructor(e,r){super(e,r);let n=new f3e(r.headers);this[w1]={headers:n,bufferedBody:e}}get headers(){return this[w1].headers}set headers(e){if(e instanceof f3e)this[w1].headers=e;else throw new TypeError("instance of Headers expected")}get body(){return Sgt.from(this[w1].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[w1].bufferedBody}async arrayBuffer(){return Rgt(this[w1].bufferedBody)}async text(){return this[w1].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:e,status:r,statusText:n,headers:o,httpVersion:a,decoded:c,counter:l}=this;return new t(this[w1].bufferedBody,{url:e,status:r,statusText:n,headers:o,httpVersion:a,decoded:c,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},kgt=s(async t=>{let e=await t.buffer(),{url:r,status:n,statusText:o,headers:a,httpVersion:c,decoded:l,counter:u}=t;return new IZ(e,{url:r,status:n,statusText:o,headers:a,httpVersion:c,decoded:l,counter:u})},"cacheableResponse");d3e.exports={cacheableResponse:kgt}});var KF=q((hXr,h3e)=>{"use strict";f();var xZ=class extends Error{static{s(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};h3e.exports={RequestAbortedError:xZ}});var C3e=q((gXr,y3e)=>{"use strict";f();var m3e=require("http"),g3e=require("https"),{Readable:Dgt}=require("stream"),sp=Rd()("helix-fetch:h1"),{RequestAbortedError:p3e}=KF(),{decodeStream:Ngt}=np(),Qgt=s((t,e)=>{let{h1:r,options:{h1:n,rejectUnauthorized:o}}=t;return e==="https:"?r.httpsAgent?r.httpsAgent:n||typeof o=="boolean"?(r.httpsAgent=new g3e.Agent(typeof o=="boolean"?{...n||{},rejectUnauthorized:o}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new m3e.Agent(n),r.httpAgent):void 0},"getAgent"),Pgt=s(t=>{t.h1={}},"setupContext"),Fgt=s(async({h1:t})=>{t.httpAgent&&(sp("resetContext: destroying httpAgent"),t.httpAgent.destroy(),delete t.httpAgent),t.httpsAgent&&(sp("resetContext: destroying httpsAgent"),t.httpsAgent.destroy(),delete t.httpsAgent)},"resetContext"),Lgt=s((t,e,r)=>{let{statusCode:n,statusMessage:o,httpVersion:a,httpVersionMajor:c,httpVersionMinor:l,headers:u}=t,d=e?Ngt(n,u,t,r):t;return{statusCode:n,statusText:o,httpVersion:a,httpVersionMajor:c,httpVersionMinor:l,headers:u,readable:d,decoded:!!(e&&d!==t)}},"createResponse"),Mgt=s(async(t,e,r)=>{let{request:n}=e.protocol==="https:"?g3e:m3e,o=Qgt(t,e.protocol),a={...r,agent:o},{socket:c,body:l}=a;return c&&(delete a.socket,c.assigned||(c.assigned=!0,o?a.agent=new Proxy(o,{get:s((u,d)=>d==="createConnection"&&!c.inUse?(A,h)=>{sp(`agent reusing socket #${c.id} (${c.servername})`),c.inUse=!0,h(null,c)}:u[d],"get")}):a.createConnection=(u,d)=>{sp(`reusing socket #${c.id} (${c.servername})`),c.inUse=!0,d(null,c)})),new Promise((u,d)=>{sp(`${a.method} ${e.href}`);let A,{signal:h}=a,p=s(()=>{h.removeEventListener("abort",p),c&&!c.inUse&&(sp(`discarding redundant socket used for ALPN: #${c.id} ${c.servername}`),c.destroy()),d(new p3e),A&&A.abort()},"onAbortSignal");if(h){if(h.aborted){d(new p3e);return}h.addEventListener("abort",p)}A=n(e,a),A.once("response",y=>{h&&h.removeEventListener("abort",p),c&&!c.inUse&&(sp(`discarding redundant socket used for ALPN: #${c.id} ${c.servername}`),c.destroy()),u(Lgt(y,a.decode,d))}),A.once("error",y=>{h&&h.removeEventListener("abort",p),c&&!c.inUse&&(sp(`discarding redundant socket used for ALPN: #${c.id} ${c.servername}`),c.destroy()),A.aborted||(sp(`${a.method} ${e.href} failed with: ${y.message}`),A.abort(),d(y))}),l instanceof Dgt?l.pipe(A):(l&&A.write(l),A.end())})},"h1Request");y3e.exports={request:Mgt,setupContext:Pgt,resetContext:Fgt}});var v3e=q((EXr,x3e)=>{"use strict";f();var{connect:Ogt,constants:Ugt}=require("http2"),{Readable:Hgt}=require("stream"),io=Rd()("helix-fetch:h2"),{RequestAbortedError:E3e}=KF(),{decodeStream:qgt}=np(),{NGHTTP2_CANCEL:HS}=Ugt,Ggt=300*1e3,Vgt=5e3,Wgt=s(t=>{t.h2={sessionCache:{}}},"setupContext"),Ygt=s(async({h2:t})=>Promise.all(Object.values(t.sessionCache).map(e=>new Promise(r=>{e.on("close",r),io(`resetContext: destroying session (socket #${e.socket&&e.socket.id}, ${e.socket&&e.socket.servername})`),e.destroy()}))),"resetContext"),I3e=s((t,e,r,n=()=>{})=>{let o={...t},a=o[":status"];delete o[":status"];let c=r?qgt(a,t,e,n):e;return{statusCode:a,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:o,readable:c,decoded:!!(r&&c!==e)}},"createResponse"),$gt=s((t,e,r,n,o,a)=>{let{options:{h2:{pushPromiseHandler:c,pushHandler:l,pushedStreamIdleTimeout:u=Vgt}}}=t,d=o[":path"],A=`${e}${d}`;io(`received PUSH_PROMISE: ${A}, stream #${n.id}, headers: ${JSON.stringify(o)}, flags: ${a}`),c&&c(A,o,s(()=>{n.close(HS)},"rejectPush")),n.on("push",(h,p)=>{io(`received push headers for ${e}${d}, stream #${n.id}, headers: ${JSON.stringify(h)}, flags: ${p}`),n.setTimeout(u,()=>{io(`closing pushed stream #${n.id} after ${u} ms of inactivity`),n.close(HS)}),l&&l(A,o,I3e(h,n,r))}),n.on("aborted",()=>{io(`pushed stream #${n.id} aborted`)}),n.on("error",h=>{io(`pushed stream #${n.id} encountered error: ${h}`)}),n.on("frameError",(h,p,y)=>{io(`pushed stream #${n.id} encountered frameError: type: ${h}, code: ${p}, id: ${y}`)})},"handlePush"),zgt=s(async(t,e,r)=>{let{origin:n,pathname:o,search:a,hash:c}=e,l=`${o}${a}${c}`,{options:{h2:u={}},h2:{sessionCache:d}}=t,{idleSessionTimeout:A=Ggt,pushPromiseHandler:h,pushHandler:p}=u,y={...r},{method:E,headers:v,socket:w,body:_,decode:S}=y;return w&&delete y.socket,v.host&&(v[":authority"]=v.host,delete v.host),new Promise((D,N)=>{let P=d[n];if(!P||P.closed||P.destroyed){let Ae=!(t.options.rejectUnauthorized===!1||u.rejectUnauthorized===!1),Y={...u,rejectUnauthorized:Ae};w&&!w.inUse&&(Y.createConnection=()=>(io(`reusing socket #${w.id} (${w.servername})`),w.inUse=!0,w)),P=Ogt(n,{...Y,settings:{enablePush:!!(h||p)}}),P.setMaxListeners(1e3),P.setTimeout(A,()=>{io(`closing session ${n} after ${A} ms of inactivity`),P.close()}),P.once("connect",()=>{io(`session ${n} established`),io(`caching session ${n}`),d[n]=P}),P.on("localSettings",xe=>{io(`session ${n} localSettings: ${JSON.stringify(xe)}`)}),P.on("remoteSettings",xe=>{io(`session ${n} remoteSettings: ${JSON.stringify(xe)}`)}),P.once("close",()=>{io(`session ${n} closed`),d[n]===P&&(io(`discarding cached session ${n}`),delete d[n])}),P.once("error",xe=>{io(`session ${n} encountered error: ${xe}`),d[n]===P&&(io(`discarding cached session ${n}`),delete d[n])}),P.on("frameError",(xe,ce,J)=>{io(`session ${n} encountered frameError: type: ${xe}, code: ${ce}, id: ${J}`)}),P.once("goaway",(xe,ce,J)=>{io(`session ${n} received GOAWAY frame: errorCode: ${xe}, lastStreamID: ${ce}, opaqueData: ${J?J.toString():void 0}`)}),P.on("stream",(xe,ce,J)=>{$gt(t,n,S,xe,ce,J)})}else w&&w.id!==P.socket.id&&!w.inUse&&(io(`discarding redundant socket used for ALPN: #${w.id} ${w.servername}`),w.destroy());io(`${E} ${e.host}${l}`);let O,{signal:$}=y,ne=s(()=>{$.removeEventListener("abort",ne),N(new E3e),O&&O.close(HS)},"onAbortSignal");if($){if($.aborted){N(new E3e);return}$.addEventListener("abort",ne)}let oe=s(Ae=>{io(`session ${n} encountered error during ${y.method} ${e.href}: ${Ae}`),N(Ae)},"onSessionError");P.once("error",oe),O=P.request({":method":E,":path":l,...v}),O.once("response",Ae=>{P.off("error",oe),$&&$.removeEventListener("abort",ne),D(I3e(Ae,O,y.decode,N))}),O.once("error",Ae=>{P.off("error",oe),$&&$.removeEventListener("abort",ne),O.rstCode!==HS&&(io(`${y.method} ${e.href} failed with: ${Ae.message}`),O.close(HS),N(Ae))}),O.once("frameError",(Ae,Y,K)=>{P.off("error",oe),io(`encountered frameError during ${y.method} ${e.href}: type: ${Ae}, code: ${Y}, id: ${K}`)}),O.on("push",(Ae,Y)=>{io(`received 'push' event: headers: ${JSON.stringify(Ae)}, flags: ${Y}`)}),_ instanceof Hgt?_.pipe(O):(_&&O.write(_),O.end())})},"request");x3e.exports={request:zgt,setupContext:Wgt,resetContext:Ygt}});var T3e=q((vXr,b3e)=>{"use strict";f();var{EventEmitter:jgt}=require("events"),Kgt=s(()=>{let t={},e=new jgt;return e.setMaxListeners(0),{acquire:s(r=>new Promise(n=>{if(!t[r]){t[r]=!0,n();return}let o=s(a=>{t[r]||(t[r]=!0,e.removeListener(r,o),n(a))},"tryAcquire");e.on(r,o)}),"acquire"),release:s((r,n)=>{Reflect.deleteProperty(t,r),setImmediate(()=>e.emit(r,n))},"release")}},"lock");b3e.exports=Kgt});var _3e=q((_Xr,Jgt)=>{Jgt.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var k3e=q((wXr,R3e)=>{"use strict";f();var{Readable:Xgt}=require("stream"),Zgt=require("tls"),{types:{isAnyArrayBuffer:e1t}}=require("util"),t1t=fZ(),vZ=Rd()("helix-fetch:core"),{RequestAbortedError:JF}=KF(),bZ=C3e(),XF=v3e(),r1t=T3e(),{isPlainObject:n1t}=np(),{isFormData:i1t,FormDataSerializer:o1t}=US(),{version:s1t}=_3e(),TZ="h2",_Z="h2c",wZ="http/1.0",WE="http/1.1",a1t=100,c1t=3600*1e3,l1t=[TZ,WE,wZ],u1t=`helix-fetch/${s1t}`,f1t={method:"GET",compress:!0,decode:!0},w3e=0,S3e=r1t(),B3e=s((t,e)=>new Promise((r,n)=>{let{signal:o}=e,a,c=s(()=>{o.removeEventListener("abort",c);let d=new JF;n(d),a&&a.destroy(d)},"onAbortSignal");if(o){if(o.aborted){n(new JF);return}o.addEventListener("abort",c)}let l=+t.port||443,u=s(d=>{o&&o.removeEventListener("abort",c),d instanceof JF||(vZ(`connecting to ${t.hostname}:${l} failed with: ${d.message}`),n(d))},"onError");a=Zgt.connect(l,t.hostname,e),a.once("secureConnect",()=>{o&&o.removeEventListener("abort",c),a.off("error",u),w3e+=1,a.id=w3e,a.secureConnecting=!1,vZ(`established TLS connection: #${a.id} (${a.servername})`),r(a)}),a.once("error",u)}),"connectTLS"),d1t=s(async(t,e)=>{let r=await S3e.acquire(t.origin);try{return r||(r=await B3e(t,e)),r}finally{S3e.release(t.origin,r)}},"connect"),A1t=s(async(t,e,r)=>{let n=`${e.protocol}//${e.host}`,o=t.alpnCache.get(n);if(o)return{protocol:o};switch(e.protocol){case"http:":return o=WE,t.alpnCache.set(n,o),{protocol:o};case"http2:":return o=_Z,t.alpnCache.set(n,o),{protocol:o};case"https:":break;default:throw new TypeError(`unsupported protocol: ${e.protocol}`)}let{options:{rejectUnauthorized:a,h1:c={},h2:l={}}}=t,u=!(a===!1||c.rejectUnauthorized===!1||l.rejectUnauthorized===!1),d={servername:e.hostname,ALPNProtocols:t.alpnProtocols,signal:r,rejectUnauthorized:u};t.options.ca&&(d.ca=t.options.ca);let A=await d1t(e,d);return o=A.alpnProtocol,o||(o=WE),t.alpnCache.set(n,o),{protocol:o,socket:A}},"determineProtocol"),h1t=s(t=>{let e={};return Object.keys(t).forEach(r=>{e[r.toLowerCase()]=t[r]}),e},"sanitizeHeaders"),p1t=s(async(t,e,r,n)=>{let o=e.protocol==="https:",a;e.port?a=e.port:o?a=443:a=80;let c={...r,host:e.host,hostname:e.hostname,port:a},l=await t(c);if(o){let d={...c,ALPNProtocols:n};d.socket=l,d.servername=c.host;let A=await B3e(e,d);return{protocol:A.alpnProtocol||WE,socket:A}}return{protocol:l.alpnProtocol||WE,socket:l}},"getProtocolAndSocketFromFactory"),m1t=s(async(t,e,r)=>{let n=new URL(e),o={...f1t,...r||{}};typeof o.method=="string"&&(o.method=o.method.toUpperCase()),o.headers=h1t(o.headers||{}),o.headers.host===void 0&&(o.headers.host=n.host),t.userAgent&&o.headers["user-agent"]===void 0&&(o.headers["user-agent"]=t.userAgent);let a;if(o.body instanceof URLSearchParams)a="application/x-www-form-urlencoded; charset=utf-8",o.body=o.body.toString();else if(i1t(o.body)){let d=new o1t(o.body);a=d.contentType(),o.body=d.stream(),o.headers["transfer-encoding"]===void 0&&o.headers["content-length"]===void 0&&(o.headers["content-length"]=String(d.length()))}else typeof o.body=="string"||o.body instanceof String?a="text/plain; charset=utf-8":n1t(o.body)?(o.body=JSON.stringify(o.body),a="application/json"):e1t(o.body)&&(o.body=Buffer.from(o.body));o.headers["content-type"]===void 0&&a!==void 0&&(o.headers["content-type"]=a),o.body!=null&&(o.body instanceof Xgt||(!(typeof o.body=="string"||o.body instanceof String)&&!Buffer.isBuffer(o.body)&&(o.body=String(o.body)),o.headers["transfer-encoding"]===void 0&&o.headers["content-length"]===void 0&&(o.headers["content-length"]=String(Buffer.isBuffer(o.body)?o.body.length:Buffer.byteLength(o.body,"utf-8"))))),o.headers.accept===void 0&&(o.headers.accept="*/*"),o.body==null&&["POST","PUT"].includes(o.method)&&(o.headers["content-length"]="0"),o.compress&&o.headers["accept-encoding"]===void 0&&(o.headers["accept-encoding"]="gzip,deflate,br");let{signal:c}=o,{protocol:l,socket:u=null}=t.socketFactory?await p1t(t.socketFactory,n,o,t.alpnProtocols):await A1t(t,n,c);switch(vZ(`${n.host} -> ${l}`),l){case TZ:try{return await XF.request(t,n,u?{...o,socket:u}:o)}catch(d){let{code:A,message:h}=d;throw A==="ERR_HTTP2_ERROR"&&h==="Protocol error"&&t.alpnCache.delete(`${n.protocol}//${n.host}`),d}case _Z:return XF.request(t,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),u?{...o,socket:u}:o);case wZ:case WE:return bZ.request(t,n,u?{...o,socket:u}:o);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),g1t=s(async t=>(t.alpnCache.clear(),Promise.all([bZ.resetContext(t),XF.resetContext(t)])),"resetContext"),y1t=s(t=>{let{options:{alpnProtocols:e=l1t,alpnCacheTTL:r=c1t,alpnCacheSize:n=a1t,userAgent:o=u1t,socketFactory:a}}=t;t.alpnProtocols=e,t.alpnCache=new t1t({max:n,ttl:r}),t.userAgent=o,t.socketFactory=a,bZ.setupContext(t),XF.setupContext(t)},"setupContext");R3e.exports={request:m1t,setupContext:y1t,resetContext:g1t,RequestAbortedError:JF,ALPN_HTTP2:TZ,ALPN_HTTP2C:_Z,ALPN_HTTP1_1:WE,ALPN_HTTP1_0:wZ}});var N3e=q((RXr,D3e)=>{"use strict";f();var C1t=Rd()("helix-fetch:core"),{request:E1t,setupContext:I1t,resetContext:x1t,RequestAbortedError:v1t,ALPN_HTTP2:b1t,ALPN_HTTP2C:T1t,ALPN_HTTP1_1:_1t,ALPN_HTTP1_0:w1t}=k3e(),SZ=class t{static{s(this,"RequestContext")}constructor(e){this.options={...e||{}},I1t(this)}api(){return{request:s(async(e,r)=>this.request(e,r),"request"),context:s((e={})=>new t(e).api(),"context"),setCA:s(e=>this.setCA(e),"setCA"),reset:s(async()=>this.reset(),"reset"),RequestAbortedError:v1t,ALPN_HTTP2:b1t,ALPN_HTTP2C:T1t,ALPN_HTTP1_1:_1t,ALPN_HTTP1_0:w1t}}async request(e,r){return E1t(this,e,r)}setCA(e){this.options.ca=e}async reset(){return C1t("resetting context"),x1t(this)}};D3e.exports=new SZ().api()});var M3e=q((NXr,L3e)=>{"use strict";f();var{EventEmitter:S1t}=require("events"),{Readable:qS}=require("stream"),BZ=Rd()("helix-fetch"),B1t=fZ(),{Body:R1t}=GF(),{Headers:NZ}=u5(),{Request:YE}=n3e(),{Response:kZ}=yZ(),{FetchBaseError:k1t,FetchError:GS,AbortError:ZF}=hZ(),{AbortController:D1t,AbortSignal:N1t,TimeoutSignal:Q1t}=pZ(),P1t=u3e(),{cacheableResponse:F1t}=A3e(),{sizeof:L1t}=np(),{isFormData:M1t}=US(),{context:O1t,RequestAbortedError:U1t}=N3e(),Q3e=["GET","HEAD"],H1t=500,q1t=100*1024*1024,RZ="push",P3e=s(async(t,e,r)=>{let{request:n}=t.context,o=e instanceof YE&&typeof r>"u"?e:new YE(e,r),{method:a,body:c,signal:l,compress:u,decode:d,follow:A,redirect:h,init:{body:p}}=o,y;if(l&&l.aborted){let P=new ZF("The operation was aborted.");throw o.init.body instanceof qS&&o.init.body.destroy(P),P}try{y=await n(o.url,{...r,method:a,headers:o.headers.plain(),body:p&&!(p instanceof qS)&&!M1t(p)?p:c,compress:u,decode:d,follow:A,redirect:h,signal:l})}catch(P){throw p instanceof qS&&p.destroy(P),P instanceof TypeError?P:P instanceof U1t?new ZF("The operation was aborted."):new GS(P.message,"system",P)}let E=s(()=>{l.removeEventListener("abort",E);let P=new ZF("The operation was aborted.");o.init.body instanceof qS&&o.init.body.destroy(P),y.readable.emit("error",P)},"abortHandler");l&&l.addEventListener("abort",E);let{statusCode:v,statusText:w,httpVersion:_,headers:S,readable:D,decoded:N}=y;if([301,302,303,307,308].includes(v)){let{location:P}=S,O=P==null?null:new URL(P,o.url);switch(o.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",E),new GS(`uri requested responds with a redirect, redirect mode is set to 'error': ${o.url}`,"no-redirect");case"follow":{if(O===null)break;if(o.counter>=o.follow)throw l&&l.removeEventListener("abort",E),new GS(`maximum redirect reached at: ${o.url}`,"max-redirect");let $={headers:new NZ(o.headers),follow:o.follow,compress:o.compress,decode:o.decode,counter:o.counter+1,method:o.method,body:o.body,signal:o.signal};if(v!==303&&o.body&&o.init.body instanceof qS)throw l&&l.removeEventListener("abort",E),new GS("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(v===303||(v===301||v===302)&&o.method==="POST")&&($.method="GET",$.body=void 0,$.headers.delete("content-length")),l&&l.removeEventListener("abort",E),P3e(t,new YE(O,$))}default:}}return l&&(D.once("end",()=>{l.removeEventListener("abort",E)}),D.once("error",()=>{l.removeEventListener("abort",E)})),new kZ(D,{url:o.url,status:v,statusText:w,headers:S,httpVersion:_,decoded:N,counter:o.counter})},"fetch"),F3e=s(async(t,e,r)=>{if(t.options.maxCacheSize===0||!Q3e.includes(e.method))return r;let n=new P1t(e,r,{shared:!1});if(n.storable()){let o=await F1t(r);return t.cache.set(e.url,{policy:n,response:o},n.timeToLive()),o}else return r},"cacheResponse"),G1t=s(async(t,e,r)=>{let n=new YE(e,r);if(t.options.maxCacheSize!==0&&Q3e.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:c,response:l}=t.cache.get(n.url)||{};if(c&&c.satisfiesWithoutRevalidation(n)){l.headers=new NZ(c.responseHeaders(l));let u=l.clone();return u.fromCache=!0,u}}let a=await P3e(t,n);return n.cache!=="no-store"?F3e(t,n,a):a},"cachingFetch"),V1t=s((t,e={})=>{let r=new URL(t);if(typeof e!="object"||Array.isArray(e))throw new TypeError("qs: object expected");return Object.entries(e).forEach(([n,o])=>{Array.isArray(o)?o.forEach(a=>r.searchParams.append(n,a)):r.searchParams.append(n,o)}),r.href},"createUrl"),W1t=s(t=>new Q1t(t),"timeoutSignal"),DZ=class t{static{s(this,"FetchContext")}constructor(e){this.options={...e};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:q1t,o=H1t;n===0&&(n=1,o=1);let a=s(({response:l},u)=>L1t(l),"sizeCalculation");this.cache=new B1t({max:o,maxSize:n,sizeCalculation:a}),this.eventEmitter=new S1t,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:c}=this.options.h2;c&&(this.options.h2.pushPromiseHandler=(l,u,d)=>{let A={...u};Object.keys(A).filter(h=>h.startsWith(":")).forEach(h=>delete A[h]),this.pushPromiseHandler(l,A,d)},this.options.h2.pushHandler=(l,u,d)=>{let A={...u};Object.keys(A).filter(_=>_.startsWith(":")).forEach(_=>delete A[_]);let{statusCode:h,statusText:p,httpVersion:y,headers:E,readable:v,decoded:w}=d;this.pushHandler(l,A,new kZ(v,{url:l,status:h,statusText:p,headers:E,httpVersion:y,decoded:w}))}),this.context=O1t(this.options)}api(){return{fetch:s(async(e,r)=>this.fetch(e,r),"fetch"),Body:R1t,Headers:NZ,Request:YE,Response:kZ,AbortController:D1t,AbortSignal:N1t,FetchBaseError:k1t,FetchError:GS,AbortError:ZF,context:s((e={})=>new t(e).api(),"context"),setCA:s(e=>this.setCA(e),"setCA"),noCache:s((e={})=>new t({...e,maxCacheSize:0}).api(),"noCache"),h1:s((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:s((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:s((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:s((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:s(async()=>this.context.reset(),"reset"),onPush:s(e=>this.onPush(e),"onPush"),offPush:s(e=>this.offPush(e),"offPush"),createUrl:V1t,timeoutSignal:W1t,clearCache:s(()=>this.clearCache(),"clearCache"),cacheStats:s(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(e,r){return G1t(this,e,r)}setCA(e){this.options.ca=e,this.context.setCA(e)}onPush(e){return this.eventEmitter.on(RZ,e)}offPush(e){return this.eventEmitter.off(RZ,e)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(e,r,n){BZ(`received server push promise: ${e}, headers: ${JSON.stringify(r)}`);let o=new YE(e,{headers:r}),{policy:a}=this.cache.get(e)||{};a&&a.satisfiesWithoutRevalidation(o)&&(BZ(`already cached, reject push promise: ${e}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(e,r,n){BZ(`caching resource pushed by server: ${e}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let o=await F3e(this,new YE(e,{headers:r}),n);this.eventEmitter.emit(RZ,e,o)}};L3e.exports=new DZ().api()});var U3e=q((FXr,O3e)=>{"use strict";f();O3e.exports=M3e()});f();f();f();f();f();var vm=class extends Error{static{s(this,"CopilotAuthError")}constructor(e,r){super(e,{cause:r}),this.name="CopilotAuthError"}};f();f();var FT="github.copilot";f();f();f();f();f();function Mee(t){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>t.includes(r))}s(Mee,"findKnownOrg");function Oee(t){let e=t.organization_list??[];return Mee(e)??""}s(Oee,"getUserKind");f();var TB=(o=>(o[o.DEBUG=4]="DEBUG",o[o.INFO=3]="INFO",o[o.WARN=2]="WARN",o[o.ERROR=1]="ERROR",o))(TB||{}),_y=class{static{s(this,"LogTarget")}},bm=class{static{s(this,"TelemetryLogSender")}},jr=class{constructor(e){this.category=e}static{s(this,"Logger")}log(e,r,...n){e.get(_y).logIt(e,r,this.category,...n)}debug(e,...r){this.log(e,4,...r)}info(e,...r){this.log(e,3,...r)}warn(e,...r){this.log(e,2,...r)}error(e,...r){e.get(bm).sendError(e,this.category,...r),this.log(e,1,...r)}exception(e,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let o=n;n.startsWith(".")&&(o=n.substring(1),n=`${this.category}${n}`),e.get(bm).sendException(e,r,n);let a=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(e,1,`${o}:`,a)}},Qo=new jr("default");f();f();f();var LT=class extends Error{static{s(this,"HttpTimeoutError")}constructor(e,r){super(e,{cause:r}),this.name="HttpTimeoutError"}};function Tm(t){return!t||typeof t!="object"?!1:t instanceof LT||"name"in t&&t.name==="AbortError"||"code"in t&&t.code==="ABORT_ERR"}s(Tm,"isAbortError");var l2=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{s(this,"JsonParseError")}},VA=class extends Error{static{s(this,"FetchResponseError")}constructor(e,r=`HTTP ${e.status} ${e.statusText}`){super(r),this.name="FetchResponseError",this.code=`HTTP${e.status}`}},p8e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function LM(t,e=!0){return t instanceof Error?e&&"cause"in t&&LM(t.cause,!1)?!0:t.name==="EditorFetcherError"||t.name==="FetchError"||t instanceof l2||t instanceof VA||t?.message?.startsWith("net::")||p8e.has(t.code??""):!1}s(LM,"isNetworkError");var _B=class{constructor(e,r,n,o,a){this.status=e;this.statusText=r;this.headers=n;this.getText=o;this.getBody=a;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{s(this,"Response")}async text(){return this.getText()}async json(){let e=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new l2(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(e)}catch(n){if(n instanceof SyntaxError){let o=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(o&&parseInt(o[2],10)==e.length||n.message==="Unexpected end of JSON input"){let a=new TextEncoder().encode(e).length,c=this.headers.get("content-length");throw c===null?new l2(`Response body truncated: actualLength=${a}`,"Truncated"):new l2(`Response body truncated: actualLength=${a}, headerLength=${c}`,"Truncated")}}throw n}}body(){return this.getBody()}};var ps=class{static{s(this,"Fetcher")}getImplementation(){return this}};function MM(t,e,r,n,o,a,c,l,u,d){let A={...l,Authorization:`Bearer ${r}`,...wy(t)};d===void 0&&(A["Openai-Organization"]="github-copilot",A["X-Request-Id"]=o,A["VScode-SessionId"]=t.get(Ys).sessionId,A["VScode-MachineId"]=t.get(Ys).machineId,A["X-GitHub-Api-Version"]=wB),n&&(A["OpenAI-Intent"]=n);let h={method:"POST",headers:A,json:a,timeout:u},p=t.get(ps);if(c){let E=new AbortController;c.onCancellationRequested(()=>{ir(t,"networking.cancelRequest",nn.createAndMarkAsIssued({headerRequestId:o})),E.abort()}),h.signal=E.signal}return p.fetch(e,h).catch(E=>{if(m8e(E))return ir(t,"networking.disconnectAll"),p.disconnectAll().then(()=>p.fetch(e,h));throw E})}s(MM,"postRequest");function m8e(t){return t instanceof Error?t.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in t?t.code=="ECONNRESET"||t.code=="ETIMEDOUT"||t.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}s(m8e,"isInterruptedNetworkError");f();function Uee(){return typeof process>"u"}s(Uee,"isWeb");function MT(){return typeof process<"u"&&process.env.MSBENCH_MODE==="true"}s(MT,"isMsBenchModeEnabled");var OM=class extends VA{static{s(this,"ProxiedResponseError")}constructor(e){super(e,`HTTP ${e.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`)}};async function OT(t,e,r,n={}){n={...n,headers:{Authorization:`Bearer ${e.accessToken}`,...Uee()?{}:wy(t),...n.headers}};let o=await t.get(ps).fetch(new URL(r,e.apiUrl).href,n);if(o.status>=500)throw new VA(o);if(!o.headers.get("x-github-request-id"))throw new OM(o);return o}s(OT,"apiFetch");f();f();f();var zte=Et(HT());var mn=class{constructor(e=10){this.valueMap=new Map;if(e<1)throw new Error("Size limit must be at least 1");this.sizeLimit=e}static{s(this,"LRUCacheMap")}set(e,r){if(this.has(e))this.valueMap.delete(e);else if(this.valueMap.size>=this.sizeLimit){let n=this.valueMap.keys().next().value;this.delete(n)}return this.valueMap.set(e,r),this}get(e){if(this.valueMap.has(e)){let r=this.valueMap.get(e);return this.valueMap.delete(e),this.valueMap.set(e,r),r}}delete(e){return this.valueMap.delete(e)}clear(){this.valueMap.clear()}get size(){return this.valueMap.size}keys(){return new Map(this.valueMap).keys()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(e){return this.valueMap.has(e)}forEach(e,r){new Map(this.valueMap).forEach(e,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(e){return this.valueMap.get(e)}};var u2=class{constructor(){this.recentNotifications=new mn(100)}static{s(this,"NotificationSender")}async showWarningMessageOnlyOnce(e,r,...n){if(!this.recentNotifications.has(e??r))return this.recentNotifications.set(e??r,!0),this.showWarningMessage(r,...n)}async showInformationMessageOnlyOnce(e,r,...n){if(!this.recentNotifications.has(e??r))return this.recentNotifications.set(e??r,!0),this.showInformationMessage(r,...n)}};f();var Sm=class t{constructor(e){this.flags=e}static{s(this,"RuntimeMode")}static fromEnvironment(e,r=process.argv,n=process.env){return new t({debug:Jte(r,n),verboseLogging:y8e(r,n),testMode:e,simulation:g8e(n)})}};function Sy(t){return t.get(Sm).flags.testMode}s(Sy,"isRunningInTest");function qT(t){return Sy(t)}s(qT,"shouldFailForDebugPurposes");function jte(t){return t.get(Sm).flags.debug}s(jte,"isDebugEnabled");function Kte(t){return t.get(Sm).flags.verboseLogging}s(Kte,"isVerboseLoggingEnabled");function Jte(t,e){return t.includes("--debug")||qM(e,"DEBUG")}s(Jte,"determineDebugFlag");function g8e(t){return qM(t,"SIMULATION")}s(g8e,"determineSimulationFlag");function y8e(t,e){return e.COPILOT_AGENT_VERBOSE==="1"||e.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||qM(e,"VERBOSE")||Jte(t,e)}s(y8e,"determineVerboseLoggingEnabled");function qM(t,e){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=t[`${r}${e}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}s(qM,"determineEnvFlagEnabled");f();var ere=require("os"),A6=require("path");f();var Xte;(()=>{"use strict";var t={975:Y=>{function K(J){if(typeof J!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(J))}s(K,"e");function xe(J,W){for(var Z,re="",te=0,ie=-1,ue=0,he=0;he<=J.length;++he){if(he<J.length)Z=J.charCodeAt(he);else{if(Z===47)break;Z=47}if(Z===47){if(!(ie===he-1||ue===1))if(ie!==he-1&&ue===2){if(re.length<2||te!==2||re.charCodeAt(re.length-1)!==46||re.charCodeAt(re.length-2)!==46){if(re.length>2){var Je=re.lastIndexOf("/");if(Je!==re.length-1){Je===-1?(re="",te=0):te=(re=re.slice(0,Je)).length-1-re.lastIndexOf("/"),ie=he,ue=0;continue}}else if(re.length===2||re.length===1){re="",te=0,ie=he,ue=0;continue}}W&&(re.length>0?re+="/..":re="..",te=2)}else re.length>0?re+="/"+J.slice(ie+1,he):re=J.slice(ie+1,he),te=he-ie-1;ie=he,ue=0}else Z===46&&ue!==-1?++ue:ue=-1}return re}s(xe,"r");var ce={resolve:s(function(){for(var J,W="",Z=!1,re=arguments.length-1;re>=-1&&!Z;re--){var te;re>=0?te=arguments[re]:(J===void 0&&(J=process.cwd()),te=J),K(te),te.length!==0&&(W=te+"/"+W,Z=te.charCodeAt(0)===47)}return W=xe(W,!Z),Z?W.length>0?"/"+W:"/":W.length>0?W:"."},"resolve"),normalize:s(function(J){if(K(J),J.length===0)return".";var W=J.charCodeAt(0)===47,Z=J.charCodeAt(J.length-1)===47;return(J=xe(J,!W)).length!==0||W||(J="."),J.length>0&&Z&&(J+="/"),W?"/"+J:J},"normalize"),isAbsolute:s(function(J){return K(J),J.length>0&&J.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var J,W=0;W<arguments.length;++W){var Z=arguments[W];K(Z),Z.length>0&&(J===void 0?J=Z:J+="/"+Z)}return J===void 0?".":ce.normalize(J)},"join"),relative:s(function(J,W){if(K(J),K(W),J===W||(J=ce.resolve(J))===(W=ce.resolve(W)))return"";for(var Z=1;Z<J.length&&J.charCodeAt(Z)===47;++Z);for(var re=J.length,te=re-Z,ie=1;ie<W.length&&W.charCodeAt(ie)===47;++ie);for(var ue=W.length-ie,he=te<ue?te:ue,Je=-1,rt=0;rt<=he;++rt){if(rt===he){if(ue>he){if(W.charCodeAt(ie+rt)===47)return W.slice(ie+rt+1);if(rt===0)return W.slice(ie+rt)}else te>he&&(J.charCodeAt(Z+rt)===47?Je=rt:rt===0&&(Je=0));break}var lt=J.charCodeAt(Z+rt);if(lt!==W.charCodeAt(ie+rt))break;lt===47&&(Je=rt)}var Ct="";for(rt=Z+Je+1;rt<=re;++rt)rt!==re&&J.charCodeAt(rt)!==47||(Ct.length===0?Ct+="..":Ct+="/..");return Ct.length>0?Ct+W.slice(ie+Je):(ie+=Je,W.charCodeAt(ie)===47&&++ie,W.slice(ie))},"relative"),_makeLong:s(function(J){return J},"_makeLong"),dirname:s(function(J){if(K(J),J.length===0)return".";for(var W=J.charCodeAt(0),Z=W===47,re=-1,te=!0,ie=J.length-1;ie>=1;--ie)if((W=J.charCodeAt(ie))===47){if(!te){re=ie;break}}else te=!1;return re===-1?Z?"/":".":Z&&re===1?"//":J.slice(0,re)},"dirname"),basename:s(function(J,W){if(W!==void 0&&typeof W!="string")throw new TypeError('"ext" argument must be a string');K(J);var Z,re=0,te=-1,ie=!0;if(W!==void 0&&W.length>0&&W.length<=J.length){if(W.length===J.length&&W===J)return"";var ue=W.length-1,he=-1;for(Z=J.length-1;Z>=0;--Z){var Je=J.charCodeAt(Z);if(Je===47){if(!ie){re=Z+1;break}}else he===-1&&(ie=!1,he=Z+1),ue>=0&&(Je===W.charCodeAt(ue)?--ue==-1&&(te=Z):(ue=-1,te=he))}return re===te?te=he:te===-1&&(te=J.length),J.slice(re,te)}for(Z=J.length-1;Z>=0;--Z)if(J.charCodeAt(Z)===47){if(!ie){re=Z+1;break}}else te===-1&&(ie=!1,te=Z+1);return te===-1?"":J.slice(re,te)},"basename"),extname:s(function(J){K(J);for(var W=-1,Z=0,re=-1,te=!0,ie=0,ue=J.length-1;ue>=0;--ue){var he=J.charCodeAt(ue);if(he!==47)re===-1&&(te=!1,re=ue+1),he===46?W===-1?W=ue:ie!==1&&(ie=1):W!==-1&&(ie=-1);else if(!te){Z=ue+1;break}}return W===-1||re===-1||ie===0||ie===1&&W===re-1&&W===Z+1?"":J.slice(W,re)},"extname"),format:s(function(J){if(J===null||typeof J!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof J);return function(W,Z){var re=Z.dir||Z.root,te=Z.base||(Z.name||"")+(Z.ext||"");return re?re===Z.root?re+te:re+"/"+te:te}(0,J)},"format"),parse:s(function(J){K(J);var W={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return W;var Z,re=J.charCodeAt(0),te=re===47;te?(W.root="/",Z=1):Z=0;for(var ie=-1,ue=0,he=-1,Je=!0,rt=J.length-1,lt=0;rt>=Z;--rt)if((re=J.charCodeAt(rt))!==47)he===-1&&(Je=!1,he=rt+1),re===46?ie===-1?ie=rt:lt!==1&&(lt=1):ie!==-1&&(lt=-1);else if(!Je){ue=rt+1;break}return ie===-1||he===-1||lt===0||lt===1&&ie===he-1&&ie===ue+1?he!==-1&&(W.base=W.name=ue===0&&te?J.slice(1,he):J.slice(ue,he)):(ue===0&&te?(W.name=J.slice(1,ie),W.base=J.slice(1,he)):(W.name=J.slice(ue,ie),W.base=J.slice(ue,he)),W.ext=J.slice(ie,he)),ue>0?W.dir=J.slice(0,ue-1):te&&(W.dir="/"),W},"parse"),sep:"/",delimiter:":",win32:null,posix:null};ce.posix=ce,Y.exports=ce}},e={};function r(Y){var K=e[Y];if(K!==void 0)return K.exports;var xe=e[Y]={exports:{}};return t[Y](xe,xe.exports,r),xe.exports}s(r,"r"),r.d=(Y,K)=>{for(var xe in K)r.o(K,xe)&&!r.o(Y,xe)&&Object.defineProperty(Y,xe,{enumerable:!0,get:K[xe]})},r.o=(Y,K)=>Object.prototype.hasOwnProperty.call(Y,K),r.r=Y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})};var n={};let o;r.r(n),r.d(n,{URI:s(()=>p,"URI"),Utils:s(()=>Ae,"Utils")}),typeof process=="object"?o=process.platform==="win32":typeof navigator=="object"&&(o=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,c=/^\//,l=/^\/\//;function u(Y,K){if(!Y.scheme&&K)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Y.authority}", path: "${Y.path}", query: "${Y.query}", fragment: "${Y.fragment}"}`);if(Y.scheme&&!a.test(Y.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Y.path){if(Y.authority){if(!c.test(Y.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(Y.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(u,"a");let d="",A="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static{s(this,"l")}static isUri(K){return K instanceof p||!!K&&typeof K.authority=="string"&&typeof K.fragment=="string"&&typeof K.path=="string"&&typeof K.query=="string"&&typeof K.scheme=="string"&&typeof K.fsPath=="string"&&typeof K.with=="function"&&typeof K.toString=="function"}scheme;authority;path;query;fragment;constructor(K,xe,ce,J,W,Z=!1){typeof K=="object"?(this.scheme=K.scheme||d,this.authority=K.authority||d,this.path=K.path||d,this.query=K.query||d,this.fragment=K.fragment||d):(this.scheme=function(re,te){return re||te?re:"file"}(K,Z),this.authority=xe||d,this.path=function(re,te){switch(re){case"https":case"http":case"file":te?te[0]!==A&&(te=A+te):te=A}return te}(this.scheme,ce||d),this.query=J||d,this.fragment=W||d,u(this,Z))}get fsPath(){return S(this,!1)}with(K){if(!K)return this;let{scheme:xe,authority:ce,path:J,query:W,fragment:Z}=K;return xe===void 0?xe=this.scheme:xe===null&&(xe=d),ce===void 0?ce=this.authority:ce===null&&(ce=d),J===void 0?J=this.path:J===null&&(J=d),W===void 0?W=this.query:W===null&&(W=d),Z===void 0?Z=this.fragment:Z===null&&(Z=d),xe===this.scheme&&ce===this.authority&&J===this.path&&W===this.query&&Z===this.fragment?this:new E(xe,ce,J,W,Z)}static parse(K,xe=!1){let ce=h.exec(K);return ce?new E(ce[2]||d,O(ce[4]||d),O(ce[5]||d),O(ce[7]||d),O(ce[9]||d),xe):new E(d,d,d,d,d)}static file(K){let xe=d;if(o&&(K=K.replace(/\\/g,A)),K[0]===A&&K[1]===A){let ce=K.indexOf(A,2);ce===-1?(xe=K.substring(2),K=A):(xe=K.substring(2,ce),K=K.substring(ce)||A)}return new E("file",xe,K,d,d)}static from(K){let xe=new E(K.scheme,K.authority,K.path,K.query,K.fragment);return u(xe,!0),xe}toString(K=!1){return D(this,K)}toJSON(){return this}static revive(K){if(K){if(K instanceof p)return K;{let xe=new E(K);return xe._formatted=K.external,xe._fsPath=K._sep===y?K.fsPath:null,xe}}return K}}let y=o?1:void 0;class E extends p{static{s(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=S(this,!1)),this._fsPath}toString(K=!1){return K?D(this,!0):(this._formatted||(this._formatted=D(this,!1)),this._formatted)}toJSON(){let K={$mid:1};return this._fsPath&&(K.fsPath=this._fsPath,K._sep=y),this._formatted&&(K.external=this._formatted),this.path&&(K.path=this.path),this.scheme&&(K.scheme=this.scheme),this.authority&&(K.authority=this.authority),this.query&&(K.query=this.query),this.fragment&&(K.fragment=this.fragment),K}}let v={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function w(Y,K,xe){let ce,J=-1;for(let W=0;W<Y.length;W++){let Z=Y.charCodeAt(W);if(Z>=97&&Z<=122||Z>=65&&Z<=90||Z>=48&&Z<=57||Z===45||Z===46||Z===95||Z===126||K&&Z===47||xe&&Z===91||xe&&Z===93||xe&&Z===58)J!==-1&&(ce+=encodeURIComponent(Y.substring(J,W)),J=-1),ce!==void 0&&(ce+=Y.charAt(W));else{ce===void 0&&(ce=Y.substr(0,W));let re=v[Z];re!==void 0?(J!==-1&&(ce+=encodeURIComponent(Y.substring(J,W)),J=-1),ce+=re):J===-1&&(J=W)}}return J!==-1&&(ce+=encodeURIComponent(Y.substring(J))),ce!==void 0?ce:Y}s(w,"m");function _(Y){let K;for(let xe=0;xe<Y.length;xe++){let ce=Y.charCodeAt(xe);ce===35||ce===63?(K===void 0&&(K=Y.substr(0,xe)),K+=v[ce]):K!==void 0&&(K+=Y[xe])}return K!==void 0?K:Y}s(_,"y");function S(Y,K){let xe;return xe=Y.authority&&Y.path.length>1&&Y.scheme==="file"?`//${Y.authority}${Y.path}`:Y.path.charCodeAt(0)===47&&(Y.path.charCodeAt(1)>=65&&Y.path.charCodeAt(1)<=90||Y.path.charCodeAt(1)>=97&&Y.path.charCodeAt(1)<=122)&&Y.path.charCodeAt(2)===58?K?Y.path.substr(1):Y.path[1].toLowerCase()+Y.path.substr(2):Y.path,o&&(xe=xe.replace(/\//g,"\\")),xe}s(S,"v");function D(Y,K){let xe=K?_:w,ce="",{scheme:J,authority:W,path:Z,query:re,fragment:te}=Y;if(J&&(ce+=J,ce+=":"),(W||J==="file")&&(ce+=A,ce+=A),W){let ie=W.indexOf("@");if(ie!==-1){let ue=W.substr(0,ie);W=W.substr(ie+1),ie=ue.lastIndexOf(":"),ie===-1?ce+=xe(ue,!1,!1):(ce+=xe(ue.substr(0,ie),!1,!1),ce+=":",ce+=xe(ue.substr(ie+1),!1,!0)),ce+="@"}W=W.toLowerCase(),ie=W.lastIndexOf(":"),ie===-1?ce+=xe(W,!1,!0):(ce+=xe(W.substr(0,ie),!1,!0),ce+=W.substr(ie))}if(Z){if(Z.length>=3&&Z.charCodeAt(0)===47&&Z.charCodeAt(2)===58){let ie=Z.charCodeAt(1);ie>=65&&ie<=90&&(Z=`/${String.fromCharCode(ie+32)}:${Z.substr(3)}`)}else if(Z.length>=2&&Z.charCodeAt(1)===58){let ie=Z.charCodeAt(0);ie>=65&&ie<=90&&(Z=`${String.fromCharCode(ie+32)}:${Z.substr(2)}`)}ce+=xe(Z,!0,!1)}return re&&(ce+="?",ce+=xe(re,!1,!1)),te&&(ce+="#",ce+=K?te:w(te,!1,!1)),ce}s(D,"b");function N(Y){try{return decodeURIComponent(Y)}catch{return Y.length>3?Y.substr(0,3)+N(Y.substr(3)):Y}}s(N,"C");let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function O(Y){return Y.match(P)?Y.replace(P,K=>N(K)):Y}s(O,"w");var $=r(975);let ne=$.posix||$,oe="/";var Ae;(function(Y){Y.joinPath=function(K,...xe){return K.with({path:ne.join(K.path,...xe)})},Y.resolvePath=function(K,...xe){let ce=K.path,J=!1;ce[0]!==oe&&(ce=oe+ce,J=!0);let W=ne.resolve(ce,...xe);return J&&W[0]===oe&&!K.authority&&(W=W.substring(1)),K.with({path:W})},Y.dirname=function(K){if(K.path.length===0||K.path===oe)return K;let xe=ne.dirname(K.path);return xe.length===1&&xe.charCodeAt(0)===46&&(xe=""),K.with({path:xe})},Y.basename=function(K){return ne.basename(K.path)},Y.extname=function(K){return ne.extname(K.path)}})(Ae||(Ae={})),Xte=n})();var{URI:Bm,Utils:d6}=Xte;function tre(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substring(0,3)+tre(t.substring(3)):t}}s(tre,"decodeURIComponentGraceful");var Zte=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function GM(t){return t.match(Zte)?t.replace(Zte,e=>tre(e)):t}s(GM,"percentDecode");function h6(t){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(t))throw new Error("Path must not contain a scheme");if(!t)throw new Error("Path must not be empty");return Bm.file(t).toString()}s(h6,"makeFsUri");function GT(t){if(typeof t!="string"&&(t=t.uri),/^[A-Za-z]:\\/.test(t))throw new Error(`Could not parse <${t}>: Windows-style path`);try{let e=t.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return e?Bm.parse(e[1]+e[2],!0):Bm.parse(t,!0)}catch(e){throw new Error(`Could not parse <${t}>`,{cause:e})}}s(GT,"parseUri");function Rm(t){try{return GT(t).toString()}catch{return t}}s(Rm,"normalizeUri");var rre=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function C8e(t){let e=GT(t);if(!rre.has(e.scheme))throw new Error(`Copilot currently does not support URI with scheme: ${e.scheme}`);if((0,ere.platform)()==="win32"){let r=e.path;return e.authority?r=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,A6.normalize)(r)}else{if(e.authority)throw new Error("Unsupported remote file path");return e.path}}s(C8e,"fsPath");function p6(t){try{return C8e(t)}catch{return}}s(p6,"getFsPath");function nre(t){let e=p6(t);if(e)return Bm.file(e).toString()}s(nre,"getFsUri");function By(t,...e){let r,n=p6(t);return n?r=h6((0,A6.resolve)(n,...e)):r=d6.resolvePath(GT(t),...e.map(o=>ire(o))).toString(),typeof t=="string"?r:{uri:r}}s(By,"resolveFilePath");function $s(t,...e){let r=d6.joinPath(GT(t),...e.map(ire)).toString();return typeof t=="string"?r:{uri:r}}s($s,"joinPath");function ire(t){return E8e(t)?t.replaceAll("\\","/"):t}s(ire,"pathToURIPath");function E8e(t){return/^[^/\\]*\\/.test(t)}s(E8e,"isWinPath");function km(t){return GM((typeof t=="string"?t:t.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}s(km,"basename");function YA(t){let e=d6.dirname(GT(t)),r;return rre.has(e.scheme)&&e.scheme!=="file"?r=e.with({scheme:"file",fragment:""}).toString():r=e.toString(),typeof t=="string"?r:{uri:r}}s(YA,"dirname");var Dm=class{static{s(this,"NetworkConfiguration")}};function WM(t,e){try{let r=new URL(e??"");if(r.protocol==="https:"||!$M(t)&&r.protocol==="http:")return r.href}catch{}}s(WM,"ensurePermittedUrl");var f2={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function VM(t,e,r){if(r&&Sy(t)){for(let n of r){let o=Zo(t,n);if(o)return o}return}for(let n of e){let o=Zo(t,n);if(o)return o}}s(VM,"urlConfigOverride");function I8e(t,e){switch(e){case"api":return VM(t,[Ft.DebugOverrideCapiUrl,Ft.DebugOverrideCapiUrlLegacy],[Ft.DebugTestOverrideCapiUrl,Ft.DebugTestOverrideCapiUrlLegacy]);case"proxy":return VM(t,[Ft.DebugOverrideProxyUrl,Ft.DebugOverrideProxyUrlLegacy],[Ft.DebugTestOverrideProxyUrl,Ft.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!$M(t))return VM(t,[Ft.DebugSnippyOverrideUrl])}}s(I8e,"getEndpointOverrideUrl");function VT(t,e,r,...n){let o=I8e(t,r)??e.endpoints[r];return $s(o,...n)}s(VT,"getEndpointUrl");function m6(t){return YM(t)?.endpoints??f2}s(m6,"getLastKnownEndpoints");f();f();function G0(t,e){let r=$A(t,e,"event.CopilotToken");return t.get(Ei).onDidChangeTokenResult(n=>{n.copilotToken&&r(n.copilotToken)})}s(G0,"onCopilotToken");function ore(t){let e=t.getTokenValue("tid"),r=t.organization_list,n=t.enterprise_list,o=t.getTokenValue("sku");if(!e)return;let a={copilot_trackingId:e};return r&&(a.organizations_list=r.toString()),n&&(a.enterprise_list=n.toString()),o&&(a.sku=o),a}s(ore,"propertiesFromCopilotToken");var V0=class{constructor(e){this.#e={};this.optedIn=!1;this.ftFlag="";G0(e,r=>this.updateFromToken(r))}static{s(this,"TelemetryUserConfig")}#e;getProperties(){return this.#e}get trackingId(){return this.#e.copilot_trackingId}updateFromToken(e){let r=ore(e);r&&(this.#e=r,this.optedIn=e.getTokenValue("rt")==="1",this.ftFlag=e.getTokenValue("ft")??"")}};f();var WT=class{static{s(this,"UrlOpener")}};var d2=new jr("auth");function Ry(t){let e=t.serverUrl?.match(/^https?:\/\//)?t.serverUrl:"",r=t.apiUrl?.match(/^https?:\/\//)?t.apiUrl:"";return e?r||=e.replace("://","://api."):r?.includes("://api.")&&(e||=r.replace("://api.","://")),(!e||!r)&&(e="https://github.com/",r="https://api.github.com/"),{apiUrl:r,serverUrl:e}}s(Ry,"fillGitHubUrls");var g6=class{static{s(this,"CopilotTokenFetcher")}};f();f();f();f();f();var fre=Et(cre()),dre=Et(ure()),kc=Et(require("os"));var h2=class{constructor(e,r,n,o,a=!1){this.ctx=e;this.namespace=r;this.includeAuthorizationHeader=a;this.onCopilotToken=s(e=>{this.token=e;let r=e.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:s((e,r)=>{if(typeof e.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof e.data}`);let n=e.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let o={method:"POST",headers:n,body:e.data};this.ctx.get(ps).fetch(e.urlString,o).then(a=>a.text().then(c=>{r(a.status,Object.fromEntries(a.headers),c)})).catch(a=>{Qo.debug(this.ctx,"Error sending telemetry",a),r(0,{})})},"sendPOST")};this.client=new dre.ApplicationInsights({instrumentationKey:o,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:n,extensionConfig:{[fre.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=x8e(e),this.commonProperties=v8e(e),this.#e=G0(e,this.onCopilotToken)}static{s(this,"AppInsightsReporter")}#e;sendTelemetryEvent(e,r,n){r={...r,...this.commonProperties};let o=this.qualifyEventName(e);this.client.track({name:o,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:o,properties:r,measurements:n}})}sendTelemetryErrorEvent(e,r,n){this.sendTelemetryEvent(this.qualifyEventName(e),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(e){return e.startsWith(this.namespace)?e:`${this.namespace}/${e}`}};function x8e(t){let e={},r=t.get(Ys);e["ai.session.id"]=r.sessionId;let n=t.get(V0);return n.trackingId&&(e["ai.user.id"]=n.trackingId),e["ai.cloud.roleInstance"]="REDACTED",e["ai.device.osVersion"]=`${kc.type()} ${kc.release()}`,e["ai.device.osArchitecture"]=kc.arch(),e["ai.device.osPlatform"]=kc.platform(),e["ai.cloud.role"]="Web",e["ai.application.ver"]=t.get(js).getVersion(),e}s(x8e,"getTags");function v8e(t){let e={};e.common_os=kc.platform(),e.common_platformversion=kc.release(),e.common_arch=kc.arch(),e.common_cpu=Array.from(new Set(kc.cpus().map(n=>n.model))).join();let r=t.get(Ys);return e.common_vscodemachineid=r.machineId,e.common_vscodesessionid=r.sessionId,e.common_uikind=r.uiKind,e.common_remotename=r.remoteName,e.common_isnewappinstall="",e}s(v8e,"getCommonProperties");var hre="7d7048df-6dd0-4048-bb23-b716c1461f8f",pre="3fdd7f28-937a-48c8-9a21-ba337db23bd1",b8e="f0000000-0000-0000-0000-000000000000";function Are(t){return new URL(t).hostname==="github.com"?f2.telemetry:t.replace("://","://copilot-telemetry-service.")}s(Are,"getEndpointForServerUrl");var Hu=class{constructor(e,r){this.ctx=e;this.namespace=r;this.serverUrl="https://github.com/";this.rootUrl=Are(this.serverUrl);this.shuttingDown=new Set;G0(e,n=>this.updateServiceEndpoints(n.endpoints))}static{s(this,"TelemetryInitialization")}get endpointUrl(){return this.overrideEndpointUrlForTesting||new URL("telemetry",this.rootUrl).href}get isInitialized(){return this.initializedWith!==void 0}get isEnabled(){return this._enabled??!1}initialize(e){let r=this.ctx;this._enabled=e;let n=this.endpointUrl;if(!(this.initializedWith?.enabled===this._enabled&&this.initializedWith?.endpointUrl===this.endpointUrl)&&(this.shutdownWithoutWaiting(),this.initializedWith={endpointUrl:n,enabled:this._enabled},e)){let o=r.get(Dc);o.setReporter(new h2(r,this.namespace,n,hre)),o.setRestrictedReporter(new h2(r,this.namespace,n,pre)),o.setFTReporter(new h2(r,this.namespace,n,b8e,!0))}}setCustomReporters(e,r){this.shutdownWithoutWaiting();let n=this.ctx.get(Dc);n.setReporter(e),n.setRestrictedReporter(r)}async shutdown(){this.shutdownWithoutWaiting(),await Promise.all(this.shuttingDown)}shutdownWithoutWaiting(){this.initializedWith=void 0;let e=this.ctx.get(Dc).deactivate().finally(()=>{this.shuttingDown.delete(e)});this.shuttingDown.add(e)}updateSessionConfig(e){e?.serverUrl&&e.serverUrl!==this.serverUrl&&(this.serverUrl=e.serverUrl,this.rootUrl=Are(e.serverUrl)),this.isInitialized&&this.initialize(this._enabled)}updateServiceEndpoints(e){this.rootUrl=e.telemetry,this.isInitialized&&this.initialize(this._enabled)}};async function _8e(t,e){let r="copilot_internal/subscribe_limited_user";try{return(await(await OT(t,e,r,{method:"POST",headers:{"X-GitHub-Api-Version":"2025-05-01"},body:JSON.stringify({restricted_telemetry:t.get(Hu).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json()).subscribed}catch(n){return d2.exception(t,n,"signUpLimited failed"),!1}}s(_8e,"apiFetchSignUpLimited");async function zM(t,e,r){let n=await t.get(Ei).getTokenResult();switch(n.failureKind){case void 0:return"OK";case"HTTP401":case"NotSignedIn":return"NotSignedIn";case"NotAuthorized":return r&&n.canSignUpForLimited&&await _8e(t,e)?zM(t,e,!1):"NotAuthorized";case"Exception":throw n.exception}}s(zM,"getTokenWithSignUpLimited");var E6=class{constructor(e,r){this.ctx=e;this.env=r}static{s(this,"AuthManager")}hasTransientSession(){return this.transientSession!==void 0}get _copilotTokenManager(){return this.ctx.get(Ei)}getConfiguredUrls(){return this.ctx.get(Dm).getConfiguredUrls()}async checkAndUpdateStatus(e){let r=e?.localChecksOnly??!1,n;return e?.githubAppId!==void 0?n=await this.getPersistedSession(e):n=await this.getSession(),n===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):r?{status:"MaybeOK",user:n.login}:(e?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await zM(this.ctx,n,e?.freshSignIn??!1),user:n.login})}async getSession(){await this.ctx.get(W0).requireReady();let e=w8e(this.env)??await this.transientSession;if(!(e&&e.accessToken===void 0))return e?{...e,...Ry(e)}:await this.getPersistedSession()}setTransientSession(e){this.transientSession=e&&Promise.resolve(e),this._copilotTokenManager.resetToken()}getAuthAuthority(){return new URL(this.getConfiguredUrls().serverUrl).hostname}};function w8e(t){if(t.GH_COPILOT_TOKEN&&!/=/.test(t.GH_COPILOT_TOKEN))return{...Ry({apiUrl:t.GH_COPILOT_API_URL,serverUrl:t.GH_COPILOT_SERVER_URL}),login:"<GH_COPILOT_TOKEN-user>",accessToken:t.GH_COPILOT_TOKEN};if(t.GITHUB_COPILOT_TOKEN)return{...Ry({apiUrl:t.GITHUB_COPILOT_API_URL,serverUrl:t.GITHUB_COPILOT_SERVER_URL}),login:"<GITHUB_COPILOT_TOKEN-user>",accessToken:t.GITHUB_COPILOT_TOKEN};if(t.CODESPACES==="true"&&t.GITHUB_TOKEN)return{...Ry({apiUrl:t.GITHUB_API_URL,serverUrl:t.GITHUB_SERVER_URL}),login:t.GITHUB_USER||"<codespaces-user>",accessToken:t.GITHUB_TOKEN}}s(w8e,"getSessionFromEnv");f();var B8e=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],mre="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",gre="https://gh.io/copilot-network-errors",Nm=class{constructor(){this.notifiedErrorCodes=[]}static{s(this,"UserErrorNotifier")}notifyUser(e,r){if(!(r instanceof Error))return;let n=r;n.code&&B8e.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(e,n))}async displayCertificateErrorNotification(e,r){new jr("certificates").error(e,`${mre} Please visit ${gre} to learn more. Original cause:`,r);let n={title:"Learn more"};return e.get(u2).showWarningMessage(mre,n).then(o=>{if(o?.title===n.title)return e.get(WT).open(gre)})}didNotifyBefore(e){return this.notifiedErrorCodes.indexOf(e)!==-1}};f();var Rs=class{static{s(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(e){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),e().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(e,r,n){this.#t===e&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=e,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(e,r){this.forceStatus("Error",e,r)}setWarning(e){this.#t!=="Error"&&this.forceStatus("Warning",e)}setInactive(e){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",e)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let e={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(e)}};f();var $oe=Et(ya());var Gm=class extends $oe.Emitter{static{s(this,"Emitter")}get event(){return super.event}};var vU=class extends vm{constructor(r){super("message"in r?r.message:`${r.failureKind}`);this.result=r}static{s(this,"TokenResultError")}},Ei=class{constructor(e,r=!1){this.ctx=e;this.primed=r;this.lastToken=void 0;this.activeToken=void 0;this.tokenPromise=void 0;this.tokenPrimingError=void 0;this.didChangeTokenResult=new Gm;this.onDidChangeTokenResult=this.didChangeTokenResult.event;this.didResetToken=new Gm;this.onDidResetToken=this.didResetToken.event}static{s(this,"CopilotTokenManager")}async getGitHubSession(){return await this.ctx.get(E6).getSession()}primeToken(){if(this.tokenPrimingError)return Promise.reject(this.tokenPrimingError);this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}async fetchTokenResult(e){return await this.ctx.get(g6).fetchTokenResult(this.ctx,e,this.lastToken)}setToken(e){this.activeToken=this.lastToken=e}async getTokenResult(){if(!this.primed){let e=new Error("Token requested before initialization");if(zoe(this.ctx))throw this.tokenPrimingError=e,e;d2.exception(this.ctx,e,".getToken")}if(!this.tokenPromise&&(!this.activeToken||this.activeToken?.needsRefresh())){let r=this.getGitHubSession().then(async n=>n?await this.fetchTokenResult(n):{failureKind:"NotSignedIn"}).catch(n=>{if(!(n instanceof Error))throw n;return{failureKind:"Exception",message:String(n),exception:n}}).then(n=>(this.tokenPromise!==r||(this.tokenPromise=void 0,this.handleTokenResult(n)),n));this.tokenPromise=r}return this.activeToken&&!this.activeToken.isExpired()?{copilotToken:this.activeToken}:await this.tokenPromise}handleTokenResult(e){let r=this.ctx.get(Rs);switch(e.failureKind){case"NotSignedIn":r.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":r.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":r.setError(e.message);break;case"Exception":r.setWarning(e.message),this.ctx.get(Nm).notifyUser(this.ctx,e.exception);break;case void 0:r.forceNormal(),this.setToken(e.copilotToken)}this.didChangeTokenResult.fire(e)}async getToken(){let e=await this.getTokenResult();if(e.copilotToken)return e.copilotToken;throw e.exception?e.exception:new vU(e)}resetToken(e){e!==void 0?(ir(this.ctx,"auth.reset_token_"+e),d2.debug(this.ctx,`Resetting copilot token on HTTP error ${e}`)):d2.debug(this.ctx,"Resetting copilot token"),!(!this.activeToken&&!this.tokenPromise)&&(this.activeToken=void 0,this.tokenPromise=void 0,this.didResetToken.fire())}getLastToken(){return this.lastToken}};function YM(t){return t.get(Ei).getLastToken()}s(YM,"getLastCopilotToken");f();var Fy=class{static{s(this,"Clock")}now(){return new Date}};f();f();f();var Vm=class{static{s(this,"InlineCompletionsUnification")}},NBe={codeUnification:!1,modelUnification:!1,expAssignments:[]},aR=class extends Vm{constructor(){super(...arguments);this.inlineCompletionsUnificationState=NBe;this.onDidChangeState=s(()=>({dispose:s(()=>{},"dispose")}),"onDidChangeState")}static{s(this,"NullInlineCompletionsUnification")}};var Vu=class t{static{s(this,"ExpConfig")}constructor(e,r,n){this.variables=e,this.assignmentContext=r,this.features=n}static createFallbackConfig(e,r){return Koe(e,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new t({},"","")}addToTelemetry(e,r){let o=e.get(Vm).inlineCompletionsUnificationState.expAssignments.filter(c=>!this.assignmentContext.includes(c)),a=[this.assignmentContext,...o].filter(Boolean).join(";");r.properties["VSCode.ABExp.Features"]=this.features,r.properties["abexp.assignmentcontext"]=a}};f();var Ly=class{static{s(this,"ExpConfigMaker")}},cR=class extends Ly{constructor(r={}){super();this.defaultFilters=r}static{s(this,"ExpConfigFromTAS")}async fetchExperiments(r,n,o){let a=r.get(ps),c=Object.keys(o).length===0?this.defaultFilters:o,l=new URL("telemetry",n.telemetry).href,u;try{u=await a.fetch(l,{method:"GET",headers:c,timeout:5e3})}catch(p){return Vu.createFallbackConfig(r,`Error fetching ExP config: ${String(p)}`)}if(!u.ok)return Vu.createFallbackConfig(r,`ExP responded with ${u.status}`);let d;try{d=await u.json()}catch(p){if(p instanceof SyntaxError)return yd(r,p,"fetchExperiments"),Vu.createFallbackConfig(r,"ExP responded with invalid JSON");throw p}let A=d.Configs.find(p=>p.Id==="vscode")??{Id:"vscode",Parameters:{}},h=Object.entries(A.Parameters).map(([p,y])=>p+(y?"":"cf"));return new Vu(A.Parameters,d.AssignmentContext,h.join(";"))}};f();var Dl="X-Copilot-RelatedPluginVersion-",bU=(te=>(te.Market="X-MSEdge-Market",te.CorpNet="X-FD-Corpnet",te.Build="X-VSCode-Build",te.ApplicationVersion="X-VSCode-AppVersion",te.TargetPopulation="X-VSCode-TargetPopulation",te.ClientId="X-MSEdge-ClientId",te.ExtensionName="X-VSCode-ExtensionName",te.ExtensionVersion="X-VSCode-ExtensionVersion",te.ExtensionRelease="X-VSCode-ExtensionRelease",te.CompletionsInChatExtensionVersion="X-VSCode-CompletionsInChatExtensionVersion",te.Language="X-VSCode-Language",te.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",te.CopilotEngine="X-Copilot-Engine",te.CopilotOverrideEngine="X-Copilot-OverrideEngine",te.CopilotRepository="X-Copilot-Repository",te.CopilotFileType="X-Copilot-FileType",te.CopilotUserKind="X-Copilot-UserKind",te.CopilotDogfood="X-Copilot-Dogfood",te.CopilotCustomModel="X-Copilot-CustomModel",te.CopilotOrgs="X-Copilot-Orgs",te.CopilotCustomModelNames="X-Copilot-CustomModelNames",te.CopilotTrackingId="X-Copilot-CopilotTrackingId",te.CopilotClientVersion="X-Copilot-ClientVersion",te.CopilotRelatedPluginVersionCppTools=Dl+"msvscodecpptools",te.CopilotRelatedPluginVersionCMakeTools=Dl+"msvscodecmaketools",te.CopilotRelatedPluginVersionMakefileTools=Dl+"msvscodemakefiletools",te.CopilotRelatedPluginVersionCSharpDevKit=Dl+"msdotnettoolscsdevkit",te.CopilotRelatedPluginVersionPython=Dl+"mspythonpython",te.CopilotRelatedPluginVersionPylance=Dl+"mspythonvscodepylance",te.CopilotRelatedPluginVersionJavaPack=Dl+"vscjavavscodejavapack",te.CopilotRelatedPluginVersionTypescript=Dl+"vscodetypescriptlanguagefeatures",te.CopilotRelatedPluginVersionTypescriptNext=Dl+"msvscodevscodetypescriptnext",te.CopilotRelatedPluginVersionCSharp=Dl+"msdotnettoolscsharp",te.CopilotRelatedPluginVersionGithubCopilotChat=Dl+"githubcopilotchat",te.CopilotRelatedPluginVersionGithubCopilot=Dl+"githubcopilot",te))(bU||{});var QBe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},My=class t{constructor(e){this.filters=e;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{s(this,"FilterSettings")}extends(e){for(let[r,n]of Object.entries(e.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(e){for(let[r,n]of Object.entries(this.filters)){let o=QBe[r];o!==void 0&&(e.properties[o]=n)}}stringify(){let e=Object.keys(this.filters);return e.sort(),e.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(e,r){return new t({...this.filters,[e]:r})}};f();f();var lR=class{constructor(e){this.prefix=e}static{s(this,"GranularityImplementation")}getCurrentAndUpComingValues(e){let r=this.getValue(e),n=this.getUpcomingValues(e);return[r,n]}},TU=class extends lR{static{s(this,"ConstantGranularity")}getValue(e){return this.prefix}getUpcomingValues(e){return[]}},Joe=s(t=>new TU(t),"DEFAULT_GRANULARITY"),uR=class extends lR{constructor(r,n=.5,o=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=o}static{s(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],o=this.getUpcomingTimePeriodBucketStrings(r),a=this.getUpcomingByCallBucketStrings();for(let c of o)for(let l of a)n.push(this.prefix+c+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var Xoe="X-Copilot-ClientTimeBucket",fR=class{constructor(e,r){this.specs=new Map;this.prefix=e,this.clock=r,this.defaultGranularity=Joe(e)}static{s(this,"GranularityDirectory")}selectGranularity(e){for(let[r,n]of this.specs.entries())if(e.extends(r))return n;return this.defaultGranularity}update(e,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(e);else{let o=new uR(this.prefix);isNaN(r)||o.setByCallBuckets(r),isNaN(n)||o.setTimePeriod(n*3600*1e3),this.specs.set(e,o)}}extendFilters(e){let r=this.selectGranularity(e),[n,o]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:e.withChange(Xoe,n),otherFilterSettingsToPrefetch:o.map(a=>e.withChange(Xoe,a))}}};f();f();f();f();var _U=new Map;async function PBe(t){if(_U.has(t))return _U.get(t);let e=await crypto.subtle.importKey("raw",new TextEncoder().encode(t),{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return _U.set(t,e),e}s(PBe,"getCachedHmacKey");async function FBe(t){if(t)try{let e=await PBe(t),r=Math.floor(Date.now()/1e3).toString(),n=new TextEncoder().encode(r),o=await crypto.subtle.sign("HMAC",e,n),c=Array.from(new Uint8Array(o)).map(l=>l.toString(16).padStart(2,"0")).join("");return`${r}.${c}`}catch{return}}s(FBe,"createRequestHMAC");async function Zoe(t){let e=await FBe(t);return e?{"Request-Hmac":e,"Copilot-Integration-Id":"jetbrains-chat-dev"}:{}}s(Zoe,"createMsBenchHmacHeaders");f();f();f();f();var AR="4.11.0",Oy="04b07795-8ddb-461a-bbee-02f9e1bf7b46",ese="common",dR;(function(t){t.AzureChina="https://login.chinacloudapi.cn",t.AzureGermany="https://login.microsoftonline.de",t.AzureGovernment="https://login.microsoftonline.us",t.AzurePublicCloud="https://login.microsoftonline.com"})(dR||(dR={}));var t_=dR.AzurePublicCloud,tse="login.microsoftonline.com",rse=["*"],nse="cae",ise="nocae",ose="msal.cache";var wU;var sse,hR,SU;function ase(){return hR!==void 0&&SU!==void 0}s(ase,"hasVSCodePlugin");function LBe(t){let e={cache:{},broker:{...t.brokerOptions,isEnabled:t.brokerOptions?.enabled??!1,enableMsaPassthrough:t.brokerOptions?.legacyEnableMsaPassthrough??!1}};if(t.tokenCachePersistenceOptions?.enabled){if(wU===void 0)throw new Error(["Persistent token caching was requested, but no persistence provider was configured.","You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`."].join(" "));let r=t.tokenCachePersistenceOptions.name||ose;e.cache.cachePlugin=wU({name:`${r}.${ise}`,...t.tokenCachePersistenceOptions}),e.cache.cachePluginCae=wU({name:`${r}.${nse}`,...t.tokenCachePersistenceOptions})}if(t.brokerOptions?.enabled)if(t.isVSCodeCredential){if(SU===void 0)throw new Error(["Visual Studio Code Credential was requested, but no plugin was configured or no authentication record was found.","You must install the identity-vscode plugin package (`npm install --save @azure/identity-vscode`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(vsCodePlugin)` before using `enableBroker`."].join(" "));e.broker.nativeBrokerPlugin=SU.broker}else{if(sse===void 0)throw new Error(["Broker for WAM was requested to be enabled, but no native broker was configured.","You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(brokerPlugin)` before using `enableBroker`."].join(" "));e.broker.nativeBrokerPlugin=sse.broker}return e}s(LBe,"generatePluginConfiguration");var cse={generatePluginConfiguration:LBe};f();f();f();function MBe(t){return t&&typeof t.error=="string"&&typeof t.error_description=="string"}s(MBe,"isErrorResponse");var use="CredentialUnavailableError",Ot=class extends Error{static{s(this,"CredentialUnavailableError")}constructor(e,r){super(e,r),this.name=use}},pR="AuthenticationError",Wm=class extends Error{static{s(this,"AuthenticationError")}statusCode;errorResponse;constructor(e,r,n){let o={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(MBe(r))o=lse(r);else if(typeof r=="string")try{let a=JSON.parse(r);o=lse(a)}catch{e===400?o={error:"invalid_request",errorDescription:`The service indicated that the request was invalid.

${r}`}:o={error:"unknown_error",errorDescription:`An unknown error has occurred. Response body:

${r}`}}else o={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};super(`${o.error} Status code: ${e}
More details:
${o.errorDescription},`,n),this.statusCode=e,this.errorResponse=o,this.name=pR}},fse="AggregateAuthenticationError",r_=class extends Error{static{s(this,"AggregateAuthenticationError")}errors;constructor(e,r){let n=e.join(`
`);super(`${r}
${n}`),this.errors=e,this.name=fse}};function lse(t){return{error:t.error,errorDescription:t.error_description,correlationId:t.correlation_id,errorCodes:t.error_codes,timestamp:t.timestamp,traceId:t.trace_id}}s(lse,"convertOAuthErrorResponseToErrorResponse");var Nl=class extends Error{static{s(this,"AuthenticationRequiredError")}scopes;getTokenOptions;constructor(e){super(e.message,e.cause?{cause:e.cause}:void 0),this.scopes=e.scopes,this.getTokenOptions=e.getTokenOptions,this.name="AuthenticationRequiredError"}};f();f();f();f();var dse=require("node:os"),Ase=Et(require("node:util"),1),hse=Et(require("node:process"),1);function pse(t,...e){hse.stderr.write(`${Ase.default.format(t,...e)}${dse.EOL}`)}s(pse,"log");var mse=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,gse,BU=[],RU=[],mR=[];mse&&kU(mse);var yse=Object.assign(t=>Cse(t),{enable:kU,enabled:DU,disable:OBe,log:pse});function kU(t){gse=t,BU=[],RU=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?RU.push(new RegExp(`^${n.substr(1)}$`)):BU.push(new RegExp(`^${n}$`));for(let n of mR)n.enabled=DU(n.namespace)}s(kU,"enable");function DU(t){if(t.endsWith("*"))return!0;for(let e of RU)if(e.test(t))return!1;for(let e of BU)if(e.test(t))return!0;return!1}s(DU,"enabled");function OBe(){let t=gse||"";return kU(""),t}s(OBe,"disable");function Cse(t){let e=Object.assign(r,{enabled:DU(t),destroy:UBe,log:yse.log,namespace:t,extend:HBe});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return s(r,"debug"),mR.push(e),e}s(Cse,"createDebugger");function UBe(){let t=mR.indexOf(this);return t>=0?(mR.splice(t,1),!0):!1}s(UBe,"destroy");function HBe(t){let e=Cse(`${this.namespace}:${t}`);return e.log=this.log,e}s(HBe,"extend");var Q2=yse;var Ise=new Set,gR=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,CR,NU=Q2("azure");NU.log=(...t)=>{Q2.log(...t)};var QU=["verbose","info","warning","error"];gR&&(bse(gR)?qBe(gR):console.error(`AZURE_LOG_LEVEL set to unknown log level '${gR}'; logging is not enabled. Acceptable values: ${QU.join(", ")}.`));function qBe(t){if(t&&!bse(t))throw new Error(`Unknown log level '${t}'. Acceptable values: ${QU.join(",")}`);CR=t;let e=[];for(let r of Ise)vse(r)&&e.push(r.namespace);Q2.enable(e.join(","))}s(qBe,"setLogLevel");function ER(){return CR}s(ER,"getLogLevel");var Ese={verbose:400,info:300,warning:200,error:100};function Ym(t){let e=NU.extend(t);return xse(NU,e),{error:yR(e,"error"),warning:yR(e,"warning"),info:yR(e,"info"),verbose:yR(e,"verbose")}}s(Ym,"createClientLogger");function xse(t,e){e.log=(...r)=>{t.log(...r)}}s(xse,"patchLogMethod");function yR(t,e){let r=Object.assign(t.extend(e),{level:e});if(xse(t,r),vse(r)){let n=Q2.disable();Q2.enable(n+","+r.namespace)}return Ise.add(r),r}s(yR,"createLogger");function vse(t){return!!(CR&&Ese[t.level]<=Ese[CR])}s(vse,"shouldEnable");function bse(t){return QU.includes(t)}s(bse,"isAzureLogLevel");var Pc=Ym("identity");function IR(t){return t.reduce((e,r)=>(process.env[r]?e.assigned.push(r):e.missing.push(r),e),{missing:[],assigned:[]})}s(IR,"processEnvVars");function ks(t){return`SUCCESS. Scopes: ${Array.isArray(t)?t.join(", "):t}.`}s(ks,"formatSuccess");function Pn(t,e){let r="ERROR.";return t?.length&&(r+=` Scopes: ${Array.isArray(t)?t.join(", "):t}.`),`${r} Error message: ${typeof e=="string"?e:e.message}.`}s(Pn,"formatError");function Tse(t,e,r=Pc){let n=e?`${e.fullTitle} ${t}`:t;function o(u){r.info(`${n} =>`,u)}s(o,"info");function a(u){r.warning(`${n} =>`,u)}s(a,"warning");function c(u){r.verbose(`${n} =>`,u)}s(c,"verbose");function l(u){r.error(`${n} =>`,u)}return s(l,"error"),{title:t,fullTitle:n,info:o,warning:a,verbose:c,error:l}}s(Tse,"credentialLoggerInstance");function kr(t,e=Pc){let r=Tse(t,void 0,e);return{...r,parent:e,getToken:Tse("=> getToken()",r,e)}}s(kr,"credentialLogger");f();f();f();f();var P2={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function _se(t={}){let e=new PU(t.parentContext);return t.span&&(e=e.setValue(P2.span,t.span)),t.namespace&&(e=e.setValue(P2.namespace,t.namespace)),e}s(_se,"createTracingContext");var PU=class t{static{s(this,"TracingContextImpl")}constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map}setValue(e,r){let n=new t(this);return n._contextMap.set(e,r),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}};f();var Sse=Et(wse(),1),vR=Sse.state;function GBe(){return{end:s(()=>{},"end"),isRecording:s(()=>!1,"isRecording"),recordException:s(()=>{},"recordException"),setAttribute:s(()=>{},"setAttribute"),setStatus:s(()=>{},"setStatus"),addEvent:s(()=>{},"addEvent")}}s(GBe,"createDefaultTracingSpan");function VBe(){return{createRequestHeaders:s(()=>({}),"createRequestHeaders"),parseTraceparentHeader:s(()=>{},"parseTraceparentHeader"),startSpan:s((t,e)=>({span:GBe(),tracingContext:_se({parentContext:e.tracingContext})}),"startSpan"),withContext(t,e,...r){return e(...r)}}}s(VBe,"createDefaultInstrumenter");function n_(){return vR.instrumenterImplementation||(vR.instrumenterImplementation=VBe()),vR.instrumenterImplementation}s(n_,"getInstrumenter");f();function i_(t){let{namespace:e,packageName:r,packageVersion:n}=t;function o(d,A,h){var p;let y=n_().startSpan(d,Object.assign(Object.assign({},h),{packageName:r,packageVersion:n,tracingContext:(p=A?.tracingOptions)===null||p===void 0?void 0:p.tracingContext})),E=y.tracingContext,v=y.span;E.getValue(P2.namespace)||(E=E.setValue(P2.namespace,e)),v.setAttribute("az.namespace",E.getValue(P2.namespace));let w=Object.assign({},A,{tracingOptions:Object.assign(Object.assign({},A?.tracingOptions),{tracingContext:E})});return{span:v,updatedOptions:w}}s(o,"startSpan");async function a(d,A,h,p){let{span:y,updatedOptions:E}=o(d,A,p);try{let v=await c(E.tracingOptions.tracingContext,()=>Promise.resolve(h(E,y)));return y.setStatus({status:"success"}),v}catch(v){throw y.setStatus({status:"error",error:v}),v}finally{y.end()}}s(a,"withSpan");function c(d,A,...h){return n_().withContext(d,A,...h)}s(c,"withContext");function l(d){return n_().parseTraceparentHeader(d)}s(l,"parseTraceparentHeader");function u(d){return n_().createRequestHeaders(d)}return s(u,"createRequestHeaders"),{startSpan:o,withSpan:a,withContext:c,parseTraceparentHeader:l,createRequestHeaders:u}}s(i_,"createTracingClient");var hi=i_({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:AR});var FU=kr("ChainedTokenCredential"),o_=class{static{s(this,"ChainedTokenCredential")}_sources=[];constructor(...e){this._sources=e}async getToken(e,r={}){let{token:n}=await this.getTokenInternal(e,r);return n}async getTokenInternal(e,r={}){let n=null,o,a=[];return hi.withSpan("ChainedTokenCredential.getToken",r,async c=>{for(let l=0;l<this._sources.length&&n===null;l++)try{n=await this._sources[l].getToken(e,c),o=this._sources[l]}catch(u){if(u.name==="CredentialUnavailableError"||u.name==="AuthenticationRequiredError")a.push(u);else throw FU.getToken.info(Pn(e,u)),u}if(!n&&a.length>0){let l=new r_(a,"ChainedTokenCredential authentication failed.");throw FU.getToken.info(Pn(e,l)),l}if(FU.getToken.info(`Result for ${o.constructor.name}: ${ks(e)}`),n===null)throw new Ot("Failed to retrieve a valid token");return{token:n,successfulCredential:o}})}};f();f();f();f();var Hc={};Io(Hc,{AuthError:()=>Pr,AuthErrorCodes:()=>O2,AuthErrorMessage:()=>MU,AzureCloudInstance:()=>rh,ClientApplication:()=>Ag,ClientAssertion:()=>uh,ClientAuthError:()=>eg,ClientAuthErrorCodes:()=>wi,ClientAuthErrorMessage:()=>UU,ClientConfigurationError:()=>W2,ClientConfigurationErrorCodes:()=>V2,ClientConfigurationErrorMessage:()=>WU,ClientCredentialClient:()=>hg,ConfidentialClientApplication:()=>Ax,CryptoProvider:()=>Td,DeviceCodeClient:()=>ux,DistributedCachePlugin:()=>Z9,InteractionRequiredAuthError:()=>Mc,InteractionRequiredAuthErrorCodes:()=>$R,InteractionRequiredAuthErrorMessage:()=>JH,LogLevel:()=>vo,Logger:()=>Fc,ManagedIdentityApplication:()=>hx,ManagedIdentitySourceNames:()=>wr,OnBehalfOfClient:()=>dx,PromptValue:()=>zm,ProtocolMode:()=>Wa,PublicClientApplication:()=>fx,ResponseMode:()=>Cd,ServerError:()=>p0,TokenCache:()=>Z2,TokenCacheContext:()=>Oc,UsernamePasswordClient:()=>lx,internals:()=>XH,version:()=>zu});f();var XH={};Io(XH,{Deserializer:()=>ch,Serializer:()=>$m});f();f();var $m=class{static{s(this,"Serializer")}static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,realm:o.realm,local_account_id:o.localAccountId,username:o.username,authority_type:o.authorityType,name:o.name,client_info:o.clientInfo,last_modification_time:o.lastModificationTime,last_modification_app:o.lastModificationApp,tenantProfiles:o.tenantProfiles?.map(a=>JSON.stringify(a))}}),r}static serializeIdTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm}}),r}static serializeAccessTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm,target:o.target,cached_at:o.cachedAt,expires_on:o.expiresOn,extended_expires_on:o.extendedExpiresOn,refresh_on:o.refreshOn,key_id:o.keyId,token_type:o.tokenType,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash}}),r}static serializeRefreshTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,family_id:o.familyId,target:o.target,realm:o.realm}}),r}static serializeAppMetadata(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={client_id:o.clientId,environment:o.environment,family_id:o.familyId}}),r}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}};f();f();f();f();f();f();f();f();f();var Fe={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Qr={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},K0=[Fe.OPENID_SCOPE,Fe.PROFILE_SCOPE,Fe.OFFLINE_ACCESS_SCOPE],LU=[...K0,Fe.EMAIL_SCOPE],Fi={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"};var J0={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Uy={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},zm={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},bR={PLAIN:"plain",S256:"S256"},F2={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"};var Cd={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},X0={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},Hy={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Fo={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},qn={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var s_="appmetadata",Bse="client_info",JA="1",L2={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},d0={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Ds={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Tn={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Ed={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},a_={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},c_={username:"username",password:"password"},qy={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},TR={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},ki={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"};var M2=300,Ca={BASE64:"base64",HEX:"hex",UTF8:"utf-8"};var O2={};Io(O2,{postRequestFailed:()=>u_,unexpectedError:()=>l_});f();var l_="unexpected_error",u_="post_request_failed";var _R={[l_]:"Unexpected error in authentication.",[u_]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},MU={unexpectedError:{code:l_,desc:_R[l_]},postRequestFailed:{code:u_,desc:_R[u_]}},Pr=class t extends Error{static{s(this,"AuthError")}constructor(e,r,n){let o=r?`${e}: ${r}`:e;super(o),Object.setPrototypeOf(this,t.prototype),this.errorCode=e||Fe.EMPTY_STRING,this.errorMessage=r||Fe.EMPTY_STRING,this.subError=n||Fe.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function OU(t,e){return new Pr(t,e?`${_R[t]} ${e}`:_R[t])}s(OU,"createAuthError");var wi={};Io(wi,{authTimeNotFound:()=>XA,authorizationCodeMissingFromServerResponse:()=>nC,bindingKeyNotRemoved:()=>I_,cannotAppendScopeSet:()=>eC,cannotRemoveEmptyScope:()=>Zy,clientInfoDecodingError:()=>jm,clientInfoEmptyError:()=>Gy,deviceCodeExpired:()=>h_,deviceCodePollingCancelled:()=>A_,deviceCodeUnknownError:()=>p_,emptyInputScopeSet:()=>Xm,endSessionEndpointNotSupported:()=>iC,endpointResolutionError:()=>A0,hashNotDeserialized:()=>$y,invalidAssertion:()=>y_,invalidCacheEnvironment:()=>eh,invalidCacheRecord:()=>tC,invalidClientCredential:()=>C_,invalidState:()=>Wu,keyIdMissing:()=>oC,maxAgeTranspired:()=>Ky,methodNotImplemented:()=>on,missingTenantIdError:()=>b_,multipleMatchingAccounts:()=>d_,multipleMatchingAppMetadata:()=>Jy,multipleMatchingTokens:()=>f_,nestedAppAuthBridgeDisabled:()=>T_,networkError:()=>Wy,noAccountFound:()=>m_,noAccountInSilentRequest:()=>ZA,noCryptoObject:()=>Zm,noNetworkConnectivity:()=>x_,nonceMismatch:()=>jy,nullOrEmptyToken:()=>Vy,openIdConfigError:()=>Yy,requestCannotBeMade:()=>Xy,stateMismatch:()=>zy,stateNotFound:()=>Jm,tokenClaimsCnfRequiredForSignedJwt:()=>rC,tokenParsingError:()=>Km,tokenRefreshRequired:()=>th,unexpectedCredentialType:()=>g_,userCanceled:()=>v_,userTimeoutReached:()=>E_});f();var jm="client_info_decoding_error",Gy="client_info_empty_error",Km="token_parsing_error",Vy="null_or_empty_token",A0="endpoints_resolution_error",Wy="network_error",Yy="openid_config_error",$y="hash_not_deserialized",Wu="invalid_state",zy="state_mismatch",Jm="state_not_found",jy="nonce_mismatch",XA="auth_time_not_found",Ky="max_age_transpired",f_="multiple_matching_tokens",d_="multiple_matching_accounts",Jy="multiple_matching_appMetadata",Xy="request_cannot_be_made",Zy="cannot_remove_empty_scope",eC="cannot_append_scopeset",Xm="empty_input_scopeset",A_="device_code_polling_cancelled",h_="device_code_expired",p_="device_code_unknown_error",ZA="no_account_in_silent_request",tC="invalid_cache_record",eh="invalid_cache_environment",m_="no_account_found",Zm="no_crypto_object",g_="unexpected_credential_type",y_="invalid_assertion",C_="invalid_client_credential",th="token_refresh_required",E_="user_timeout_reached",rC="token_claims_cnf_required_for_signedjwt",nC="authorization_code_missing_from_server_response",I_="binding_key_not_removed",iC="end_session_endpoint_not_supported",oC="key_id_missing",x_="no_network_connectivity",v_="user_canceled",b_="missing_tenant_id_error",on="method_not_implemented",T_="nested_app_auth_bridge_disabled";var Fr={[jm]:"The client info could not be parsed/decoded correctly",[Gy]:"The client info was empty",[Km]:"Token cannot be parsed",[Vy]:"The token is null or empty",[A0]:"Endpoints cannot be resolved",[Wy]:"Network request failed",[Yy]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[$y]:"The hash parameters could not be deserialized",[Wu]:"State was not the expected format",[zy]:"State mismatch error",[Jm]:"State not found",[jy]:"Nonce mismatch error",[XA]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Ky]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[f_]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[d_]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Jy]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Xy]:"Token request cannot be made without authorization code or refresh token.",[Zy]:"Cannot remove null or empty scope from ScopeSet",[eC]:"Cannot append ScopeSet",[Xm]:"Empty input ScopeSet cannot be processed",[A_]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[h_]:"Device code is expired.",[p_]:"Device code stopped polling for unknown reasons.",[ZA]:"Please pass an account object, silent flow is not supported without account information",[tC]:"Cache record object was null or undefined.",[eh]:"Invalid environment when attempting to create cache entry",[m_]:"No account found in cache for given key.",[Zm]:"No crypto object detected.",[g_]:"Unexpected credential type.",[y_]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[C_]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[th]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[E_]:"User defined timeout for device code polling reached",[rC]:"Cannot generate a POP jwt if the token_claims are not populated",[nC]:"Server response does not contain an authorization code to proceed",[I_]:"Could not remove the credential's binding key from storage.",[iC]:"The provided authority does not support logout",[oC]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[x_]:"No network connectivity. Check your internet connection.",[v_]:"User cancelled the flow.",[b_]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[on]:"This method has not been implemented",[T_]:"The nested app auth bridge is disabled"},UU={clientInfoDecodingError:{code:jm,desc:Fr[jm]},clientInfoEmptyError:{code:Gy,desc:Fr[Gy]},tokenParsingError:{code:Km,desc:Fr[Km]},nullOrEmptyToken:{code:Vy,desc:Fr[Vy]},endpointResolutionError:{code:A0,desc:Fr[A0]},networkError:{code:Wy,desc:Fr[Wy]},unableToGetOpenidConfigError:{code:Yy,desc:Fr[Yy]},hashNotDeserialized:{code:$y,desc:Fr[$y]},invalidStateError:{code:Wu,desc:Fr[Wu]},stateMismatchError:{code:zy,desc:Fr[zy]},stateNotFoundError:{code:Jm,desc:Fr[Jm]},nonceMismatchError:{code:jy,desc:Fr[jy]},authTimeNotFoundError:{code:XA,desc:Fr[XA]},maxAgeTranspired:{code:Ky,desc:Fr[Ky]},multipleMatchingTokens:{code:f_,desc:Fr[f_]},multipleMatchingAccounts:{code:d_,desc:Fr[d_]},multipleMatchingAppMetadata:{code:Jy,desc:Fr[Jy]},tokenRequestCannotBeMade:{code:Xy,desc:Fr[Xy]},removeEmptyScopeError:{code:Zy,desc:Fr[Zy]},appendScopeSetError:{code:eC,desc:Fr[eC]},emptyInputScopeSetError:{code:Xm,desc:Fr[Xm]},DeviceCodePollingCancelled:{code:A_,desc:Fr[A_]},DeviceCodeExpired:{code:h_,desc:Fr[h_]},DeviceCodeUnknownError:{code:p_,desc:Fr[p_]},NoAccountInSilentRequest:{code:ZA,desc:Fr[ZA]},invalidCacheRecord:{code:tC,desc:Fr[tC]},invalidCacheEnvironment:{code:eh,desc:Fr[eh]},noAccountFound:{code:m_,desc:Fr[m_]},noCryptoObj:{code:Zm,desc:Fr[Zm]},unexpectedCredentialType:{code:g_,desc:Fr[g_]},invalidAssertion:{code:y_,desc:Fr[y_]},invalidClientCredential:{code:C_,desc:Fr[C_]},tokenRefreshRequired:{code:th,desc:Fr[th]},userTimeoutReached:{code:E_,desc:Fr[E_]},tokenClaimsRequired:{code:rC,desc:Fr[rC]},noAuthorizationCodeFromServer:{code:nC,desc:Fr[nC]},bindingKeyNotRemovedError:{code:I_,desc:Fr[I_]},logoutNotSupported:{code:iC,desc:Fr[iC]},keyIdMissing:{code:oC,desc:Fr[oC]},noNetworkConnectivity:{code:x_,desc:Fr[x_]},userCanceledError:{code:v_,desc:Fr[v_]},missingTenantIdError:{code:b_,desc:Fr[b_]},nestedAppAuthBridgeDisabled:{code:T_,desc:Fr[T_]}},eg=class t extends Pr{static{s(this,"ClientAuthError")}constructor(e,r){super(e,r?`${Fr[e]}: ${r}`:Fr[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,t.prototype)}};function Ke(t,e){return new eg(t,e)}s(Ke,"createClientAuthError");var U2={createNewGuid:s(()=>{throw Ke(on)},"createNewGuid"),base64Decode:s(()=>{throw Ke(on)},"base64Decode"),base64Encode:s(()=>{throw Ke(on)},"base64Encode"),base64UrlEncode:s(()=>{throw Ke(on)},"base64UrlEncode"),encodeKid:s(()=>{throw Ke(on)},"encodeKid"),async getPublicKeyThumbprint(){throw Ke(on)},async removeTokenBindingKey(){throw Ke(on)},async clearKeystore(){throw Ke(on)},async signJwt(){throw Ke(on)},async hashString(){throw Ke(on)}};f();var vo;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(vo||(vo={}));var Fc=class t{static{s(this,"Logger")}constructor(e,r,n){this.level=vo.Info;let o=s(()=>{},"defaultLoggerCallback"),a=e||t.createDefaultLoggerOptions();this.localCallback=a.loggerCallback||o,this.piiLoggingEnabled=a.piiLoggingEnabled||!1,this.level=typeof a.logLevel=="number"?a.logLevel:vo.Info,this.correlationId=a.correlationId||Fe.EMPTY_STRING,this.packageName=r||Fe.EMPTY_STRING,this.packageVersion=n||Fe.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:s(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:vo.Info}}clone(e,r,n){return new t({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let a=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${vo[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,a,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:vo.Error,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:vo.Error,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:vo.Warning,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:vo.Warning,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:vo.Info,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:vo.Info,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:vo.Verbose,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:vo.Verbose,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:vo.Trace,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:vo.Trace,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};f();var wR="@azure/msal-common",H2="15.8.1";f();var rh={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};f();var Ns={};Io(Ns,{createAccessTokenEntity:()=>GU,createIdTokenEntity:()=>qU,createRefreshTokenEntity:()=>VU,generateAppMetadataKey:()=>n6e,generateAuthorityMetadataExpiresAt:()=>RR,generateCredentialKey:()=>S_,isAccessTokenEntity:()=>$Be,isAppMetadataEntity:()=>i6e,isAuthorityMetadataEntity:()=>o6e,isAuthorityMetadataExpired:()=>kR,isCredentialEntity:()=>BR,isIdTokenEntity:()=>zBe,isRefreshTokenEntity:()=>jBe,isServerTelemetryEntity:()=>t6e,isThrottlingEntity:()=>r6e,updateAuthorityEndpointMetadata:()=>G2,updateCloudDiscoveryMetadata:()=>B_});f();var SR={};Io(SR,{checkMaxAge:()=>__,extractTokenClaims:()=>nh,getJWSPayload:()=>Rse});f();function nh(t,e){let r=Rse(t);try{let n=e(r);return JSON.parse(n)}catch{throw Ke(Km)}}s(nh,"extractTokenClaims");function Rse(t){if(!t)throw Ke(Vy);let r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw Ke(Km);return r[2]}s(Rse,"getJWSPayload");function __(t,e){if(e===0||Date.now()-3e5>t+e)throw Ke(Ky)}s(__,"checkMaxAge");var zi={};Io(zi,{delay:()=>YBe,isTokenExpired:()=>q2,nowSeconds:()=>Lc,toDateFromSeconds:()=>w_,toSecondsFromDate:()=>WBe,wasClockTurnedBack:()=>HU});f();function Lc(){return Math.round(new Date().getTime()/1e3)}s(Lc,"nowSeconds");function WBe(t){return t.getTime()/1e3}s(WBe,"toSecondsFromDate");function w_(t){return t?new Date(Number(t)*1e3):new Date}s(w_,"toDateFromSeconds");function q2(t,e){let r=Number(t)||0;return Lc()+e>r}s(q2,"isTokenExpired");function HU(t){return Number(t)>Lc()}s(HU,"wasClockTurnedBack");function YBe(t,e){return new Promise(r=>setTimeout(()=>r(e),t))}s(YBe,"delay");function S_(t){return[KBe(t),JBe(t),XBe(t),ZBe(t),e6e(t)].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}s(S_,"generateCredentialKey");function qU(t,e,r,n,o){return{credentialType:qn.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:o}}s(qU,"createIdTokenEntity");function GU(t,e,r,n,o,a,c,l,u,d,A,h,p,y,E){let v={homeAccountId:t,credentialType:qn.ACCESS_TOKEN,secret:r,cachedAt:Lc().toString(),expiresOn:c.toString(),extendedExpiresOn:l.toString(),environment:e,clientId:n,realm:o,target:a,tokenType:A||Tn.BEARER};if(h&&(v.userAssertionHash=h),d&&(v.refreshOn=d.toString()),y&&(v.requestedClaims=y,v.requestedClaimsHash=E),v.tokenType?.toLowerCase()!==Tn.BEARER.toLowerCase())switch(v.credentialType=qn.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case Tn.POP:let w=nh(r,u);if(!w?.cnf?.kid)throw Ke(rC);v.keyId=w.cnf.kid;break;case Tn.SSH:v.keyId=p}return v}s(GU,"createAccessTokenEntity");function VU(t,e,r,n,o,a,c){let l={credentialType:qn.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r};return a&&(l.userAssertionHash=a),o&&(l.familyId=o),c&&(l.expiresOn=c.toString()),l}s(VU,"createRefreshTokenEntity");function BR(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}s(BR,"isCredentialEntity");function $Be(t){return t?BR(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===qn.ACCESS_TOKEN||t.credentialType===qn.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}s($Be,"isAccessTokenEntity");function zBe(t){return t?BR(t)&&t.hasOwnProperty("realm")&&t.credentialType===qn.ID_TOKEN:!1}s(zBe,"isIdTokenEntity");function jBe(t){return t?BR(t)&&t.credentialType===qn.REFRESH_TOKEN:!1}s(jBe,"isRefreshTokenEntity");function KBe(t){return[t.homeAccountId,t.environment].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}s(KBe,"generateAccountId");function JBe(t){let e=t.credentialType===qn.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}s(JBe,"generateCredentialId");function XBe(t){return(t.target||"").toLowerCase()}s(XBe,"generateTarget");function ZBe(t){return(t.requestedClaimsHash||"").toLowerCase()}s(ZBe,"generateClaimsHash");function e6e(t){return t.tokenType&&t.tokenType.toLowerCase()!==Tn.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}s(e6e,"generateScheme");function t6e(t,e){let r=t.indexOf(Ds.CACHE_KEY)===0,n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}s(t6e,"isServerTelemetryEntity");function r6e(t,e){let r=!1;t&&(r=t.indexOf(Ed.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}s(r6e,"isThrottlingEntity");function n6e({environment:t,clientId:e}){return[s_,t,e].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}s(n6e,"generateAppMetadataKey");function i6e(t,e){return e?t.indexOf(s_)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}s(i6e,"isAppMetadataEntity");function o6e(t,e){return e?t.indexOf(L2.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}s(o6e,"isAuthorityMetadataEntity");function RR(){return Lc()+L2.REFRESH_TIME_SECONDS}s(RR,"generateAuthorityMetadataExpiresAt");function G2(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}s(G2,"updateAuthorityEndpointMetadata");function B_(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}s(B_,"updateCloudDiscoveryMetadata");function kR(t){return t.expiresAt<=Lc()}s(kR,"isAuthorityMetadataExpired");f();f();var V2={};Io(V2,{authorityMismatch:()=>L_,authorityUriInsecure:()=>aC,cannotAllowPlatformBroker:()=>F_,cannotSetOIDCOptions:()=>P_,claimsRequestParsingError:()=>R_,emptyInputScopesError:()=>lC,invalidAuthenticationHeader:()=>Q_,invalidAuthorityMetadata:()=>AC,invalidClaims:()=>tg,invalidCloudDiscoveryMetadata:()=>rg,invalidCodeChallengeMethod:()=>k_,logoutRequestEmpty:()=>fC,missingNonceAuthenticationHeader:()=>N_,missingSshJwk:()=>ih,missingSshKid:()=>D_,pkceParamsMissing:()=>dC,redirectUriEmpty:()=>sC,tokenRequestEmpty:()=>uC,untrustedAuthority:()=>hC,urlEmptyError:()=>cC,urlParseError:()=>Id});f();var sC="redirect_uri_empty",R_="claims_request_parsing_error",aC="authority_uri_insecure",Id="url_parse_error",cC="empty_url_error",lC="empty_input_scopes_error",tg="invalid_claims",uC="token_request_empty",fC="logout_request_empty",k_="invalid_code_challenge_method",dC="pkce_params_missing",rg="invalid_cloud_discovery_metadata",AC="invalid_authority_metadata",hC="untrusted_authority",ih="missing_ssh_jwk",D_="missing_ssh_kid",N_="missing_nonce_authentication_header",Q_="invalid_authentication_header",P_="cannot_set_OIDCOptions",F_="cannot_allow_platform_broker",L_="authority_mismatch";var Lo={[sC]:"A redirect URI is required for all calls, and none has been set.",[R_]:"Could not parse the given claims request object.",[aC]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Id]:"URL could not be parsed into appropriate segments.",[cC]:"URL was empty or null.",[lC]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[tg]:"Given claims parameter must be a stringified JSON object.",[uC]:"Token request was empty and not found in cache.",[fC]:"The logout request was null or undefined.",[k_]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[dC]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[rg]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[AC]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[hC]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[ih]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[D_]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[N_]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Q_]:"Invalid authentication header provided",[P_]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[F_]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[L_]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},WU={redirectUriNotSet:{code:sC,desc:Lo[sC]},claimsRequestParsingError:{code:R_,desc:Lo[R_]},authorityUriInsecure:{code:aC,desc:Lo[aC]},urlParseError:{code:Id,desc:Lo[Id]},urlEmptyError:{code:cC,desc:Lo[cC]},emptyScopesError:{code:lC,desc:Lo[lC]},invalidClaimsRequest:{code:tg,desc:Lo[tg]},tokenRequestEmptyError:{code:uC,desc:Lo[uC]},logoutRequestEmptyError:{code:fC,desc:Lo[fC]},invalidCodeChallengeMethod:{code:k_,desc:Lo[k_]},invalidCodeChallengeParams:{code:dC,desc:Lo[dC]},invalidCloudDiscoveryMetadata:{code:rg,desc:Lo[rg]},invalidAuthorityMetadata:{code:AC,desc:Lo[AC]},untrustedAuthority:{code:hC,desc:Lo[hC]},missingSshJwk:{code:ih,desc:Lo[ih]},missingSshKid:{code:D_,desc:Lo[D_]},missingNonceAuthenticationHeader:{code:N_,desc:Lo[N_]},invalidAuthenticationHeader:{code:Q_,desc:Lo[Q_]},cannotSetOIDCOptions:{code:P_,desc:Lo[P_]},cannotAllowPlatformBroker:{code:F_,desc:Lo[F_]},authorityMismatch:{code:L_,desc:Lo[L_]}},W2=class t extends Pr{static{s(this,"ClientConfigurationError")}constructor(e){super(e,Lo[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t.prototype)}};function Si(t){return new W2(t)}s(Si,"createClientConfigurationError");f();var lo=class{static{s(this,"StringUtils")}static isEmptyObj(e){if(e)try{let r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){let r={},n=e.split("&"),o=s(a=>decodeURIComponent(a.replace(/\+/g," ")),"decode");return n.forEach(a=>{if(a.trim()){let[c,l]=a.split(/=(.+)/g,2);c&&l&&(r[o(c)]=o(l))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}};var gs=class t{static{s(this,"ScopeSet")}constructor(e){let r=e?lo.trimArrayEntries([...e]):[],n=r?lo.removeEmptyStringsFromArray(r):[];if(!n||!n.length)throw Si(lC);this.scopes=new Set,n.forEach(o=>this.scopes.add(o))}static fromString(e){let n=(e||Fe.EMPTY_STRING).split(" ");return new t(n)}static createSearchScopes(e){let r=new t(e);return r.containsOnlyOIDCScopes()?r.removeScope(Fe.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){let r=this.printScopesLowerCase().split(" "),n=new t(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return LU.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw Ke(eC)}}removeScope(e){if(!e)throw Ke(Zy);this.scopes.delete(e.trim())}removeOIDCScopes(){LU.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw Ke(Xm);let r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw Ke(Xm);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let r=this.unionScopeSets(e),n=e.getScopeCount(),o=this.getScopeCount();return r.size<o+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):Fe.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};f();f();function Y2(t,e){if(!t)throw Ke(Gy);try{let r=e(t);return JSON.parse(r)}catch{throw Ke(jm)}}s(Y2,"buildClientInfo");function xd(t){if(!t)throw Ke(jm);let e=t.split(Fo.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?Fe.EMPTY_STRING:e[1]}}s(xd,"buildClientInfoFromHomeAccountId");f();function kse(t,e){return!!t&&!!e&&t===e.split(".")[1]}s(kse,"tenantIdMatchesHomeTenant");function M_(t,e,r,n){if(n){let{oid:o,sub:a,tid:c,name:l,tfp:u,acr:d}=n,A=c||u||d||"";return{tenantId:A,localAccountId:o||a||"",name:l,isHomeTenant:kse(A,t)}}else return{tenantId:r,localAccountId:e,isHomeTenant:kse(r,t)}}s(M_,"buildTenantProfile");function DR(t,e,r,n){let o=t;if(e){let{isHomeTenant:a,...c}=e;o={...t,...c}}if(r){let{isHomeTenant:a,...c}=M_(t.homeAccountId,t.localAccountId,t.tenantId,r);return o={...o,...c,idTokenClaims:r,idToken:n},o}return o}s(DR,"updateAccountTenantProfileData");f();var Ql={Default:0,Adfs:1,Dsts:2,Ciam:3};f();function NR(t){return t&&(t.tid||t.tfp||t.acr)||null}s(NR,"getTenantIdFromIdTokenClaims");f();var Wa={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};var Ea=class t{static{s(this,"AccountEntity")}generateAccountId(){return[this.homeAccountId,this.environment].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let r=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",r||e.tenantId||""].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,r,n){let o=new t;r.authorityType===Ql.Adfs?o.authorityType=Hy.ADFS_ACCOUNT_TYPE:r.protocolMode===Wa.OIDC?o.authorityType=Hy.GENERIC_ACCOUNT_TYPE:o.authorityType=Hy.MSSTS_ACCOUNT_TYPE;let a;e.clientInfo&&n&&(a=Y2(e.clientInfo,n)),o.clientInfo=e.clientInfo,o.homeAccountId=e.homeAccountId,o.nativeAccountId=e.nativeAccountId;let c=e.environment||r&&r.getPreferredCache();if(!c)throw Ke(eh);o.environment=c,o.realm=a?.utid||NR(e.idTokenClaims)||"",o.localAccountId=a?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let l=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,u=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(o.username=l||u||"",o.name=e.idTokenClaims?.name||"",o.cloudGraphHostName=e.cloudGraphHostName,o.msGraphHost=e.msGraphHost,e.tenantProfiles)o.tenantProfiles=e.tenantProfiles;else{let d=M_(e.homeAccountId,o.localAccountId,o.realm,e.idTokenClaims);o.tenantProfiles=[d]}return o}static createFromAccountInfo(e,r,n){let o=new t;return o.authorityType=e.authorityType||Hy.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=r,o.msGraphHost=n,o.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),o}static generateHomeAccountId(e,r,n,o,a){if(!(r===Ql.Adfs||r===Ql.Dsts)){if(e)try{let c=Y2(e,o.base64Decode);if(c.uid&&c.utid)return`${c.uid}.${c.utid}`}catch{}n.warning("No client info in response")}return a?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let o=!0;if(n){let a=e.idTokenClaims||{},c=r.idTokenClaims||{};o=a.iat===c.iat&&a.nonce===c.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&o}};f();f();var Ia={};Io(Ia,{getDeserializedResponse:()=>YU,mapToQueryString:()=>vd,stripLeadingHashOrQuery:()=>Dse});f();function Dse(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}s(Dse,"stripLeadingHashOrQuery");function YU(t){if(!t||t.indexOf("=")<0)return null;try{let e=Dse(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch{throw Ke($y)}return null}s(YU,"getDeserializedResponse");function vd(t,e=!0,r){let n=new Array;return t.forEach((o,a)=>{!e&&r&&a in r?n.push(`${a}=${o}`):n.push(`${a}=${encodeURIComponent(o)}`)}),n.join("&")}s(vd,"mapToQueryString");var sn=class t{static{s(this,"UrlString")}get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Si(cC);e.includes("#")||(this._urlString=t.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return lo.endsWith(r,"?")?r=r.slice(0,-1):lo.endsWith(r,"?/")&&(r=r.slice(0,-2)),lo.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Si(Id)}if(!e.HostNameAndPort||!e.PathSegments)throw Si(Id);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Si(aC)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return t.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===J0.COMMON||n[0]===J0.ORGANIZATIONS)&&(n[0]=e),t.constructAuthorityUriFromObject(r)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw Si(Id);let n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},o=n.AbsolutePath.split("/");return o=o.filter(a=>a&&a.length>0),n.PathSegments=o,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw Si(Id);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===Fe.FORWARD_SLASH){let o=new t(r).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new t(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!YU(e)}};var Qse={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},$U=Qse.endpointMetadata,zU=Qse.instanceDiscoveryMetadata,jU=new Set;zU.metadata.forEach(t=>{t.aliases.forEach(e=>{jU.add(e)})});function Pse(t,e){let r,n=t.canonicalAuthority;if(n){let o=new sn(n).getUrlComponents().HostNameAndPort;r=Nse(o,t.cloudDiscoveryMetadata?.metadata,d0.CONFIG,e)||Nse(o,zU.metadata,d0.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}s(Pse,"getAliasesFromStaticSources");function Nse(t,e,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){let o=O_(e,t);if(o)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),o.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}s(Nse,"getAliasesFromMetadata");function Fse(t){return O_(zU.metadata,t)}s(Fse,"getCloudDiscoveryMetadataFromHardcodedValues");function O_(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(n.aliases.includes(e))return n}return null}s(O_,"getCloudDiscoveryMetadataFromNetworkResponse");f();f();var KU="cache_quota_exceeded",QR="cache_error_unknown";var JU={[KU]:"Exceeded cache storage capacity.",[QR]:"Unexpected error occurred when using cache storage."},U_=class t extends Pr{static{s(this,"CacheError")}constructor(e,r){let n=r||(JU[e]?JU[e]:JU[QR]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}};function Lse(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new U_(KU):new U_(t.name,t.message):new U_(QR)}s(Lse,"createCacheError");var ng=class{static{s(this,"CacheManager")}constructor(e,r,n,o,a){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(wR,H2),this.staticAuthorityOptions=a,this.performanceClient=o}getAllAccounts(e,r){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,r),r,e)}getAccountInfoFilteredBy(e,r){let n=this.getAllAccounts(e,r);return n.length>1?n.sort(a=>a.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e,r){let n=this.getAccountsFilteredBy(e,r);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,r,n){return e.flatMap(o=>this.getTenantProfilesFromAccountEntity(o,r,n?.tenantId,n))}getTenantedAccountInfoByFilter(e,r,n,o,a){let c=null,l;if(a&&!this.tenantProfileMatchesFilter(n,a))return null;let u=this.getIdToken(e,o,r,n.tenantId);return u&&(l=nh(u.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(l,a))?null:(c=DR(e,n,l,u?.secret),c)}getTenantProfilesFromAccountEntity(e,r,n,o){let a=e.getAccountInfo(),c=a.tenantProfiles||new Map,l=this.getTokenKeys();if(n){let d=c.get(n);if(d)c=new Map([[n,d]]);else return[]}let u=[];return c.forEach(d=>{let A=this.getTenantedAccountInfoByFilter(a,l,d,r,o);A&&u.push(A)}),u}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){if(!e)throw Ke(tC);try{e.account&&await this.setAccount(e.account,r),e.idToken&&n?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,r),e.accessToken&&n?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,r),e.refreshToken&&n?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,r),e.appMetadata&&this.setAppMetadata(e.appMetadata,r)}catch(o){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),o instanceof Pr?o:Lse(o)}}async saveAccessToken(e,r){let n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=this.getTokenKeys(),a=gs.fromString(e.target);o.accessToken.forEach(c=>{if(!this.accessTokenKeyMatchesFilter(c,n,!1))return;let l=this.getAccessTokenCredential(c,r);l&&this.credentialMatchesFilter(l,n)&&gs.fromString(l.target).intersectingScopeSets(a)&&this.removeAccessToken(c,r)}),await this.setAccessTokenCredential(e,r)}getAccountsFilteredBy(e,r){let n=this.getAccountKeys(),o=[];return n.forEach(a=>{if(!this.isAccountKey(a,e.homeAccountId))return;let c=this.getAccount(a,r);if(!c||e.homeAccountId&&!this.matchHomeAccountId(c,e.homeAccountId)||e.username&&!this.matchUsername(c.username,e.username)||e.environment&&!this.matchEnvironment(c,e.environment)||e.realm&&!this.matchRealm(c,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(c,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(c,e.authorityType))return;let l={localAccountId:e?.localAccountId,name:e?.name},u=c.tenantProfiles?.filter(d=>this.tenantProfileMatchesFilter(d,l));u&&u.length===0||o.push(c)}),o}isAccountKey(e,r,n){return!(e.split(Fo.CACHE_KEY_SEPARATOR).length<3||r&&!e.toLowerCase().includes(r.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Fo.CACHE_KEY_SEPARATOR).length<6)return!1;let r=e.toLowerCase();if(r.indexOf(qn.ID_TOKEN.toLowerCase())===-1&&r.indexOf(qn.ACCESS_TOKEN.toLowerCase())===-1&&r.indexOf(qn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&r.indexOf(qn.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(r.indexOf(qn.REFRESH_TOKEN.toLowerCase())>-1){let n=`${qn.REFRESH_TOKEN}${Fo.CACHE_KEY_SEPARATOR}${this.clientId}${Fo.CACHE_KEY_SEPARATOR}`,o=`${qn.REFRESH_TOKEN}${Fo.CACHE_KEY_SEPARATOR}${JA}${Fo.CACHE_KEY_SEPARATOR}`;if(r.indexOf(n.toLowerCase())===-1&&r.indexOf(o.toLowerCase())===-1)return!1}else if(r.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===qn.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===Tn.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){let r=this.getKeys(),n={};return r.forEach(o=>{if(!this.isAppMetadata(o))return;let a=this.getAppMetadata(o);a&&(e.environment&&!this.matchEnvironment(a,e.environment)||e.clientId&&!this.matchClientId(a,e.clientId)||(n[o]=a))}),n}getAuthorityMetadataByAlias(e){let r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(o=>{if(!this.isAuthorityMetadata(o)||o.indexOf(this.clientId)===-1)return;let a=this.getAuthorityMetadata(o);a&&a.aliases.indexOf(e)!==-1&&(n=a)}),n}removeAllAccounts(e){this.getAccountKeys().forEach(n=>{this.removeAccount(n,e)})}removeAccount(e,r){let n=this.getAccount(e,r);n&&(this.removeAccountContext(n,r),this.removeItem(e,r))}removeAccountContext(e,r){let n=this.getTokenKeys(),o=e.generateAccountId();n.idToken.forEach(a=>{a.indexOf(o)===0&&this.removeIdToken(a,r)}),n.accessToken.forEach(a=>{a.indexOf(o)===0&&this.removeAccessToken(a,r)}),n.refreshToken.forEach(a=>{a.indexOf(o)===0&&this.removeRefreshToken(a,r)})}removeAccessToken(e,r){let n=this.getAccessTokenCredential(e,r);if(this.removeItem(e,r),this.performanceClient.incrementFields({accessTokensRemoved:1},r),!n||n.credentialType.toLowerCase()!==qn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==Tn.POP)return;let o=n.keyId;o&&this.cryptoImpl.removeTokenBindingKey(o).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${o}`,r),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},r)})}removeAppMetadata(e){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,e)}),!0}readAccountFromCache(e,r){let n=Ea.generateAccountCacheKey(e);return this.getAccount(n,r)}getIdToken(e,r,n,o,a){this.commonLogger.trace("CacheManager - getIdToken called");let c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:qn.ID_TOKEN,clientId:this.clientId,realm:o},l=this.getIdTokensByFilter(c,r,n),u=l.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(u>1){let d=l;if(!o){let A=new Map;l.forEach((p,y)=>{p.realm===e.tenantId&&A.set(y,p)});let h=A.size;if(h<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),l.values().next().value;if(h===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),A.values().next().value;d=A}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((A,h)=>{this.removeIdToken(h,r)}),a&&r&&a.addFields({multiMatchedID:l.size},r),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),l.values().next().value}getIdTokensByFilter(e,r,n){let o=n&&n.idToken||this.getTokenKeys().idToken,a=new Map;return o.forEach(c=>{if(!this.idTokenKeyMatchesFilter(c,{clientId:this.clientId,...e}))return;let l=this.getIdTokenCredential(c,r);l&&this.credentialMatchesFilter(l,e)&&a.set(c,l)}),a}idTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e,r){this.removeItem(e,r)}removeRefreshToken(e,r){this.removeItem(e,r)}getAccessToken(e,r,n,o){let a=r.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",a);let c=gs.createSearchScopes(r.scopes),l=r.authenticationScheme||Tn.BEARER,u=l&&l.toLowerCase()!==Tn.BEARER.toLowerCase()?qn.ACCESS_TOKEN_WITH_AUTH_SCHEME:qn.ACCESS_TOKEN,d={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:u,clientId:this.clientId,realm:o||e.tenantId,target:c,tokenType:l,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},A=n&&n.accessToken||this.getTokenKeys().accessToken,h=[];A.forEach(y=>{if(this.accessTokenKeyMatchesFilter(y,d,!0)){let E=this.getAccessTokenCredential(y,a);E&&this.credentialMatchesFilter(E,d)&&h.push(E)}});let p=h.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",a),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",a),h.forEach(y=>{this.removeAccessToken(S_(y),a)}),this.performanceClient.addFields({multiMatchedAT:h.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",a),h[0])}accessTokenKeyMatchesFilter(e,r,n){let o=e.toLowerCase();if(r.clientId&&o.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&o.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&o.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&o.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){let a=r.target.asArray();for(let c=0;c<a.length;c++){if(n&&!o.includes(a[c].toLowerCase()))return!1;if(!n&&o.includes(a[c].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,r){let n=this.getTokenKeys(),o=[];return n.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,e,!0))return;let c=this.getAccessTokenCredential(a,r);c&&this.credentialMatchesFilter(c,e)&&o.push(c)}),o}getRefreshToken(e,r,n,o,a){this.commonLogger.trace("CacheManager - getRefreshToken called");let c=r?JA:void 0,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:qn.REFRESH_TOKEN,clientId:this.clientId,familyId:c},u=o&&o.refreshToken||this.getTokenKeys().refreshToken,d=[];u.forEach(h=>{if(this.refreshTokenKeyMatchesFilter(h,l)){let p=this.getRefreshTokenCredential(h,n);p&&this.credentialMatchesFilter(p,l)&&d.push(p)}});let A=d.length;return A<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(A>1&&a&&n&&a.addFields({multiMatchedRT:A},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),o=Object.keys(n).map(c=>n[c]),a=o.length;if(a<1)return null;if(a>1)throw Ke(Jy);return o[0]}isAppMetadataFOCI(e){let r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===JA)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){let n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){return r.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,r){return!!(e&&typeof e=="string"&&r?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){let o=Pse(this.staticAuthorityOptions,this.commonLogger);if(o.includes(r)&&o.includes(e.environment))return!0}let n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){return e.realm?.toLowerCase()===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==qn.ACCESS_TOKEN&&e.credentialType!==qn.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:gs.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(s_)!==-1}isAuthorityMetadata(e){return e.indexOf(L2.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${L2.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(let n in r)e[n]=r[n];return e}},H_=class extends ng{static{s(this,"DefaultStorageClass")}async setAccount(){throw Ke(on)}getAccount(){throw Ke(on)}async setIdTokenCredential(){throw Ke(on)}getIdTokenCredential(){throw Ke(on)}async setAccessTokenCredential(){throw Ke(on)}getAccessTokenCredential(){throw Ke(on)}async setRefreshTokenCredential(){throw Ke(on)}getRefreshTokenCredential(){throw Ke(on)}setAppMetadata(){throw Ke(on)}getAppMetadata(){throw Ke(on)}setServerTelemetry(){throw Ke(on)}getServerTelemetry(){throw Ke(on)}setAuthorityMetadata(){throw Ke(on)}getAuthorityMetadata(){throw Ke(on)}getAuthorityMetadataKeys(){throw Ke(on)}setThrottlingCache(){throw Ke(on)}getThrottlingCache(){throw Ke(on)}removeItem(){throw Ke(on)}getKeys(){throw Ke(on)}getAccountKeys(){throw Ke(on)}getTokenKeys(){throw Ke(on)}};f();f();var Ne={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},N_t=new Map([[Ne.AcquireTokenByCode,"ATByCode"],[Ne.AcquireTokenByRefreshToken,"ATByRT"],[Ne.AcquireTokenSilent,"ATS"],[Ne.AcquireTokenSilentAsync,"ATSAsync"],[Ne.AcquireTokenPopup,"ATPopup"],[Ne.AcquireTokenRedirect,"ATRedirect"],[Ne.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[Ne.CryptoOptsSignJwt,"CryptoSignJwt"],[Ne.SilentCacheClientAcquireToken,"SltCacheClientAT"],[Ne.SilentIframeClientAcquireToken,"SltIframeClientAT"],[Ne.SilentRefreshClientAcquireToken,"SltRClientAT"],[Ne.SsoSilent,"SsoSlt"],[Ne.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[Ne.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[Ne.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[Ne.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[Ne.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[Ne.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[Ne.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[Ne.BrokerHandhshake,"BrokerHandshake"],[Ne.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[Ne.AcquireTokenByBroker,"ATByBroker"],[Ne.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[Ne.RefreshTokenClientAcquireToken,"RTClientAT"],[Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[Ne.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[Ne.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[Ne.AcquireTokenFromCache,"ATFromCache"],[Ne.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[Ne.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[Ne.AcquireTokenBySilentIframe,"ATBySltIframe"],[Ne.InitializeBaseRequest,"InitBaseReq"],[Ne.InitializeSilentRequest,"InitSltReq"],[Ne.InitializeClientApplication,"InitClientApplication"],[Ne.InitializeCache,"InitCache"],[Ne.ImportExistingCache,"importCache"],[Ne.SetUserData,"setUserData"],[Ne.LocalStorageUpdated,"localStorageUpdated"],[Ne.SilentIframeClientTokenHelper,"SIClientTHelper"],[Ne.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[Ne.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[Ne.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[Ne.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[Ne.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[Ne.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[Ne.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[Ne.GetAuthCodeUrl,"GetAuthCodeUrl"],[Ne.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[Ne.HandleCodeResponse,"HandleCodeResp"],[Ne.HandleResponseEar,"HandleRespEar"],[Ne.HandleResponseCode,"HandleRespCode"],[Ne.HandleResponsePlatformBroker,"HandleRespPlatBroker"],[Ne.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[Ne.AuthClientAcquireToken,"AuthClientAT"],[Ne.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[Ne.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[Ne.PopTokenGenerateCnf,"PopTGenCnf"],[Ne.PopTokenGenerateKid,"PopTGenKid"],[Ne.HandleServerTokenResponse,"HandleServerTRes"],[Ne.DeserializeResponse,"DeserializeRes"],[Ne.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[Ne.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[Ne.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[Ne.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[Ne.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[Ne.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[Ne.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[Ne.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[Ne.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[Ne.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[Ne.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[Ne.AcquireTokenByCodeAsync,"ATByCodeAsync"],[Ne.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[Ne.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[Ne.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[Ne.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[Ne.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[Ne.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[Ne.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[Ne.NativeGenerateAuthResult,"NtvGenAuthRes"],[Ne.RemoveHiddenIframe,"RemoveHiddenIframe"],[Ne.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[Ne.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[Ne.GeneratePkceCodes,"GenPkceCodes"],[Ne.GenerateCodeVerifier,"GenCodeVerifier"],[Ne.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[Ne.Sha256Digest,"Sha256Digest"],[Ne.GetRandomValues,"GetRandomValues"],[Ne.GenerateHKDF,"genHKDF"],[Ne.GenerateBaseKey,"genBaseKey"],[Ne.Base64Decode,"b64Decode"],[Ne.UrlEncodeArr,"urlEncArr"],[Ne.Encrypt,"encrypt"],[Ne.Decrypt,"decrypt"],[Ne.GenerateEarKey,"genEarKey"],[Ne.DecryptEarResponse,"decryptEarResp"]]),Mse={NotStarted:0,InProgress:1,Completed:2};var PR=class{static{s(this,"StubPerformanceMeasurement")}startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},pC=class{static{s(this,"StubPerformanceClient")}generateId(){return"callback-id"}startMeasurement(e,r){return{end:s(()=>null,"end"),discard:s(()=>{},"discard"),add:s(()=>{},"add"),increment:s(()=>{},"increment"),event:{eventId:this.generateId(),status:Mse.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:r||""},measurement:new PR}}startPerformanceMeasurement(){return new PR}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var s6e={tokenRenewalOffsetSeconds:M2,preventCorsPreflight:!1},a6e={loggerCallback:s(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:vo.Info,correlationId:Fe.EMPTY_STRING},c6e={claimsBasedCachingEnabled:!1},l6e={async sendGetRequestAsync(){throw Ke(on)},async sendPostRequestAsync(){throw Ke(on)}},u6e={sku:Fe.SKU,version:H2,cpu:Fe.EMPTY_STRING,os:Fe.EMPTY_STRING},f6e={clientSecret:Fe.EMPTY_STRING,clientAssertion:void 0},d6e={azureCloudInstance:rh.None,tenant:`${Fe.DEFAULT_COMMON_TENANT}`},A6e={application:{appName:"",appVersion:""}};function Ose({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:o,networkInterface:a,cryptoInterface:c,clientCredentials:l,libraryInfo:u,telemetry:d,serverTelemetryManager:A,persistencePlugin:h,serializableCache:p}){let y={...a6e,...r};return{authOptions:h6e(t),systemOptions:{...s6e,...e},loggerOptions:y,cacheOptions:{...c6e,...n},storageInterface:o||new H_(t.clientId,U2,new Fc(y),new pC),networkInterface:a||l6e,cryptoInterface:c||U2,clientCredentials:l||f6e,libraryInfo:{...u6e,...u},telemetry:{...A6e,...d},serverTelemetryManager:A||null,persistencePlugin:h||null,serializableCache:p||null}}s(Ose,"buildClientConfiguration");function h6e(t){return{clientCapabilities:[],azureCloudOptions:d6e,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}s(h6e,"buildAuthOptions");function FR(t){return t.authOptions.authority.options.protocolMode===Wa.OIDC}s(FR,"isOidcProtocolMode");f();var h0={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var Tt={};Io(Tt,{addApplicationTelemetry:()=>V_,addAuthorizationCode:()=>qH,addBrokerParameters:()=>ah,addCcsOid:()=>oh,addCcsUpn:()=>ig,addClaims:()=>IC,addClientAssertion:()=>$_,addClientAssertionType:()=>z_,addClientCapabilitiesToClaims:()=>Use,addClientId:()=>CC,addClientInfo:()=>vC,addClientSecret:()=>Y_,addCodeChallengeParams:()=>B6e,addCodeVerifier:()=>VH,addCorrelationId:()=>xC,addDeviceCode:()=>R6e,addDomainHint:()=>OH,addEARParameters:()=>P6e,addExtraQueryParameters:()=>sh,addGrantType:()=>j_,addIdTokenHint:()=>MH,addInstanceAware:()=>K_,addLibraryInfo:()=>G_,addLoginHint:()=>z2,addLogoutHint:()=>WH,addNativeBroker:()=>S6e,addNonce:()=>HH,addOboAssertion:()=>k6e,addPassword:()=>Q6e,addPopToken:()=>J_,addPostLogoutRedirectUri:()=>LH,addPrompt:()=>UH,addRedirectUri:()=>EC,addRefreshToken:()=>GH,addRequestTokenUse:()=>D6e,addResponseMode:()=>FH,addResponseType:()=>w6e,addScopes:()=>yC,addServerTelemetry:()=>Z_,addSid:()=>qR,addSshJwk:()=>X_,addState:()=>W_,addThrottling:()=>e4,addUsername:()=>N6e,instrumentBrokerParams:()=>gC});f();var mC={};Io(mC,{ACCESS_TOKEN:()=>g6e,BROKER_CLIENT_ID:()=>q_,BROKER_REDIRECT_URI:()=>HR,CCS_HEADER:()=>T6e,CLAIMS:()=>tH,CLIENT_ASSERTION:()=>TH,CLIENT_ASSERTION_TYPE:()=>_H,CLIENT_ID:()=>bd,CLIENT_INFO:()=>x6e,CLIENT_REQUEST_ID:()=>fH,CLIENT_SECRET:()=>bH,CODE:()=>aH,CODE_CHALLENGE:()=>cH,CODE_CHALLENGE_METHOD:()=>lH,CODE_VERIFIER:()=>uH,DEVICE_CODE:()=>vH,DOMAIN_HINT:()=>NH,EAR_JWE_CRYPTO:()=>PH,EAR_JWK:()=>QH,ERROR:()=>p6e,ERROR_DESCRIPTION:()=>m6e,EXPIRES_IN:()=>C6e,FOCI:()=>b6e,GRANT_TYPE:()=>eH,ID_TOKEN:()=>y6e,ID_TOKEN_HINT:()=>xH,INSTANCE_AWARE:()=>$2,LOGIN_HINT:()=>DH,LOGOUT_HINT:()=>RH,NATIVE_BROKER:()=>BH,NONCE:()=>oH,OBO_ASSERTION:()=>wH,ON_BEHALF_OF:()=>v6e,POST_LOGOUT_URI:()=>IH,PROMPT:()=>sH,REDIRECT_URI:()=>LR,REFRESH_TOKEN:()=>nH,REFRESH_TOKEN_EXPIRES_IN:()=>E6e,REQUESTED_TOKEN_USE:()=>SH,REQ_CNF:()=>OR,RESPONSE_MODE:()=>ZU,RESPONSE_TYPE:()=>XU,RETURN_SPA_CODE:()=>UR,SCOPE:()=>rH,SESSION_STATE:()=>I6e,SID:()=>kH,STATE:()=>iH,TOKEN_TYPE:()=>MR,X_APP_NAME:()=>CH,X_APP_VER:()=>EH,X_CLIENT_CPU:()=>pH,X_CLIENT_CURR_TELEM:()=>mH,X_CLIENT_EXTRA_SKU:()=>_6e,X_CLIENT_LAST_TELEM:()=>gH,X_CLIENT_OS:()=>hH,X_CLIENT_SKU:()=>dH,X_CLIENT_VER:()=>AH,X_MS_LIB_CAPABILITY:()=>yH});f();var bd="client_id",LR="redirect_uri",XU="response_type",ZU="response_mode",eH="grant_type",tH="claims",rH="scope",p6e="error",m6e="error_description",g6e="access_token",y6e="id_token",nH="refresh_token",C6e="expires_in",E6e="refresh_token_expires_in",iH="state",oH="nonce",sH="prompt",I6e="session_state",x6e="client_info",aH="code",cH="code_challenge",lH="code_challenge_method",uH="code_verifier",fH="client-request-id",dH="x-client-SKU",AH="x-client-VER",hH="x-client-OS",pH="x-client-CPU",mH="x-client-current-telemetry",gH="x-client-last-telemetry",yH="x-ms-lib-capability",CH="x-app-name",EH="x-app-ver",IH="post_logout_redirect_uri",xH="id_token_hint",vH="device_code",bH="client_secret",TH="client_assertion",_H="client_assertion_type",MR="token_type",OR="req_cnf",wH="assertion",SH="requested_token_use",v6e="on_behalf_of",b6e="foci",T6e="X-AnchorMailbox",UR="return_spa_code",BH="nativebroker",RH="logout_hint",kH="sid",DH="login_hint",NH="domain_hint",_6e="x-client-xtra-sku",q_="brk_client_id",HR="brk_redirect_uri",$2="instance_aware",QH="ear_jwk",PH="ear_jwe_crypto";function gC(t,e,r){if(!e)return;let n=t.get(bd);n&&t.has(q_)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:t.get(LR)},e)}s(gC,"instrumentBrokerParams");function w6e(t,e){t.set(XU,e)}s(w6e,"addResponseType");function FH(t,e){t.set(ZU,e||Cd.QUERY)}s(FH,"addResponseMode");function S6e(t){t.set(BH,"1")}s(S6e,"addNativeBroker");function yC(t,e,r=!0,n=K0){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");let o=r?[...e||[],...n]:e||[],a=new gs(o);t.set(rH,a.printScopes())}s(yC,"addScopes");function CC(t,e){t.set(bd,e)}s(CC,"addClientId");function EC(t,e){t.set(LR,e)}s(EC,"addRedirectUri");function LH(t,e){t.set(IH,e)}s(LH,"addPostLogoutRedirectUri");function MH(t,e){t.set(xH,e)}s(MH,"addIdTokenHint");function OH(t,e){t.set(NH,e)}s(OH,"addDomainHint");function z2(t,e){t.set(DH,e)}s(z2,"addLoginHint");function ig(t,e){t.set(Fi.CCS_HEADER,`UPN:${e}`)}s(ig,"addCcsUpn");function oh(t,e){t.set(Fi.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}s(oh,"addCcsOid");function qR(t,e){t.set("sid",e)}s(qR,"addSid");function IC(t,e,r){let n=Use(e,r);try{JSON.parse(n)}catch{throw Si(tg)}t.set(tH,n)}s(IC,"addClaims");function xC(t,e){t.set(fH,e)}s(xC,"addCorrelationId");function G_(t,e){t.set(dH,e.sku),t.set(AH,e.version),e.os&&t.set(hH,e.os),e.cpu&&t.set(pH,e.cpu)}s(G_,"addLibraryInfo");function V_(t,e){e?.appName&&t.set(CH,e.appName),e?.appVersion&&t.set(EH,e.appVersion)}s(V_,"addApplicationTelemetry");function UH(t,e){t.set(sH,e)}s(UH,"addPrompt");function W_(t,e){e&&t.set(iH,e)}s(W_,"addState");function HH(t,e){t.set(oH,e)}s(HH,"addNonce");function B6e(t,e,r){if(e&&r)t.set(cH,e),t.set(lH,r);else throw Si(dC)}s(B6e,"addCodeChallengeParams");function qH(t,e){t.set(aH,e)}s(qH,"addAuthorizationCode");function R6e(t,e){t.set(vH,e)}s(R6e,"addDeviceCode");function GH(t,e){t.set(nH,e)}s(GH,"addRefreshToken");function VH(t,e){t.set(uH,e)}s(VH,"addCodeVerifier");function Y_(t,e){t.set(bH,e)}s(Y_,"addClientSecret");function $_(t,e){e&&t.set(TH,e)}s($_,"addClientAssertion");function z_(t,e){e&&t.set(_H,e)}s(z_,"addClientAssertionType");function k6e(t,e){t.set(wH,e)}s(k6e,"addOboAssertion");function D6e(t,e){t.set(SH,e)}s(D6e,"addRequestTokenUse");function j_(t,e){t.set(eH,e)}s(j_,"addGrantType");function vC(t){t.set(Bse,"1")}s(vC,"addClientInfo");function K_(t){t.has($2)||t.set($2,"true")}s(K_,"addInstanceAware");function sh(t,e){Object.entries(e).forEach(([r,n])=>{!t.has(r)&&n&&t.set(r,n)})}s(sh,"addExtraQueryParameters");function Use(t,e){let r;if(!t)r={};else try{r=JSON.parse(t)}catch{throw Si(tg)}return e&&e.length>0&&(r.hasOwnProperty(Uy.ACCESS_TOKEN)||(r[Uy.ACCESS_TOKEN]={}),r[Uy.ACCESS_TOKEN][Uy.XMS_CC]={values:e}),JSON.stringify(r)}s(Use,"addClientCapabilitiesToClaims");function N6e(t,e){t.set(c_.username,e)}s(N6e,"addUsername");function Q6e(t,e){t.set(c_.password,e)}s(Q6e,"addPassword");function J_(t,e){e&&(t.set(MR,Tn.POP),t.set(OR,e))}s(J_,"addPopToken");function X_(t,e){e&&(t.set(MR,Tn.SSH),t.set(OR,e))}s(X_,"addSshJwk");function Z_(t,e){t.set(mH,e.generateCurrentRequestHeaderValue()),t.set(gH,e.generateLastRequestHeaderValue())}s(Z_,"addServerTelemetry");function e4(t){t.set(yH,Ed.X_MS_LIB_CAPABILITY_VALUE)}s(e4,"addThrottling");function WH(t,e){t.set(RH,e)}s(WH,"addLogoutHint");function ah(t,e,r){t.has(q_)||t.set(q_,e),t.has(HR)||t.set(HR,r)}s(ah,"addBrokerParameters");function P6e(t,e){t.set(QH,encodeURIComponent(e)),t.set(PH,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}s(P6e,"addEARParameters");var VR={};Io(VR,{createDiscoveredInstance:()=>$H});f();f();f();function Hse(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}s(Hse,"isOpenIdConfigResponse");f();function qse(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}s(qse,"isCloudInstanceDiscoveryResponse");f();function Gse(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}s(Gse,"isCloudInstanceDiscoveryErrorResponse");f();f();var Vse=s((t,e,r,n,o)=>(...a)=>{r.trace(`Executing function ${e}`);let c=n?.startMeasurement(e,o);if(o){let l=e+"CallCount";n?.incrementFields({[l]:1},o)}try{let l=t(...a);return c?.end({success:!0}),r.trace(`Returning result from ${e}`),l}catch(l){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(l))}catch{r.trace("Unable to print error message.")}throw c?.end({success:!1},l),l}},"invoke"),_n=s((t,e,r,n,o)=>(...a)=>{r.trace(`Executing function ${e}`);let c=n?.startMeasurement(e,o);if(o){let l=e+"CallCount";n?.incrementFields({[l]:1},o)}return n?.setPreQueueTime(e,o),t(...a).then(l=>(r.trace(`Returning result from ${e}`),c?.end({success:!0}),l)).catch(l=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(l))}catch{r.trace("Unable to print error message.")}throw c?.end({success:!1},l),l})},"invokeAsync");var t4=class t{static{s(this,"RegionDiscovery")}constructor(e,r,n,o){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=o}async detectRegion(e,r){this.performanceClient?.addQueueMeasurement(Ne.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=qy.ENVIRONMENT_VARIABLE;else{let o=t.IMDS_OPTIONS;try{let a=await _n(this.getRegionFromIMDS.bind(this),Ne.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(Fe.IMDS_VERSION,o);if(a.status===Qr.SUCCESS&&(n=a.body,r.region_source=qy.IMDS),a.status===Qr.BAD_REQUEST){let c=await _n(this.getCurrentVersion.bind(this),Ne.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!c)return r.region_source=qy.FAILED_AUTO_DETECTION,null;let l=await _n(this.getRegionFromIMDS.bind(this),Ne.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(c,o);l.status===Qr.SUCCESS&&(n=l.body,r.region_source=qy.IMDS)}}catch{return r.region_source=qy.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=qy.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){return this.performanceClient?.addQueueMeasurement(Ne.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Fe.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,Fe.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(Ne.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=await this.networkInterface.sendGetRequestAsync(`${Fe.IMDS_ENDPOINT}?format=json`,e);return r.status===Qr.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}};t4.IMDS_OPTIONS={headers:{Metadata:"true"}};var Yu=class t{static{s(this,"Authority")}constructor(e,r,n,o,a,c,l,u){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=a,this.performanceClient=l,this.correlationId=c,this.managedIdentity=u||!1,this.regionDiscovery=new t4(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Fe.CIAM_AUTH_URL))return Ql.Ciam;let r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case Fe.ADFS:return Ql.Adfs;case Fe.DSTS:return Ql.Dsts}return Ql.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new sn(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Ke(A0)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Ke(A0)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Ke(A0)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Ke(iC);return this.replacePath(this.metadata.end_session_endpoint)}else throw Ke(A0)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Ke(A0)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Ke(A0)}canReplaceTenant(e){return e.PathSegments.length===1&&!t.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Ql.Default&&this.protocolMode!==Wa.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e,o=new sn(this.metadata.canonical_authority).getUrlComponents(),a=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((l,u)=>{let d=a[u];if(u===0&&this.canReplaceTenant(o)){let A=new sn(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==A&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${A}`),d=A)}l!==d&&(r=r.replace(`/${d}/`,`/${l}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Ql.Adfs||this.protocolMode===Wa.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Ne.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),r=await _n(this.updateCloudDiscoveryMetadata.bind(this),Ne.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=await _n(this.updateEndpointMetadata.bind(this),Ne.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:RR(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==d0.CACHE&&n?.source!==d0.CACHE&&(e.expiresAt=RR(),e.canonical_authority=this.canonicalAuthority);let o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(Ne.AuthorityUpdateEndpointMetadata,this.correlationId);let r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===d0.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){let o=await _n(this.updateMetadataWithRegionalInformation.bind(this),Ne.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);G2(e,o,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await _n(this.getEndpointMetadataFromNetwork.bind(this),Ne.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await _n(this.updateMetadataWithRegionalInformation.bind(this),Ne.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),G2(e,n,!0),d0.NETWORK;throw Ke(Yy,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),G2(e,r,!1),{source:d0.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let o=this.getEndpointMetadataFromHardcodedValues();if(o)return G2(e,o,!1),{source:d0.HARDCODED_VALUES,metadata:o};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let n=kR(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:d0.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new sn(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Si(AC)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Ne.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{let n=await this.networkInterface.sendGetRequestAsync(r,e);return Hse(n.body)?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in $U?$U[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(Ne.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let r=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==Fe.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=TR.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,t.replaceWithRegionalInformation(e,r);let n=await _n(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Ne.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=TR.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,t.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=TR.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(Ne.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;let n=await _n(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Ne.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return B_(e,n,!0),d0.NETWORK;throw Si(hC)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Fe.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Fe.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Fe.NOT_APPLICABLE}`);let r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),B_(e,r,!1),d0.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let o=Fse(this.hostnameAndPort);if(o)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),B_(e,o,!1),d0.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let n=kR(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),d0.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Ql.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=O_(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Si(rg)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Ne.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${Fe.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={},n=null;try{let o=await this.networkInterface.sendGetRequestAsync(e,r),a,c;if(qse(o.body))a=o.body,c=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(Gse(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),a=o.body,a.error===Fe.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),c=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=O_(c,this.hostnameAndPort)}catch(o){if(o instanceof Pr)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{let a=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&sn.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==rh.None){let o=r.tenant?r.tenant:Fe.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${o}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Fe.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Ke(A0)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return jU.has(e)}static isPublicCloudAuthority(e){return Fe.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){let o=new sn(e);o.validateAsUri();let a=o.getUrlComponents(),c=`${r}.${a.HostNameAndPort}`;this.isPublicCloudAuthority(a.HostNameAndPort)&&(c=`${r}.${Fe.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let l=sn.constructAuthorityUriFromObject({...o.getUrlComponents(),HostNameAndPort:c}).urlString;return n?`${l}?${n}`:l}static replaceWithRegionalInformation(e,r){let n={...e};return n.authorization_endpoint=t.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=t.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=t.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e,o=new sn(e).getUrlComponents();if(o.PathSegments.length===0&&o.HostNameAndPort.endsWith(Fe.CIAM_AUTH_URL)){let a=o.HostNameAndPort.split(".")[0];r=`${r}${a}${Fe.AAD_TENANT_DOMAIN_SUFFIX}`}return r}};Yu.reservedTenantDomains=new Set(["{tenant}","{tenantid}",J0.COMMON,J0.CONSUMERS,J0.ORGANIZATIONS]);function Wse(t){let n=new sn(t).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case J0.COMMON:case J0.ORGANIZATIONS:case J0.CONSUMERS:return;default:return n}}s(Wse,"getTenantFromAuthorityString");function GR(t){return t.endsWith(Fe.FORWARD_SLASH)?t:`${t}${Fe.FORWARD_SLASH}`}s(GR,"formatAuthorityUri");function YH(t){let e=t.cloudDiscoveryMetadata,r;if(e)try{r=JSON.parse(e)}catch{throw Si(rg)}return{canonicalAuthority:t.authority?GR(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}s(YH,"buildStaticAuthorityOptions");async function $H(t,e,r,n,o,a,c){c?.addQueueMeasurement(Ne.AuthorityFactoryCreateDiscoveredInstance,a);let l=Yu.transformCIAMAuthority(GR(t)),u=new Yu(l,e,r,n,o,a,c);try{return await _n(u.resolveEndpointsAsync.bind(u),Ne.AuthorityResolveEndpointsAsync,o,c,a)(),u}catch{throw Ke(A0)}}s($H,"createDiscoveredInstance");f();f();var p0=class t extends Pr{static{s(this,"ServerError")}constructor(e,r,n,o,a){super(e,r,n),this.name="ServerError",this.errorNo=o,this.status=a,Object.setPrototypeOf(this,t.prototype)}};f();function j2(t,e,r){return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:r,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}s(j2,"getRequestThumbprint");var r4=class t{static{s(this,"ThrottlingUtils")}static generateThrottlingStorageKey(e){return`${Ed.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r,n){let o=t.generateThrottlingStorageKey(r),a=e.getThrottlingCache(o);if(a){if(a.throttleTime<Date.now()){e.removeItem(o,n);return}throw new p0(a.errorCodes?.join(" ")||Fe.EMPTY_STRING,a.errorMessage,a.subError)}}static postProcess(e,r,n,o){if(t.checkResponseStatus(n)||t.checkResponseForRetryAfter(n)){let a={throttleTime:t.calculateThrottleTime(parseInt(n.headers[Fi.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(t.generateThrottlingStorageKey(r),a,o)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Fi.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||Ed.DEFAULT_THROTTLE_TIME_SECONDS),n+Ed.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,o){let a=j2(r,n,o),c=this.generateThrottlingStorageKey(a);e.removeItem(c,n.correlationId)}};f();var WR=class t extends Pr{static{s(this,"NetworkError")}constructor(e,r,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,t.prototype),this.name="NetworkError",this.error=e,this.httpStatus=r,this.responseHeaders=n}};var xa=class{static{s(this,"BaseClient")}constructor(e,r){this.config=Ose(e),this.logger=new Fc(this.config.loggerOptions,wR,H2),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){let r={};if(r[Fi.CONTENT_TYPE]=Fe.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case h0.HOME_ACCOUNT_ID:try{let n=xd(e.credential);r[Fi.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case h0.UPN:r[Fi.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,o,a,c){c&&this.performanceClient?.addQueueMeasurement(c,a);let l=await this.sendPostRequest(o,e,{body:r,headers:n},a);return this.config.serverTelemetryManager&&l.status<500&&l.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),l}async sendPostRequest(e,r,n,o){r4.preProcess(this.cacheManager,e,o);let a;try{a=await _n(this.networkClient.sendPostRequestAsync.bind(this.networkClient),Ne.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,o)(r,n);let c=a.headers||{};this.performanceClient?.addFields({refreshTokenSize:a.body.refresh_token?.length||0,httpVerToken:c[Fi.X_MS_HTTP_VERSION]||"",requestId:c[Fi.X_MS_REQUEST_ID]||""},o)}catch(c){if(c instanceof WR){let l=c.responseHeaders;throw l&&this.performanceClient?.addFields({httpVerToken:l[Fi.X_MS_HTTP_VERSION]||"",requestId:l[Fi.X_MS_REQUEST_ID]||"",contentTypeHeader:l[Fi.CONTENT_TYPE]||void 0,contentLengthHeader:l[Fi.CONTENT_LENGTH]||void 0,httpStatus:c.httpStatus},o),c.error}throw c instanceof Pr?c:Ke(Wy)}return r4.postProcess(this.cacheManager,e,a,o),a}async updateAuthority(e,r){this.performanceClient?.addQueueMeasurement(Ne.UpdateTokenEndpointAuthority,r);let n=`https://${e}/${this.authority.tenant}/`,o=await $H(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=o}createTokenQueryParameters(e){let r=new Map;return e.embeddedClientId&&ah(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&sh(r,e.tokenQueryParameters),xC(r,e.correlationId),gC(r,e.correlationId,this.performanceClient),vd(r)}};f();f();var $R={};Io($R,{badToken:()=>sg,consentRequired:()=>jH,interactionRequired:()=>zH,loginRequired:()=>KH,nativeAccountUnavailable:()=>n4,noTokensFound:()=>og,refreshTokenExpired:()=>i4,uxNotAllowed:()=>YR});f();var og="no_tokens_found",n4="native_account_unavailable",i4="refresh_token_expired",YR="ux_not_allowed",zH="interaction_required",jH="consent_required",KH="login_required",sg="bad_token";var Yse=[zH,jH,KH,sg,YR],F6e=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],zR={[og]:"No refresh token found in the cache. Please sign-in.",[n4]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[i4]:"Refresh token has expired.",[sg]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[YR]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."},JH={noTokensFoundError:{code:og,desc:zR[og]},native_account_unavailable:{code:n4,desc:zR[n4]},bad_token:{code:sg,desc:zR[sg]}},Mc=class t extends Pr{static{s(this,"InteractionRequiredAuthError")}constructor(e,r,n,o,a,c,l,u){super(e,r,n),Object.setPrototypeOf(this,t.prototype),this.timestamp=o||Fe.EMPTY_STRING,this.traceId=a||Fe.EMPTY_STRING,this.correlationId=c||Fe.EMPTY_STRING,this.claims=l||Fe.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=u}};function jR(t,e,r){let n=!!t&&Yse.indexOf(t)>-1,o=!!r&&F6e.indexOf(r)>-1,a=!!e&&Yse.some(c=>e.indexOf(c)>-1);return n||a||o}s(jR,"isInteractionRequiredError");function KR(t){return new Mc(t,zR[t])}s(KR,"createInteractionRequiredAuthError");f();var JR=class t{static{s(this,"ProtocolUtils")}static setRequestState(e,r,n){let o=t.generateLibraryState(e,n);return r?`${o}${Fe.RESOURCE_DELIM}${r}`:o}static generateLibraryState(e,r){if(!e)throw Ke(Zm);let n={id:e.createNewGuid()};r&&(n.meta=r);let o=JSON.stringify(n);return e.base64Encode(o)}static parseRequestState(e,r){if(!e)throw Ke(Zm);if(!r)throw Ke(Wu);try{let n=r.split(Fe.RESOURCE_DELIM),o=n[0],a=n.length>1?n.slice(1).join(Fe.RESOURCE_DELIM):Fe.EMPTY_STRING,c=e.base64Decode(o),l=JSON.parse(c);return{userRequestState:a||Fe.EMPTY_STRING,libraryState:l}}catch{throw Ke(Wu)}}};f();var L6e={SW:"sw"},ag=class{static{s(this,"PopTokenGenerator")}constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){this.performanceClient?.addQueueMeasurement(Ne.PopTokenGenerateCnf,e.correlationId);let n=await _n(this.generateKid.bind(this),Ne.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:o}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(Ne.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:L6e.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,o){let{resourceRequestMethod:a,resourceRequestUri:c,shrClaims:l,shrNonce:u,shrOptions:d}=n,h=(c?new sn(c):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Lc(),m:a?.toUpperCase(),u:h?.HostNameAndPort,nonce:u||this.cryptoUtils.createNewGuid(),p:h?.AbsolutePath,q:h?.QueryString?[[],h.QueryString]:void 0,client_claims:l||void 0,...o},r,d,n.correlationId)}};f();var Oc=class{static{s(this,"TokenCacheContext")}constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};var es=class t{static{s(this,"ResponseHandler")}constructor(e,r,n,o,a,c,l){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=o,this.serializableCache=a,this.persistencePlugin=c,this.performanceClient=l}validateTokenResponse(e,r){if(e.error||e.error_description||e.suberror){let n=`Error(s): ${e.error_codes||Fe.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Fe.NOT_AVAILABLE} - Description: ${e.error_description||Fe.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Fe.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Fe.NOT_AVAILABLE}`,o=e.error_codes?.length?e.error_codes[0]:void 0,a=new p0(e.error,n,e.suberror,o,e.status);if(r&&e.status&&e.status>=Qr.SERVER_ERROR_RANGE_START&&e.status<=Qr.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(r&&e.status&&e.status>=Qr.CLIENT_ERROR_RANGE_START&&e.status<=Qr.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw jR(e.error,e.error_description,e.suberror)?new Mc(e.error,e.error_description,e.suberror,e.timestamp||Fe.EMPTY_STRING,e.trace_id||Fe.EMPTY_STRING,e.correlation_id||Fe.EMPTY_STRING,e.claims||Fe.EMPTY_STRING,o):a}}async handleServerTokenResponse(e,r,n,o,a,c,l,u,d){this.performanceClient?.addQueueMeasurement(Ne.HandleServerTokenResponse,e.correlation_id);let A;if(e.id_token){if(A=nh(e.id_token||Fe.EMPTY_STRING,this.cryptoObj.base64Decode),a&&a.nonce&&A.nonce!==a.nonce)throw Ke(jy);if(o.maxAge||o.maxAge===0){let E=A.auth_time;if(!E)throw Ke(XA);__(E,o.maxAge)}}this.homeAccountIdentifier=Ea.generateHomeAccountId(e.client_info||Fe.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,A);let h;a&&a.state&&(h=JR.parseRequestState(this.cryptoObj,a.state)),e.key_id=e.key_id||o.sshKid||void 0;let p=this.generateCacheRecord(e,r,n,o,A,c,a),y;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),y=new Oc(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(y)),l&&!u&&p.account){let E=p.account.generateAccountKey();if(!this.cacheStorage.getAccount(E,o.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await t.generateAuthenticationResult(this.cryptoObj,r,p,!1,o,A,h,void 0,d)}await this.cacheStorage.saveCacheRecord(p,o.correlationId,o.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&y&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(y))}return t.generateAuthenticationResult(this.cryptoObj,r,p,!1,o,A,h,e,d)}generateCacheRecord(e,r,n,o,a,c,l){let u=r.getPreferredCache();if(!u)throw Ke(eh);let d=NR(a),A,h;e.id_token&&a&&(A=qU(this.homeAccountIdentifier,u,e.id_token,this.clientId,d||""),h=$se(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o.correlationId,a,e.client_info,u,d,l,void 0,this.logger));let p=null;if(e.access_token){let v=e.scope?gs.fromString(e.scope):new gs(o.scopes||[]),w=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,_=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,S=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,D=n+w,N=D+_,P=S&&S>0?n+S:void 0;p=GU(this.homeAccountIdentifier,u,e.access_token,this.clientId,d||r.tenant||"",v.printScopes(),D,N,this.cryptoObj.base64Decode,P,e.token_type,c,e.key_id,o.claims,o.requestedClaimsHash)}let y=null;if(e.refresh_token){let v;if(e.refresh_token_expires_in){let w=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;v=n+w}y=VU(this.homeAccountIdentifier,u,e.refresh_token,this.clientId,e.foci,c,v)}let E=null;return e.foci&&(E={clientId:this.clientId,environment:u,familyId:e.foci}),{account:h,idToken:A,accessToken:p,refreshToken:y,appMetadata:E}}static async generateAuthenticationResult(e,r,n,o,a,c,l,u,d){let A=Fe.EMPTY_STRING,h=[],p=null,y,E,v=Fe.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===Tn.POP&&!a.popKid){let D=new ag(e),{secret:N,keyId:P}=n.accessToken;if(!P)throw Ke(oC);A=await D.signPopToken(N,P,a)}else A=n.accessToken.secret;h=gs.fromString(n.accessToken.target).asArray(),p=w_(n.accessToken.expiresOn),y=w_(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(E=w_(n.accessToken.refreshOn))}n.appMetadata&&(v=n.appMetadata.familyId===JA?JA:"");let w=c?.oid||c?.sub||"",_=c?.tid||"";u?.spa_accountid&&n.account&&(n.account.nativeAccountId=u?.spa_accountid);let S=n.account?DR(n.account.getAccountInfo(),void 0,c,n.idToken?.secret):null;return{authority:r.canonicalAuthority,uniqueId:w,tenantId:_,scopes:h,account:S,idToken:n?.idToken?.secret||"",idTokenClaims:c||{},accessToken:A,fromCache:o,expiresOn:p,extExpiresOn:y,refreshOn:E,correlationId:a.correlationId,requestId:d||Fe.EMPTY_STRING,familyId:v,tokenType:n.accessToken?.tokenType||Fe.EMPTY_STRING,state:l?l.userRequestState:Fe.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||Fe.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||Fe.EMPTY_STRING,code:u?.spa_code,fromNativeBroker:!1}}};function $se(t,e,r,n,o,a,c,l,u,d,A,h){h?.verbose("setCachedAccount called");let y=t.getAccountKeys().find(S=>S.startsWith(r)),E=null;y&&(E=t.getAccount(y,o));let v=E||Ea.createAccount({homeAccountId:r,idTokenClaims:a,clientInfo:c,environment:l,cloudGraphHostName:d?.cloud_graph_host_name,msGraphHost:d?.msgraph_host,nativeAccountId:A},e,n),w=v.tenantProfiles||[],_=u||v.realm;if(_&&!w.find(S=>S.tenantId===_)){let S=M_(r,v.localAccountId,_,a);w.push(S)}return v.tenantProfiles=w,v}s($se,"buildAccountToCache");f();async function m0(t,e,r){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})}s(m0,"getClientAssertion");var o4=class extends xa{static{s(this,"AuthorizationCodeClient")}constructor(e,r){super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,r){if(this.performanceClient?.addQueueMeasurement(Ne.AuthClientAcquireToken,e.correlationId),!e.code)throw Ke(Xy);let n=Lc(),o=await _n(this.executeTokenRequest.bind(this),Ne.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=o.headers?.[Fi.X_MS_REQUEST_ID],c=new es(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return c.validateTokenResponse(o.body),_n(c.handleServerTokenResponse.bind(c),Ne.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,n,e,r,void 0,void 0,void 0,a)}getLogoutUri(e){if(!e)throw Si(fC);let r=this.createLogoutUrlQueryString(e);return sn.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(Ne.AuthClientExecuteTokenRequest,r.correlationId);let n=this.createTokenQueryParameters(r),o=sn.appendQueryString(e.tokenEndpoint,n),a=await _n(this.createTokenRequestBody.bind(this),Ne.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r),c;if(r.clientInfo)try{let d=Y2(r.clientInfo,this.cryptoUtils.base64Decode);c={credential:`${d.uid}${Fo.CLIENT_INFO_SEPARATOR}${d.utid}`,type:h0.HOME_ACCOUNT_ID}}catch(d){this.logger.verbose("Could not parse client info for CCS Header: "+d)}let l=this.createTokenRequestHeaders(c||r.ccsCredential),u=j2(this.config.authOptions.clientId,r);return _n(this.executePostToTokenEndpoint.bind(this),Ne.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(o,a,l,u,r.correlationId,Ne.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Ne.AuthClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(CC(r,e.embeddedClientId||e.tokenBodyParameters?.[bd]||this.config.authOptions.clientId),this.includeRedirectUri)EC(r,e.redirectUri);else if(!e.redirectUri)throw Si(sC);if(yC(r,e.scopes,!0,this.oidcDefaultScopes),qH(r,e.code),G_(r,this.config.libraryInfo),V_(r,this.config.telemetry.application),e4(r),this.serverTelemetryManager&&!FR(this.config)&&Z_(r,this.serverTelemetryManager),e.codeVerifier&&VH(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&Y_(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let o=this.config.clientCredentials.clientAssertion;$_(r,await m0(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),z_(r,o.assertionType)}if(j_(r,X0.AUTHORIZATION_CODE_GRANT),vC(r),e.authenticationScheme===Tn.POP){let o=new ag(this.cryptoUtils,this.performanceClient),a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await _n(o.generateCnf.bind(o),Ne.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,J_(r,a)}else if(e.authenticationScheme===Tn.SSH)if(e.sshJwk)X_(r,e.sshJwk);else throw Si(ih);(!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&IC(r,e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{let o=Y2(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${o.uid}${Fo.CLIENT_INFO_SEPARATOR}${o.utid}`,type:h0.HOME_ACCOUNT_ID}}catch(o){this.logger.verbose("Could not parse client info for CCS Header: "+o)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case h0.HOME_ACCOUNT_ID:try{let o=xd(n.credential);oh(r,o)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case h0.UPN:ig(r,n.credential);break}return e.embeddedClientId&&ah(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&sh(r,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[UR])&&sh(r,{[UR]:"1"}),gC(r,e.correlationId,this.performanceClient),vd(r)}createLogoutUrlQueryString(e){let r=new Map;return e.postLogoutRedirectUri&&LH(r,e.postLogoutRedirectUri),e.correlationId&&xC(r,e.correlationId),e.idTokenHint&&MH(r,e.idTokenHint),e.state&&W_(r,e.state),e.logoutHint&&WH(r,e.logoutHint),e.extraQueryParameters&&sh(r,e.extraQueryParameters),this.config.authOptions.instanceAware&&K_(r),vd(r,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}};f();var M6e=300,bC=class extends xa{static{s(this,"RefreshTokenClient")}constructor(e,r){super(e,r)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientAcquireToken,e.correlationId);let r=Lc(),n=await _n(this.executeTokenRequest.bind(this),Ne.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=n.headers?.[Fi.X_MS_REQUEST_ID],a=new es(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(n.body),_n(a.handleServerTokenResponse.bind(a),Ne.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){if(!e)throw Si(uC);if(this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw Ke(ZA);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await _n(this.acquireTokenWithCachedRefreshToken.bind(this),Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){let o=n instanceof Mc&&n.errorCode===og,a=n instanceof p0&&n.errorCode===a_.INVALID_GRANT_ERROR&&n.subError===a_.CLIENT_MISMATCH_ERROR;if(o||a)return _n(this.acquireTokenWithCachedRefreshToken.bind(this),Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return _n(this.acquireTokenWithCachedRefreshToken.bind(this),Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=Vse(this.cacheManager.getRefreshToken.bind(this.cacheManager),Ne.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,e.correlationId,void 0,this.performanceClient);if(!n)throw KR(og);if(n.expiresOn&&q2(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||M6e))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),KR(i4);let o={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Tn.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:h0.HOME_ACCOUNT_ID}};try{return await _n(this.acquireToken.bind(this),Ne.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(o)}catch(a){if(a instanceof Mc&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),a.subError===sg)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let c=S_(n);this.cacheManager.removeRefreshToken(c,e.correlationId)}throw a}}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),o=sn.appendQueryString(r.tokenEndpoint,n),a=await _n(this.createTokenRequestBody.bind(this),Ne.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),c=this.createTokenRequestHeaders(e.ccsCredential),l=j2(this.config.authOptions.clientId,e);return _n(this.executePostToTokenEndpoint.bind(this),Ne.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(o,a,c,l,e.correlationId,Ne.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(CC(r,e.embeddedClientId||e.tokenBodyParameters?.[bd]||this.config.authOptions.clientId),e.redirectUri&&EC(r,e.redirectUri),yC(r,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),j_(r,X0.REFRESH_TOKEN_GRANT),vC(r),G_(r,this.config.libraryInfo),V_(r,this.config.telemetry.application),e4(r),this.serverTelemetryManager&&!FR(this.config)&&Z_(r,this.serverTelemetryManager),GH(r,e.refreshToken),this.config.clientCredentials.clientSecret&&Y_(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let n=this.config.clientCredentials.clientAssertion;$_(r,await m0(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),z_(r,n.assertionType)}if(e.authenticationScheme===Tn.POP){let n=new ag(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await _n(n.generateCnf.bind(n),Ne.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,J_(r,o)}else if(e.authenticationScheme===Tn.SSH)if(e.sshJwk)X_(r,e.sshJwk);else throw Si(ih);if((!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&IC(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case h0.HOME_ACCOUNT_ID:try{let n=xd(e.ccsCredential.credential);oh(r,n)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case h0.UPN:ig(r,e.ccsCredential.credential);break}return e.embeddedClientId&&ah(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&sh(r,e.tokenBodyParameters),gC(r,e.correlationId,this.performanceClient),vd(r)}};f();var s4=class extends xa{static{s(this,"SilentFlowClient")}constructor(e,r){super(e,r)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(Ne.SilentFlowClientAcquireCachedToken,e.correlationId);let r=ki.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!lo.isEmptyObj(e.claims))throw this.setCacheOutcome(ki.FORCE_REFRESH_OR_CLAIMS,e.correlationId),Ke(th);if(!e.account)throw Ke(ZA);let n=e.account.tenantId||Wse(e.authority),o=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,o,n);if(a){if(HU(a.cachedAt)||q2(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),Ke(th);a.refreshOn&&q2(a.refreshOn,0)&&(r=ki.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN,e.correlationId),Ke(th);let c=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,o,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(c)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await _n(this.generateResultFromCacheRecord.bind(this),Ne.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(l,e),r]}setCacheOutcome(e,r){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},r),e!==ki.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){this.performanceClient?.addQueueMeasurement(Ne.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=nh(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){let o=n?.auth_time;if(!o)throw Ke(XA);__(o,r.maxAge)}return es.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}};var a4={};Io(a4,{getAuthorizationCodePayload:()=>H6e,getAuthorizeUrl:()=>U6e,getStandardAuthorizeRequestParameters:()=>O6e,validateAuthorizationResponse:()=>zse});f();function O6e(t,e,r,n){let o=e.correlationId,a=new Map;CC(a,e.embeddedClientId||e.extraQueryParameters?.[bd]||t.clientId);let c=[...e.scopes||[],...e.extraScopesToConsent||[]];if(yC(a,c,!0,t.authority.options.OIDCOptions?.defaultScopes),EC(a,e.redirectUri),xC(a,o),FH(a,e.responseMode),vC(a),e.prompt&&(UH(a,e.prompt),n?.addFields({prompt:e.prompt},o)),e.domainHint&&(OH(a,e.domainHint),n?.addFields({domainHintFromRequest:!0},o)),e.prompt!==zm.SELECT_ACCOUNT)if(e.sid&&e.prompt===zm.NONE)r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),qR(a,e.sid),n?.addFields({sidFromRequest:!0},o);else if(e.account){let l=G6e(e.account),u=V6e(e.account);if(u&&e.domainHint&&(r.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),u=null),u){r.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),z2(a,u),n?.addFields({loginHintFromClaim:!0},o);try{let d=xd(e.account.homeAccountId);oh(a,d)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(l&&e.prompt===zm.NONE){r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),qR(a,l),n?.addFields({sidFromClaim:!0},o);try{let d=xd(e.account.homeAccountId);oh(a,d)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)r.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),z2(a,e.loginHint),ig(a,e.loginHint),n?.addFields({loginHintFromRequest:!0},o);else if(e.account.username){r.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),z2(a,e.account.username),n?.addFields({loginHintFromUpn:!0},o);try{let d=xd(e.account.homeAccountId);oh(a,d)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(r.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),z2(a,e.loginHint),ig(a,e.loginHint),n?.addFields({loginHintFromRequest:!0},o));else r.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&HH(a,e.nonce),e.state&&W_(a,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&IC(a,e.claims,t.clientCapabilities),e.embeddedClientId&&ah(a,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes($2))&&K_(a),a}s(O6e,"getStandardAuthorizeRequestParameters");function U6e(t,e,r,n){let o=vd(e,r,n);return sn.appendQueryString(t.authorizationEndpoint,o)}s(U6e,"getAuthorizeUrl");function H6e(t,e){if(zse(t,e),!t.code)throw Ke(nC);return t}s(H6e,"getAuthorizationCodePayload");function zse(t,e){if(!t.state||!e)throw t.state?Ke(Jm,"Cached State"):Ke(Jm,"Server State");let r,n;try{r=decodeURIComponent(t.state)}catch{throw Ke(Wu,t.state)}try{n=decodeURIComponent(e)}catch{throw Ke(Wu,t.state)}if(r!==n)throw Ke(zy);if(t.error||t.error_description||t.suberror){let o=q6e(t);throw jR(t.error,t.error_description,t.suberror)?new Mc(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",o):new p0(t.error||"",t.error_description,t.suberror,o)}}s(zse,"validateAuthorizationResponse");function q6e(t){let e="code=",r=t.error_uri?.lastIndexOf(e);return r&&r>=0?t.error_uri?.substring(r+e.length):void 0}s(q6e,"parseServerErrorNo");function G6e(t){return t.idTokenClaims?.sid||null}s(G6e,"extractAccountSid");function V6e(t){return t.idTokenClaims?.login_hint||null}s(V6e,"extractLoginHint");f();var jse=",",Kse="|";function W6e(t){let{skus:e,libraryName:r,libraryVersion:n,extensionName:o,extensionVersion:a}=t,c=new Map([[0,[r,n]],[2,[o,a]]]),l=[];if(e?.length){if(l=e.split(jse),l.length<4)return e}else l=Array.from({length:4},()=>Kse);return c.forEach((u,d)=>{u.length===2&&u[0]?.length&&u[1]?.length&&Y6e({skuArr:l,index:d,skuName:u[0],skuVersion:u[1]})}),l.join(jse)}s(W6e,"makeExtraSkuString");function Y6e(t){let{skuArr:e,index:r,skuName:n,skuVersion:o}=t;r>=e.length||(e[r]=[n,o].join(Kse))}s(Y6e,"setSku");var TC=class t{static{s(this,"ServerTelemetryManager")}constructor(e,r){this.cacheOutcome=ki.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Fe.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Fe.EMPTY_STRING,this.telemetryCacheKey=Ds.CACHE_KEY+Fo.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${Ds.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&r.push(`broker_error=${n}`);let o=r.join(Ds.VALUE_SEPARATOR),a=this.getRegionDiscoveryFields(),c=[e,a].join(Ds.VALUE_SEPARATOR);return[Ds.SCHEMA_VERSION,c,o].join(Ds.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(Ds.VALUE_SEPARATOR),o=e.errors.slice(0,r).join(Ds.VALUE_SEPARATOR),a=e.errors.length,c=r<a?Ds.OVERFLOW_TRUE:Ds.OVERFLOW_FALSE,l=[a,c].join(Ds.VALUE_SEPARATOR);return[Ds.SCHEMA_VERSION,e.cacheHits,n,o,l].join(Ds.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let r=this.getLastRequests();r.errors.length>=Ds.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Pr?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(Ds.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{let o={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o,this.correlationId)}}static maxErrorsToSend(e){let r,n=0,o=0,a=e.errors.length;for(r=0;r<a;r++){let c=e.failedRequests[2*r]||Fe.EMPTY_STRING,l=e.failedRequests[2*r+1]||Fe.EMPTY_STRING,u=e.errors[r]||Fe.EMPTY_STRING;if(o+=c.toString().length+l.toString().length+u.length+3,o<Ds.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||Fe.EMPTY_STRING),e.push(this.regionSource||Fe.EMPTY_STRING),e.push(this.regionOutcome||Fe.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return W6e(e)}};var ch=class{static{s(this,"Deserializer")}static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,realm:o.realm,localAccountId:o.local_account_id,username:o.username,authorityType:o.authority_type,name:o.name,clientInfo:o.client_info,lastModificationTime:o.last_modification_time,lastModificationApp:o.last_modification_app,tenantProfiles:o.tenantProfiles?.map(l=>JSON.parse(l))},c=new Ea;ng.toObject(c,a),r[n]=c}),r}static deserializeIdTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm};r[n]=a}),r}static deserializeAccessTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm,target:o.target,cachedAt:o.cached_at,expiresOn:o.expires_on,extendedExpiresOn:o.extended_expires_on,refreshOn:o.refresh_on,keyId:o.key_id,tokenType:o.token_type,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash};r[n]=a}),r}static deserializeRefreshTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,familyId:o.family_id,target:o.target,realm:o.realm};r[n]=a}),r}static deserializeAppMetadata(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n];r[n]={clientId:o.client_id,environment:o.environment,familyId:o.family_id}}),r}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}};f();f();var Jse="system_assigned_managed_identity",X6e="managed_identity",ZH=`https://login.microsoftonline.com/${X6e}/`,Z0={AUTHORIZATION_HEADER_NAME:"Authorization",METADATA_HEADER_NAME:"Metadata",APP_SERVICE_SECRET_HEADER_NAME:"X-IDENTITY-HEADER",ML_AND_SF_SECRET_HEADER_NAME:"secret"},ys={API_VERSION:"api-version",RESOURCE:"resource",SHA256_TOKEN_TO_REFRESH:"token_sha256_to_refresh",XMS_CC:"xms_cc"},Cr={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",DEFAULT_IDENTITY_CLIENT_ID:"DEFAULT_IDENTITY_CLIENT_ID",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IDENTITY_HEADER:"IDENTITY_HEADER",IDENTITY_SERVER_THUMBPRINT:"IDENTITY_SERVER_THUMBPRINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT",MSI_SECRET:"MSI_SECRET"},wr={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",MACHINE_LEARNING:"MachineLearning",SERVICE_FABRIC:"ServiceFabric"},bo={SYSTEM_ASSIGNED:"system-assigned",USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},ji={GET:"get",POST:"post"},XR={SUCCESS_RANGE_START:Qr.SUCCESS_RANGE_START,SUCCESS_RANGE_END:Qr.SUCCESS_RANGE_END,SERVER_ERROR:Qr.SERVER_ERROR},Xse="REGION_NAME",Zse="MSAL_FORCE_REGION",eae=32,tae={SHA256:"sha256"},ZR={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},Qs={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},lh={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},Pl={RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},e9={INTERVAL_MS:100,TIMEOUT_MS:5e3},rae=4096;f();f();f();f();var K2=class{static{s(this,"NetworkUtils")}static getNetworkResponse(e,r,n){return{headers:e,body:r,status:n}}static urlToHttpOptions(e){let r={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return e.port!==""&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),r}};var t9=Et(require("http"),1),eq=Et(require("https"),1);var J2=class{static{s(this,"HttpClient")}constructor(e,r){this.proxyUrl=e||"",this.customAgentOptions=r||{}}async sendGetRequestAsync(e,r,n){return this.proxyUrl?nae(e,this.proxyUrl,ji.GET,r,this.customAgentOptions,n):iae(e,ji.GET,r,this.customAgentOptions,n)}async sendPostRequestAsync(e,r){return this.proxyUrl?nae(e,this.proxyUrl,ji.POST,r,this.customAgentOptions):iae(e,ji.POST,r,this.customAgentOptions)}},nae=s((t,e,r,n,o,a)=>{let c=new URL(t),l=new URL(e),u=n?.headers||{},d={host:l.hostname,port:l.port,method:"CONNECT",path:c.hostname,headers:u};o&&Object.keys(o).length&&(d.agent=new t9.default.Agent(o));let A="";if(r===ji.POST){let p=n?.body||"";A=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${p.length}\r
\r
${p}`}else a&&(d.timeout=a);let h=`${r.toUpperCase()} ${c.href} HTTP/1.1\r
Host: ${c.host}\r
Connection: close\r
`+A+`\r
`;return new Promise((p,y)=>{let E=t9.default.request(d);a&&E.on("timeout",()=>{E.destroy(),y(new Error("Request time out"))}),E.end(),E.on("connect",(v,w)=>{let _=v?.statusCode||XR.SERVER_ERROR;(_<XR.SUCCESS_RANGE_START||_>XR.SUCCESS_RANGE_END)&&(E.destroy(),w.destroy(),y(new Error(`Error connecting to proxy. Http status code: ${v.statusCode}. Http status message: ${v?.statusMessage||"Unknown"}`))),w.write(h);let S=[];w.on("data",D=>{S.push(D)}),w.on("end",()=>{let N=Buffer.concat([...S]).toString().split(`\r
`),P=parseInt(N[0].split(" ")[1]),O=N[0].split(" ").slice(2).join(" "),$=N[N.length-1],ne=N.slice(1,N.length-2),oe=new Map;ne.forEach(xe=>{let ce=xe.split(new RegExp(/:\s(.*)/s)),J=ce[0],W=ce[1];try{let Z=JSON.parse(W);Z&&typeof Z=="object"&&(W=Z)}catch{}oe.set(J,W)});let Y=Object.fromEntries(oe),K=K2.getNetworkResponse(Y,oae(P,O,Y,$),P);(P<Qr.SUCCESS_RANGE_START||P>Qr.SUCCESS_RANGE_END)&&K.body.error!==Qs.AUTHORIZATION_PENDING&&E.destroy(),p(K)}),w.on("error",D=>{E.destroy(),w.destroy(),y(new Error(D.toString()))})}),E.on("error",v=>{E.destroy(),y(new Error(v.toString()))})})},"networkRequestViaProxy"),iae=s((t,e,r,n,o)=>{let a=e===ji.POST,c=r?.body||"",l=new URL(t),u=r?.headers||{},d={method:e,headers:u,...K2.urlToHttpOptions(l)};return n&&Object.keys(n).length&&(d.agent=new eq.default.Agent(n)),a?d.headers={...d.headers,"Content-Length":c.length}:o&&(d.timeout=o),new Promise((A,h)=>{let p;d.protocol==="http:"?p=t9.default.request(d):p=eq.default.request(d),a&&p.write(c),o&&p.on("timeout",()=>{p.destroy(),h(new Error("Request time out"))}),p.end(),p.on("response",y=>{let E=y.headers,v=y.statusCode,w=y.statusMessage,_=[];y.on("data",S=>{_.push(S)}),y.on("end",()=>{let S=Buffer.concat([..._]).toString(),D=E,N=K2.getNetworkResponse(D,oae(v,w,D,S),v);(v<Qr.SUCCESS_RANGE_START||v>Qr.SUCCESS_RANGE_END)&&N.body.error!==Qs.AUTHORIZATION_PENDING&&p.destroy(),A(N)})}),p.on("error",y=>{p.destroy(),h(new Error(y.toString()))})})},"networkRequestViaHttps"),oae=s((t,e,r,n)=>{let o;try{o=JSON.parse(n)}catch{let c,l;t>=Qr.CLIENT_ERROR_RANGE_START&&t<=Qr.CLIENT_ERROR_RANGE_END?(c="client_error",l="A client"):t>=Qr.SERVER_ERROR_RANGE_START&&t<=Qr.SERVER_ERROR_RANGE_END?(c="server_error",l="A server"):(c="unknown_error",l="An unknown"),o={error:c,error_description:`${l} error occured.
Http status code: ${t}
Http status message: ${e||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return o},"parseBody");f();f();f();var r9="invalid_file_extension",n9="invalid_file_path",cg="invalid_managed_identity_id_type",i9="invalid_secret",sae="missing_client_id",aae="network_unavailable",o9="platform_not_supported",s9="unable_to_create_azure_arc",a9="unable_to_create_cloud_shell",c9="unable_to_create_source",c4="unable_to_read_secret_file",cae="user_assigned_not_available_at_runtime",l9="www_authenticate_header_missing",u9="www_authenticate_header_unsupported_format",_C={[Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[Cr.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[Cr.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[Cr.MSI_ENDPOINT]:"msi_endpoint_url_malformed"};var Z6e={[r9]:"The file path in the WWW-Authenticate header does not contain a .key file.",[n9]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[cg]:"More than one ManagedIdentityIdType was provided.",[i9]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[o9]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",[sae]:"A ManagedIdentityId id was not provided.",[_C.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[_C.IDENTITY_ENDPOINT]:`The Managed Identity's '${Cr.IDENTITY_ENDPOINT}' environment variable is malformed.`,[_C.IMDS_ENDPOINT]:`The Managed Identity's '${Cr.IMDS_ENDPOINT}' environment variable is malformed.`,[_C.MSI_ENDPOINT]:`The Managed Identity's '${Cr.MSI_ENDPOINT}' environment variable is malformed.`,[aae]:"Authentication unavailable. The request to the managed identity endpoint timed out.",[s9]:"Azure Arc Managed Identities can only be system assigned.",[a9]:"Cloud Shell Managed Identities can only be system assigned.",[c9]:"Unable to create a Managed Identity source based on environment variables.",[c4]:"Unable to read the secret file.",[cae]:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[l9]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[u9]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."},tq=class t extends Pr{static{s(this,"ManagedIdentityError")}constructor(e){super(e,Z6e[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,t.prototype)}};function ts(t){return new tq(t)}s(ts,"createManagedIdentityError");var f9=class{static{s(this,"ManagedIdentityId")}get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let r=e?.userAssignedClientId,n=e?.userAssignedResourceId,o=e?.userAssignedObjectId;if(r){if(n||o)throw ts(cg);this.id=r,this.idType=bo.USER_ASSIGNED_CLIENT_ID}else if(n){if(r||o)throw ts(cg);this.id=n,this.idType=bo.USER_ASSIGNED_RESOURCE_ID}else if(o){if(r||n)throw ts(cg);this.id=o,this.idType=bo.USER_ASSIGNED_OBJECT_ID}else this.id=Jse,this.idType=bo.SYSTEM_ASSIGNED}};f();var Js={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}},ec=class t extends Pr{static{s(this,"NodeAuthError")}constructor(e,r){super(e,r),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new t(Js.invalidLoopbackAddressType.code,`${Js.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new t(Js.unableToLoadRedirectUri.code,`${Js.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new t(Js.noAuthCodeInResponse.code,`${Js.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new t(Js.noLoopbackServerExists.code,`${Js.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new t(Js.loopbackServerAlreadyExists.code,`${Js.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new t(Js.loopbackServerTimeout.code,`${Js.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new t(Js.stateNotFoundError.code,Js.stateNotFoundError.desc)}static createThumbprintMissingError(){return new t(Js.thumbprintMissing.code,Js.thumbprintMissing.desc)}};var eRe={clientId:Fe.EMPTY_STRING,authority:Fe.DEFAULT_AUTHORITY,clientSecret:Fe.EMPTY_STRING,clientAssertion:Fe.EMPTY_STRING,clientCertificate:{thumbprint:Fe.EMPTY_STRING,thumbprintSha256:Fe.EMPTY_STRING,privateKey:Fe.EMPTY_STRING,x5c:Fe.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:Fe.EMPTY_STRING,authorityMetadata:Fe.EMPTY_STRING,clientCapabilities:[],protocolMode:Wa.AAD,azureCloudOptions:{azureCloudInstance:rh.None,tenant:Fe.EMPTY_STRING},skipAuthorityMetadataCache:!1,encodeExtraQueryParams:!1},tRe={claimsBasedCachingEnabled:!1},rq={loggerCallback:s(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:vo.Info},rRe={loggerOptions:rq,networkClient:new J2,proxyUrl:Fe.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},nRe={application:{appName:Fe.EMPTY_STRING,appVersion:Fe.EMPTY_STRING}};function lae({auth:t,broker:e,cache:r,system:n,telemetry:o}){let a={...rRe,networkClient:new J2(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||rq,disableInternalRetries:n?.disableInternalRetries||!1};if(t.clientCertificate&&!t.clientCertificate.thumbprint&&!t.clientCertificate.thumbprintSha256)throw ec.createStateNotFoundError();return{auth:{...eRe,...t},broker:{...e},cache:{...tRe,...r},system:{...a,...n},telemetry:{...nRe,...o}}}s(lae,"buildAppConfiguration");function uae({clientCapabilities:t,managedIdentityIdParams:e,system:r}){let n=new f9(e),o=r?.loggerOptions||rq,a;return r?.networkClient?a=r.networkClient:a=new J2(r?.proxyUrl,r?.customAgentOptions),{clientCapabilities:t||[],managedIdentityId:n,system:{loggerOptions:o,networkClient:a},disableInternalRetries:r?.disableInternalRetries||!1}}s(uae,"buildManagedIdentityConfiguration");f();f();f();f();var fae=Et(require("crypto"));var A9=new Uint8Array(256),d9=A9.length;function nq(){return d9>A9.length-16&&(fae.default.randomFillSync(A9),d9=0),A9.slice(d9,d9+=16)}s(nq,"rng");f();f();f();var dae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function iRe(t){return typeof t=="string"&&dae.test(t)}s(iRe,"validate");var Aae=iRe;var va=[];for(let t=0;t<256;++t)va.push((t+256).toString(16).substr(1));function oRe(t,e=0){let r=(va[t[e+0]]+va[t[e+1]]+va[t[e+2]]+va[t[e+3]]+"-"+va[t[e+4]]+va[t[e+5]]+"-"+va[t[e+6]]+va[t[e+7]]+"-"+va[t[e+8]]+va[t[e+9]]+"-"+va[t[e+10]]+va[t[e+11]]+va[t[e+12]]+va[t[e+13]]+va[t[e+14]]+va[t[e+15]]).toLowerCase();if(!Aae(r))throw TypeError("Stringified UUID is invalid");return r}s(oRe,"stringify");var hae=oRe;f();function sRe(t,e,r){t=t||{};let n=t.random||(t.rng||nq)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return hae(n)}s(sRe,"v4");var iq=sRe;var X2=class{static{s(this,"GuidGenerator")}generateGuid(){return iq()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}};f();var Uc=class t{static{s(this,"EncodingUtils")}static base64Encode(e,r){return Buffer.from(e,r).toString(Ca.BASE64)}static base64EncodeUrl(e,r){return t.base64Encode(e,r).replace(/=/g,Fe.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,Ca.BASE64).toString("utf8")}static base64DecodeUrl(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4;)r+="=";return t.base64Decode(r)}};f();f();var pae=Et(require("crypto"),1);var lg=class{static{s(this,"HashUtils")}sha256(e){return pae.default.createHash(tae.SHA256).update(e).digest()}};var mae=Et(require("crypto"),1);var h9=class{static{s(this,"PkceGenerator")}constructor(){this.hashUtils=new lg}async generatePkceCodes(){let e=this.generateCodeVerifier(),r=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:r}}generateCodeVerifier(){let e=[],r=256-256%ZR.CV_CHARSET.length;for(;e.length<=eae;){let o=mae.default.randomBytes(1)[0];if(o>=r)continue;let a=o%ZR.CV_CHARSET.length;e.push(ZR.CV_CHARSET[a])}let n=e.join(Fe.EMPTY_STRING);return Uc.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return Uc.base64EncodeUrl(this.hashUtils.sha256(e).toString(Ca.BASE64),Ca.BASE64)}};var Td=class{static{s(this,"CryptoProvider")}constructor(){this.pkceGenerator=new h9,this.guidGenerator=new X2,this.hashUtils=new lg}base64UrlEncode(){throw new Error("Method not implemented.")}encodeKid(){throw new Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return Uc.base64Encode(e)}base64Decode(e){return Uc.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw new Error("Method not implemented.")}removeTokenBindingKey(){throw new Error("Method not implemented.")}clearKeystore(){throw new Error("Method not implemented.")}signJwt(){throw new Error("Method not implemented.")}async hashString(e){return Uc.base64EncodeUrl(this.hashUtils.sha256(e).toString(Ca.BASE64),Ca.BASE64)}};f();f();var ug=class extends ng{static{s(this,"NodeStorage")}constructor(e,r,n,o){super(r,n,e,new pC,o),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let r={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let o=e[n];if(typeof o=="object")if(o instanceof Ea)r.accounts[n]=o;else if(Ns.isIdTokenEntity(o))r.idTokens[n]=o;else if(Ns.isAccessTokenEntity(o))r.accessTokens[n]=o;else if(Ns.isRefreshTokenEntity(o))r.refreshTokens[n]=o;else if(Ns.isAppMetadataEntity(n,o))r.appMetadata[n]=o;else continue}return r}inMemoryCacheToCache(e){let r=this.getCache();return r={...r,...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata},r}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let r=this.inMemoryCacheToCache(e);this.setCache(r),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,r){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=r,this.setCache(n)}getAccountKeys(){let e=this.getInMemoryCache();return Object.keys(e.accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){return this.getItem(e)?Object.assign(new Ea,this.getItem(e)):null}async setAccount(e){let r=e.generateAccountKey();this.setItem(r,e)}getIdTokenCredential(e){let r=this.getItem(e);return Ns.isIdTokenEntity(r)?r:null}async setIdTokenCredential(e){let r=Ns.generateCredentialKey(e);this.setItem(r,e)}getAccessTokenCredential(e){let r=this.getItem(e);return Ns.isAccessTokenEntity(r)?r:null}async setAccessTokenCredential(e){let r=Ns.generateCredentialKey(e);this.setItem(r,e)}getRefreshTokenCredential(e){let r=this.getItem(e);return Ns.isRefreshTokenEntity(r)?r:null}async setRefreshTokenCredential(e){let r=Ns.generateCredentialKey(e);this.setItem(r,e)}getAppMetadata(e){let r=this.getItem(e);return Ns.isAppMetadataEntity(e,r)?r:null}setAppMetadata(e){let r=Ns.generateAppMetadataKey(e);this.setItem(r,e)}getServerTelemetry(e){let r=this.getItem(e);return r&&Ns.isServerTelemetryEntity(e,r)?r:null}setServerTelemetry(e,r){this.setItem(e,r)}getAuthorityMetadata(e){let r=this.getItem(e);return r&&Ns.isAuthorityMetadataEntity(e,r)?r:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,r){this.setItem(e,r)}getThrottlingCache(e){let r=this.getItem(e);return r&&Ns.isThrottlingEntity(e,r)?r:null}setThrottlingCache(e,r){this.setItem(e,r)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let r=!1,n=this.getCache();return n[e]&&(delete n[e],r=!0),r&&(this.setCache(n),this.emitChange()),r}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){this.logger.trace("Retrieving all cache keys");let e=this.getCache();return[...Object.keys(e)]}clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(r=>{this.removeItem(r)}),this.emitChange()}static generateInMemoryCache(e){return ch.deserializeAllCache(ch.deserializeJSONBlob(e))}static generateJsonCache(e){return $m.serializeAllCache(e)}updateCredentialCacheKey(e,r){let n=Ns.generateCredentialKey(r);if(e!==n){let o=this.getItem(e);if(o)return this.removeItem(e),this.setItem(n,o),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}};f();var l4={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}},Z2=class{static{s(this,"TokenCache")}constructor(e,r,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=$m.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let r=ch.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(r)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}getCacheSnapshot(){let e=ug.generateInMemoryCache(this.cacheSnapshot);return this.storage.inMemoryCacheToCache(e)}async getAllAccounts(e=new Td().createNewGuid()){this.logger.trace("getAllAccounts called");let r;try{return this.persistence&&(r=new Oc(this,!1),await this.persistence.beforeCacheAccess(r)),this.storage.getAllAccounts({},e)}finally{this.persistence&&r&&await this.persistence.afterCacheAccess(r)}}async getAccountByHomeId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.localAccountId===e)[0]||null}async removeAccount(e,r){this.logger.trace("removeAccount called");let n;try{this.persistence&&(n=new Oc(this,!0),await this.persistence.beforeCacheAccess(n)),this.storage.removeAccount(Ea.generateAccountCacheKey(e),r||new X2().generateGuid())}finally{this.persistence&&n&&await this.persistence.afterCacheAccess(n)}}async overwriteCache(){if(!this.persistence){this.logger.info("No persistence layer specified, cache cannot be overwritten");return}this.logger.info("Overwriting in-memory cache with persistent cache"),this.storage.clear();let e=new Oc(this,!1);await this.persistence.beforeCacheAccess(e);let r=this.getCacheSnapshot();this.storage.setCache(r),await this.persistence.afterCacheAccess(e)}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,r){this.logger.trace("Merging in-memory cache with cache snapshot");let n=this.mergeRemovals(e,r);return this.mergeUpdates(n,r)}mergeUpdates(e,r){return Object.keys(r).forEach(n=>{let o=r[n];if(!e.hasOwnProperty(n))o!==null&&(e[n]=o);else{let a=o!==null,c=typeof o=="object",l=!Array.isArray(o),u=typeof e[n]<"u"&&e[n]!==null;a&&c&&l&&u?this.mergeUpdates(e[n],o):e[n]=o}}),e}mergeRemovals(e,r){this.logger.trace("Remove updated entries in cache");let n=e.Account?this.mergeRemovalsDict(e.Account,r.Account):e.Account,o=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,r.AccessToken):e.AccessToken,a=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,r.RefreshToken):e.RefreshToken,c=e.IdToken?this.mergeRemovalsDict(e.IdToken,r.IdToken):e.IdToken,l=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,r.AppMetadata):e.AppMetadata;return{...e,Account:n,AccessToken:o,RefreshToken:a,IdToken:c,AppMetadata:l}}mergeRemovalsDict(e,r){let n={...e};return Object.keys(e).forEach(o=>{(!r||!r.hasOwnProperty(o))&&delete n[o]}),n}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...l4.Account,...e.Account},IdToken:{...l4.IdToken,...e.IdToken},AccessToken:{...l4.AccessToken,...e.AccessToken},RefreshToken:{...l4.RefreshToken,...e.RefreshToken},AppMetadata:{...l4.AppMetadata,...e.AppMetadata}}}};f();var Yle=Et(Wle(),1);var uh=class t{static{s(this,"ClientAssertion")}static fromAssertion(e){let r=new t;return r.jwt=e,r}static fromCertificate(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!1,n&&(o.publicCertificate=this.parseCertificate(n)),o}static fromCertificateWithSha256Thumbprint(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!0,n&&(o.publicCertificate=this.parseCertificate(n)),o}getJwt(e,r,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&r===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,r,n);if(this.jwt)return this.jwt;throw Ke(wi.invalidAssertion)}createJwt(e,r,n){this.issuer=r,this.jwtAudience=n;let o=zi.nowSeconds();this.expirationTime=o+600;let c={alg:this.useSha256?Pl.PSS_256:Pl.RSA_256},l=this.useSha256?Pl.X5T_256:Pl.X5T;Object.assign(c,{[l]:Uc.base64EncodeUrl(this.thumbprint,Ca.HEX)}),this.publicCertificate&&Object.assign(c,{[Pl.X5C]:this.publicCertificate});let u={[Pl.AUDIENCE]:this.jwtAudience,[Pl.EXPIRATION_TIME]:this.expirationTime,[Pl.ISSUER]:this.issuer,[Pl.SUBJECT]:this.issuer,[Pl.NOT_BEFORE]:o,[Pl.JWT_ID]:e.createNewGuid()};return this.jwt=Yle.default.sign(u,this.privateKey,{header:c}),this.jwt}isExpired(){return this.expirationTime<zi.nowSeconds()}static parseCertificate(e){let r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[],o;for(;(o=r.exec(e))!==null;)n.push(o[1].replace(/\r*\n/g,Fe.EMPTY_STRING));return n}};f();var W9="@azure/msal-node",zu="3.6.3";f();var lx=class extends xa{static{s(this,"UsernamePasswordClient")}constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let r=zi.nowSeconds(),n=await this.executeTokenRequest(this.authority,e),o=new es(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),o.handleServerTokenResponse(n.body,this.authority,r,e)}async executeTokenRequest(e,r){let n=this.createTokenQueryParameters(r),o=sn.appendQueryString(e.tokenEndpoint,n),a=await this.createTokenRequestBody(r),c=this.createTokenRequestHeaders({credential:r.username,type:h0.UPN}),l={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return this.executePostToTokenEndpoint(o,a,c,l,r.correlationId)}async createTokenRequestBody(e){let r=new Map;Tt.addClientId(r,this.config.authOptions.clientId),Tt.addUsername(r,e.username),Tt.addPassword(r,e.password),Tt.addScopes(r,e.scopes),Tt.addResponseType(r,F2.IDTOKEN_TOKEN),Tt.addGrantType(r,X0.RESOURCE_OWNER_PASSWORD_GRANT),Tt.addClientInfo(r),Tt.addLibraryInfo(r,this.config.libraryInfo),Tt.addApplicationTelemetry(r,this.config.telemetry.application),Tt.addThrottling(r),this.serverTelemetryManager&&Tt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();Tt.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&Tt.addClientSecret(r,this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(Tt.addClientAssertion(r,await m0(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Tt.addClientAssertionType(r,o.assertionType)),(!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&Tt.addCcsUpn(r,e.username),Ia.mapToQueryString(r)}};f();function $le(t,e,r,n){let o=a4.getStandardAuthorizeRequestParameters({...t.auth,authority:e,redirectUri:r.redirectUri||""},r,n);return Tt.addLibraryInfo(o,{sku:Qs.MSAL_SKU,version:zu,cpu:process.arch||"",os:process.platform||""}),t.auth.protocolMode!==Wa.OIDC&&Tt.addApplicationTelemetry(o,t.telemetry.application),Tt.addResponseType(o,F2.CODE),r.codeChallenge&&r.codeChallengeMethod&&Tt.addCodeChallengeParams(o,r.codeChallenge,r.codeChallengeMethod),Tt.addExtraQueryParameters(o,r.extraQueryParameters||{}),a4.getAuthorizeUrl(e,o,t.auth.encodeExtraQueryParams,r.extraQueryParameters)}s($le,"getAuthCodeRequestUrl");var Ag=class{static{s(this,"ClientApplication")}constructor(e){this.config=lae(e),this.cryptoProvider=new Td,this.logger=new Fc(this.config.system.loggerOptions,W9,zu),this.storage=new ug(this.logger,this.config.auth.clientId,this.cryptoProvider,YH(this.config.auth)),this.tokenCache=new Z2(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||Cd.QUERY,authenticationScheme:Tn.BEARER,state:e.state||"",nonce:e.nonce||""},n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions);return $le(this.config,n,r,this.logger)}async acquireTokenByCode(e,r){this.logger.info("acquireTokenByCode called"),e.state&&r&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,r.state||""),r={...r,state:""});let n={...e,...await this.initializeBaseRequest(e),authenticationScheme:Tn.BEARER},o=this.initializeServerTelemetryManager(lh.acquireTokenByCode,n.correlationId);try{let a=await this.createAuthority(n.authority,n.correlationId,void 0,e.azureCloudOptions),c=await this.buildOauthClientConfiguration(a,n.correlationId,n.redirectUri,o),l=new o4(c);return this.logger.verbose("Auth code client created",n.correlationId),await l.acquireToken(n,r)}catch(a){throw a instanceof Pr&&a.setCorrelationId(n.correlationId),o.cacheFailedRequest(a),a}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:Tn.BEARER},n=this.initializeServerTelemetryManager(lh.acquireTokenByRefreshToken,r.correlationId);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,r.redirectUri||"",n),c=new bC(a);return this.logger.verbose("Refresh token client created",r.correlationId),await c.acquireToken(r)}catch(o){throw o instanceof Pr&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenSilent(e){let r={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},n=this.initializeServerTelemetryManager(lh.acquireTokenSilent,r.correlationId,r.forceRefresh);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,r.redirectUri||"",n),c=new s4(a);this.logger.verbose("Silent flow client created",r.correlationId);try{return await this.tokenCache.overwriteCache(),await this.acquireCachedTokenSilent(r,c,a)}catch(l){if(l instanceof eg&&l.errorCode===wi.tokenRefreshRequired)return new bC(a).acquireTokenByRefreshToken(r);throw l}}catch(o){throw o instanceof Pr&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireCachedTokenSilent(e,r,n){let[o,a]=await r.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...K0]});if(a===ki.PROACTIVELY_REFRESHED){this.logger.info("ClientApplication:acquireCachedTokenSilent - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let c=new bC(n);try{await c.acquireTokenByRefreshToken(e)}catch{}}return o}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)},n=this.initializeServerTelemetryManager(lh.acquireTokenByUsernamePassword,r.correlationId);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,"",n),c=new lx(a);return this.logger.verbose("Username password client created",r.correlationId),await c.acquireToken(r)}catch(o){throw o instanceof Pr&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,r){if(!e)throw ec.createStateNotFoundError();if(e!==r)throw Ke(wi.stateMismatch)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,r,n,o){return this.logger.verbose("buildOauthClientConfiguration called",r),this.logger.info(`Building oauth client configuration with the following authority: ${e.tokenEndpoint}.`,r),o?.updateRegionDiscoveryMetadata(e.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:e,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:n},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:o,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(e)},libraryInfo:{sku:Qs.MSAL_SKU,version:zu,cpu:process.arch||Fe.EMPTY_STRING,os:process.platform||Fe.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=uh.fromAssertion(await m0(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:Qs.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===Tn.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=Tn.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!lo.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...K0],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,r,n){let o={clientId:this.config.auth.clientId,correlationId:r,apiId:e,forceRefresh:n||!1};return new TC(o,this.storage)}async createAuthority(e,r,n,o){this.logger.verbose("createAuthority called",r);let a=Yu.generateAuthority(e,o||this.config.auth.azureCloudOptions),c={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return VR.createDiscoveredInstance(a,this.config.system.networkClient,this.storage,c,this.logger,r)}clearCache(){this.storage.clear()}};f();var zle=Et(require("http"),1);var Y9=class{static{s(this,"LoopbackClient")}async listenForAuthCode(e,r){if(this.server)throw ec.createLoopbackServerAlreadyExistsError();return new Promise((n,o)=>{this.server=zle.default.createServer((a,c)=>{let l=a.url;if(l){if(l===Fe.FORWARD_SLASH){c.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{c.end(r||"Error occurred loading redirectUrl"),o(ec.createUnableToLoadRedirectUrlError());return}let u=this.getRedirectUri(),d=new URL(l,u),A=Ia.getDeserializedResponse(d.search)||{};A.code&&(c.writeHead(Qr.REDIRECT,{location:u}),c.end()),A.error&&c.end(r||`Error occurred: ${A.error}`),n(A)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw ec.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||typeof e=="string"||!e.port)throw this.closeServer(),ec.createInvalidLoopbackAddressTypeError();let r=e&&e.port;return`${Qs.HTTP_PROTOCOL}${Qs.LOCALHOST}:${r}`}closeServer(){this.server&&(this.server.close(),typeof this.server.closeAllConnections=="function"&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}};f();var ux=class extends xa{static{s(this,"DeviceCodeClient")}constructor(e){super(e)}async acquireToken(e){let r=await this.getDeviceCode(e);e.deviceCodeCallback(r);let n=zi.nowSeconds(),o=await this.acquireTokenWithDeviceCode(e,r),a=new es(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(o),a.handleServerTokenResponse(o,this.authority,n,e)}async getDeviceCode(e){let r=this.createExtraQueryParameters(e),n=sn.appendQueryString(this.authority.deviceCodeEndpoint,r),o=this.createQueryString(e),a=this.createTokenRequestHeaders(),c={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(n,o,a,c,e.correlationId)}createExtraQueryParameters(e){let r=new Map;return e.extraQueryParameters&&Tt.addExtraQueryParameters(r,e.extraQueryParameters),Ia.mapToQueryString(r)}async executePostRequestToDeviceCodeEndpoint(e,r,n,o,a){let{body:{user_code:c,device_code:l,verification_uri:u,expires_in:d,interval:A,message:h}}=await this.sendPostRequest(o,e,{body:r,headers:n},a);return{userCode:c,deviceCode:l,verificationUri:u,expiresIn:d,interval:A,message:h}}createQueryString(e){let r=new Map;return Tt.addScopes(r,e.scopes),Tt.addClientId(r,this.config.authOptions.clientId),e.extraQueryParameters&&Tt.addExtraQueryParameters(r,e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),Ia.mapToQueryString(r)}continuePolling(e,r,n){if(n)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),Ke(wi.deviceCodePollingCancelled);if(r&&r<e&&zi.nowSeconds()>r)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${r}`),Ke(wi.userTimeoutReached);if(zi.nowSeconds()>e)throw r&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${r}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),Ke(wi.deviceCodeExpired);return!0}async acquireTokenWithDeviceCode(e,r){let n=this.createTokenQueryParameters(e),o=sn.appendQueryString(this.authority.tokenEndpoint,n),a=this.createTokenRequestBody(e,r),c=this.createTokenRequestHeaders(),l=e.timeout?zi.nowSeconds()+e.timeout:void 0,u=zi.nowSeconds()+r.expiresIn,d=r.interval*1e3;for(;this.continuePolling(u,l,e.cancel);){let A={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},h=await this.executePostToTokenEndpoint(o,a,c,A,e.correlationId);if(h.body&&h.body.error)if(h.body.error===Fe.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await zi.delay(d);else throw this.logger.info("Unexpected error in polling from the server"),OU(O2.postRequestFailed,h.body.error);else return this.logger.verbose("Authorization completed successfully. Polling stopped."),h.body}throw this.logger.error("Polling stopped for unknown reasons."),Ke(wi.deviceCodeUnknownError)}createTokenRequestBody(e,r){let n=new Map;Tt.addScopes(n,e.scopes),Tt.addClientId(n,this.config.authOptions.clientId),Tt.addGrantType(n,X0.DEVICE_CODE_GRANT),Tt.addDeviceCode(n,r.deviceCode);let o=e.correlationId||this.config.cryptoInterface.createNewGuid();return Tt.addCorrelationId(n,o),Tt.addClientInfo(n),Tt.addLibraryInfo(n,this.config.libraryInfo),Tt.addApplicationTelemetry(n,this.config.telemetry.application),Tt.addThrottling(n),this.serverTelemetryManager&&Tt.addServerTelemetry(n,this.serverTelemetryManager),(!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(n,e.claims,this.config.authOptions.clientCapabilities),Ia.mapToQueryString(n)}};var fx=class extends Ag{static{s(this,"PublicClientApplication")}constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=TC.makeExtraSkuString({libraryName:Qs.MSAL_SKU,libraryVersion:zu})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let r=Object.assign(e,await this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(lh.acquireTokenByDeviceCode,r.correlationId);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,"",n),c=new ux(a);return this.logger.verbose("Device code client created",r.correlationId),await c.acquireToken(r)}catch(o){throw o instanceof Pr&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenInteractive(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",r);let{openBrowser:n,successTemplate:o,errorTemplate:a,windowHandle:c,loopbackClient:l,...u}=e;if(this.nativeBrokerPlugin){let E={...u,clientId:this.config.auth.clientId,scopes:e.scopes||K0,redirectUri:`${Qs.HTTP_PROTOCOL}${Qs.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...u.extraQueryParameters,...u.tokenQueryParameters,[mC.X_CLIENT_EXTRA_SKU]:this.skus},accountId:u.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(E,c)}let{verifier:d,challenge:A}=await this.cryptoProvider.generatePkceCodes(),h=l||new Y9,p={},y=null;try{let E=h.listenForAuthCode(o,a).then(N=>{p=N}).catch(N=>{y=N}),v=await this.waitForRedirectUri(h),w={...u,correlationId:r,scopes:e.scopes||K0,redirectUri:v,responseMode:Cd.QUERY,codeChallenge:A,codeChallengeMethod:bR.S256},_=await this.getAuthCodeUrl(w);if(await n(_),await E,y)throw y;if(p.error)throw new p0(p.error,p.error_description,p.suberror);if(!p.code)throw ec.createNoAuthCodeInResponseError();let S=p.client_info,D={code:p.code,codeVerifier:d,clientInfo:S||Fe.EMPTY_STRING,...w};return await this.acquireTokenByCode(D)}finally{h.closeServer()}}async acquireTokenSilent(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",r),this.nativeBrokerPlugin){let n={...e,clientId:this.config.auth.clientId,scopes:e.scopes||K0,redirectUri:`${Qs.HTTP_PROTOCOL}${Qs.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...e.tokenQueryParameters,[mC.X_CLIENT_EXTRA_SKU]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(n)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let r={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(r)}await this.getTokenCache().removeAccount(e.account,e.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((r,n)=>{let o=0,a=setInterval(()=>{if(e9.TIMEOUT_MS/e9.INTERVAL_MS<o){clearInterval(a),n(ec.createLoopbackServerTimeoutError());return}try{let c=e.getRedirectUri();clearInterval(a),r(c);return}catch(c){if(c instanceof Pr&&c.errorCode===Js.noLoopbackServerExists.code){o++;return}clearInterval(a),n(c);return}},e9.INTERVAL_MS)})}};f();f();var hg=class extends xa{static{s(this,"ClientCredentialClient")}constructor(e,r){super(e),this.appTokenProvider=r}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[r,n]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return r?(n===ki.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),r):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,r,n,o,a,c){let l=r,u=r,d=ki.NOT_APPLICABLE,A;l.serializableCache&&l.persistencePlugin&&(A=new Oc(l.serializableCache,!1),await l.persistencePlugin.beforeCacheAccess(A));let h=this.readAccessTokenFromCache(o,u.managedIdentityId?.id||l.authOptions.clientId,new gs(e.scopes||[]),a,e.correlationId);return l.serializableCache&&l.persistencePlugin&&A&&await l.persistencePlugin.afterCacheAccess(A),h?zi.isTokenExpired(h.expiresOn,l.systemOptions?.tokenRenewalOffsetSeconds||M2)?(c?.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED),[null,ki.CACHED_ACCESS_TOKEN_EXPIRED]):(h.refreshOn&&zi.isTokenExpired(h.refreshOn.toString(),0)&&(d=ki.PROACTIVELY_REFRESHED,c?.setCacheOutcome(ki.PROACTIVELY_REFRESHED)),[await es.generateAuthenticationResult(n,o,{account:null,idToken:null,accessToken:h,refreshToken:null,appMetadata:null},!0,e),d]):(c?.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN),[null,ki.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,r,n,o,a){let c={homeAccountId:Fe.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:qn.ACCESS_TOKEN,clientId:r,realm:e.tenant,target:gs.createSearchScopes(n.asArray())},l=o.getAccessTokensByFilter(c,a);if(l.length<1)return null;if(l.length>1)throw Ke(wi.multipleMatchingTokens);return l[0]}async executeTokenRequest(e,r,n){let o,a;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let u={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};a=zi.nowSeconds();let d=await this.appTokenProvider(u);o={access_token:d.accessToken,expires_in:d.expiresInSeconds,refresh_in:d.refreshInSeconds,token_type:Tn.BEARER}}else{let u=this.createTokenQueryParameters(e),d=sn.appendQueryString(r.tokenEndpoint,u),A=await this.createTokenRequestBody(e),h=this.createTokenRequestHeaders(),p={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+r.tokenEndpoint),a=zi.nowSeconds();let y=await this.executePostToTokenEndpoint(d,A,h,p,e.correlationId);o=y.body,o.status=y.status}let c=new es(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return c.validateTokenResponse(o,n),await c.handleServerTokenResponse(o,this.authority,a,e)}async createTokenRequestBody(e){let r=new Map;Tt.addClientId(r,this.config.authOptions.clientId),Tt.addScopes(r,e.scopes,!1),Tt.addGrantType(r,X0.CLIENT_CREDENTIALS_GRANT),Tt.addLibraryInfo(r,this.config.libraryInfo),Tt.addApplicationTelemetry(r,this.config.telemetry.application),Tt.addThrottling(r),this.serverTelemetryManager&&Tt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();Tt.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&Tt.addClientSecret(r,this.config.clientCredentials.clientSecret);let o=e.clientAssertion||this.config.clientCredentials.clientAssertion;return o&&(Tt.addClientAssertion(r,await m0(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Tt.addClientAssertionType(r,o.assertionType)),(!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),Ia.mapToQueryString(r)}};f();var dx=class extends xa{static{s(this,"OnBehalfOfClient")}constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new gs(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch{return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(zi.isTokenExpired(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),Ke(wi.tokenRefreshRequired)}else throw this.serverTelemetryManager?.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),Ke(wi.tokenRefreshRequired);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId,e.correlationId),o,a=null;if(n){o=SR.extractTokenClaims(n.secret,Uc.base64Decode);let c=o.oid||o.sub,l={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:Fe.EMPTY_STRING,localAccountId:c||Fe.EMPTY_STRING};a=this.cacheManager.readAccountFromCache(l,e.correlationId)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),es.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:a,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,o)}readIdTokenFromCacheForOBO(e,r){let n={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:qn.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},o=this.cacheManager.getIdTokensByFilter(n,r);return Object.values(o).length<1?null:Object.values(o)[0]}readAccessTokenFromCacheForOBO(e,r){let n=r.authenticationScheme||Tn.BEARER,a={credentialType:n&&n.toLowerCase()!==Tn.BEARER.toLowerCase()?qn.ACCESS_TOKEN_WITH_AUTH_SCHEME:qn.ACCESS_TOKEN,clientId:e,target:gs.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:this.userAssertionHash},c=this.cacheManager.getAccessTokensByFilter(a,r.correlationId),l=c.length;if(l<1)return null;if(l>1)throw Ke(wi.multipleMatchingTokens);return c[0]}async executeTokenRequest(e,r,n){let o=this.createTokenQueryParameters(e),a=sn.appendQueryString(r.tokenEndpoint,o),c=await this.createTokenRequestBody(e),l=this.createTokenRequestHeaders(),u={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},d=zi.nowSeconds(),A=await this.executePostToTokenEndpoint(a,c,l,u,e.correlationId),h=new es(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return h.validateTokenResponse(A.body),await h.handleServerTokenResponse(A.body,this.authority,d,e,void 0,n)}async createTokenRequestBody(e){let r=new Map;Tt.addClientId(r,this.config.authOptions.clientId),Tt.addScopes(r,e.scopes),Tt.addGrantType(r,X0.JWT_BEARER),Tt.addClientInfo(r),Tt.addLibraryInfo(r,this.config.libraryInfo),Tt.addApplicationTelemetry(r,this.config.telemetry.application),Tt.addThrottling(r),this.serverTelemetryManager&&Tt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();Tt.addCorrelationId(r,n),Tt.addRequestTokenUse(r,mC.ON_BEHALF_OF),Tt.addOboAssertion(r,e.oboAssertion),this.config.clientCredentials.clientSecret&&Tt.addClientSecret(r,this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(Tt.addClientAssertion(r,await m0(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Tt.addClientAssertionType(r,o.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),Ia.mapToQueryString(r)}};var Ax=class extends Ag{static{s(this,"ConfidentialClientApplication")}constructor(e){super(e);let r=!!this.config.auth.clientSecret,n=!!this.config.auth.clientAssertion,o=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(r&&n||n&&o||r&&o)throw Ke(wi.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(o)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?uh.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):uh.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw Ke(wi.invalidClientCredential);this.appTokenProvider=void 0}}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){this.logger.info("acquireTokenByClientCredential called",e.correlationId);let r;e.clientAssertion&&(r={assertion:await m0(e.clientAssertion,this.config.auth.clientId),assertionType:Qs.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),o={...n,scopes:n.scopes.filter(p=>!K0.includes(p))},a={...e,...o,clientAssertion:r},l=new sn(a.authority).getUrlComponents().PathSegments[0];if(Object.values(J0).includes(l))throw Ke(wi.missingTenantIdError);let u=process.env[Zse],d;a.azureRegion!=="DisableMsalForceRegion"&&(!a.azureRegion&&u?d=u:d=a.azureRegion);let A={azureRegion:d,environmentRegion:process.env[Xse]},h=this.initializeServerTelemetryManager(lh.acquireTokenByClientCredential,a.correlationId,a.skipCache);try{let p=await this.createAuthority(a.authority,a.correlationId,A,e.azureCloudOptions),y=await this.buildOauthClientConfiguration(p,a.correlationId,"",h),E=new hg(y,this.appTokenProvider);return this.logger.verbose("Client credential client created",a.correlationId),await E.acquireToken(a)}catch(p){throw p instanceof Pr&&p.setCorrelationId(a.correlationId),h.cacheFailedRequest(p),p}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)};try{let n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),o=await this.buildOauthClientConfiguration(n,r.correlationId,"",void 0),a=new dx(o);return this.logger.verbose("On behalf of client created",r.correlationId),await a.acquireToken(r)}catch(n){throw n instanceof Pr&&n.setCorrelationId(r.correlationId),n}}};f();f();f();f();f();function jle(t){if(typeof t!="string")return!1;let e=new Date(t);return!isNaN(e.getTime())&&e.toISOString()===t}s(jle,"isIso8601");f();var $9=class{static{s(this,"HttpClientWithRetries")}constructor(e,r,n){this.httpClientNoRetries=e,this.retryPolicy=r,this.logger=n}async sendNetworkRequestAsyncHelper(e,r,n){return e===ji.GET?this.httpClientNoRetries.sendGetRequestAsync(r,n):this.httpClientNoRetries.sendPostRequestAsync(r,n)}async sendNetworkRequestAsync(e,r,n){let o=await this.sendNetworkRequestAsyncHelper(e,r,n);"isNewRequest"in this.retryPolicy&&(this.retryPolicy.isNewRequest=!0);let a=0;for(;await this.retryPolicy.pauseForRetry(o.status,a,this.logger,o.headers[Fi.RETRY_AFTER]);)o=await this.sendNetworkRequestAsyncHelper(e,r,n),a++;return o}async sendGetRequestAsync(e,r){return this.sendNetworkRequestAsync(ji.GET,e,r)}async sendPostRequestAsync(e,r){return this.sendNetworkRequestAsync(ji.POST,e,r)}};var RC={MANAGED_IDENTITY_CLIENT_ID_2017:"clientid",MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID_IMDS:"msi_res_id",MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS:"mi_res_id"},C0=class{static{s(this,"BaseManagedIdentitySource")}constructor(e,r,n,o,a){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o,this.disableInternalRetries=a}async getServerTokenResponseAsync(e,r,n,o){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let r,n;return e.body.expires_on&&(jle(e.body.expires_on)&&(e.body.expires_on=new Date(e.body.expires_on).getTime()/1e3),n=e.body.expires_on-zi.nowSeconds(),n>2*3600&&(r=n/2)),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:r,correlation_id:e.body.correlation_id||e.body.correlationId,error:typeof e.body.error=="string"?e.body.error:e.body.error?.code,error_description:e.body.message||(typeof e.body.error=="string"?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,r,n,o){let a=this.createRequest(e.resource,r);if(e.revokedTokenSha256Hash&&(this.logger.info(`[Managed Identity] The following claims are present in the request: ${e.claims}`),a.queryParameters[ys.SHA256_TOKEN_TO_REFRESH]=e.revokedTokenSha256Hash),e.clientCapabilities?.length){let y=e.clientCapabilities.toString();this.logger.info(`[Managed Identity] The following client capabilities are present in the request: ${y}`),a.queryParameters[ys.XMS_CC]=y}let c=a.headers;c[Fi.CONTENT_TYPE]=Fe.URL_FORM_CONTENT_TYPE;let l={headers:c};Object.keys(a.bodyParameters).length&&(l.body=a.computeParametersBodyString());let u=this.disableInternalRetries?this.networkClient:new $9(this.networkClient,a.retryPolicy,this.logger),d=zi.nowSeconds(),A;try{a.httpMethod===ji.POST?A=await u.sendPostRequestAsync(a.computeUri(),l):A=await u.sendGetRequestAsync(a.computeUri(),l)}catch(y){throw y instanceof Pr?y:Ke(wi.networkError)}let h=new es(r.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),p=await this.getServerTokenResponseAsync(A,u,a,l);return h.validateTokenResponse(p,o),h.handleServerTokenResponse(p,n,d,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e,r,n){switch(e){case bo.USER_ASSIGNED_CLIENT_ID:return this.logger.info(`[Managed Identity] [API version ${n?"2017+":"2019+"}] Adding user assigned client id to the request.`),n?RC.MANAGED_IDENTITY_CLIENT_ID_2017:RC.MANAGED_IDENTITY_CLIENT_ID;case bo.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),r?RC.MANAGED_IDENTITY_RESOURCE_ID_IMDS:RC.MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS;case bo.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),RC.MANAGED_IDENTITY_OBJECT_ID;default:throw ts(cg)}}};C0.getValidatedEnvVariableUrlString=(t,e,r,n)=>{try{return new sn(e).urlString}catch{throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${t}' environment variable is malformed.`),ts(_C[t])}};f();f();f();var z9=class{static{s(this,"LinearRetryStrategy")}calculateDelay(e,r){if(!e)return r;let n=Math.round(parseFloat(e)*1e3);return isNaN(n)&&(n=new Date(e).valueOf()-new Date().valueOf()),Math.max(r,n)}};var fQe=3,dQe=1e3,AQe=[Qr.NOT_FOUND,Qr.REQUEST_TIMEOUT,Qr.TOO_MANY_REQUESTS,Qr.SERVER_ERROR,Qr.SERVICE_UNAVAILABLE,Qr.GATEWAY_TIMEOUT],j9=class t{static{s(this,"DefaultManagedIdentityRetryPolicy")}constructor(){this.linearRetryStrategy=new z9}static get DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS(){return dQe}async pauseForRetry(e,r,n,o){if(AQe.includes(e)&&r<fQe){let a=this.linearRetryStrategy.calculateDelay(o,t.DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS);return n.verbose(`Retrying request in ${a}ms (retry attempt: ${r+1})`),await new Promise(c=>setTimeout(c,a)),!0}return!1}};var rc=class{static{s(this,"ManagedIdentityRequestParameters")}constructor(e,r,n){this.httpMethod=e,this._baseEndpoint=r,this.headers={},this.bodyParameters={},this.queryParameters={},this.retryPolicy=n||new j9}computeUri(){let e=new Map;this.queryParameters&&Tt.addExtraQueryParameters(e,this.queryParameters);let r=Ia.mapToQueryString(e);return sn.appendQueryString(this._baseEndpoint,r)}computeParametersBodyString(){let e=new Map;return this.bodyParameters&&Tt.addExtraQueryParameters(e,this.bodyParameters),Ia.mapToQueryString(e)}};var hQe="2019-08-01",I4=class t extends C0{static{s(this,"AppService")}constructor(e,r,n,o,a,c,l){super(e,r,n,o,a),this.identityEndpoint=c,this.identityHeader=l}static getEnvironmentVariables(){let e=process.env[Cr.IDENTITY_ENDPOINT],r=process.env[Cr.IDENTITY_HEADER];return[e,r]}static tryCreate(e,r,n,o,a){let[c,l]=t.getEnvironmentVariables();if(!c||!l)return e.info(`[Managed Identity] ${wr.APP_SERVICE} managed identity is unavailable because one or both of the '${Cr.IDENTITY_HEADER}' and '${Cr.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let u=t.getValidatedEnvVariableUrlString(Cr.IDENTITY_ENDPOINT,c,wr.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${wr.APP_SERVICE} managed identity. Endpoint URI: ${u}. Creating ${wr.APP_SERVICE} managed identity.`),new t(e,r,n,o,a,c,l)}createRequest(e,r){let n=new rc(ji.GET,this.identityEndpoint);return n.headers[Z0.APP_SERVICE_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[ys.API_VERSION]=hQe,n.queryParameters[ys.RESOURCE]=e,r.idType!==bo.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};f();var fh=require("fs"),Zle=Et(require("path"),1);var pQe="2019-11-01",Kle="http://127.0.0.1:40342/metadata/identity/oauth2/token",Jle="N/A: himds executable exists",Xle={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},mQe={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"},x4=class t extends C0{static{s(this,"AzureArc")}constructor(e,r,n,o,a,c){super(e,r,n,o,a),this.identityEndpoint=c}static getEnvironmentVariables(){let e=process.env[Cr.IDENTITY_ENDPOINT],r=process.env[Cr.IMDS_ENDPOINT];if(!e||!r){let n=mQe[process.platform];try{(0,fh.accessSync)(n,fh.constants.F_OK|fh.constants.R_OK),e=Kle,r=Jle}catch{}}return[e,r]}static tryCreate(e,r,n,o,a,c){let[l,u]=t.getEnvironmentVariables();if(!l||!u)return e.info(`[Managed Identity] ${wr.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${Cr.IDENTITY_ENDPOINT}' and '${Cr.IMDS_ENDPOINT}' are not defined. ${wr.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(u===Jle)e.info(`[Managed Identity] ${wr.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${wr.AZURE_ARC} endpoint: ${Kle}. Creating ${wr.AZURE_ARC} managed identity.`);else{let d=t.getValidatedEnvVariableUrlString(Cr.IDENTITY_ENDPOINT,l,wr.AZURE_ARC,e);d.endsWith("/")&&d.slice(0,-1),t.getValidatedEnvVariableUrlString(Cr.IMDS_ENDPOINT,u,wr.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${wr.AZURE_ARC} managed identity. Endpoint URI: ${d}. Creating ${wr.AZURE_ARC} managed identity.`)}if(c.idType!==bo.SYSTEM_ASSIGNED)throw ts(s9);return new t(e,r,n,o,a,l)}createRequest(e){let r=new rc(ji.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return r.headers[Z0.METADATA_HEADER_NAME]="true",r.queryParameters[ys.API_VERSION]=pQe,r.queryParameters[ys.RESOURCE]=e,r}async getServerTokenResponseAsync(e,r,n,o){let a;if(e.status===Qr.UNAUTHORIZED){let c=e.headers["www-authenticate"];if(!c)throw ts(l9);if(!c.includes("Basic realm="))throw ts(u9);let l=c.split("Basic realm=")[1];if(!Xle.hasOwnProperty(process.platform))throw ts(o9);let u=Xle[process.platform],d=Zle.default.basename(l);if(!d.endsWith(".key"))throw ts(r9);if(u+d!==l)throw ts(n9);let A;try{A=await(0,fh.statSync)(l).size}catch{throw ts(c4)}if(A>rae)throw ts(i9);let h;try{h=(0,fh.readFileSync)(l,Ca.UTF8)}catch{throw ts(c4)}let p=`Basic ${h}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),n.headers[Z0.AUTHORIZATION_HEADER_NAME]=p;try{a=await r.sendGetRequestAsync(n.computeUri(),o)}catch(y){throw y instanceof Pr?y:Ke(wi.networkError)}}return this.getServerTokenResponse(a||e)}};f();var v4=class t extends C0{static{s(this,"CloudShell")}constructor(e,r,n,o,a,c){super(e,r,n,o,a),this.msiEndpoint=c}static getEnvironmentVariables(){return[process.env[Cr.MSI_ENDPOINT]]}static tryCreate(e,r,n,o,a,c){let[l]=t.getEnvironmentVariables();if(!l)return e.info(`[Managed Identity] ${wr.CLOUD_SHELL} managed identity is unavailable because the '${Cr.MSI_ENDPOINT} environment variable is not defined.`),null;let u=t.getValidatedEnvVariableUrlString(Cr.MSI_ENDPOINT,l,wr.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${wr.CLOUD_SHELL} managed identity. Endpoint URI: ${u}. Creating ${wr.CLOUD_SHELL} managed identity.`),c.idType!==bo.SYSTEM_ASSIGNED)throw ts(a9);return new t(e,r,n,o,a,l)}createRequest(e){let r=new rc(ji.POST,this.msiEndpoint);return r.headers[Z0.METADATA_HEADER_NAME]="true",r.bodyParameters[ys.RESOURCE]=e,r}};f();f();f();var K9=class{static{s(this,"ExponentialRetryStrategy")}constructor(e,r,n){this.minExponentialBackoff=e,this.maxExponentialBackoff=r,this.exponentialDeltaBackoff=n}calculateDelay(e){return e===0?this.minExponentialBackoff:Math.min(Math.pow(2,e-1)*this.exponentialDeltaBackoff,this.maxExponentialBackoff)}};var gQe=[Qr.NOT_FOUND,Qr.REQUEST_TIMEOUT,Qr.GONE,Qr.TOO_MANY_REQUESTS],yQe=3,CQe=7,EQe=1e3,IQe=4e3,xQe=2e3,vQe=10*1e3,J9=class t{static{s(this,"ImdsRetryPolicy")}constructor(){this.exponentialRetryStrategy=new K9(t.MIN_EXPONENTIAL_BACKOFF_MS,t.MAX_EXPONENTIAL_BACKOFF_MS,t.EXPONENTIAL_DELTA_BACKOFF_MS)}static get MIN_EXPONENTIAL_BACKOFF_MS(){return EQe}static get MAX_EXPONENTIAL_BACKOFF_MS(){return IQe}static get EXPONENTIAL_DELTA_BACKOFF_MS(){return xQe}static get HTTP_STATUS_GONE_RETRY_AFTER_MS(){return vQe}set isNewRequest(e){this._isNewRequest=e}async pauseForRetry(e,r,n){if(this._isNewRequest&&(this._isNewRequest=!1,this.maxRetries=e===Qr.GONE?CQe:yQe),(gQe.includes(e)||e>=Qr.SERVER_ERROR_RANGE_START&&e<=Qr.SERVER_ERROR_RANGE_END&&r<this.maxRetries)&&r<this.maxRetries){let o=e===Qr.GONE?t.HTTP_STATUS_GONE_RETRY_AFTER_MS:this.exponentialRetryStrategy.calculateDelay(r);return n.verbose(`Retrying request in ${o}ms (retry attempt: ${r+1})`),await new Promise(a=>setTimeout(a,o)),!0}return!1}};var eue="/metadata/identity/oauth2/token",bQe=`http://169.254.169.254${eue}`,TQe="2018-02-01",X9=class t extends C0{static{s(this,"Imds")}constructor(e,r,n,o,a,c){super(e,r,n,o,a),this.identityEndpoint=c}static tryCreate(e,r,n,o,a){let c;return process.env[Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${wr.IMDS} returned endpoint: ${process.env[Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),c=t.getValidatedEnvVariableUrlString(Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${eue}`,wr.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${wr.IMDS}, using the default endpoint.`),c=bQe),new t(e,r,n,o,a,c)}createRequest(e,r){let n=new rc(ji.GET,this.identityEndpoint);return n.headers[Z0.METADATA_HEADER_NAME]="true",n.queryParameters[ys.API_VERSION]=TQe,n.queryParameters[ys.RESOURCE]=e,r.idType!==bo.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!0)]=r.id),n.retryPolicy=new J9,n}};f();var _Qe="2019-07-01-preview",b4=class t extends C0{static{s(this,"ServiceFabric")}constructor(e,r,n,o,a,c,l){super(e,r,n,o,a),this.identityEndpoint=c,this.identityHeader=l}static getEnvironmentVariables(){let e=process.env[Cr.IDENTITY_ENDPOINT],r=process.env[Cr.IDENTITY_HEADER],n=process.env[Cr.IDENTITY_SERVER_THUMBPRINT];return[e,r,n]}static tryCreate(e,r,n,o,a,c){let[l,u,d]=t.getEnvironmentVariables();if(!l||!u||!d)return e.info(`[Managed Identity] ${wr.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${Cr.IDENTITY_HEADER}', '${Cr.IDENTITY_ENDPOINT}' or '${Cr.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let A=t.getValidatedEnvVariableUrlString(Cr.IDENTITY_ENDPOINT,l,wr.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${wr.SERVICE_FABRIC} managed identity. Endpoint URI: ${A}. Creating ${wr.SERVICE_FABRIC} managed identity.`),c.idType!==bo.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${wr.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new t(e,r,n,o,a,l,u)}createRequest(e,r){let n=new rc(ji.GET,this.identityEndpoint);return n.headers[Z0.ML_AND_SF_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[ys.API_VERSION]=_Qe,n.queryParameters[ys.RESOURCE]=e,r.idType!==bo.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};f();var wQe="2017-09-01",SQe=`Only client id is supported for user-assigned managed identity in ${wr.MACHINE_LEARNING}.`,T4=class t extends C0{static{s(this,"MachineLearning")}constructor(e,r,n,o,a,c,l){super(e,r,n,o,a),this.msiEndpoint=c,this.secret=l}static getEnvironmentVariables(){let e=process.env[Cr.MSI_ENDPOINT],r=process.env[Cr.MSI_SECRET];return[e,r]}static tryCreate(e,r,n,o,a){let[c,l]=t.getEnvironmentVariables();if(!c||!l)return e.info(`[Managed Identity] ${wr.MACHINE_LEARNING} managed identity is unavailable because one or both of the '${Cr.MSI_ENDPOINT}' and '${Cr.MSI_SECRET}' environment variables are not defined.`),null;let u=t.getValidatedEnvVariableUrlString(Cr.MSI_ENDPOINT,c,wr.MACHINE_LEARNING,e);return e.info(`[Managed Identity] Environment variables validation passed for ${wr.MACHINE_LEARNING} managed identity. Endpoint URI: ${u}. Creating ${wr.MACHINE_LEARNING} managed identity.`),new t(e,r,n,o,a,c,l)}createRequest(e,r){let n=new rc(ji.GET,this.msiEndpoint);if(n.headers[Z0.METADATA_HEADER_NAME]="true",n.headers[Z0.ML_AND_SF_SECRET_HEADER_NAME]=this.secret,n.queryParameters[ys.API_VERSION]=wQe,n.queryParameters[ys.RESOURCE]=e,r.idType===bo.SYSTEM_ASSIGNED)n.queryParameters[RC.MANAGED_IDENTITY_CLIENT_ID_2017]=process.env[Cr.DEFAULT_IDENTITY_CLIENT_ID];else if(r.idType===bo.USER_ASSIGNED_CLIENT_ID)n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!1,!0)]=r.id;else throw new Error(SQe);return n}};var _4=class t{static{s(this,"ManagedIdentityClient")}constructor(e,r,n,o,a){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o,this.disableInternalRetries=a}async sendManagedIdentityTokenRequest(e,r,n,o){return t.identitySource||(t.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,this.disableInternalRetries,r)),t.identitySource.acquireTokenWithManagedIdentity(e,r,n,o)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(r=>r!==void 0)}getManagedIdentitySource(){return t.sourceName=this.allEnvironmentVariablesAreDefined(b4.getEnvironmentVariables())?wr.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(I4.getEnvironmentVariables())?wr.APP_SERVICE:this.allEnvironmentVariablesAreDefined(T4.getEnvironmentVariables())?wr.MACHINE_LEARNING:this.allEnvironmentVariablesAreDefined(v4.getEnvironmentVariables())?wr.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(x4.getEnvironmentVariables())?wr.AZURE_ARC:wr.DEFAULT_TO_IMDS,t.sourceName}selectManagedIdentitySource(e,r,n,o,a,c){let l=b4.tryCreate(e,r,n,o,a,c)||I4.tryCreate(e,r,n,o,a)||T4.tryCreate(e,r,n,o,a)||v4.tryCreate(e,r,n,o,a,c)||x4.tryCreate(e,r,n,o,a,c)||X9.tryCreate(e,r,n,o,a);if(!l)throw ts(c9);return l}};var BQe=[wr.SERVICE_FABRIC],hx=class t{static{s(this,"ManagedIdentityApplication")}constructor(e){this.config=uae(e||{}),this.logger=new Fc(this.config.system.loggerOptions,W9,zu);let r={canonicalAuthority:Fe.DEFAULT_AUTHORITY};t.nodeStorage||(t.nodeStorage=new ug(this.logger,this.config.managedIdentityId.id,U2,r)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new Td;let n={protocolMode:Wa.AAD,knownAuthorities:[ZH],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new Yu(ZH,this.networkClient,t.nodeStorage,n,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new hg({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new _4(this.logger,t.nodeStorage,this.networkClient,this.cryptoProvider,this.config.disableInternalRetries),this.hashUtils=new lg}async acquireToken(e){if(!e.resource)throw Si(V2.urlEmptyError);let r={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid(),claims:e.claims,clientCapabilities:this.config.clientCapabilities};if(r.forceRefresh)return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority);let[n,o]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(r,this.config,this.cryptoProvider,this.fakeAuthority,t.nodeStorage);if(r.claims){let a=this.managedIdentityClient.getManagedIdentitySource();if(n&&BQe.includes(a)){let c=this.hashUtils.sha256(n.accessToken).toString(Ca.HEX);r.revokedTokenSha256Hash=c}return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}return n?(o===ki.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority,!0)),n):this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}async acquireTokenFromManagedIdentity(e,r,n,o){return this.managedIdentityClient.sendManagedIdentityTokenRequest(e,r,n,o)}getManagedIdentitySource(){return _4.sourceName||this.managedIdentityClient.getManagedIdentitySource()}};f();var Z9=class{static{s(this,"DistributedCachePlugin")}constructor(e,r){this.client=e,this.partitionManager=r}async beforeCacheAccess(e){let r=await this.partitionManager.getKey(),n=await this.client.get(r);e.tokenCache.deserialize(n)}async afterCacheAccess(e){if(e.cacheHasChanged){let r=e.tokenCache.getKVStore(),n=Object.values(r).filter(a=>Ea.isAccountEntity(a)),o;if(n.length>0){let a=n[0];o=await this.partitionManager.extractKey(a)}else o=await this.partitionManager.getKey();await this.client.set(o,e.tokenCache.serialize())}}};f();f();f();f();f();function w4(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}s(w4,"getRandomIntegerInclusive");function S4(t,e){let r=e.retryDelayInMs*Math.pow(2,t),n=Math.min(e.maxRetryDelayInMs,r);return{retryAfterInMs:n/2+w4(0,n/2)}}s(S4,"calculateRetryDelay");f();function px(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}s(px,"isObject");f();function kC(t){if(px(t)){let e=typeof t.name=="string",r=typeof t.message=="string";return e&&r}return!1}s(kC,"isError");f();f();var tue=require("node:crypto");var $q,RQe=typeof(($q=globalThis?.crypto)===null||$q===void 0?void 0:$q.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):tue.randomUUID;function mx(){return RQe()}s(mx,"randomUUID");f();var zq,jq,Kq,Jq,rue=typeof window<"u"&&typeof window.document<"u",nue=typeof self=="object"&&typeof self?.importScripts=="function"&&(((zq=self.constructor)===null||zq===void 0?void 0:zq.name)==="DedicatedWorkerGlobalScope"||((jq=self.constructor)===null||jq===void 0?void 0:jq.name)==="ServiceWorkerGlobalScope"||((Kq=self.constructor)===null||Kq===void 0?void 0:Kq.name)==="SharedWorkerGlobalScope"),iue=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",oue=typeof Bun<"u"&&typeof Bun.version<"u",pg=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!(!((Jq=globalThis.process.versions)===null||Jq===void 0)&&Jq.node);var sue=typeof navigator<"u"&&navigator?.product==="ReactNative";f();function nc(t,e){return Buffer.from(t,e)}s(nc,"stringToUint8Array");f();var Xq="REDACTED",kQe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],DQe=["api-version"],ju=class{static{s(this,"Sanitizer")}constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=kQe.concat(e),r=DQe.concat(r),this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(e){let r=new Set;return JSON.stringify(e,(n,o)=>{if(o instanceof Error)return Object.assign(Object.assign({},o),{name:o.name,message:o.message});if(n==="headers")return this.sanitizeHeaders(o);if(n==="url")return this.sanitizeUrl(o);if(n==="query")return this.sanitizeQuery(o);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(o)||px(o)){if(r.has(o))return"[Circular]";r.add(o)}return o},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;let r=new URL(e);if(!r.search)return e;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,Xq);return r.toString()}sanitizeHeaders(e){let r={};for(let n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=e[n]:r[n]=Xq;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=e[n]:r[n]=Xq;return r}};f();f();f();f();var DC=class extends Error{static{s(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};function eG(t,e){let{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:o}=e??{};return new Promise((a,c)=>{function l(){c(new DC(o??"The operation was aborted."))}s(l,"rejectOnAbort");function u(){n?.removeEventListener("abort",d)}s(u,"removeListeners");function d(){r?.(),u(),l()}if(s(d,"onAbort"),n?.aborted)return l();try{t(A=>{u(),a(A)},A=>{u(),c(A)})}catch(A){c(A)}n?.addEventListener("abort",d)})}s(eG,"createAbortablePromise");f();var LQe="The delay was aborted.";function tG(t,e){let r,{abortSignal:n,abortErrorMsg:o}=e??{};return eG(a=>{r=setTimeout(a,t)},{cleanupBeforeAbort:s(()=>clearTimeout(r),"cleanupBeforeAbort"),abortSignal:n,abortErrorMsg:o??LQe})}s(tG,"delay");f();function gx(t){if(kC(t))return t.message;{let e;try{typeof t=="object"&&t?e=JSON.stringify(t):e=String(t)}catch{e="[unable to stringify input]"}return`Unknown error ${e}`}}s(gx,"getErrorMessage");f();function aue(t,e){return S4(t,e)}s(aue,"calculateRetryDelay");function e7(t){return kC(t)}s(e7,"isError");var t7=pg,yx=pg;f();var B4=kr("IdentityUtils"),cue="1.0";function NC(t,e,r){let n=s(o=>(B4.getToken.info(o),new Nl({scopes:Array.isArray(t)?t:[t],getTokenOptions:r,message:o})),"error");if(!e)throw n("No response");if(!e.expiresOn)throw n('Response had no "expiresOn" property.');if(!e.accessToken)throw n('Response had no "accessToken" property.')}s(NC,"ensureValidMsalToken");function rG(t){let e=t?.authorityHost;return!e&&yx&&(e=process.env.AZURE_AUTHORITY_HOST),e??t_}s(rG,"getAuthorityHost");function nG(t,e){return e||(e=t_),new RegExp(`${t}/?$`).test(e)?e:e.endsWith("/")?e+t:`${e}/${t}`}s(nG,"getAuthority");function lue(t,e,r){return t==="adfs"&&e||r?[e]:[]}s(lue,"getKnownAuthorities");var r7=s((t,e=t7?"Node":"Browser")=>(r,n,o)=>{if(!o)switch(r){case Hc.LogLevel.Error:t.info(`MSAL ${e} V2 error: ${n}`);return;case Hc.LogLevel.Info:t.info(`MSAL ${e} V2 info message: ${n}`);return;case Hc.LogLevel.Verbose:t.info(`MSAL ${e} V2 verbose message: ${n}`);return;case Hc.LogLevel.Warning:t.info(`MSAL ${e} V2 warning: ${n}`);return}},"defaultLoggerCallback");function n7(t){switch(t){case"error":return Hc.LogLevel.Error;case"info":return Hc.LogLevel.Info;case"verbose":return Hc.LogLevel.Verbose;case"warning":return Hc.LogLevel.Warning;default:return Hc.LogLevel.Info}}s(n7,"getMSALLogLevel");function QC(t,e,r){if(e.name==="AuthError"||e.name==="ClientAuthError"||e.name==="BrowserAuthError"){let n=e;switch(n.errorCode){case"endpoints_resolution_error":return B4.info(Pn(t,e.message)),new Ot(e.message);case"device_code_polling_cancelled":return new DC("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":B4.info(Pn(t,`Authentication returned errorCode ${n.errorCode}`));break;default:B4.info(Pn(t,`Failed to acquire token: ${e.message}`));break}}return e.name==="ClientConfigurationError"||e.name==="BrowserConfigurationAuthError"||e.name==="AbortError"||e.name==="AuthenticationError"?e:e.name==="NativeAuthError"?(B4.info(Pn(t,`Error from the native broker: ${e.message} with status code: ${e.statusCode}`)),e):new Nl({scopes:t,getTokenOptions:r,message:e.message})}s(QC,"handleMsalError");function uue(t){return{localAccountId:t.homeAccountId,environment:t.authority,username:t.username,homeAccountId:t.homeAccountId,tenantId:t.tenantId}}s(uue,"publicToMsal");function fue(t,e){return{authority:e.environment??tse,homeAccountId:e.homeAccountId,tenantId:e.tenantId||ese,username:e.username,clientId:t,version:cue}}s(fue,"msalToPublic");function iG(t){let e=JSON.parse(t);if(e.version&&e.version!==cue)throw Error("Unsupported AuthenticationRecord version");return e}s(iG,"deserializeAuthenticationRecord");f();f();f();f();f();f();function OQe(t,e){return e!=="Composite"&&e!=="Dictionary"&&(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||e?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||t===void 0||t===null)}s(OQe,"isPrimitiveBody");function UQe(t){let e=Object.assign(Object.assign({},t.headers),t.body);return t.hasNullableType&&Object.getOwnPropertyNames(e).length===0?t.shouldWrapBody?{body:null}:null:t.shouldWrapBody?Object.assign(Object.assign({},t.headers),{body:t.body}):e}s(UQe,"handleNullableResponseAndWrappableBody");function oG(t,e){var r,n;let o=t.parsedHeaders;if(t.request.method==="HEAD")return Object.assign(Object.assign({},o),{body:t.parsedBody});let a=e&&e.bodyMapper,c=!!a?.nullable,l=a?.type.name;if(l==="Stream")return Object.assign(Object.assign({},o),{blobBody:t.blobBody,readableStreamBody:t.readableStreamBody});let u=l==="Composite"&&a.type.modelProperties||{},d=Object.keys(u).some(A=>u[A].serializedName==="");if(l==="Sequence"||d){let A=(r=t.parsedBody)!==null&&r!==void 0?r:[];for(let h of Object.keys(u))u[h].serializedName&&(A[h]=(n=t.parsedBody)===null||n===void 0?void 0:n[h]);if(o)for(let h of Object.keys(o))A[h]=o[h];return c&&!t.parsedBody&&!o&&Object.getOwnPropertyNames(u).length===0?null:A}return UQe({body:t.parsedBody,headers:o,hasNullableType:c,shouldWrapBody:OQe(t.parsedBody,l)})}s(oG,"flattenResponse");var Sd={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"};f();f();f();f();f();var Bd=class extends Error{static{s(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};f();f();f();var due=require("node:os"),Aue=Et(require("node:util"),1),hue=Et(require("node:process"),1);function pue(t,...e){hue.stderr.write(`${Aue.default.format(t,...e)}${due.EOL}`)}s(pue,"log");var mue=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,gue,sG=[],aG=[],o7=[];mue&&cG(mue);var yue=Object.assign(t=>Cue(t),{enable:cG,enabled:lG,disable:HQe,log:pue});function cG(t){gue=t,sG=[],aG=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?aG.push(new RegExp(`^${n.substr(1)}$`)):sG.push(new RegExp(`^${n}$`));for(let n of o7)n.enabled=lG(n.namespace)}s(cG,"enable");function lG(t){if(t.endsWith("*"))return!0;for(let e of aG)if(e.test(t))return!1;for(let e of sG)if(e.test(t))return!0;return!1}s(lG,"enabled");function HQe(){let t=gue||"";return cG(""),t}s(HQe,"disable");function Cue(t){let e=Object.assign(r,{enabled:lG(t),destroy:qQe,log:yue.log,namespace:t,extend:GQe});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return s(r,"debug"),o7.push(e),e}s(Cue,"createDebugger");function qQe(){let t=o7.indexOf(this);return t>=0?(o7.splice(t,1),!0):!1}s(qQe,"destroy");function GQe(t){let e=Cue(`${this.namespace}:${t}`);return e.log=this.log,e}s(GQe,"extend");var Cx=yue;var uG=["verbose","info","warning","error"],Eue={verbose:400,info:300,warning:200,error:100};function Iue(t,e){e.log=(...r)=>{t.log(...r)}}s(Iue,"patchLogMethod");function xue(t){return uG.includes(t)}s(xue,"isTypeSpecRuntimeLogLevel");function VQe(t){let e=new Set,r=typeof process<"u"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,n,o=Cx(t.namespace);o.log=(...A)=>{Cx.log(...A)};function a(A){if(A&&!xue(A))throw new Error(`Unknown log level '${A}'. Acceptable values: ${uG.join(",")}`);n=A;let h=[];for(let p of e)c(p)&&h.push(p.namespace);Cx.enable(h.join(","))}s(a,"contextSetLogLevel"),r&&(xue(r)?a(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${uG.join(", ")}.`));function c(A){return!!(n&&Eue[A.level]<=Eue[n])}s(c,"shouldEnable");function l(A,h){let p=Object.assign(A.extend(h),{level:h});if(Iue(A,p),c(p)){let y=Cx.disable();Cx.enable(y+","+p.namespace)}return e.add(p),p}s(l,"createLogger");function u(){return n}s(u,"contextGetLogLevel");function d(A){let h=o.extend(A);return Iue(o,h),{error:l(h,"error"),warning:l(h,"warning"),info:l(h,"info"),verbose:l(h,"verbose")}}return s(d,"contextCreateClientLogger"),{setLogLevel:a,getLogLevel:u,createClientLogger:d,logger:o}}s(VQe,"createLoggerContext");var vue=VQe({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"}),WQe=vue.logger;function k4(t){return vue.createClientLogger(t)}s(k4,"createClientLogger");f();function s7(t){return t.toLowerCase()}s(s7,"normalizeName");function*YQe(t){for(let e of t.values())yield[e.name,e.value]}s(YQe,"headerIterator");var fG=class{static{s(this,"HttpHeadersImpl")}constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r])}set(e,r){this._headersMap.set(s7(e),{name:e,value:String(r).trim()})}get(e){var r;return(r=this._headersMap.get(s7(e)))===null||r===void 0?void 0:r.value}has(e){return this._headersMap.has(s7(e))}delete(e){this._headersMap.delete(s7(e))}toJSON(e={}){let r={};if(e.preserveCase)for(let n of this._headersMap.values())r[n.name]=n.value;else for(let[n,o]of this._headersMap)r[n]=o.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return YQe(this._headersMap)}};function qc(t){return new fG(t)}s(qc,"createHttpHeaders");f();f();f();var dG=class{static{s(this,"PipelineRequestImpl")}constructor(e){var r,n,o,a,c,l,u;this.url=e.url,this.body=e.body,this.headers=(r=e.headers)!==null&&r!==void 0?r:qc(),this.method=(n=e.method)!==null&&n!==void 0?n:"GET",this.timeout=(o=e.timeout)!==null&&o!==void 0?o:0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=(a=e.disableKeepAlive)!==null&&a!==void 0?a:!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=(c=e.withCredentials)!==null&&c!==void 0?c:!1,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||mx(),this.allowInsecureConnection=(l=e.allowInsecureConnection)!==null&&l!==void 0?l:!1,this.enableBrowserStreams=(u=e.enableBrowserStreams)!==null&&u!==void 0?u:!1,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}};function a7(t){return new dG(t)}s(a7,"createPipelineRequest");f();var bue=new Set(["Deserialize","Serialize","Retry","Sign"]),AG=class t{static{s(this,"HttpPipeline")}constructor(e){var r;this._policies=[],this._policies=(r=e?.slice(0))!==null&&r!==void 0?r:[],this._orderedPolicies=void 0}addPolicy(e,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!bue.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!bue.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:e,options:r}),this._orderedPolicies=void 0}removePolicy(e){let r=[];return this._policies=this._policies.filter(n=>e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase?(r.push(n.policy),!1):!0),this._orderedPolicies=void 0,r}sendRequest(e,r){return this.getOrderedPolicies().reduceRight((a,c)=>l=>c.sendRequest(l,a),a=>e.sendRequest(a))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new t(this._policies)}static create(){return new t}orderPolicies(){let e=[],r=new Map;function n(E){return{name:E,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}s(n,"createPhase");let o=n("Serialize"),a=n("None"),c=n("Deserialize"),l=n("Retry"),u=n("Sign"),d=[o,a,c,l,u];function A(E){return E==="Retry"?l:E==="Serialize"?o:E==="Deserialize"?c:E==="Sign"?u:a}s(A,"getPhase");for(let E of this._policies){let v=E.policy,w=E.options,_=v.name;if(r.has(_))throw new Error("Duplicate policy names not allowed in pipeline");let S={policy:v,dependsOn:new Set,dependants:new Set};w.afterPhase&&(S.afterPhase=A(w.afterPhase),S.afterPhase.hasAfterPolicies=!0),r.set(_,S),A(w.phase).policies.add(S)}for(let E of this._policies){let{policy:v,options:w}=E,_=v.name,S=r.get(_);if(!S)throw new Error(`Missing node for policy ${_}`);if(w.afterPolicies)for(let D of w.afterPolicies){let N=r.get(D);N&&(S.dependsOn.add(N),N.dependants.add(S))}if(w.beforePolicies)for(let D of w.beforePolicies){let N=r.get(D);N&&(N.dependsOn.add(S),S.dependants.add(N))}}function h(E){E.hasRun=!0;for(let v of E.policies)if(!(v.afterPhase&&(!v.afterPhase.hasRun||v.afterPhase.policies.size))&&v.dependsOn.size===0){e.push(v.policy);for(let w of v.dependants)w.dependsOn.delete(v);r.delete(v.policy.name),E.policies.delete(v)}}s(h,"walkPhase");function p(){for(let E of d){if(h(E),E.policies.size>0&&E!==a){a.hasRun||h(a);return}E.hasAfterPolicies&&h(a)}}s(p,"walkPhases");let y=0;for(;r.size>0;){y++;let E=e.length;if(p(),e.length<=E&&y>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}};function c7(){return AG.create()}s(c7,"createEmptyPipeline");f();f();var Tue=require("node:util"),_ue=Tue.inspect.custom;var $Qe=new ju,ba=class t extends Error{static{s(this,"RestError")}constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:!1}),Object.defineProperty(this,"response",{value:r.response,enumerable:!1}),Object.defineProperty(this,_ue,{value:s(()=>`RestError: ${this.message} 
 ${$Qe.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`,"value"),enumerable:!1}),Object.setPrototypeOf(this,t.prototype)}};ba.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";ba.PARSE_ERROR="PARSE_ERROR";function l7(t){return t instanceof ba?!0:kC(t)&&t.name==="RestError"}s(l7,"isRestError");f();f();var Ex=Et(require("node:http"),1),Ix=Et(require("node:https"),1),f7=Et(require("node:zlib"),1),Sue=require("node:stream");f();var Ol=k4("ts-http-runtime");var zQe={};function D4(t){return t&&typeof t.pipe=="function"}s(D4,"isReadableStream");function wue(t){return t.readable===!1?Promise.resolve():new Promise(e=>{let r=s(()=>{e(),t.removeListener("close",r),t.removeListener("end",r),t.removeListener("error",r)},"handler");t.on("close",r),t.on("end",r),t.on("error",r)})}s(wue,"isStreamComplete");function Bue(t){return t&&typeof t.byteLength=="number"}s(Bue,"isArrayBuffer");var u7=class extends Sue.Transform{static{s(this,"ReportTransform")}_transform(e,r,n){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(o){n(o)}}constructor(e){super(),this.loadedBytes=0,this.progressCallback=e}},hG=class{static{s(this,"NodeHttpClient")}constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(e){var r,n,o;let a=new AbortController,c;if(e.abortSignal){if(e.abortSignal.aborted)throw new Bd("The operation was aborted. Request has already been canceled.");c=s(p=>{p.type==="abort"&&a.abort()},"abortListener"),e.abortSignal.addEventListener("abort",c)}let l;e.timeout>0&&(l=setTimeout(()=>{let p=new ju;Ol.info(`request to '${p.sanitizeUrl(e.url)}' timed out. canceling...`),a.abort()},e.timeout));let u=e.headers.get("Accept-Encoding"),d=u?.includes("gzip")||u?.includes("deflate"),A=typeof e.body=="function"?e.body():e.body;if(A&&!e.headers.has("Content-Length")){let p=XQe(A);p!==null&&e.headers.set("Content-Length",p)}let h;try{if(A&&e.onUploadProgress){let _=e.onUploadProgress,S=new u7(_);S.on("error",D=>{Ol.error("Error in upload progress",D)}),D4(A)?A.pipe(S):S.end(A),A=S}let p=await this.makeRequest(e,a,A);l!==void 0&&clearTimeout(l);let y=jQe(p),v={status:(r=p.statusCode)!==null&&r!==void 0?r:0,headers:y,request:e};if(e.method==="HEAD")return p.resume(),v;h=d?KQe(p,y):p;let w=e.onDownloadProgress;if(w){let _=new u7(w);_.on("error",S=>{Ol.error("Error in download progress",S)}),h.pipe(_),h=_}return!((n=e.streamResponseStatusCodes)===null||n===void 0)&&n.has(Number.POSITIVE_INFINITY)||!((o=e.streamResponseStatusCodes)===null||o===void 0)&&o.has(v.status)?v.readableStreamBody=h:v.bodyAsText=await JQe(h),v}finally{if(e.abortSignal&&c){let p=Promise.resolve();D4(A)&&(p=wue(A));let y=Promise.resolve();D4(h)&&(y=wue(h)),Promise.all([p,y]).then(()=>{var E;c&&((E=e.abortSignal)===null||E===void 0||E.removeEventListener("abort",c))}).catch(E=>{Ol.warning("Error when cleaning up abortListener on httpRequest",E)})}}}makeRequest(e,r,n){var o;let a=new URL(e.url),c=a.protocol!=="https:";if(c&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let l=(o=e.agent)!==null&&o!==void 0?o:this.getOrCreateAgent(e,c),u=Object.assign({agent:l,hostname:a.hostname,path:`${a.pathname}${a.search}`,port:a.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})},e.requestOverrides);return new Promise((d,A)=>{let h=c?Ex.request(u,d):Ix.request(u,d);h.once("error",p=>{var y;A(new ba(p.message,{code:(y=p.code)!==null&&y!==void 0?y:ba.REQUEST_SEND_ERROR,request:e}))}),r.signal.addEventListener("abort",()=>{let p=new Bd("The operation was aborted. Rejecting from abort signal callback while making request.");h.destroy(p),A(p)}),n&&D4(n)?n.pipe(h):n?typeof n=="string"||Buffer.isBuffer(n)?h.end(n):Bue(n)?h.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):(Ol.error("Unrecognized body type",n),A(new ba("Unrecognized body type"))):h.end()})}getOrCreateAgent(e,r){var n;let o=e.disableKeepAlive;if(r)return o?Ex.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new Ex.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(o&&!e.tlsSettings)return Ix.globalAgent;let a=(n=e.tlsSettings)!==null&&n!==void 0?n:zQe,c=this.cachedHttpsAgents.get(a);return c&&c.options.keepAlive===!o||(Ol.info("No cached TLS Agent exist, creating a new Agent"),c=new Ix.Agent(Object.assign({keepAlive:!o},a)),this.cachedHttpsAgents.set(a,c)),c}}};function jQe(t){let e=qc();for(let r of Object.keys(t.headers)){let n=t.headers[r];Array.isArray(n)?n.length>0&&e.set(r,n[0]):n&&e.set(r,n)}return e}s(jQe,"getResponseHeaders");function KQe(t,e){let r=e.get("Content-Encoding");if(r==="gzip"){let n=f7.createGunzip();return t.pipe(n),n}else if(r==="deflate"){let n=f7.createInflate();return t.pipe(n),n}return t}s(KQe,"getDecodedResponseStream");function JQe(t){return new Promise((e,r)=>{let n=[];t.on("data",o=>{Buffer.isBuffer(o)?n.push(o):n.push(Buffer.from(o))}),t.on("end",()=>{e(Buffer.concat(n).toString("utf8"))}),t.on("error",o=>{o&&o?.name==="AbortError"?r(o):r(new ba(`Error reading response as text: ${o.message}`,{code:ba.PARSE_ERROR}))})})}s(JQe,"streamToText");function XQe(t){return t?Buffer.isBuffer(t)?t.length:D4(t)?null:Bue(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}s(XQe,"getBodyLength");function Rue(){return new hG}s(Rue,"createNodeHttpClient");function d7(){return Rue()}s(d7,"createDefaultHttpClient");f();f();f();f();var pG="logPolicy";function A7(t={}){var e;let r=(e=t.logger)!==null&&e!==void 0?e:Ol.info,n=new ju({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:pG,async sendRequest(o,a){if(!r.enabled)return a(o);r(`Request: ${n.sanitize(o)}`);let c=await a(o);return r(`Response status code: ${c.status}`),r(`Headers: ${n.sanitize(c.headers)}`),c}}}s(A7,"logPolicy");f();var mG="redirectPolicy",kue=["GET","HEAD"];function h7(t={}){let{maxRetries:e=20}=t;return{name:mG,async sendRequest(r,n){let o=await n(r);return Due(n,o,e)}}}s(h7,"redirectPolicy");async function Due(t,e,r,n=0){let{request:o,status:a,headers:c}=e,l=c.get("location");if(l&&(a===300||a===301&&kue.includes(o.method)||a===302&&kue.includes(o.method)||a===303&&o.method==="POST"||a===307)&&n<r){let u=new URL(l,o.url);o.url=u.toString(),a===303&&(o.method="GET",o.headers.delete("Content-Length"),delete o.body),o.headers.delete("Authorization");let d=await t(o);return Due(t,d,r,n+1)}return e}s(Due,"handleRedirect");f();f();f();function Nue(){return"User-Agent"}s(Nue,"getHeaderName");f();function Que(){return Nue()}s(Que,"getUserAgentHeaderName");var vMt=Que();f();var gG="decompressResponsePolicy";function p7(){return{name:gG,async sendRequest(t,e){return t.method!=="HEAD"&&t.headers.set("Accept-Encoding","gzip,deflate"),e(t)}}}s(p7,"decompressResponsePolicy");f();f();f();f();var ZQe="The operation was aborted.";function Pue(t,e,r){return new Promise((n,o)=>{let a,c,l=s(()=>o(new Bd(r?.abortErrorMsg?r?.abortErrorMsg:ZQe)),"rejectOnAbort"),u=s(()=>{r?.abortSignal&&c&&r.abortSignal.removeEventListener("abort",c)},"removeListeners");if(c=s(()=>(a&&clearTimeout(a),u(),l()),"onAborted"),r?.abortSignal&&r.abortSignal.aborted)return l();a=setTimeout(()=>{u(),n(e)},t),r?.abortSignal&&r.abortSignal.addEventListener("abort",c)})}s(Pue,"delay");function Fue(t,e){let r=t.headers.get(e);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n}s(Fue,"parseHeaderValueAsNumber");var yG="Retry-After",ePe=["retry-after-ms","x-ms-retry-after-ms",yG];function Lue(t){if(t&&[429,503].includes(t.status))try{for(let o of ePe){let a=Fue(t,o);if(a===0||a)return a*(o===yG?1e3:1)}let e=t.headers.get(yG);if(!e)return;let n=Date.parse(e)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}s(Lue,"getRetryAfterInMs");function Mue(t){return Number.isFinite(Lue(t))}s(Mue,"isThrottlingRetryResponse");function CG(){return{name:"throttlingRetryStrategy",retry({response:t}){let e=Lue(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}s(CG,"throttlingRetryStrategy");var tPe=1e3,rPe=1e3*64;function m7(t={}){var e,r;let n=(e=t.retryDelayInMs)!==null&&e!==void 0?e:tPe,o=(r=t.maxRetryDelayInMs)!==null&&r!==void 0?r:rPe;return{name:"exponentialRetryStrategy",retry({retryCount:a,response:c,responseError:l}){let u=iPe(l),d=u&&t.ignoreSystemErrors,A=nPe(c),h=A&&t.ignoreHttpStatusCodes;return c&&(Mue(c)||!A)||h||d?{skipStrategy:!0}:l&&!u&&!A?{errorToThrow:l}:S4(a,{retryDelayInMs:n,maxRetryDelayInMs:o})}}}s(m7,"exponentialRetryStrategy");function nPe(t){return!!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}s(nPe,"isExponentialRetryResponse");function iPe(t){return t?t.code==="ETIMEDOUT"||t.code==="ESOCKETTIMEDOUT"||t.code==="ECONNREFUSED"||t.code==="ECONNRESET"||t.code==="ENOENT"||t.code==="ENOTFOUND":!1}s(iPe,"isSystemError");f();var oPe=k4("ts-http-runtime retryPolicy"),sPe="retryPolicy";function mg(t,e={maxRetries:3}){let r=e.logger||oPe;return{name:sPe,async sendRequest(n,o){var a,c;let l,u,d=-1;e:for(;;){d+=1,l=void 0,u=void 0;try{r.info(`Retry ${d}: Attempting to send request`,n.requestId),l=await o(n),r.info(`Retry ${d}: Received a response from request`,n.requestId)}catch(A){if(r.error(`Retry ${d}: Received an error from request`,n.requestId),u=A,!A||u.name!=="RestError")throw A;l=u.response}if(!((a=n.abortSignal)===null||a===void 0)&&a.aborted)throw r.error(`Retry ${d}: Request aborted.`),new Bd;if(d>=((c=e.maxRetries)!==null&&c!==void 0?c:3)){if(r.info(`Retry ${d}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),u)throw u;if(l)return l;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${d}: Processing ${t.length} retry strategies.`);t:for(let A of t){let h=A.logger||r;h.info(`Retry ${d}: Processing retry strategy ${A.name}.`);let p=A.retry({retryCount:d,response:l,responseError:u});if(p.skipStrategy){h.info(`Retry ${d}: Skipped.`);continue t}let{errorToThrow:y,retryAfterInMs:E,redirectTo:v}=p;if(y)throw h.error(`Retry ${d}: Retry strategy ${A.name} throws error:`,y),y;if(E||E===0){h.info(`Retry ${d}: Retry strategy ${A.name} retries after ${E}`),await Pue(E,void 0,{abortSignal:n.abortSignal});continue e}if(v){h.info(`Retry ${d}: Retry strategy ${A.name} redirects to ${v}`),n.url=v;continue e}}if(u)throw r.info("None of the retry strategies could work with the received error. Throwing it."),u;if(l)return r.info("None of the retry strategies could work with the received response. Returning it."),l}}}}s(mg,"retryPolicy");var EG="defaultRetryPolicy";function g7(t={}){var e;return{name:EG,sendRequest:mg([CG(),m7(t)],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}s(g7,"defaultRetryPolicy");f();var IG="formDataPolicy";function aPe(t){var e;let r={};for(let[n,o]of t.entries())(e=r[n])!==null&&e!==void 0||(r[n]=[]),r[n].push(o);return r}s(aPe,"formDataToFormDataMap");function y7(){return{name:IG,async sendRequest(t,e){if(pg&&typeof FormData<"u"&&t.body instanceof FormData&&(t.formData=aPe(t.body),t.body=void 0),t.formData){let r=t.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?t.body=cPe(t.formData):await lPe(t.formData,t),t.formData=void 0}return e(t)}}}s(y7,"formDataPolicy");function cPe(t){let e=new URLSearchParams;for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let o of n)e.append(r,o.toString());else e.append(r,n.toString());return e.toString()}s(cPe,"wwwFormUrlEncode");async function lPe(t,e){let r=e.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;e.headers.set("Content-Type",r??"multipart/form-data");let n=[];for(let[o,a]of Object.entries(t))for(let c of Array.isArray(a)?a:[a])if(typeof c=="string")n.push({headers:qc({"Content-Disposition":`form-data; name="${o}"`}),body:nc(c,"utf-8")});else{if(c==null||typeof c!="object")throw new Error(`Unexpected value for key ${o}: ${c}. Value should be serialized to string first.`);{let l=c.name||"blob",u=qc();u.set("Content-Disposition",`form-data; name="${o}"; filename="${l}"`),u.set("Content-Type",c.type||"application/octet-stream"),n.push({headers:u,body:c})}}e.multipartBody={parts:n}}s(lPe,"prepareFormData");f();var dfe=Et(ofe(),1),Afe=Et(cfe(),1);var nFe="HTTPS_PROXY",iFe="HTTP_PROXY",oFe="ALL_PROXY",sFe="NO_PROXY",BG="proxyPolicy",lfe=[],hfe=!1,aFe=new Map;function T7(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}s(T7,"getEnvironmentValue");function cFe(){if(!process)return;let t=T7(nFe),e=T7(oFe),r=T7(iFe);return t||e||r}s(cFe,"loadEnvironmentProxyValue");function lFe(t,e,r){if(e.length===0)return!1;let n=new URL(t).hostname;if(r?.has(n))return r.get(n);let o=!1;for(let a of e)a[0]==="."?(n.endsWith(a)||n.length===a.length-1&&n===a.slice(1))&&(o=!0):n===a&&(o=!0);return r?.set(n,o),o}s(lFe,"isBypassed");function uFe(){let t=T7(sFe);return hfe=!0,t?t.split(",").map(e=>e.trim()).filter(e=>e.length):[]}s(uFe,"loadNoProxy");function fFe(){let t=cFe();return t?new URL(t):void 0}s(fFe,"getDefaultProxySettingsInternal");function ufe(t){let e;try{e=new URL(t.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${t.host}".`)}return e.port=String(t.port),t.username&&(e.username=t.username),t.password&&(e.password=t.password),e}s(ufe,"getUrlFromProxySettings");function ffe(t,e,r){if(t.agent)return;let o=new URL(t.url).protocol!=="https:";t.tlsSettings&&Ol.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let a=t.headers.toJSON();o?(e.httpProxyAgent||(e.httpProxyAgent=new Afe.HttpProxyAgent(r,{headers:a})),t.agent=e.httpProxyAgent):(e.httpsProxyAgent||(e.httpsProxyAgent=new dfe.HttpsProxyAgent(r,{headers:a})),t.agent=e.httpsProxyAgent)}s(ffe,"setProxyAgentOnRequest");function _7(t,e){hfe||lfe.push(...uFe());let r=t?ufe(t):fFe(),n={};return{name:BG,async sendRequest(o,a){var c;return!o.proxySettings&&r&&!lFe(o.url,(c=e?.customNoProxyList)!==null&&c!==void 0?c:lfe,e?.customNoProxyList?void 0:aFe)?ffe(o,n,r):o.proxySettings&&ffe(o,n,ufe(o.proxySettings)),a(o)}}}s(_7,"proxyPolicy");f();var RG="agentPolicy";function w7(t){return{name:RG,sendRequest:s(async(e,r)=>(e.agent||(e.agent=t),r(e)),"sendRequest")}}s(w7,"agentPolicy");f();var kG="tlsPolicy";function S7(t){return{name:kG,sendRequest:s(async(e,r)=>(e.tlsSettings||(e.tlsSettings=t),r(e)),"sendRequest")}}s(S7,"tlsPolicy");f();f();function B7(t){return typeof t.stream=="function"}s(B7,"isBlob");f();f();function pfe(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:s(function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}},"next")};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}s(pfe,"__values");function Dd(t){return this instanceof Dd?(this.v=t,this):new Dd(t)}s(Dd,"__await");function DG(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(y){return function(E){return Promise.resolve(E).then(y,h)}}function l(y,E){n[y]&&(o[y]=function(v){return new Promise(function(w,_){a.push([y,v,w,_])>1||u(y,v)})},E&&(o[y]=E(o[y])))}function u(y,E){try{d(n[y](E))}catch(v){p(a[0][3],v)}}function d(y){y.value instanceof Dd?Promise.resolve(y.value.v).then(A,h):p(a[0][2],y)}function A(y){u("next",y)}function h(y){u("throw",y)}function p(y,E){y(E),a.shift(),a.length&&u(a[0][0],a[0][1])}}s(DG,"__asyncGenerator");function mfe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof pfe=="function"?pfe(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(c){return new Promise(function(l,u){c=t[a](c),o(l,u,c.done,c.value)})}}function o(a,c,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},c)}}s(mfe,"__asyncValues");var R7=require("stream");function gfe(){return DG(this,arguments,s(function*(){let e=this.getReader();try{for(;;){let{done:r,value:n}=yield Dd(e.read());if(r)return yield Dd(void 0);yield yield Dd(n)}}finally{e.releaseLock()}},"streamAsyncIterator_1"))}s(gfe,"streamAsyncIterator");function dFe(t){t[Symbol.asyncIterator]||(t[Symbol.asyncIterator]=gfe.bind(t)),t.values||(t.values=gfe.bind(t))}s(dFe,"makeAsyncIterable");function yfe(t){return t instanceof ReadableStream?(dFe(t),R7.Readable.fromWeb(t)):t}s(yfe,"ensureNodeStream");function AFe(t){return t instanceof Uint8Array?R7.Readable.from(Buffer.from(t)):B7(t)?yfe(t.stream()):yfe(t)}s(AFe,"toStream");async function Cfe(t){return function(){let e=t.map(r=>typeof r=="function"?r():r).map(AFe);return R7.Readable.from(function(){return DG(this,arguments,function*(){var r,n,o,a;for(let d of e)try{for(var c=!0,l=(n=void 0,mfe(d)),u;u=yield Dd(l.next()),r=u.done,!r;c=!0)a=u.value,c=!1,yield yield Dd(a)}catch(A){n={error:A}}finally{try{!c&&!r&&(o=l.return)&&(yield Dd(o.call(l)))}finally{if(n)throw n.error}}})}())}}s(Cfe,"concat");function hFe(){return`----AzSDKFormBoundary${mx()}`}s(hFe,"generateBoundary");function pFe(t){let e="";for(let[r,n]of t)e+=`${r}: ${n}\r
`;return e}s(pFe,"encodeHeaders");function mFe(t){return t instanceof Uint8Array?t.byteLength:B7(t)?t.size===-1?void 0:t.size:void 0}s(mFe,"getLength");function gFe(t){let e=0;for(let r of t){let n=mFe(r);if(n===void 0)return;e+=n}return e}s(gFe,"getTotalLength");async function yFe(t,e,r){let n=[nc(`--${r}`,"utf-8"),...e.flatMap(a=>[nc(`\r
`,"utf-8"),nc(pFe(a.headers),"utf-8"),nc(`\r
`,"utf-8"),a.body,nc(`\r
--${r}`,"utf-8")]),nc(`--\r
\r
`,"utf-8")],o=gFe(n);o&&t.headers.set("Content-Length",o),t.body=await Cfe(n)}s(yFe,"buildRequestBody");var Q4="multipartPolicy",CFe=70,EFe=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function IFe(t){if(t.length>CFe)throw new Error(`Multipart boundary "${t}" exceeds maximum length of 70 characters`);if(Array.from(t).some(e=>!EFe.has(e)))throw new Error(`Multipart boundary "${t}" contains invalid characters`)}s(IFe,"assertValidBoundary");function k7(){return{name:Q4,async sendRequest(t,e){var r;if(!t.multipartBody)return e(t);if(t.body)throw new Error("multipartBody and regular body cannot be set at the same time");let n=t.multipartBody.boundary,o=(r=t.headers.get("Content-Type"))!==null&&r!==void 0?r:"multipart/mixed",a=o.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!a)throw new Error(`Got multipart request body, but content-type header was not multipart: ${o}`);let[,c,l]=a;if(l&&n&&l!==n)throw new Error(`Multipart boundary was specified as ${l} in the header, but got ${n} in the request body`);return n??(n=l),n?IFe(n):n=hFe(),t.headers.set("Content-Type",`${c}; boundary=${n}`),await yFe(t,t.multipartBody.parts,n),t.multipartBody=void 0,e(t)}}}s(k7,"multipartPolicy");f();f();f();f();f();f();f();f();f();f();f();f();function D7(){return c7()}s(D7,"createEmptyPipeline");f();f();f();var Nd=Ym("core-rest-pipeline");f();f();f();f();function QG(t={}){return A7(Object.assign({logger:Nd.info},t))}s(QG,"logPolicy");f();function PG(t={}){return h7(t)}s(PG,"redirectPolicy");f();f();f();var bx=Et(require("node:os"),1),N7=Et(require("node:process"),1);function Efe(){return"User-Agent"}s(Efe,"getHeaderName");async function Ife(t){if(N7&&N7.versions){let e=N7.versions;e.bun?t.set("Bun",e.bun):e.deno?t.set("Deno",e.deno):e.node&&t.set("Node",e.node)}t.set("OS",`(${bx.arch()}-${bx.type()}-${bx.release()})`)}s(Ife,"setPlatformSpecificData");f();var Q7="1.22.0";function RFe(t){let e=[];for(let[r,n]of t){let o=n?`${r}/${n}`:r;e.push(o)}return e.join(" ")}s(RFe,"getUserAgentString");function xfe(){return Efe()}s(xfe,"getUserAgentHeaderName");async function P7(t){let e=new Map;e.set("core-rest-pipeline",Q7),await Ife(e);let r=RFe(e);return t?`${t} ${r}`:r}s(P7,"getUserAgentValue");var vfe=xfe(),bfe="userAgentPolicy";function FG(t={}){let e=P7(t.userAgentPrefix);return{name:bfe,async sendRequest(r,n){return r.headers.has(vfe)||r.headers.set(vfe,await e),n(r)}}}s(FG,"userAgentPolicy");f();f();var Tfe=Symbol("rawContent");function LG(t){return typeof t[Tfe]=="function"}s(LG,"hasRawContent");function _fe(t){return LG(t)?t[Tfe]():t}s(_fe,"getRawContent");var F7=Q4;function MG(){let t=k7();return{name:F7,sendRequest:s(async(e,r)=>{if(e.multipartBody)for(let n of e.multipartBody.parts)LG(n.body)&&(n.body=_fe(n.body));return t.sendRequest(e,r)},"sendRequest")}}s(MG,"multipartPolicy");f();function OG(){return p7()}s(OG,"decompressResponsePolicy");f();function UG(t={}){return g7(t)}s(UG,"defaultRetryPolicy");f();function HG(){return y7()}s(HG,"formDataPolicy");f();function qG(t,e){return _7(t,e)}s(qG,"proxyPolicy");f();var wfe="setClientRequestIdPolicy";function GG(t="x-ms-client-request-id"){return{name:wfe,async sendRequest(e,r){return e.headers.has(t)||e.headers.set(t,e.requestId),r(e)}}}s(GG,"setClientRequestIdPolicy");f();function VG(t){return w7(t)}s(VG,"agentPolicy");f();function WG(t){return S7(t)}s(WG,"tlsPolicy");f();f();var Tx=ba;function P4(t){return l7(t)}s(P4,"isRestError");var Sfe="tracingPolicy";function YG(t={}){let e=P7(t.userAgentPrefix),r=new ju({additionalAllowedQueryParameters:t.additionalAllowedQueryParameters}),n=kFe();return{name:Sfe,async sendRequest(o,a){var c;if(!n)return a(o);let l=await e,u={"http.url":r.sanitizeUrl(o.url),"http.method":o.method,"http.user_agent":l,requestId:o.requestId};l&&(u["http.user_agent"]=l);let{span:d,tracingContext:A}=(c=DFe(n,o,u))!==null&&c!==void 0?c:{};if(!d||!A)return a(o);try{let h=await n.withContext(A,a,o);return QFe(d,h),h}catch(h){throw NFe(d,h),h}}}}s(YG,"tracingPolicy");function kFe(){try{return i_({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:Q7})}catch(t){Nd.warning(`Error when creating the TracingClient: ${gx(t)}`);return}}s(kFe,"tryCreateTracingClient");function DFe(t,e,r){try{let{span:n,updatedOptions:o}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:r});if(!n.isRecording()){n.end();return}let a=t.createRequestHeaders(o.tracingOptions.tracingContext);for(let[c,l]of Object.entries(a))e.headers.set(c,l);return{span:n,tracingContext:o.tracingOptions.tracingContext}}catch(n){Nd.warning(`Skipping creating a tracing span due to an error: ${gx(n)}`);return}}s(DFe,"tryCreateSpan");function NFe(t,e){try{t.setStatus({status:"error",error:e7(e)?e:void 0}),P4(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end()}catch(r){Nd.warning(`Skipping tracing span processing due to an error: ${gx(r)}`)}}s(NFe,"tryProcessError");function QFe(t,e){try{t.setAttribute("http.status_code",e.status);let r=e.headers.get("x-ms-request-id");r&&t.setAttribute("serviceRequestId",r),e.status>=400&&t.setStatus({status:"error"}),t.end()}catch(r){Nd.warning(`Skipping tracing span processing due to an error: ${gx(r)}`)}}s(QFe,"tryProcessResponse");f();f();function L7(t){if(t instanceof AbortSignal)return{abortSignal:t};if(t.aborted)return{abortSignal:AbortSignal.abort(t.reason)};let e=new AbortController,r=!0;function n(){r&&(t.removeEventListener("abort",o),r=!1)}s(n,"cleanup");function o(){e.abort(t.reason),n()}return s(o,"listener"),t.addEventListener("abort",o),{abortSignal:e.signal,cleanup:n}}s(L7,"wrapAbortSignalLike");var PFe="wrapAbortSignalLikePolicy";function Bfe(){return{name:PFe,sendRequest:s(async(t,e)=>{if(!t.abortSignal)return e(t);let{abortSignal:r,cleanup:n}=L7(t.abortSignal);t.abortSignal=r;try{return await e(t)}finally{n?.()}},"sendRequest")}}s(Bfe,"wrapAbortSignalLikePolicy");function $G(t){var e;let r=D7();return yx&&(t.agent&&r.addPolicy(VG(t.agent)),t.tlsOptions&&r.addPolicy(WG(t.tlsOptions)),r.addPolicy(qG(t.proxyOptions)),r.addPolicy(OG())),r.addPolicy(Bfe()),r.addPolicy(HG(),{beforePolicies:[F7]}),r.addPolicy(FG(t.userAgentOptions)),r.addPolicy(GG((e=t.telemetryOptions)===null||e===void 0?void 0:e.clientRequestIdHeaderName)),r.addPolicy(MG(),{afterPhase:"Deserialize"}),r.addPolicy(UG(t.retryOptions),{phase:"Retry"}),r.addPolicy(YG(Object.assign(Object.assign({},t.userAgentOptions),t.loggingOptions)),{afterPhase:"Retry"}),yx&&r.addPolicy(PG(t.redirectOptions),{afterPhase:"Retry"}),r.addPolicy(QG(t.loggingOptions),{afterPhase:"Sign"}),r}s($G,"createPipelineFromOptions");f();function zG(){let t=d7();return{async sendRequest(e){let{abortSignal:r,cleanup:n}=e.abortSignal?L7(e.abortSignal):{};try{return e.abortSignal=r,await t.sendRequest(e)}finally{n?.()}}}}s(zG,"createDefaultHttpClient");f();function yg(t){return qc(t)}s(yg,"createHttpHeaders");f();function Ku(t){return a7(t)}s(Ku,"createPipelineRequest");f();f();f();f();var LFe=Ym("core-rest-pipeline retryPolicy");function jG(t,e={maxRetries:3}){return mg(t,Object.assign({logger:LFe},e))}s(jG,"retryPolicy");f();f();var MFe={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function OFe(t,e,r){async function n(){if(Date.now()<r)try{return await t()}catch{return null}else{let a=await t();if(a===null)throw new Error("Failed to refresh access token.");return a}}s(n,"tryGetAccessToken");let o=await n();for(;o===null;)await tG(e),o=await n();return o}s(OFe,"beginRefresh");function KG(t,e){let r=null,n=null,o,a=Object.assign(Object.assign({},MFe),e),c={get isRefreshing(){return r!==null},get shouldRefresh(){var u;return c.isRefreshing?!1:n?.refreshAfterTimestamp&&n.refreshAfterTimestamp<Date.now()?!0:((u=n?.expiresOnTimestamp)!==null&&u!==void 0?u:0)-a.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-a.forcedRefreshWindowInMs<Date.now()}};function l(u,d){var A;return c.isRefreshing||(r=OFe(s(()=>t.getToken(u,d),"tryGetAccessToken"),a.retryIntervalInMs,(A=n?.expiresOnTimestamp)!==null&&A!==void 0?A:Date.now()).then(p=>(r=null,n=p,o=d.tenantId,n)).catch(p=>{throw r=null,n=null,o=void 0,p})),r}return s(l,"refresh"),async(u,d)=>{let A=!!d.claims,h=o!==d.tenantId;return A&&(n=null),h||A||c.mustRefresh?l(u,d):(c.shouldRefresh&&l(u,d),n)}}s(KG,"createTokenCycler");var Nfe="bearerTokenAuthenticationPolicy";async function M7(t,e){try{return[await e(t),void 0]}catch(r){if(P4(r)&&r.response)return[r.response,r];throw r}}s(M7,"trySendRequest");async function UFe(t){let{scopes:e,getAccessToken:r,request:n}=t,o={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions,enableCae:!0},a=await r(e,o);a&&t.request.headers.set("Authorization",`Bearer ${a.token}`)}s(UFe,"defaultAuthorizeRequest");function Rfe(t){return t.status===401&&t.headers.has("WWW-Authenticate")}s(Rfe,"isChallengeResponse");async function kfe(t,e){var r;let{scopes:n}=t,o=await t.getAccessToken(n,{enableCae:!0,claims:e});return o?(t.request.headers.set("Authorization",`${(r=o.tokenType)!==null&&r!==void 0?r:"Bearer"} ${o.token}`),!0):!1}s(kfe,"authorizeRequestOnCaeChallenge");function O7(t){var e,r,n;let{credential:o,scopes:a,challengeCallbacks:c}=t,l=t.logger||Nd,u={authorizeRequest:(r=(e=c?.authorizeRequest)===null||e===void 0?void 0:e.bind(c))!==null&&r!==void 0?r:UFe,authorizeRequestOnChallenge:(n=c?.authorizeRequestOnChallenge)===null||n===void 0?void 0:n.bind(c)},d=o?KG(o):()=>Promise.resolve(null);return{name:Nfe,async sendRequest(A,h){if(!A.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await u.authorizeRequest({scopes:Array.isArray(a)?a:[a],request:A,getAccessToken:d,logger:l});let p,y,E;if([p,y]=await M7(A,h),Rfe(p)){let v=Dfe(p.headers.get("WWW-Authenticate"));if(v){let w;try{w=atob(v)}catch{return l.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${v}`),p}E=await kfe({scopes:Array.isArray(a)?a:[a],response:p,request:A,getAccessToken:d,logger:l},w),E&&([p,y]=await M7(A,h))}else if(u.authorizeRequestOnChallenge&&(E=await u.authorizeRequestOnChallenge({scopes:Array.isArray(a)?a:[a],request:A,response:p,getAccessToken:d,logger:l}),E&&([p,y]=await M7(A,h)),Rfe(p)&&(v=Dfe(p.headers.get("WWW-Authenticate")),v))){let w;try{w=atob(v)}catch{return l.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${v}`),p}E=await kfe({scopes:Array.isArray(a)?a:[a],response:p,request:A,getAccessToken:d,logger:l},w),E&&([p,y]=await M7(A,h))}}if(y)throw y;return p}}}s(O7,"bearerTokenAuthenticationPolicy");function HFe(t){let e=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,r=/(\w+)="([^"]*)"/g,n=[],o;for(;(o=e.exec(t))!==null;){let a=o[1],c=o[2],l={},u;for(;(u=r.exec(c))!==null;)l[u[1]]=u[2];n.push({scheme:a,params:l})}return n}s(HFe,"parseChallenges");function Dfe(t){var e;return t?(e=HFe(t).find(n=>n.scheme==="Bearer"&&n.params.claims&&n.params.error==="insufficient_claims"))===null||e===void 0?void 0:e.params.claims:void 0}s(Dfe,"getCaeChallengeClaims");f();f();f();f();f();f();var Pfe=Et(Qfe(),1),JG=Pfe.state;function Cg(t,e,r){let n=e.parameterPath,o=e.mapper,a;if(typeof n=="string"&&(n=[n]),Array.isArray(n)){if(n.length>0)if(o.isConstant)a=o.defaultValue;else{let c=Ffe(t,n);!c.propertyFound&&r&&(c=Ffe(r,n));let l=!1;c.propertyFound||(l=o.required||n[0]==="options"&&n.length===2),a=l?o.defaultValue:c.propertyValue}}else{o.required&&(a={});for(let c in n){let l=o.type.modelProperties[c],u=n[c],d=Cg(t,{parameterPath:u,mapper:l},r);d!==void 0&&(a||(a={}),a[c]=d)}}return a}s(Cg,"getOperationArgumentValueFromParameter");function Ffe(t,e){let r={propertyFound:!1},n=0;for(;n<e.length;++n){let o=e[n];if(t&&o in t)t=t[o];else break}return n===e.length&&(r.propertyValue=t,r.propertyFound=!0),r}s(Ffe,"getPropertyFromParameterPath");var Lfe=Symbol.for("@azure/core-client original request");function qFe(t){return Lfe in t}s(qFe,"hasOriginalRequest");function dh(t){if(qFe(t))return dh(t[Lfe]);let e=JG.operationRequestMap.get(t);return e||(e={},JG.operationRequestMap.set(t,e)),e}s(dh,"getOperationRequestInfo");var GFe=["application/json","text/json"],VFe=["application/xml","application/atom+xml"],Mfe="deserializationPolicy";function XG(t={}){var e,r,n,o,a,c,l;let u=(r=(e=t.expectedContentTypes)===null||e===void 0?void 0:e.json)!==null&&r!==void 0?r:GFe,d=(o=(n=t.expectedContentTypes)===null||n===void 0?void 0:n.xml)!==null&&o!==void 0?o:VFe,A=t.parseXML,h=t.serializerOptions,p={xml:{rootName:(a=h?.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(c=h?.xml.includeRoot)!==null&&c!==void 0?c:!1,xmlCharKey:(l=h?.xml.xmlCharKey)!==null&&l!==void 0?l:"_"}};return{name:Mfe,async sendRequest(y,E){let v=await E(y);return $Fe(u,d,v,p,A)}}}s(XG,"deserializationPolicy");function WFe(t){let e,r=t.request,n=dh(r),o=n?.operationSpec;return o&&(n?.operationResponseGetter?e=n?.operationResponseGetter(o,t):e=o.responses[t.status]),e}s(WFe,"getOperationResponseMap");function YFe(t){let e=t.request,r=dh(e),n=r?.shouldDeserialize,o;return n===void 0?o=!0:typeof n=="boolean"?o=n:o=n(t),o}s(YFe,"shouldDeserializeResponse");async function $Fe(t,e,r,n,o){let a=await KFe(t,e,r,n,o);if(!YFe(a))return a;let c=dh(a.request),l=c?.operationSpec;if(!l||!l.responses)return a;let u=WFe(a),{error:d,shouldReturnResponse:A}=jFe(a,l,u,n);if(d)throw d;if(A)return a;if(u){if(u.bodyMapper){let h=a.parsedBody;l.isXML&&u.bodyMapper.type.name===Sd.Sequence&&(h=typeof h=="object"?h[u.bodyMapper.xmlElementName]:[]);try{a.parsedBody=l.serializer.deserialize(u.bodyMapper,h,"operationRes.parsedBody",n)}catch(p){throw new Tx(`Error ${p} occurred in deserializing the responseBody - ${a.bodyAsText}`,{statusCode:a.status,request:a.request,response:a})}}else l.httpMethod==="HEAD"&&(a.parsedBody=r.status>=200&&r.status<300);u.headersMapper&&(a.parsedHeaders=l.serializer.deserialize(u.headersMapper,a.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return a}s($Fe,"deserializeResponseBody");function zFe(t){let e=Object.keys(t.responses);return e.length===0||e.length===1&&e[0]==="default"}s(zFe,"isOperationSpecEmpty");function jFe(t,e,r,n){var o;let a=200<=t.status&&t.status<300;if(zFe(e)?a:!!r)if(r){if(!r.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};let l=r??e.responses.default,u=!((o=t.request.streamResponseStatusCodes)===null||o===void 0)&&o.has(t.status)?`Unexpected status code: ${t.status}`:t.bodyAsText,d=new Tx(u,{statusCode:t.status,request:t.request,response:t});if(!l)throw d;let A=l.bodyMapper,h=l.headersMapper;try{if(t.parsedBody){let p=t.parsedBody,y;if(A){let v=p;if(e.isXML&&A.type.name===Sd.Sequence){v=[];let w=A.xmlElementName;typeof p=="object"&&w&&(v=p[w])}y=e.serializer.deserialize(A,v,"error.response.parsedBody",n)}let E=p.error||y||p;d.code=E.code,E.message&&(d.message=E.message),A&&(d.response.parsedBody=y)}t.headers&&h&&(d.response.parsedHeaders=e.serializer.deserialize(h,t.headers.toJSON(),"operationRes.parsedHeaders"))}catch(p){d.message=`Error "${p.message}" occurred in deserializing the responseBody - "${t.bodyAsText}" for the default response.`}return{error:d,shouldReturnResponse:!1}}s(jFe,"handleErrorResponse");async function KFe(t,e,r,n,o){var a;if(!(!((a=r.request.streamResponseStatusCodes)===null||a===void 0)&&a.has(r.status))&&r.bodyAsText){let c=r.bodyAsText,l=r.headers.get("Content-Type")||"",u=l?l.split(";").map(d=>d.toLowerCase()):[];try{if(u.length===0||u.some(d=>t.indexOf(d)!==-1))return r.parsedBody=JSON.parse(c),r;if(u.some(d=>e.indexOf(d)!==-1)){if(!o)throw new Error("Parsing XML not supported.");let d=await o(c,n.xml);return r.parsedBody=d,r}}catch(d){let A=`Error "${d}" occurred while parsing the response body - ${r.bodyAsText}.`,h=d.code||Tx.PARSE_ERROR;throw new Tx(A,{code:h,statusCode:r.status,request:r.request,response:r})}}return r}s(KFe,"parse");f();f();function Ofe(t){let e=new Set;for(let r in t.responses){let n=t.responses[r];n.bodyMapper&&n.bodyMapper.type.name===Sd.Stream&&e.add(Number(r))}return e}s(Ofe,"getStreamingResponseStatusCodes");function Qd(t){let{parameterPath:e,mapper:r}=t,n;return typeof e=="string"?n=e:Array.isArray(e)?n=e.join("."):n=r.serializedName,n}s(Qd,"getPathStringFromParameter");var Ufe="serializationPolicy";function ZG(t={}){let e=t.stringifyXML;return{name:Ufe,async sendRequest(r,n){let o=dh(r),a=o?.operationSpec,c=o?.operationArguments;return a&&c&&(JFe(r,c,a),XFe(r,c,a,e)),n(r)}}}s(ZG,"serializationPolicy");function JFe(t,e,r){var n,o;if(r.headerParameters)for(let c of r.headerParameters){let l=Cg(e,c);if(l!=null||c.mapper.required){l=r.serializer.serialize(c.mapper,l,Qd(c));let u=c.mapper.headerCollectionPrefix;if(u)for(let d of Object.keys(l))t.headers.set(u+d,l[d]);else t.headers.set(c.mapper.serializedName||Qd(c),l)}}let a=(o=(n=e.options)===null||n===void 0?void 0:n.requestOptions)===null||o===void 0?void 0:o.customHeaders;if(a)for(let c of Object.keys(a))t.headers.set(c,a[c])}s(JFe,"serializeHeaders");function XFe(t,e,r,n=function(){throw new Error("XML serialization unsupported!")}){var o,a,c,l,u;let d=(o=e.options)===null||o===void 0?void 0:o.serializerOptions,A={xml:{rootName:(a=d?.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(c=d?.xml.includeRoot)!==null&&c!==void 0?c:!1,xmlCharKey:(l=d?.xml.xmlCharKey)!==null&&l!==void 0?l:"_"}},h=A.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){t.body=Cg(e,r.requestBody);let p=r.requestBody.mapper,{required:y,serializedName:E,xmlName:v,xmlElementName:w,xmlNamespace:_,xmlNamespacePrefix:S,nullable:D}=p,N=p.type.name;try{if(t.body!==void 0&&t.body!==null||D&&t.body===null||y){let P=Qd(r.requestBody);t.body=r.serializer.serialize(p,t.body,P,A);let O=N===Sd.Stream;if(r.isXML){let $=S?`xmlns:${S}`:"xmlns",ne=ZFe(_,$,N,t.body,A);N===Sd.Sequence?t.body=n(eLe(ne,w||v||E,$,_),{rootName:v||E,xmlCharKey:h}):O||(t.body=n(ne,{rootName:v||E,xmlCharKey:h}))}else{if(N===Sd.String&&(!((u=r.contentType)===null||u===void 0)&&u.match("text/plain")||r.mediaType==="text"))return;O||(t.body=JSON.stringify(t.body))}}}catch(P){throw new Error(`Error "${P.message}" occurred in serializing the payload - ${JSON.stringify(E,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0){t.formData={};for(let p of r.formDataParameters){let y=Cg(e,p);if(y!=null){let E=p.mapper.serializedName||Qd(p);t.formData[E]=r.serializer.serialize(p.mapper,y,Qd(p),A)}}}}s(XFe,"serializeRequestBody");function ZFe(t,e,r,n,o){if(t&&!["Composite","Sequence","Dictionary"].includes(r)){let a={};return a[o.xml.xmlCharKey]=n,a["$"]={[e]:t},a}return n}s(ZFe,"getXmlValueWithNamespace");function eLe(t,e,r,n){if(Array.isArray(t)||(t=[t]),!r||!n)return{[e]:t};let o={[e]:t};return o["$"]={[r]:n},o}s(eLe,"prepareXMLRootList");function eV(t={}){let e=$G(t??{});return t.credentialOptions&&e.addPolicy(O7({credential:t.credentialOptions.credential,scopes:t.credentialOptions.credentialScopes})),e.addPolicy(ZG(t.serializationOptions),{phase:"Serialize"}),e.addPolicy(XG(t.deserializationOptions),{phase:"Deserialize"}),e}s(eV,"createClientPipeline");f();var tV;function Hfe(){return tV||(tV=zG()),tV}s(Hfe,"getCachedDefaultHttpClient");f();var tLe={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function Gfe(t,e,r,n){let o=rLe(e,r,n),a=!1,c=qfe(t,o);if(e.path){let d=qfe(e.path,o);e.path==="/{nextLink}"&&d.startsWith("/")&&(d=d.substring(1)),nLe(d)?(c=d,a=!0):c=iLe(c,d)}let{queryParams:l,sequenceParams:u}=oLe(e,r,n);return c=aLe(c,l,u,a),c}s(Gfe,"getRequestUrl");function qfe(t,e){let r=t;for(let[n,o]of e)r=r.split(n).join(o);return r}s(qfe,"replaceAll");function rLe(t,e,r){var n;let o=new Map;if(!((n=t.urlParameters)===null||n===void 0)&&n.length)for(let a of t.urlParameters){let c=Cg(e,a,r),l=Qd(a);c=t.serializer.serialize(a.mapper,c,l),a.skipEncoding||(c=encodeURIComponent(c)),o.set(`{${a.mapper.serializedName||l}}`,c)}return o}s(rLe,"calculateUrlReplacements");function nLe(t){return t.includes("://")}s(nLe,"isAbsoluteUrl");function iLe(t,e){if(!e)return t;let r=new URL(t),n=r.pathname;n.endsWith("/")||(n=`${n}/`),e.startsWith("/")&&(e=e.substring(1));let o=e.indexOf("?");if(o!==-1){let a=e.substring(0,o),c=e.substring(o+1);n=n+a,c&&(r.search=r.search?`${r.search}&${c}`:c)}else n=n+e;return r.pathname=n,r.toString()}s(iLe,"appendPath");function oLe(t,e,r){var n;let o=new Map,a=new Set;if(!((n=t.queryParameters)===null||n===void 0)&&n.length)for(let c of t.queryParameters){c.mapper.type.name==="Sequence"&&c.mapper.serializedName&&a.add(c.mapper.serializedName);let l=Cg(e,c,r);if(l!=null||c.mapper.required){l=t.serializer.serialize(c.mapper,l,Qd(c));let u=c.collectionFormat?tLe[c.collectionFormat]:"";if(Array.isArray(l)&&(l=l.map(d=>d??"")),c.collectionFormat==="Multi"&&l.length===0)continue;Array.isArray(l)&&(c.collectionFormat==="SSV"||c.collectionFormat==="TSV")&&(l=l.join(u)),c.skipEncoding||(Array.isArray(l)?l=l.map(d=>encodeURIComponent(d)):l=encodeURIComponent(l)),Array.isArray(l)&&(c.collectionFormat==="CSV"||c.collectionFormat==="Pipes")&&(l=l.join(u)),o.set(c.mapper.serializedName||Qd(c),l)}}return{queryParams:o,sequenceParams:a}}s(oLe,"calculateQueryParameters");function sLe(t){let e=new Map;if(!t||t[0]!=="?")return e;t=t.slice(1);let r=t.split("&");for(let n of r){let[o,a]=n.split("=",2),c=e.get(o);c?Array.isArray(c)?c.push(a):e.set(o,[c,a]):e.set(o,a)}return e}s(sLe,"simpleParseQueryParams");function aLe(t,e,r,n=!1){if(e.size===0)return t;let o=new URL(t),a=sLe(o.search);for(let[l,u]of e){let d=a.get(l);if(Array.isArray(d))if(Array.isArray(u)){d.push(...u);let A=new Set(d);a.set(l,Array.from(A))}else d.push(u);else d?(Array.isArray(u)?u.unshift(d):r.has(l)&&a.set(l,[d,u]),n||a.set(l,u)):a.set(l,u)}let c=[];for(let[l,u]of a)if(typeof u=="string")c.push(`${l}=${u}`);else if(Array.isArray(u))for(let d of u)c.push(`${l}=${d}`);else c.push(`${l}=${u}`);return o.search=c.length?`?${c.join("&")}`:"",o.toString()}s(aLe,"appendQueryParams");f();var rV=Ym("core-client");var F4=class{static{s(this,"ServiceClient")}constructor(e={}){var r,n;if(this._requestContentType=e.requestContentType,this._endpoint=(r=e.endpoint)!==null&&r!==void 0?r:e.baseUri,e.baseUri&&rV.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||Hfe(),this.pipeline=e.pipeline||cLe(e),!((n=e.additionalPolicies)===null||n===void 0)&&n.length)for(let{policy:o,position:a}of e.additionalPolicies){let c=a==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(o,{afterPhase:c})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,r){let n=r.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let o=Gfe(n,r,e,this),a=Ku({url:o});a.method=r.httpMethod;let c=dh(a);c.operationSpec=r,c.operationArguments=e;let l=r.contentType||this._requestContentType;l&&r.requestBody&&a.headers.set("Content-Type",l);let u=e.options;if(u){let d=u.requestOptions;d&&(d.timeout&&(a.timeout=d.timeout),d.onUploadProgress&&(a.onUploadProgress=d.onUploadProgress),d.onDownloadProgress&&(a.onDownloadProgress=d.onDownloadProgress),d.shouldDeserialize!==void 0&&(c.shouldDeserialize=d.shouldDeserialize),d.allowInsecureConnection&&(a.allowInsecureConnection=!0)),u.abortSignal&&(a.abortSignal=u.abortSignal),u.tracingOptions&&(a.tracingOptions=u.tracingOptions)}this._allowInsecureConnection&&(a.allowInsecureConnection=!0),a.streamResponseStatusCodes===void 0&&(a.streamResponseStatusCodes=Ofe(r));try{let d=await this.sendRequest(a),A=oG(d,r.responses[d.status]);return u?.onResponse&&u.onResponse(d,A),A}catch(d){if(typeof d=="object"&&d?.response){let A=d.response,h=oG(A,r.responses[d.statusCode]||r.responses.default);d.details=h,u?.onResponse&&u.onResponse(A,h,d)}throw d}}};function cLe(t){let e=lLe(t),r=t.credential&&e?{credentialScopes:e,credential:t.credential}:void 0;return eV(Object.assign(Object.assign({},t),{credentialOptions:r}))}s(cLe,"createDefaultPipeline");function lLe(t){if(t.credentialScopes)return t.credentialScopes;if(t.endpoint)return`${t.endpoint}/.default`;if(t.baseUri)return`${t.baseUri}/.default`;if(t.credential&&!t.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}s(lLe,"getCredentialScopes");f();f();f();function Vfe(t){return t==="adfs"?"oauth2/token":"oauth2/v2.0/token"}s(Vfe,"getIdentityTokenEndpointSuffix");f();var Wfe="/.default",Yfe="Specifying a `clientId` or `resourceId` is not supported by the Service Fabric managed identity environment. The managed identity configuration is determined by the Service Fabric cluster resource configuration. See https://aka.ms/servicefabricmi for more information";function L4(t){let e="";if(Array.isArray(t)){if(t.length!==1)return;e=t[0]}else typeof t=="string"&&(e=t);return e.endsWith(Wfe)?e.substr(0,e.lastIndexOf(Wfe)):e}s(L4,"mapScopesToResource");function $fe(t){if(typeof t.expires_on=="number")return t.expires_on*1e3;if(typeof t.expires_on=="string"){let e=+t.expires_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.expires_on);if(!isNaN(r))return r}if(typeof t.expires_in=="number")return Date.now()+t.expires_in*1e3;throw new Error(`Failed to parse token expiration from body. expires_in="${t.expires_in}", expires_on="${t.expires_on}"`)}s($fe,"parseExpirationTimestamp");function zfe(t){if(t.refresh_on){if(typeof t.refresh_on=="number")return t.refresh_on*1e3;if(typeof t.refresh_on=="string"){let e=+t.refresh_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.refresh_on);if(!isNaN(r))return r}throw new Error(`Failed to parse refresh_on from body. refresh_on="${t.refresh_on}"`)}else return}s(zfe,"parseRefreshTimestamp");var M4="noCorrelationId";function uLe(t){let e=t?.authorityHost;return t7&&(e=e??process.env.AZURE_AUTHORITY_HOST),e??t_}s(uLe,"getIdentityClientAuthorityHost");var Eg=class extends F4{static{s(this,"IdentityClient")}authorityHost;allowLoggingAccountIdentifiers;abortControllers;allowInsecureConnection=!1;tokenCredentialOptions;constructor(e){let r=`azsdk-js-identity/${AR}`,n=e?.userAgentOptions?.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${r}`:`${r}`,o=uLe(e);if(!o.startsWith("https:"))throw new Error("The authorityHost address must use the 'https' protocol.");super({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3},...e,userAgentOptions:{userAgentPrefix:n},baseUri:o}),this.authorityHost=o,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=e?.loggingOptions?.allowLoggingAccountIdentifiers,this.tokenCredentialOptions={...e},e?.allowInsecureConnection&&(this.allowInsecureConnection=e.allowInsecureConnection)}async sendTokenRequest(e){Pc.info(`IdentityClient: sending token request to [${e.url}]`);let r=await this.sendRequest(e);if(r.bodyAsText&&(r.status===200||r.status===201)){let n=JSON.parse(r.bodyAsText);if(!n.access_token)return null;this.logIdentifiers(r);let o={accessToken:{token:n.access_token,expiresOnTimestamp:$fe(n),refreshAfterTimestamp:zfe(n),tokenType:"Bearer"},refreshToken:n.refresh_token};return Pc.info(`IdentityClient: [${e.url}] token acquired, expires on ${o.accessToken.expiresOnTimestamp}`),o}else{let n=new Wm(r.status,r.bodyAsText);throw Pc.warning(`IdentityClient: authentication error. HTTP status: ${r.status}, ${n.errorResponse.errorDescription}`),n}}async refreshAccessToken(e,r,n,o,a,c={}){if(o===void 0)return null;Pc.info(`IdentityClient: refreshing access token with client ID: ${r}, scopes: ${n} started`);let l={grant_type:"refresh_token",client_id:r,refresh_token:o,scope:n};a!==void 0&&(l.client_secret=a);let u=new URLSearchParams(l);return hi.withSpan("IdentityClient.refreshAccessToken",c,async d=>{try{let A=Vfe(e),h=Ku({url:`${this.authorityHost}/${e}/${A}`,method:"POST",body:u.toString(),abortSignal:c.abortSignal,headers:yg({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),tracingOptions:d.tracingOptions}),p=await this.sendTokenRequest(h);return Pc.info(`IdentityClient: refreshed token for client ID: ${r}`),p}catch(A){if(A.name===pR&&A.errorResponse.error==="interaction_required")return Pc.info(`IdentityClient: interaction required for client ID: ${r}`),null;throw Pc.warning(`IdentityClient: failed refreshing token for client ID: ${r}: ${A}`),A}})}generateAbortSignal(e){let r=new AbortController,n=this.abortControllers.get(e)||[];n.push(r),this.abortControllers.set(e,n);let o=r.signal.onabort;return r.signal.onabort=(...a)=>{this.abortControllers.set(e,void 0),o&&o.apply(r.signal,a)},r.signal}abortRequests(e){let r=e||M4,n=[...this.abortControllers.get(r)||[],...this.abortControllers.get(M4)||[]];if(n.length){for(let o of n)o.abort();this.abortControllers.set(r,void 0)}}getCorrelationId(e){let r=e?.body?.split("&").map(n=>n.split("=")).find(([n])=>n==="client-request-id");return r&&r.length&&r[1]||M4}async sendGetRequestAsync(e,r){let n=Ku({url:e,method:"GET",body:r?.body,allowInsecureConnection:this.allowInsecureConnection,headers:yg(r?.headers),abortSignal:this.generateAbortSignal(M4)}),o=await this.sendRequest(n);return this.logIdentifiers(o),{body:o.bodyAsText?JSON.parse(o.bodyAsText):void 0,headers:o.headers.toJSON(),status:o.status}}async sendPostRequestAsync(e,r){let n=Ku({url:e,method:"POST",body:r?.body,headers:yg(r?.headers),allowInsecureConnection:this.allowInsecureConnection,abortSignal:this.generateAbortSignal(this.getCorrelationId(r))}),o=await this.sendRequest(n);return this.logIdentifiers(o),{body:o.bodyAsText?JSON.parse(o.bodyAsText):void 0,headers:o.headers.toJSON(),status:o.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(e){if(!this.allowLoggingAccountIdentifiers||!e.bodyAsText)return;let r="No User Principal Name available";try{let o=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!o)return;let a=o.split(".")[1],{appid:c,upn:l,tid:u,oid:d}=JSON.parse(Buffer.from(a,"base64").toString("utf8"));Pc.info(`[Authenticated account] Client ID: ${c}. Tenant ID: ${u}. User Principal Name: ${l||r}. Object ID (user): ${d}`)}catch(n){Pc.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",n.message)}}};f();var nV;(function(t){t.AutoDiscoverRegion="AutoDiscoverRegion",t.USWest="westus",t.USWest2="westus2",t.USCentral="centralus",t.USEast="eastus",t.USEast2="eastus2",t.USNorthCentral="northcentralus",t.USSouthCentral="southcentralus",t.USWestCentral="westcentralus",t.CanadaCentral="canadacentral",t.CanadaEast="canadaeast",t.BrazilSouth="brazilsouth",t.EuropeNorth="northeurope",t.EuropeWest="westeurope",t.UKSouth="uksouth",t.UKWest="ukwest",t.FranceCentral="francecentral",t.FranceSouth="francesouth",t.SwitzerlandNorth="switzerlandnorth",t.SwitzerlandWest="switzerlandwest",t.GermanyNorth="germanynorth",t.GermanyWestCentral="germanywestcentral",t.NorwayWest="norwaywest",t.NorwayEast="norwayeast",t.AsiaEast="eastasia",t.AsiaSouthEast="southeastasia",t.JapanEast="japaneast",t.JapanWest="japanwest",t.AustraliaEast="australiaeast",t.AustraliaSouthEast="australiasoutheast",t.AustraliaCentral="australiacentral",t.AustraliaCentral2="australiacentral2",t.IndiaCentral="centralindia",t.IndiaSouth="southindia",t.IndiaWest="westindia",t.KoreaSouth="koreasouth",t.KoreaCentral="koreacentral",t.UAECentral="uaecentral",t.UAENorth="uaenorth",t.SouthAfricaNorth="southafricanorth",t.SouthAfricaWest="southafricawest",t.ChinaNorth="chinanorth",t.ChinaEast="chinaeast",t.ChinaNorth2="chinanorth2",t.ChinaEast2="chinaeast2",t.GermanyCentral="germanycentral",t.GermanyNorthEast="germanynortheast",t.GovernmentUSVirginia="usgovvirginia",t.GovernmentUSIowa="usgoviowa",t.GovernmentUSArizona="usgovarizona",t.GovernmentUSTexas="usgovtexas",t.GovernmentUSDodEast="usdodeast",t.GovernmentUSDodCentral="usdodcentral"})(nV||(nV={}));function H7(t){let e=t;return e===void 0&&globalThis.process?.env?.AZURE_REGIONAL_AUTHORITY_NAME!==void 0&&(e=process.env.AZURE_REGIONAL_AUTHORITY_NAME),e===nV.AutoDiscoverRegion?"AUTO_DISCOVER":e}s(H7,"calculateRegionalAuthority");f();f();function fLe(t){return`The current credential is not configured to acquire tokens for tenant ${t}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`}s(fLe,"createConfigurationErrorMessage");function To(t,e,r=[],n){let o;if(process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH||t==="adfs"?o=t:o=e?.tenantId??t,t&&o!==t&&!r.includes("*")&&!r.some(a=>a.localeCompare(o)===0)){let a=fLe(o);throw n?.info(a),new Ot(a)}return o}s(To,"processMultiTenantRequest");function Zs(t,e){if(!e.match(/^[0-9a-zA-Z-.]+$/)){let r=new Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw t.info(Pn("",r)),r}}s(Zs,"checkTenantId");function _x(t,e,r){return e?(Zs(t,e),e):(r||(r=Oy),r!==Oy?"common":"organizations")}s(_x,"resolveTenantId");function Mo(t){return!t||t.length===0?[]:t.includes("*")?rse:t}s(Mo,"resolveAdditionallyAllowedTenantIds");var E0=kr("MsalClient");function SLe(t,e,r={}){let n=_x(r.logger??E0,e,t),o=nG(n,rG(r)),a=new Eg({...r.tokenCredentialOptions,authorityHost:o,loggingOptions:r.loggingOptions});return{auth:{clientId:t,authority:o,knownAuthorities:lue(n,o,r.disableInstanceDiscovery)},system:{networkClient:a,loggerOptions:{loggerCallback:r7(r.logger??E0),logLevel:n7(ER()),piiLoggingEnabled:r.loggingOptions?.enableUnsafeSupportLogging}}}}s(SLe,"generateMsalConfiguration");function $a(t,e,r={}){let n={msalConfig:SLe(t,e,r),cachedAccount:r.authenticationRecord?uue(r.authenticationRecord):null,pluginConfiguration:cse.generatePluginConfiguration(r),logger:r.logger??E0},o=new Map;async function a($={}){let ne=$.enableCae?"CAE":"default",oe=o.get(ne);if(oe)return n.logger.getToken.info("Existing PublicClientApplication found in cache, returning it."),oe;n.logger.getToken.info(`Creating new PublicClientApplication with CAE ${$.enableCae?"enabled":"disabled"}.`);let Ae=$.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=$.enableCae?["cp1"]:void 0,oe=new fx({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await Ae}}),o.set(ne,oe),oe}s(a,"getPublicApp");let c=new Map;async function l($={}){let ne=$.enableCae?"CAE":"default",oe=c.get(ne);if(oe)return n.logger.getToken.info("Existing ConfidentialClientApplication found in cache, returning it."),oe;n.logger.getToken.info(`Creating new ConfidentialClientApplication with CAE ${$.enableCae?"enabled":"disabled"}.`);let Ae=$.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=$.enableCae?["cp1"]:void 0,oe=new Ax({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await Ae}}),c.set(ne,oe),oe}s(l,"getConfidentialApp");async function u($,ne,oe={}){if(n.cachedAccount===null)throw n.logger.getToken.info("No cached account found in local state."),new Nl({scopes:ne});oe.claims&&(n.cachedClaims=oe.claims);let Ae={account:n.cachedAccount,scopes:ne,claims:n.cachedClaims};n.pluginConfiguration.broker.isEnabled&&(Ae.tokenQueryParameters||={},n.pluginConfiguration.broker.enableMsaPassthrough&&(Ae.tokenQueryParameters.msal_request_type="consumer_passthrough")),oe.proofOfPossessionOptions&&(Ae.shrNonce=oe.proofOfPossessionOptions.nonce,Ae.authenticationScheme="pop",Ae.resourceRequestMethod=oe.proofOfPossessionOptions.resourceRequestMethod,Ae.resourceRequestUri=oe.proofOfPossessionOptions.resourceRequestUrl),n.logger.getToken.info("Attempting to acquire token silently");try{return await $.acquireTokenSilent(Ae)}catch(Y){throw QC(ne,Y,oe)}}s(u,"getTokenSilent");function d($){return $?.tenantId?nG($.tenantId,rG(r)):n.msalConfig.auth.authority}s(d,"calculateRequestAuthority");async function A($,ne,oe,Ae){let Y=null;try{Y=await u($,ne,oe)}catch(K){if(K.name!=="AuthenticationRequiredError")throw K;if(oe.disableAutomaticAuthentication)throw new Nl({scopes:ne,getTokenOptions:oe,message:"Automatic authentication has been disabled. You may call the authentication() method."})}if(Y===null)try{Y=await Ae()}catch(K){throw QC(ne,K,oe)}return NC(ne,Y,oe),n.cachedAccount=Y?.account??null,n.logger.getToken.info(ks(ne)),{token:Y.accessToken,expiresOnTimestamp:Y.expiresOn.getTime(),refreshAfterTimestamp:Y.refreshOn?.getTime(),tokenType:Y.tokenType}}s(A,"withSilentAuthentication");async function h($,ne,oe={}){n.logger.getToken.info("Attempting to acquire token using client secret"),n.msalConfig.auth.clientSecret=ne;let Ae=await l(oe);try{let Y=await Ae.acquireTokenByClientCredential({scopes:$,authority:d(oe),azureRegion:H7(),claims:oe?.claims});return NC($,Y,oe),n.logger.getToken.info(ks($)),{token:Y.accessToken,expiresOnTimestamp:Y.expiresOn.getTime(),refreshAfterTimestamp:Y.refreshOn?.getTime(),tokenType:Y.tokenType}}catch(Y){throw QC($,Y,oe)}}s(h,"getTokenByClientSecret");async function p($,ne,oe={}){n.logger.getToken.info("Attempting to acquire token using client assertion"),n.msalConfig.auth.clientAssertion=ne;let Ae=await l(oe);try{let Y=await Ae.acquireTokenByClientCredential({scopes:$,authority:d(oe),azureRegion:H7(),claims:oe?.claims,clientAssertion:ne});return NC($,Y,oe),n.logger.getToken.info(ks($)),{token:Y.accessToken,expiresOnTimestamp:Y.expiresOn.getTime(),refreshAfterTimestamp:Y.refreshOn?.getTime(),tokenType:Y.tokenType}}catch(Y){throw QC($,Y,oe)}}s(p,"getTokenByClientAssertion");async function y($,ne,oe={}){n.logger.getToken.info("Attempting to acquire token using client certificate"),n.msalConfig.auth.clientCertificate=ne;let Ae=await l(oe);try{let Y=await Ae.acquireTokenByClientCredential({scopes:$,authority:d(oe),azureRegion:H7(),claims:oe?.claims});return NC($,Y,oe),n.logger.getToken.info(ks($)),{token:Y.accessToken,expiresOnTimestamp:Y.expiresOn.getTime(),refreshAfterTimestamp:Y.refreshOn?.getTime(),tokenType:Y.tokenType}}catch(Y){throw QC($,Y,oe)}}s(y,"getTokenByClientCertificate");async function E($,ne,oe={}){n.logger.getToken.info("Attempting to acquire token using device code");let Ae=await a(oe);return A(Ae,$,oe,()=>{let Y={scopes:$,cancel:oe?.abortSignal?.aborted??!1,deviceCodeCallback:ne,authority:d(oe),claims:oe?.claims},K=Ae.acquireTokenByDeviceCode(Y);return oe.abortSignal&&oe.abortSignal.addEventListener("abort",()=>{Y.cancel=!0}),K})}s(E,"getTokenByDeviceCode");async function v($,ne,oe,Ae={}){n.logger.getToken.info("Attempting to acquire token using username and password");let Y=await a(Ae);return A(Y,$,Ae,()=>{let K={scopes:$,username:ne,password:oe,authority:d(Ae),claims:Ae?.claims};return Y.acquireTokenByUsernamePassword(K)})}s(v,"getTokenByUsernamePassword");function w(){if(n.cachedAccount)return fue(t,n.cachedAccount)}s(w,"getActiveAccount");async function _($,ne,oe,Ae,Y={}){n.logger.getToken.info("Attempting to acquire token using authorization code");let K;return Ae?(n.msalConfig.auth.clientSecret=Ae,K=await l(Y)):K=await a(Y),A(K,$,Y,()=>K.acquireTokenByCode({scopes:$,redirectUri:ne,code:oe,authority:d(Y),claims:Y?.claims}))}s(_,"getTokenByAuthorizationCode");async function S($,ne,oe,Ae={}){E0.getToken.info("Attempting to acquire token on behalf of another user"),typeof oe=="string"?(E0.getToken.info("Using client secret for on behalf of flow"),n.msalConfig.auth.clientSecret=oe):typeof oe=="function"?(E0.getToken.info("Using client assertion callback for on behalf of flow"),n.msalConfig.auth.clientAssertion=oe):(E0.getToken.info("Using client certificate for on behalf of flow"),n.msalConfig.auth.clientCertificate=oe);let Y=await l(Ae);try{let K=await Y.acquireTokenOnBehalfOf({scopes:$,authority:d(Ae),claims:Ae.claims,oboAssertion:ne});return NC($,K,Ae),E0.getToken.info(ks($)),{token:K.accessToken,expiresOnTimestamp:K.expiresOn.getTime(),refreshAfterTimestamp:K.refreshOn?.getTime(),tokenType:K.tokenType}}catch(K){throw QC($,K,Ae)}}s(S,"getTokenOnBehalfOf");function D($,ne){return{openBrowser:s(async oe=>{await(await Promise.resolve().then(()=>(bde(),vde))).default(oe,{newInstance:!0})},"openBrowser"),scopes:$,authority:d(ne),claims:ne?.claims,loginHint:ne?.loginHint,errorTemplate:ne?.browserCustomizationOptions?.errorMessage,successTemplate:ne?.browserCustomizationOptions?.successMessage,prompt:ne?.loginHint?"login":"select_account"}}s(D,"createBaseInteractiveRequest");async function N($,ne,oe={}){E0.verbose("Authentication will resume through the broker");let Ae=await a(oe),Y=D($,oe);n.pluginConfiguration.broker.parentWindowHandle?Y.windowHandle=Buffer.from(n.pluginConfiguration.broker.parentWindowHandle):E0.warning("Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle."),n.pluginConfiguration.broker.enableMsaPassthrough&&((Y.tokenQueryParameters??={}).msal_request_type="consumer_passthrough"),ne?(Y.prompt="none",E0.verbose("Attempting broker authentication using the default broker account")):E0.verbose("Attempting broker authentication without the default broker account"),oe.proofOfPossessionOptions&&(Y.shrNonce=oe.proofOfPossessionOptions.nonce,Y.authenticationScheme="pop",Y.resourceRequestMethod=oe.proofOfPossessionOptions.resourceRequestMethod,Y.resourceRequestUri=oe.proofOfPossessionOptions.resourceRequestUrl);try{return await Ae.acquireTokenInteractive(Y)}catch(K){if(E0.verbose(`Failed to authenticate through the broker: ${K.message}`),oe.disableAutomaticAuthentication)throw new Nl({scopes:$,getTokenOptions:oe,message:"Cannot silently authenticate with default broker account."});if(ne)return N($,!1,oe);throw K}}s(N,"getBrokeredTokenInternal");async function P($,ne,oe={}){E0.getToken.info(`Attempting to acquire token using brokered authentication with useDefaultBrokerAccount: ${ne}`);let Ae=await N($,ne,oe);return NC($,Ae,oe),n.cachedAccount=Ae?.account??null,n.logger.getToken.info(ks($)),{token:Ae.accessToken,expiresOnTimestamp:Ae.expiresOn.getTime(),refreshAfterTimestamp:Ae.refreshOn?.getTime(),tokenType:Ae.tokenType}}s(P,"getBrokeredToken");async function O($,ne={}){E0.getToken.info("Attempting to acquire token interactively");let oe=await a(ne);return A(oe,$,ne,async()=>{let Ae=D($,ne);return n.pluginConfiguration.broker.isEnabled?N($,n.pluginConfiguration.broker.useDefaultBrokerAccount??!1,ne):(ne.proofOfPossessionOptions&&(Ae.shrNonce=ne.proofOfPossessionOptions.nonce,Ae.authenticationScheme="pop",Ae.resourceRequestMethod=ne.proofOfPossessionOptions.resourceRequestMethod,Ae.resourceRequestUri=ne.proofOfPossessionOptions.resourceRequestUrl),oe.acquireTokenInteractive(Ae))})}return s(O,"getTokenByInteractiveRequest"),{getActiveAccount:w,getBrokeredToken:P,getTokenByClientSecret:h,getTokenByClientAssertion:p,getTokenByClientCertificate:y,getTokenByDeviceCode:E,getTokenByUsernamePassword:v,getTokenByAuthorizationCode:_,getTokenOnBehalfOf:S,getTokenByInteractiveRequest:O}}s($a,"createMsalClient");var q4=require("node:crypto");var _de=require("node:fs/promises");var H4="ClientCertificateCredential",Tde=kr(H4),G4=class{static{s(this,"ClientCertificateCredential")}tenantId;additionallyAllowedTenantIds;certificateConfiguration;sendCertificateChain;msalClient;constructor(e,r,n,o={}){if(!e||!r)throw new Error(`${H4}: tenantId and clientId are required parameters.`);this.tenantId=e,this.additionallyAllowedTenantIds=Mo(o?.additionallyAllowedTenants),this.sendCertificateChain=o.sendCertificateChain,this.certificateConfiguration={...typeof n=="string"?{certificatePath:n}:n};let a=this.certificateConfiguration.certificate,c=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(a||c))throw new Error(`${H4}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(a&&c)throw new Error(`${H4}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=$a(r,e,{...o,logger:Tde,tokenCredentialOptions:o})}async getToken(e,r={}){return hi.withSpan(`${H4}.getToken`,r,async n=>{n.tenantId=To(this.tenantId,n,this.additionallyAllowedTenantIds,Tde);let o=Array.isArray(e)?e:[e],a=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(o,a,n)})}async buildClientCertificate(){let e=await BLe(this.certificateConfiguration,this.sendCertificateChain??!1),r;return this.certificateConfiguration.certificatePassword!==void 0?r=(0,q4.createPrivateKey)({key:e.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:"pem"}).export({format:"pem",type:"pkcs8"}).toString():r=e.certificateContents,{thumbprint:e.thumbprint,thumbprintSha256:e.thumbprintSha256,privateKey:r,x5c:e.x5c}}};async function BLe(t,e){let r=t.certificate,n=t.certificatePath,o=r||await(0,_de.readFile)(n,"utf8"),a=e?o:void 0,c=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,l=[],u;do u=c.exec(o),u&&l.push(u[3]);while(u);if(l.length===0)throw new Error("The file at the specified path does not contain a PEM-encoded certificate.");let d=(0,q4.createHash)("sha1").update(Buffer.from(l[0],"base64")).digest("hex").toUpperCase(),A=(0,q4.createHash)("sha256").update(Buffer.from(l[0],"base64")).digest("hex").toUpperCase();return{certificateContents:o,thumbprintSha256:A,thumbprint:d,x5c:a}}s(BLe,"parseCertificate");f();f();function Gl(t){return Array.isArray(t)?t:[t]}s(Gl,"ensureScopes");function Bx(t,e){if(!t.match(/^[0-9a-zA-Z-_.:/]+$/)){let r=new Error("Invalid scope was specified by the user or calling client");throw e.getToken.info(Pn(t,r)),r}}s(Bx,"ensureValidScopeForDevTimeCreds");function Y7(t){return t.replace(/\/.default$/,"")}s(Y7,"getScopeResource");var wde=kr("ClientSecretCredential"),V4=class{static{s(this,"ClientSecretCredential")}tenantId;additionallyAllowedTenantIds;msalClient;clientSecret;constructor(e,r,n,o={}){if(!e)throw new Ot("ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!r)throw new Ot("ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!n)throw new Ot("ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");this.clientSecret=n,this.tenantId=e,this.additionallyAllowedTenantIds=Mo(o?.additionallyAllowedTenants),this.msalClient=$a(r,e,{...o,logger:wde,tokenCredentialOptions:o})}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=To(this.tenantId,n,this.additionallyAllowedTenantIds,wde);let o=Gl(e);return this.msalClient.getTokenByClientSecret(o,this.clientSecret,n)})}};f();var RLe=kr("UsernamePasswordCredential"),W4=class{static{s(this,"UsernamePasswordCredential")}tenantId;additionallyAllowedTenantIds;msalClient;username;password;constructor(e,r,n,o,a={}){if(!e)throw new Ot("UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!r)throw new Ot("UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!n)throw new Ot("UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!o)throw new Ot("UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=Mo(a?.additionallyAllowedTenants),this.username=n,this.password=o,this.msalClient=$a(r,this.tenantId,{...a,tokenCredentialOptions:a??{}})}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=To(this.tenantId,n,this.additionallyAllowedTenantIds,RLe);let o=Gl(e);return this.msalClient.getTokenByUsernamePassword(o,this.username,this.password,n)})}};var kLe=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","AZURE_CLIENT_CERTIFICATE_PATH","AZURE_CLIENT_CERTIFICATE_PASSWORD","AZURE_USERNAME","AZURE_PASSWORD","AZURE_ADDITIONALLY_ALLOWED_TENANTS","AZURE_CLIENT_SEND_CERTIFICATE_CHAIN"];function DLe(){return(process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS??"").split(";")}s(DLe,"getAdditionallyAllowedTenants");var $7="EnvironmentCredential",Ah=kr($7);function NLe(){let t=(process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN??"").toLowerCase(),e=t==="true"||t==="1";return Ah.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${e}`),e}s(NLe,"getSendCertificateChain");var Y4=class{static{s(this,"EnvironmentCredential")}_credential=void 0;constructor(e){let r=IR(kLe).assigned.join(", ");Ah.info(`Found the following environment variables: ${r}`);let n=process.env.AZURE_TENANT_ID,o=process.env.AZURE_CLIENT_ID,a=process.env.AZURE_CLIENT_SECRET,c=DLe(),l=NLe(),u={...e,additionallyAllowedTenantIds:c,sendCertificateChain:l};if(n&&Zs(Ah,n),n&&o&&a){Ah.info(`Invoking ClientSecretCredential with tenant ID: ${n}, clientId: ${o} and clientSecret: [REDACTED]`),this._credential=new V4(n,o,a,u);return}let d=process.env.AZURE_CLIENT_CERTIFICATE_PATH,A=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(n&&o&&d){Ah.info(`Invoking ClientCertificateCredential with tenant ID: ${n}, clientId: ${o} and certificatePath: ${d}`),this._credential=new G4(n,o,{certificatePath:d,certificatePassword:A},u);return}let h=process.env.AZURE_USERNAME,p=process.env.AZURE_PASSWORD;n&&o&&h&&p&&(Ah.info(`Invoking UsernamePasswordCredential with tenant ID: ${n}, clientId: ${o} and username: ${h}`),Ah.warning("Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa."),this._credential=new W4(n,o,h,p,u))}async getToken(e,r={}){return hi.withSpan(`${$7}.getToken`,r,async n=>{if(this._credential)try{let o=await this._credential.getToken(e,n);return Ah.getToken.info(ks(e)),o}catch(o){let a=new Wm(400,{error:`${$7} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:o.message.toString().split("More details:").join("")});throw Ah.getToken.info(Pn(e,a)),a}throw new Ot(`${$7} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}};f();f();var QLe=1e3*64,PLe=3e3;function Sde(t){return jG([{name:"imdsRetryPolicy",retry:s(({retryCount:e,response:r})=>{if(r?.status!==404&&r?.status!==410)return{skipStrategy:!0};let n=r?.status===410?Math.max(PLe,t.startDelayInMs):t.startDelayInMs;return aue(e,{retryDelayInMs:n,maxRetryDelayInMs:QLe})},"retry")}],{maxRetries:t.maxRetries})}s(Sde,"imdsRetryPolicy");f();var hh="ManagedIdentityCredential - IMDS",FC=kr(hh),FLe="http://169.254.169.254",LLe="/metadata/identity/oauth2/token";function MLe(t){if(!L4(t))throw new Error(`${hh}: Multiple scopes are not supported.`);let r=new URL(LLe,process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST??FLe),n={Accept:"application/json"};return{url:`${r}`,method:"GET",headers:yg(n)}}s(MLe,"prepareInvalidRequestOptions");var Bde={name:"imdsMsi",async isAvailable(t){let{scopes:e,identityClient:r,getTokenOptions:n}=t,o=L4(e);if(!o)return FC.info(`${hh}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!r)throw new Error("Missing IdentityClient");let a=MLe(o);return hi.withSpan("ManagedIdentityCredential-pingImdsEndpoint",n??{},async c=>{a.tracingOptions=c.tracingOptions;let l=Ku(a);l.timeout=c.requestOptions?.timeout||1e3,l.allowInsecureConnection=!0;let u;try{FC.info(`${hh}: Pinging the Azure IMDS endpoint`),u=await r.sendRequest(l)}catch(d){return e7(d)&&FC.verbose(`${hh}: Caught error ${d.name}: ${d.message}`),FC.info(`${hh}: The Azure IMDS endpoint is unavailable`),!1}return u.status===403&&u.bodyAsText?.includes("unreachable")?(FC.info(`${hh}: The Azure IMDS endpoint is unavailable`),FC.info(`${hh}: ${u.bodyAsText}`),!1):(FC.info(`${hh}: The Azure IMDS endpoint is available`),!0)})}};f();f();f();var Rde=kr("ClientAssertionCredential"),Rx=class{static{s(this,"ClientAssertionCredential")}msalClient;tenantId;additionallyAllowedTenantIds;getAssertion;options;constructor(e,r,n,o={}){if(!e)throw new Ot("ClientAssertionCredential: tenantId is a required parameter.");if(!r)throw new Ot("ClientAssertionCredential: clientId is a required parameter.");if(!n)throw new Ot("ClientAssertionCredential: clientAssertion is a required parameter.");this.tenantId=e,this.additionallyAllowedTenantIds=Mo(o?.additionallyAllowedTenants),this.options=o,this.getAssertion=n,this.msalClient=$a(r,e,{...o,logger:Rde,tokenCredentialOptions:this.options})}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=To(this.tenantId,n,this.additionallyAllowedTenantIds,Rde);let o=Array.isArray(e)?e:[e];return this.msalClient.getTokenByClientAssertion(o,this.getAssertion,n)})}};var kde=require("node:fs/promises");var LC="WorkloadIdentityCredential",OLe=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_FEDERATED_TOKEN_FILE"],$4=kr(LC),ph=class{static{s(this,"WorkloadIdentityCredential")}client;azureFederatedTokenFileContent=void 0;cacheDate=void 0;federatedTokenFilePath;constructor(e){let r=IR(OLe).assigned.join(", ");$4.info(`Found the following environment variables: ${r}`);let n=e??{},o=n.tenantId||process.env.AZURE_TENANT_ID,a=n.clientId||process.env.AZURE_CLIENT_ID;if(this.federatedTokenFilePath=n.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,o&&Zs($4,o),!a)throw new Ot(`${LC}: is unavailable. clientId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_CLIENT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!o)throw new Ot(`${LC}: is unavailable. tenantId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_TENANT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!this.federatedTokenFilePath)throw new Ot(`${LC}: is unavailable. federatedTokenFilePath is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_FEDERATED_TOKEN_FILE".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);$4.info(`Invoking ClientAssertionCredential with tenant ID: ${o}, clientId: ${n.clientId} and federated token path: [REDACTED]`),this.client=new Rx(o,a,this.readFileContents.bind(this),e)}async getToken(e,r){if(!this.client){let n=`${LC}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. 
      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - 
      "AZURE_TENANT_ID",
      "AZURE_CLIENT_ID",
      "AZURE_FEDERATED_TOKEN_FILE". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`;throw $4.info(n),new Ot(n)}return $4.info("Invoking getToken() of Client Assertion Credential"),this.client.getToken(e,r)}async readFileContents(){if(this.cacheDate!==void 0&&Date.now()-this.cacheDate>=1e3*60*5&&(this.azureFederatedTokenFileContent=void 0),!this.federatedTokenFilePath)throw new Ot(`${LC}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let r=(await(0,kde.readFile)(this.federatedTokenFilePath,"utf8")).trim();if(r)this.azureFederatedTokenFileContent=r,this.cacheDate=Date.now();else throw new Ot(`${LC}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`)}return this.azureFederatedTokenFileContent}};var Dde="ManagedIdentityCredential - Token Exchange",ULe=kr(Dde),vV={name:"tokenExchangeMsi",async isAvailable(t){let e=process.env,r=!!((t||e.AZURE_CLIENT_ID)&&e.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);return r||ULe.info(`${Dde}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`),r},async getToken(t,e={}){let{scopes:r,clientId:n}=t,o={};return new ph({clientId:n,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE,...o,disableInstanceDiscovery:!0}).getToken(r,e)}};var Wc=kr("ManagedIdentityCredential"),bg=class{static{s(this,"ManagedIdentityCredential")}managedIdentityApp;identityClient;clientId;resourceId;objectId;msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2};isAvailableIdentityClient;constructor(e,r){let n;typeof e=="string"?(this.clientId=e,n=r??{}):(this.clientId=e?.clientId,n=e??{}),this.resourceId=n?.resourceId,this.objectId=n?.objectId;let o=[{key:"clientId",value:this.clientId},{key:"resourceId",value:this.resourceId},{key:"objectId",value:this.objectId}].filter(c=>c.value);if(o.length>1)throw new Error(`ManagedIdentityCredential: only one of 'clientId', 'resourceId', or 'objectId' can be provided. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}`);n.allowInsecureConnection=!0,n.retryOptions?.maxRetries!==void 0&&(this.msiRetryConfig.maxRetries=n.retryOptions.maxRetries),this.identityClient=new Eg({...n,additionalPolicies:[{policy:Sde(this.msiRetryConfig),position:"perCall"}]}),this.managedIdentityApp=new hx({managedIdentityIdParams:{userAssignedClientId:this.clientId,userAssignedResourceId:this.resourceId,userAssignedObjectId:this.objectId},system:{disableInternalRetries:!0,networkClient:this.identityClient,loggerOptions:{logLevel:n7(ER()),piiLoggingEnabled:n.loggingOptions?.enableUnsafeSupportLogging,loggerCallback:r7(Wc)}}}),this.isAvailableIdentityClient=new Eg({...n,retryOptions:{maxRetries:0}});let a=this.managedIdentityApp.getManagedIdentitySource();if(a==="CloudShell"&&(this.clientId||this.resourceId||this.objectId))throw Wc.warning(`CloudShell MSI detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new Ot("ManagedIdentityCredential: Specifying a user-assigned managed identity is not supported for CloudShell at runtime. When using Managed Identity in CloudShell, omit the clientId, resourceId, and objectId parameters.");if(a==="ServiceFabric"&&(this.clientId||this.resourceId||this.objectId))throw Wc.warning(`Service Fabric detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new Ot(`ManagedIdentityCredential: ${Yfe}`);if(Wc.info(`Using ${a} managed identity.`),o.length===1){let{key:c,value:l}=o[0];Wc.info(`${a} with ${c}: ${l}`)}}async getToken(e,r={}){Wc.getToken.info("Using the MSAL provider for Managed Identity.");let n=L4(e);if(!n)throw new Ot(`ManagedIdentityCredential: Multiple scopes are not supported. Scopes: ${JSON.stringify(e)}`);return hi.withSpan("ManagedIdentityCredential.getToken",r,async()=>{try{let o=await vV.isAvailable(this.clientId),a=this.managedIdentityApp.getManagedIdentitySource(),c=a==="DefaultToImds"||a==="Imds";if(Wc.getToken.info(`MSAL Identity source: ${a}`),o){Wc.getToken.info("Using the token exchange managed identity.");let u=await vV.getToken({scopes:e,clientId:this.clientId,identityClient:this.identityClient,retryConfig:this.msiRetryConfig,resourceId:this.resourceId});if(u===null)throw new Ot("Attempted to use the token exchange managed identity, but received a null response.");return u}else if(c&&(Wc.getToken.info("Using the IMDS endpoint to probe for availability."),!await Bde.isAvailable({scopes:e,clientId:this.clientId,getTokenOptions:r,identityClient:this.isAvailableIdentityClient,resourceId:this.resourceId})))throw new Ot("Attempted to use the IMDS endpoint, but it is not available.");Wc.getToken.info("Calling into MSAL for managed identity token.");let l=await this.managedIdentityApp.acquireToken({resource:n});return this.ensureValidMsalToken(e,l,r),Wc.getToken.info(ks(e)),{expiresOnTimestamp:l.expiresOn.getTime(),token:l.accessToken,refreshAfterTimestamp:l.refreshOn?.getTime(),tokenType:"Bearer"}}catch(o){throw Wc.getToken.error(Pn(e,o)),o.name==="AuthenticationRequiredError"?o:HLe(o)?new Ot(`ManagedIdentityCredential: Network unreachable. Message: ${o.message}`,{cause:o}):new Ot(`ManagedIdentityCredential: Authentication failed. Message ${o.message}`,{cause:o})}})}ensureValidMsalToken(e,r,n){let o=s(a=>(Wc.getToken.info(a),new Nl({scopes:Array.isArray(e)?e:[e],getTokenOptions:n,message:a})),"createError");if(!r)throw o("No response.");if(!r.expiresOn)throw o('Response had no "expiresOn" property.');if(!r.accessToken)throw o('Response had no "accessToken" property.')}};function HLe(t){return!!(t.errorCode==="network_error"||t.code==="ENETUNREACH"||t.code==="EHOSTUNREACH"||(t.statusCode===403||t.code===403)&&t.message.includes("unreachable"))}s(HLe,"isNetworkError");f();var Nde=Et(require("child_process"),1);var mh=kr("AzureDeveloperCliCredential"),Qde={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(mh.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure Developer CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzdAccessToken(t,e,r){let n=[];return e&&(n=["--tenant-id",e]),new Promise((o,a)=>{try{let l=["azd",...["auth","token","--output","json",...t.reduce((u,d)=>u.concat("--scope",d),[]),...n]].join(" ");Nde.default.exec(l,{cwd:Qde.getSafeWorkingDir(),timeout:r},(u,d,A)=>{o({stdout:d,stderr:A,error:u})})}catch(c){a(c)}})}},z4=class{static{s(this,"AzureDeveloperCliCredential")}tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(Zs(mh,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=To(this.tenantId,r,this.additionallyAllowedTenantIds);n&&Zs(mh,n);let o;return typeof e=="string"?o=[e]:o=e,mh.getToken.info(`Using the scopes ${e}`),hi.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{o.forEach(u=>{Bx(u,mh)});let a=await Qde.getAzdAccessToken(o,n,this.timeout),c=a.stderr?.match("not logged in, run `azd login` to login")||a.stderr?.match("not logged in, run `azd auth login` to login");if(a.stderr?.match("azd:(.*)not found")||a.stderr?.startsWith("'azd' is not recognized")||a.error&&a.error.code==="ENOENT"){let u=new Ot("Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw mh.getToken.info(Pn(e,u)),u}if(c){let u=new Ot("Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw mh.getToken.info(Pn(e,u)),u}try{let u=JSON.parse(a.stdout);return mh.getToken.info(ks(e)),{token:u.token,expiresOnTimestamp:new Date(u.expiresOn).getTime(),tokenType:"Bearer"}}catch(u){throw a.stderr?new Ot(a.stderr):u}}catch(a){let c=a.name==="CredentialUnavailableError"?a:new Ot(a.message||"Unknown error while trying to retrieve the access token");throw mh.getToken.info(Pn(e,c)),c}})}};f();var Pde=Et(require("child_process"),1);f();function bV(t,e){if(!e.match(/^[0-9a-zA-Z-._ ]+$/)){let r=new Error(`Subscription '${e}' contains invalid characters. If this is the name of a subscription, use its ID instead. You can locate your subscription by following the instructions listed here: https://learn.microsoft.com/azure/azure-portal/get-subscription-tenant-id`);throw t.info(Pn("",r)),r}}s(bV,"checkSubscription");var Vl=kr("AzureCliCredential"),Fde={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(Vl.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzureCliAccessToken(t,e,r,n){let o=[],a=[];return e&&(o=["--tenant",e]),r&&(a=["--subscription",`"${r}"`]),new Promise((c,l)=>{try{let d=["az",...["account","get-access-token","--output","json","--resource",t,...o,...a]].join(" ");Pde.default.exec(d,{cwd:Fde.getSafeWorkingDir(),timeout:n},(A,h,p)=>{c({stdout:h,stderr:p,error:A})})}catch(u){l(u)}})}},j4=class{static{s(this,"AzureCliCredential")}tenantId;additionallyAllowedTenantIds;timeout;subscription;constructor(e){e?.tenantId&&(Zs(Vl,e?.tenantId),this.tenantId=e?.tenantId),e?.subscription&&(bV(Vl,e?.subscription),this.subscription=e?.subscription),this.additionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=To(this.tenantId,r,this.additionallyAllowedTenantIds);n&&Zs(Vl,n),this.subscription&&bV(Vl,this.subscription);let o=typeof e=="string"?e:e[0];return Vl.getToken.info(`Using the scope ${o}`),hi.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{Bx(o,Vl);let a=Y7(o),c=await Fde.getAzureCliAccessToken(a,n,this.subscription,this.timeout),l=c.stderr?.match("(.*)az login --scope(.*)"),u=c.stderr?.match("(.*)az login(.*)")&&!l;if(c.stderr?.match("az:(.*)not found")||c.stderr?.startsWith("'az' is not recognized")){let A=new Ot("Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.");throw Vl.getToken.info(Pn(e,A)),A}if(u){let A=new Ot("Please run 'az login' from a command prompt to authenticate before using this credential.");throw Vl.getToken.info(Pn(e,A)),A}try{let A=c.stdout,h=this.parseRawResponse(A);return Vl.getToken.info(ks(e)),h}catch(A){throw c.stderr?new Ot(c.stderr):A}}catch(a){let c=a.name==="CredentialUnavailableError"?a:new Ot(a.message||"Unknown error while trying to retrieve the access token");throw Vl.getToken.info(Pn(e,c)),c}})}parseRawResponse(e){let r=JSON.parse(e),n=r.accessToken,o=Number.parseInt(r.expires_on,10)*1e3;if(!isNaN(o))return Vl.getToken.info("expires_on is available and is valid, using it"),{token:n,expiresOnTimestamp:o,tokenType:"Bearer"};if(o=new Date(r.expiresOn).getTime(),isNaN(o))throw new Ot(`Unexpected response from Azure CLI when getting token. Expected "expiresOn" to be a RFC3339 date string. Got: "${r.expiresOn}"`);return{token:n,expiresOnTimestamp:o,tokenType:"Bearer"}}};f();f();var Lde=Et(require("node:child_process"),1),Mde={execFile(t,e,r){return new Promise((n,o)=>{let a=[...e],c=[t,...a].join(" ");Lde.default.exec(c,r,(l,u,d)=>{Buffer.isBuffer(u)&&(u=u.toString("utf8")),Buffer.isBuffer(d)&&(d=d.toString("utf8")),d||l?o(d?new Error(d):l):n(u)})})}};var gh=kr("AzurePowerShellCredential"),Ude=process.platform==="win32";function Hde(t){return Ude?`${t}.exe`:t}s(Hde,"formatCommand");async function Ode(t,e){let r=[];for(let n of t){let[o,...a]=n,c=await Mde.execFile(o,a,{encoding:"utf8",timeout:e});r.push(c)}return r}s(Ode,"runCommands");var qde={login:"Run Connect-AzAccount to login",installed:"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory"},TV={login:"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: "Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force".`,troubleshoot:"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot."},qLe=s(t=>t.message.match(`(.*)${qde.login}(.*)`),"isLoginError"),GLe=s(t=>t.message.match(qde.installed),"isNotInstalledError"),_V=[Hde("pwsh")];Ude&&_V.push(Hde("powershell"));var K4=class{static{s(this,"AzurePowerShellCredential")}tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(Zs(gh,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getAzurePowerShellAccessToken(e,r,n){for(let o of[..._V]){try{await Ode([[o,"/?"]],n)}catch{_V.shift();continue}let c=(await Ode([[o,"-NoProfile","-NonInteractive","-Command",`
          $tenantId = "${r??""}"
          $m = Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru
          $useSecureString = $m.Version -ge [version]'2.17.0' -and $m.Version -lt [version]'5.0.0'

          $params = @{
            ResourceUrl = "${e}"
          }

          if ($tenantId.Length -gt 0) {
            $params["TenantId"] = $tenantId
          }

          if ($useSecureString) {
            $params["AsSecureString"] = $true
          }

          $token = Get-AzAccessToken @params

          $result = New-Object -TypeName PSObject
          $result | Add-Member -MemberType NoteProperty -Name ExpiresOn -Value $token.ExpiresOn

          if ($token.Token -is [System.Security.SecureString]) {
            if ($PSVersionTable.PSVersion.Major -lt 7) {
              $ssPtr = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($token.Token)
              try {
                $result | Add-Member -MemberType NoteProperty -Name Token -Value ([System.Runtime.InteropServices.Marshal]::PtrToStringBSTR($ssPtr))
              }
              finally {
                [System.Runtime.InteropServices.Marshal]::ZeroFreeBSTR($ssPtr)
              }
            }
            else {
              $result | Add-Member -MemberType NoteProperty -Name Token -Value ($token.Token | ConvertFrom-SecureString -AsPlainText)
            }
          }
          else {
            $result | Add-Member -MemberType NoteProperty -Name Token -Value $token.Token
          }

          Write-Output (ConvertTo-Json $result)
          `]]))[0];return VLe(c)}throw new Error("Unable to execute PowerShell. Ensure that it is installed in your system")}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async()=>{let n=To(this.tenantId,r,this.additionallyAllowedTenantIds),o=typeof e=="string"?e:e[0];n&&Zs(gh,n);try{Bx(o,gh),gh.getToken.info(`Using the scope ${o}`);let a=Y7(o),c=await this.getAzurePowerShellAccessToken(a,n,this.timeout);return gh.getToken.info(ks(e)),{token:c.Token,expiresOnTimestamp:new Date(c.ExpiresOn).getTime(),tokenType:"Bearer"}}catch(a){if(GLe(a)){let l=new Ot(TV.installed);throw gh.getToken.info(Pn(o,l)),l}else if(qLe(a)){let l=new Ot(TV.login);throw gh.getToken.info(Pn(o,l)),l}let c=new Ot(`${a}. ${TV.troubleshoot}`);throw gh.getToken.info(Pn(o,c)),c}})}};async function VLe(t){let e=/{[^{}]*}/g,r=t.match(e),n=t;if(r)try{for(let o of r)try{let a=JSON.parse(o);if(a?.Token)return n=n.replace(o,""),n&&gh.getToken.warning(n),a}catch{continue}}catch{throw new Error(`Unable to parse the output of PowerShell. Received output: ${t}`)}throw new Error(`No access token found in the output. Received output: ${t}`)}s(VLe,"parseJsonToken");f();var Gde=require("node:fs/promises");var WLe="common",YLe="aebc6443-996d-45c2-90f0-388ff96faa56",wV=kr("VisualStudioCodeCredential"),$Le={adfs:"The VisualStudioCodeCredential does not support authentication with ADFS tenants."};function zLe(t){let e=$Le[t];if(e)throw new Ot(e)}s(zLe,"checkUnsupportedTenant");var J4=class{static{s(this,"VisualStudioCodeCredential")}tenantId;additionallyAllowedTenantIds;msalClient;options;constructor(e){this.options=e||{},e&&e.tenantId?(Zs(wV,e.tenantId),this.tenantId=e.tenantId):this.tenantId=WLe,this.additionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants),zLe(this.tenantId)}async prepare(e){let r=To(this.tenantId,this.options,this.additionallyAllowedTenantIds,wV)||this.tenantId;if(!ase()||!hR)throw new Ot("Visual Studio Code Authentication is not available. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.");let n=await this.loadAuthRecord(hR,e);this.msalClient=$a(YLe,r,{...this.options,isVSCodeCredential:!0,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0},authenticationRecord:n})}preparePromise;prepareOnce(e){return this.preparePromise||(this.preparePromise=this.prepare(e)),this.preparePromise}async getToken(e,r){let n=Gl(e);if(await this.prepareOnce(n),!this.msalClient)throw new Ot("Visual Studio Code Authentication failed to initialize. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.");return this.msalClient.getTokenByInteractiveRequest(n,r||{})}async loadAuthRecord(e,r){try{let n=await(0,Gde.readFile)(e,{encoding:"utf8"});return iG(n)}catch(n){throw wV.getToken.info(Pn(r,n)),new Ot("Cannot load authentication record in Visual Studio Code. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.")}}};f();var z7=kr("BrokerCredential"),j7=class{static{s(this,"BrokerCredential")}brokerMsalClient;brokerTenantId;brokerAdditionallyAllowedTenantIds;constructor(e){this.brokerTenantId=_x(z7,e.tenantId),this.brokerAdditionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants);let r={...e,tokenCredentialOptions:e,logger:z7,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0}};this.brokerMsalClient=$a(Oy,this.brokerTenantId,r)}async getToken(e,r={}){return hi.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=To(this.brokerTenantId,n,this.brokerAdditionallyAllowedTenantIds,z7);let o=Gl(e);try{return this.brokerMsalClient.getBrokeredToken(o,!0,{...n,disableAutomaticAuthentication:!0})}catch(a){throw z7.getToken.info(Pn(o,a)),new Ot("Failed to acquire token using broker authentication",{cause:a})}})}};function Vde(t={}){return new j7(t)}s(Vde,"createDefaultBrokerCredential");function SV(t={}){return new J4(t)}s(SV,"createDefaultVisualStudioCodeCredential");function BV(t={}){t.retryOptions??={maxRetries:5,retryDelayInMs:800};let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=t?.managedIdentityResourceId,o=process.env.AZURE_FEDERATED_TOKEN_FILE,a=t?.tenantId??process.env.AZURE_TENANT_ID;if(n){let c={...t,resourceId:n};return new bg(c)}if(o&&r){let c={...t,tenantId:a};return new bg(r,c)}if(e){let c={...t,clientId:e};return new bg(c)}return new bg(t)}s(BV,"createDefaultManagedIdentityCredential");function RV(t){let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=process.env.AZURE_FEDERATED_TOKEN_FILE,o=t?.tenantId??process.env.AZURE_TENANT_ID;if(n&&r){let a={...t,tenantId:o,clientId:r,tokenFilePath:n};return new ph(a)}if(o){let a={...t,tenantId:o};return new ph(a)}return new ph(t)}s(RV,"createDefaultWorkloadIdentityCredential");function kV(t={}){return new z4(t)}s(kV,"createDefaultAzureDeveloperCliCredential");function DV(t={}){return new j4(t)}s(DV,"createDefaultAzureCliCredential");function NV(t={}){return new K4(t)}s(NV,"createDefaultAzurePowershellCredential");function QV(t={}){return new Y4(t)}s(QV,"createDefaultEnvironmentCredential");var PV=kr("DefaultAzureCredential"),FV=class{static{s(this,"UnavailableDefaultCredential")}credentialUnavailableErrorMessage;credentialName;constructor(e,r){this.credentialName=e,this.credentialUnavailableErrorMessage=r}getToken(){return PV.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}},kx=class extends o_{static{s(this,"DefaultAzureCredential")}constructor(e){let r=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,n=[SV,DV,NV,kV,Vde],o=[QV,RV,BV],a=[],c="EnvironmentCredential, WorkloadIdentityCredential, ManagedIdentityCredential, VisualStudioCodeCredential, AzureCliCredential, AzurePowerShellCredential, AzureDeveloperCliCredential";if(r)switch(r){case"dev":a=n;break;case"prod":a=o;break;case"environmentcredential":a=[QV];break;case"workloadidentitycredential":a=[RV];break;case"managedidentitycredential":a=[BV];break;case"visualstudiocodecredential":a=[SV];break;case"azureclicredential":a=[DV];break;case"azurepowershellcredential":a=[NV];break;case"azuredeveloperclicredential":a=[kV];break;default:{let u=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev' or any of these credentials - ${c}.`;throw PV.warning(u),new Error(u)}}else a=[...o,...n];let l=a.map(u=>{try{return u(e)}catch(d){return PV.warning(`Skipped ${u.name} because of an error creating the credential: ${d}`),new FV(u.name,d.message)}});super(...l)}};f();var jXt=kr("InteractiveBrowserCredential");f();var oZt=kr("DeviceCodeCredential");f();var jLe="AzurePipelinesCredential",pZt=kr(jLe);f();var TZt=kr("AuthorizationCodeCredential");f();var KLe="OnBehalfOfCredential",PZt=kr(KLe);f();var K7=new jr("capiFetchUtilities");function JLe(t){let e=t.getCopilotIntegrationId();if(e)return e;switch(t.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}s(JLe,"getIntegrationId");function MV(t){let e={...wy(t),"X-GitHub-Api-Version":wB},r=JLe(t.get(zs));return r&&(e["Copilot-Integration-Id"]=r),e}s(MV,"getCapiHeaders");function Wde(t,e){return K7.debug(t,"Using CES proxy mode for msbench"),{...e,"ces-proxy-target":f2.api,"Copilot-Integration-Id":"autodev-test"}}s(Wde,"addMsBenchCesProxyHeaders");async function Yde(t,e){K7.debug(t,"Using HMAC authentication mode for msbench");let r=await Zoe(process.env.HMAC_SECRET);return{...e,...r}}s(Yde,"addMsBenchHmacHeaders");function XLe(){return MT()&&!!process.env.HMAC_SECRET}s(XLe,"isMsBenchHmacModeEnabled");function LV(){return MT()&&!process.env.HMAC_SECRET}s(LV,"isMsBenchCesProxyModeEnabled");async function $de(t,e){return process.env.HMAC_SECRET?await Yde(t,e):Wde(t,e)}s($de,"addMsBenchHeaders");function ZLe(t,e,...r){if(LV()){K7.debug(t,"Using CES proxy endpoint for URL generation");let n=r.join("/");return n.startsWith("/")&&(n=n.slice(1)),`https://ces-dev1.azurewebsites.net/api/proxy/${n}`}return VT(t,e,"api",...r)}s(ZLe,"getCapiUrl");async function OV(t,e,r){r??=await t.get(Ei).getToken();let n=ZLe(t,r,e),o=r.token;LV()&&(K7.debug(t,"Using CES proxy authentication token for fetchCapiUrl"),o=await eMe());let a={Authorization:`Bearer ${o}`,...MV(t)},c=XLe()?await Yde(t,a):LV()?Wde(t,a):a;return await t.get(ps).fetch(new URL(n).href,{method:"GET",headers:c})}s(OV,"fetchCapiUrl");async function eMe(){let e=await new kx().getToken("api://17b0ad65-ed36-4194-bb27-059c567bc41f/.default");if(!e)throw new Error("Failed to retrieve access token");return e.token}s(eMe,"getMsBenchToken");f();f();f();var za={};Io(za,{HasPropertyKey:()=>J7,IsArray:()=>rs,IsAsyncIterator:()=>UV,IsBigInt:()=>X4,IsBoolean:()=>yh,IsDate:()=>MC,IsFunction:()=>HV,IsIterator:()=>qV,IsNull:()=>GV,IsNumber:()=>Yc,IsObject:()=>Ii,IsRegExp:()=>Z4,IsString:()=>Di,IsSymbol:()=>VV,IsUint8Array:()=>Ch,IsUndefined:()=>ns});f();function J7(t,e){return e in t}s(J7,"HasPropertyKey");function UV(t){return Ii(t)&&!rs(t)&&!Ch(t)&&Symbol.asyncIterator in t}s(UV,"IsAsyncIterator");function rs(t){return Array.isArray(t)}s(rs,"IsArray");function X4(t){return typeof t=="bigint"}s(X4,"IsBigInt");function yh(t){return typeof t=="boolean"}s(yh,"IsBoolean");function MC(t){return t instanceof globalThis.Date}s(MC,"IsDate");function HV(t){return typeof t=="function"}s(HV,"IsFunction");function qV(t){return Ii(t)&&!rs(t)&&!Ch(t)&&Symbol.iterator in t}s(qV,"IsIterator");function GV(t){return t===null}s(GV,"IsNull");function Yc(t){return typeof t=="number"}s(Yc,"IsNumber");function Ii(t){return typeof t=="object"&&t!==null}s(Ii,"IsObject");function Z4(t){return t instanceof globalThis.RegExp}s(Z4,"IsRegExp");function Di(t){return typeof t=="string"}s(Di,"IsString");function VV(t){return typeof t=="symbol"}s(VV,"IsSymbol");function Ch(t){return t instanceof globalThis.Uint8Array}s(Ch,"IsUint8Array");function ns(t){return t===void 0}s(ns,"IsUndefined");function tMe(t){return t.map(e=>X7(e))}s(tMe,"ArrayType");function rMe(t){return new Date(t.getTime())}s(rMe,"DateType");function nMe(t){return new Uint8Array(t)}s(nMe,"Uint8ArrayType");function iMe(t){return new RegExp(t.source,t.flags)}s(iMe,"RegExpType");function oMe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=X7(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=X7(t[r]);return e}s(oMe,"ObjectType");function X7(t){return rs(t)?tMe(t):MC(t)?rMe(t):Ch(t)?nMe(t):Z4(t)?iMe(t):Ii(t)?oMe(t):t}s(X7,"Visit");function Ji(t){return X7(t)}s(Ji,"Clone");function Dx(t,e){return e===void 0?Ji(t):Ji({...e,...t})}s(Dx,"CloneType");f();f();f();function Z7(t){return en(t)&&globalThis.Symbol.asyncIterator in t}s(Z7,"IsAsyncIterator");function ek(t){return en(t)&&globalThis.Symbol.iterator in t}s(ek,"IsIterator");function WV(t){return en(t)&&(globalThis.Object.getPrototypeOf(t)===Object.prototype||globalThis.Object.getPrototypeOf(t)===null)}s(WV,"IsStandardObject");function tk(t){return t instanceof globalThis.Promise}s(tk,"IsPromise");function I0(t){return t instanceof Date&&globalThis.Number.isFinite(t.getTime())}s(I0,"IsDate");function zde(t){return t instanceof globalThis.Map}s(zde,"IsMap");function jde(t){return t instanceof globalThis.Set}s(jde,"IsSet");function Wl(t){return globalThis.ArrayBuffer.isView(t)}s(Wl,"IsTypedArray");function Nx(t){return t instanceof globalThis.Uint8Array}s(Nx,"IsUint8Array");function cr(t,e){return e in t}s(cr,"HasPropertyKey");function en(t){return t!==null&&typeof t=="object"}s(en,"IsObject");function lr(t){return globalThis.Array.isArray(t)&&!globalThis.ArrayBuffer.isView(t)}s(lr,"IsArray");function Xi(t){return t===void 0}s(Xi,"IsUndefined");function Eh(t){return t===null}s(Eh,"IsNull");function Pd(t){return typeof t=="boolean"}s(Pd,"IsBoolean");function zt(t){return typeof t=="number"}s(zt,"IsNumber");function rk(t){return globalThis.Number.isInteger(t)}s(rk,"IsInteger");function _a(t){return typeof t=="bigint"}s(_a,"IsBigInt");function Fn(t){return typeof t=="string"}s(Fn,"IsString");function Tg(t){return typeof t=="function"}s(Tg,"IsFunction");function Ih(t){return typeof t=="symbol"}s(Ih,"IsSymbol");function $c(t){return _a(t)||Pd(t)||Eh(t)||zt(t)||Fn(t)||Ih(t)||Xi(t)}s($c,"IsValueType");var Mi;(function(t){t.InstanceMode="default",t.ExactOptionalPropertyTypes=!1,t.AllowArrayObject=!1,t.AllowNaN=!1,t.AllowNullVoid=!1;function e(c,l){return t.ExactOptionalPropertyTypes?l in c:c[l]!==void 0}s(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(c){let l=en(c);return t.AllowArrayObject?l:l&&!lr(c)}s(r,"IsObjectLike"),t.IsObjectLike=r;function n(c){return r(c)&&!(c instanceof Date)&&!(c instanceof Uint8Array)}s(n,"IsRecordLike"),t.IsRecordLike=n;function o(c){return t.AllowNaN?zt(c):Number.isFinite(c)}s(o,"IsNumberLike"),t.IsNumberLike=o;function a(c){let l=Xi(c);return t.AllowNullVoid?l||c===null:l}s(a,"IsVoidLike"),t.IsVoidLike=a})(Mi||(Mi={}));f();function sMe(t){return globalThis.Object.freeze(t).map(e=>ew(e))}s(sMe,"ImmutableArray");function aMe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=ew(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=ew(t[r]);return globalThis.Object.freeze(e)}s(aMe,"ImmutableObject");function ew(t){return rs(t)?sMe(t):MC(t)?t:Ch(t)?t:Z4(t)?t:Ii(t)?aMe(t):t}s(ew,"Immutable");function He(t,e){let r=e!==void 0?{...e,...t}:t;switch(Mi.InstanceMode){case"freeze":return ew(r);case"clone":return Ji(r);default:return r}}s(He,"CreateType");f();var ur=class extends Error{static{s(this,"TypeBoxError")}constructor(e){super(e)}};f();f();f();var uo=Symbol.for("TypeBox.Transform"),Ju=Symbol.for("TypeBox.Readonly"),wa=Symbol.for("TypeBox.Optional"),Yl=Symbol.for("TypeBox.Hint"),Oe=Symbol.for("TypeBox.Kind");function Qx(t){return Ii(t)&&t[Ju]==="Readonly"}s(Qx,"IsReadonly");function oc(t){return Ii(t)&&t[wa]==="Optional"}s(oc,"IsOptional");function YV(t){return wn(t,"Any")}s(YV,"IsAny");function $V(t){return wn(t,"Argument")}s($V,"IsArgument");function Xu(t){return wn(t,"Array")}s(Xu,"IsArray");function OC(t){return wn(t,"AsyncIterator")}s(OC,"IsAsyncIterator");function UC(t){return wn(t,"BigInt")}s(UC,"IsBigInt");function xh(t){return wn(t,"Boolean")}s(xh,"IsBoolean");function Zu(t){return wn(t,"Computed")}s(Zu,"IsComputed");function ef(t){return wn(t,"Constructor")}s(ef,"IsConstructor");function cMe(t){return wn(t,"Date")}s(cMe,"IsDate");function tf(t){return wn(t,"Function")}s(tf,"IsFunction");function rf(t){return wn(t,"Integer")}s(rf,"IsInteger");function _o(t){return wn(t,"Intersect")}s(_o,"IsIntersect");function HC(t){return wn(t,"Iterator")}s(HC,"IsIterator");function wn(t,e){return Ii(t)&&Oe in t&&t[Oe]===e}s(wn,"IsKindOf");function nk(t){return yh(t)||Yc(t)||Di(t)}s(nk,"IsLiteralValue");function zc(t){return wn(t,"Literal")}s(zc,"IsLiteral");function jc(t){return wn(t,"MappedKey")}s(jc,"IsMappedKey");function Zi(t){return wn(t,"MappedResult")}s(Zi,"IsMappedResult");function _g(t){return wn(t,"Never")}s(_g,"IsNever");function lMe(t){return wn(t,"Not")}s(lMe,"IsNot");function tw(t){return wn(t,"Null")}s(tw,"IsNull");function nf(t){return wn(t,"Number")}s(nf,"IsNumber");function is(t){return wn(t,"Object")}s(is,"IsObject");function qC(t){return wn(t,"Promise")}s(qC,"IsPromise");function GC(t){return wn(t,"Record")}s(GC,"IsRecord");function Oo(t){return wn(t,"Ref")}s(Oo,"IsRef");function zV(t){return wn(t,"RegExp")}s(zV,"IsRegExp");function vh(t){return wn(t,"String")}s(vh,"IsString");function rw(t){return wn(t,"Symbol")}s(rw,"IsSymbol");function Kc(t){return wn(t,"TemplateLiteral")}s(Kc,"IsTemplateLiteral");function uMe(t){return wn(t,"This")}s(uMe,"IsThis");function Zn(t){return Ii(t)&&uo in t}s(Zn,"IsTransform");function Jc(t){return wn(t,"Tuple")}s(Jc,"IsTuple");function bh(t){return wn(t,"Undefined")}s(bh,"IsUndefined");function Ln(t){return wn(t,"Union")}s(Ln,"IsUnion");function fMe(t){return wn(t,"Uint8Array")}s(fMe,"IsUint8Array");function dMe(t){return wn(t,"Unknown")}s(dMe,"IsUnknown");function AMe(t){return wn(t,"Unsafe")}s(AMe,"IsUnsafe");function hMe(t){return wn(t,"Void")}s(hMe,"IsVoid");function wg(t){return Ii(t)&&Oe in t&&Di(t[Oe])}s(wg,"IsKind");function fo(t){return YV(t)||$V(t)||Xu(t)||xh(t)||UC(t)||OC(t)||Zu(t)||ef(t)||cMe(t)||tf(t)||rf(t)||_o(t)||HC(t)||zc(t)||jc(t)||Zi(t)||_g(t)||lMe(t)||tw(t)||nf(t)||is(t)||qC(t)||GC(t)||Oo(t)||zV(t)||vh(t)||rw(t)||Kc(t)||uMe(t)||Jc(t)||bh(t)||Ln(t)||fMe(t)||dMe(t)||AMe(t)||hMe(t)||wg(t)}s(fo,"IsSchema");var be={};Io(be,{IsAny:()=>Zde,IsArgument:()=>eAe,IsArray:()=>tAe,IsAsyncIterator:()=>rAe,IsBigInt:()=>nAe,IsBoolean:()=>iAe,IsComputed:()=>oAe,IsConstructor:()=>sAe,IsDate:()=>aAe,IsFunction:()=>cAe,IsImport:()=>EMe,IsInteger:()=>lAe,IsIntersect:()=>uAe,IsIterator:()=>fAe,IsKind:()=>LAe,IsKindOf:()=>fn,IsLiteral:()=>iw,IsLiteralBoolean:()=>IMe,IsLiteralNumber:()=>AAe,IsLiteralString:()=>dAe,IsLiteralValue:()=>hAe,IsMappedKey:()=>pAe,IsMappedResult:()=>mAe,IsNever:()=>gAe,IsNot:()=>yAe,IsNull:()=>CAe,IsNumber:()=>EAe,IsObject:()=>IAe,IsOptional:()=>CMe,IsPromise:()=>xAe,IsProperties:()=>ik,IsReadonly:()=>yMe,IsRecord:()=>vAe,IsRecursive:()=>xMe,IsRef:()=>bAe,IsRegExp:()=>TAe,IsSchema:()=>eo,IsString:()=>_Ae,IsSymbol:()=>wAe,IsTemplateLiteral:()=>SAe,IsThis:()=>BAe,IsTransform:()=>RAe,IsTuple:()=>kAe,IsUint8Array:()=>NAe,IsUndefined:()=>DAe,IsUnion:()=>XV,IsUnionLiteral:()=>vMe,IsUnknown:()=>QAe,IsUnsafe:()=>PAe,IsVoid:()=>FAe,TypeGuardUnknownTypeError:()=>jV});f();var jV=class extends ur{static{s(this,"TypeGuardUnknownTypeError")}},pMe=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Kde(t){try{return new RegExp(t),!0}catch{return!1}}s(Kde,"IsPattern");function KV(t){if(!Di(t))return!1;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}s(KV,"IsControlCharacterFree");function Jde(t){return JV(t)||eo(t)}s(Jde,"IsAdditionalProperties");function nw(t){return ns(t)||X4(t)}s(nw,"IsOptionalBigInt");function Ni(t){return ns(t)||Yc(t)}s(Ni,"IsOptionalNumber");function JV(t){return ns(t)||yh(t)}s(JV,"IsOptionalBoolean");function xi(t){return ns(t)||Di(t)}s(xi,"IsOptionalString");function mMe(t){return ns(t)||Di(t)&&KV(t)&&Kde(t)}s(mMe,"IsOptionalPattern");function gMe(t){return ns(t)||Di(t)&&KV(t)}s(gMe,"IsOptionalFormat");function Xde(t){return ns(t)||eo(t)}s(Xde,"IsOptionalSchema");function yMe(t){return Ii(t)&&t[Ju]==="Readonly"}s(yMe,"IsReadonly");function CMe(t){return Ii(t)&&t[wa]==="Optional"}s(CMe,"IsOptional");function Zde(t){return fn(t,"Any")&&xi(t.$id)}s(Zde,"IsAny");function eAe(t){return fn(t,"Argument")&&Yc(t.index)}s(eAe,"IsArgument");function tAe(t){return fn(t,"Array")&&t.type==="array"&&xi(t.$id)&&eo(t.items)&&Ni(t.minItems)&&Ni(t.maxItems)&&JV(t.uniqueItems)&&Xde(t.contains)&&Ni(t.minContains)&&Ni(t.maxContains)}s(tAe,"IsArray");function rAe(t){return fn(t,"AsyncIterator")&&t.type==="AsyncIterator"&&xi(t.$id)&&eo(t.items)}s(rAe,"IsAsyncIterator");function nAe(t){return fn(t,"BigInt")&&t.type==="bigint"&&xi(t.$id)&&nw(t.exclusiveMaximum)&&nw(t.exclusiveMinimum)&&nw(t.maximum)&&nw(t.minimum)&&nw(t.multipleOf)}s(nAe,"IsBigInt");function iAe(t){return fn(t,"Boolean")&&t.type==="boolean"&&xi(t.$id)}s(iAe,"IsBoolean");function oAe(t){return fn(t,"Computed")&&Di(t.target)&&rs(t.parameters)&&t.parameters.every(e=>eo(e))}s(oAe,"IsComputed");function sAe(t){return fn(t,"Constructor")&&t.type==="Constructor"&&xi(t.$id)&&rs(t.parameters)&&t.parameters.every(e=>eo(e))&&eo(t.returns)}s(sAe,"IsConstructor");function aAe(t){return fn(t,"Date")&&t.type==="Date"&&xi(t.$id)&&Ni(t.exclusiveMaximumTimestamp)&&Ni(t.exclusiveMinimumTimestamp)&&Ni(t.maximumTimestamp)&&Ni(t.minimumTimestamp)&&Ni(t.multipleOfTimestamp)}s(aAe,"IsDate");function cAe(t){return fn(t,"Function")&&t.type==="Function"&&xi(t.$id)&&rs(t.parameters)&&t.parameters.every(e=>eo(e))&&eo(t.returns)}s(cAe,"IsFunction");function EMe(t){return fn(t,"Import")&&J7(t,"$defs")&&Ii(t.$defs)&&ik(t.$defs)&&J7(t,"$ref")&&Di(t.$ref)&&t.$ref in t.$defs}s(EMe,"IsImport");function lAe(t){return fn(t,"Integer")&&t.type==="integer"&&xi(t.$id)&&Ni(t.exclusiveMaximum)&&Ni(t.exclusiveMinimum)&&Ni(t.maximum)&&Ni(t.minimum)&&Ni(t.multipleOf)}s(lAe,"IsInteger");function ik(t){return Ii(t)&&Object.entries(t).every(([e,r])=>KV(e)&&eo(r))}s(ik,"IsProperties");function uAe(t){return fn(t,"Intersect")&&!(Di(t.type)&&t.type!=="object")&&rs(t.allOf)&&t.allOf.every(e=>eo(e)&&!RAe(e))&&xi(t.type)&&(JV(t.unevaluatedProperties)||Xde(t.unevaluatedProperties))&&xi(t.$id)}s(uAe,"IsIntersect");function fAe(t){return fn(t,"Iterator")&&t.type==="Iterator"&&xi(t.$id)&&eo(t.items)}s(fAe,"IsIterator");function fn(t,e){return Ii(t)&&Oe in t&&t[Oe]===e}s(fn,"IsKindOf");function dAe(t){return iw(t)&&Di(t.const)}s(dAe,"IsLiteralString");function AAe(t){return iw(t)&&Yc(t.const)}s(AAe,"IsLiteralNumber");function IMe(t){return iw(t)&&yh(t.const)}s(IMe,"IsLiteralBoolean");function iw(t){return fn(t,"Literal")&&xi(t.$id)&&hAe(t.const)}s(iw,"IsLiteral");function hAe(t){return yh(t)||Yc(t)||Di(t)}s(hAe,"IsLiteralValue");function pAe(t){return fn(t,"MappedKey")&&rs(t.keys)&&t.keys.every(e=>Yc(e)||Di(e))}s(pAe,"IsMappedKey");function mAe(t){return fn(t,"MappedResult")&&ik(t.properties)}s(mAe,"IsMappedResult");function gAe(t){return fn(t,"Never")&&Ii(t.not)&&Object.getOwnPropertyNames(t.not).length===0}s(gAe,"IsNever");function yAe(t){return fn(t,"Not")&&eo(t.not)}s(yAe,"IsNot");function CAe(t){return fn(t,"Null")&&t.type==="null"&&xi(t.$id)}s(CAe,"IsNull");function EAe(t){return fn(t,"Number")&&t.type==="number"&&xi(t.$id)&&Ni(t.exclusiveMaximum)&&Ni(t.exclusiveMinimum)&&Ni(t.maximum)&&Ni(t.minimum)&&Ni(t.multipleOf)}s(EAe,"IsNumber");function IAe(t){return fn(t,"Object")&&t.type==="object"&&xi(t.$id)&&ik(t.properties)&&Jde(t.additionalProperties)&&Ni(t.minProperties)&&Ni(t.maxProperties)}s(IAe,"IsObject");function xAe(t){return fn(t,"Promise")&&t.type==="Promise"&&xi(t.$id)&&eo(t.item)}s(xAe,"IsPromise");function vAe(t){return fn(t,"Record")&&t.type==="object"&&xi(t.$id)&&Jde(t.additionalProperties)&&Ii(t.patternProperties)&&(e=>{let r=Object.getOwnPropertyNames(e.patternProperties);return r.length===1&&Kde(r[0])&&Ii(e.patternProperties)&&eo(e.patternProperties[r[0]])})(t)}s(vAe,"IsRecord");function xMe(t){return Ii(t)&&Yl in t&&t[Yl]==="Recursive"}s(xMe,"IsRecursive");function bAe(t){return fn(t,"Ref")&&xi(t.$id)&&Di(t.$ref)}s(bAe,"IsRef");function TAe(t){return fn(t,"RegExp")&&xi(t.$id)&&Di(t.source)&&Di(t.flags)&&Ni(t.maxLength)&&Ni(t.minLength)}s(TAe,"IsRegExp");function _Ae(t){return fn(t,"String")&&t.type==="string"&&xi(t.$id)&&Ni(t.minLength)&&Ni(t.maxLength)&&mMe(t.pattern)&&gMe(t.format)}s(_Ae,"IsString");function wAe(t){return fn(t,"Symbol")&&t.type==="symbol"&&xi(t.$id)}s(wAe,"IsSymbol");function SAe(t){return fn(t,"TemplateLiteral")&&t.type==="string"&&Di(t.pattern)&&t.pattern[0]==="^"&&t.pattern[t.pattern.length-1]==="$"}s(SAe,"IsTemplateLiteral");function BAe(t){return fn(t,"This")&&xi(t.$id)&&Di(t.$ref)}s(BAe,"IsThis");function RAe(t){return Ii(t)&&uo in t}s(RAe,"IsTransform");function kAe(t){return fn(t,"Tuple")&&t.type==="array"&&xi(t.$id)&&Yc(t.minItems)&&Yc(t.maxItems)&&t.minItems===t.maxItems&&(ns(t.items)&&ns(t.additionalItems)&&t.minItems===0||rs(t.items)&&t.items.every(e=>eo(e)))}s(kAe,"IsTuple");function DAe(t){return fn(t,"Undefined")&&t.type==="undefined"&&xi(t.$id)}s(DAe,"IsUndefined");function vMe(t){return XV(t)&&t.anyOf.every(e=>dAe(e)||AAe(e))}s(vMe,"IsUnionLiteral");function XV(t){return fn(t,"Union")&&xi(t.$id)&&Ii(t)&&rs(t.anyOf)&&t.anyOf.every(e=>eo(e))}s(XV,"IsUnion");function NAe(t){return fn(t,"Uint8Array")&&t.type==="Uint8Array"&&xi(t.$id)&&Ni(t.minByteLength)&&Ni(t.maxByteLength)}s(NAe,"IsUint8Array");function QAe(t){return fn(t,"Unknown")&&xi(t.$id)}s(QAe,"IsUnknown");function PAe(t){return fn(t,"Unsafe")}s(PAe,"IsUnsafe");function FAe(t){return fn(t,"Void")&&t.type==="void"&&xi(t.$id)}s(FAe,"IsVoid");function LAe(t){return Ii(t)&&Oe in t&&Di(t[Oe])&&!pMe.includes(t[Oe])}s(LAe,"IsKind");function eo(t){return Ii(t)&&(Zde(t)||eAe(t)||tAe(t)||iAe(t)||nAe(t)||rAe(t)||oAe(t)||sAe(t)||aAe(t)||cAe(t)||lAe(t)||uAe(t)||fAe(t)||iw(t)||pAe(t)||mAe(t)||gAe(t)||yAe(t)||CAe(t)||EAe(t)||IAe(t)||xAe(t)||vAe(t)||bAe(t)||TAe(t)||_Ae(t)||wAe(t)||SAe(t)||BAe(t)||kAe(t)||DAe(t)||XV(t)||NAe(t)||QAe(t)||PAe(t)||FAe(t)||LAe(t))}s(eo,"IsSchema");f();var ZV="(true|false)",ow="(0|[1-9][0-9]*)",eW="(.*)",bMe="(?!.*)",btr=`^${ZV}$`,Fd=`^${ow}$`,Ld=`^${eW}$`,MAe=`^${bMe}$`;f();var of={};Io(of,{Clear:()=>_Me,Delete:()=>wMe,Entries:()=>TMe,Get:()=>RMe,Has:()=>SMe,Set:()=>BMe});f();var Px=new Map;function TMe(){return new Map(Px)}s(TMe,"Entries");function _Me(){return Px.clear()}s(_Me,"Clear");function wMe(t){return Px.delete(t)}s(wMe,"Delete");function SMe(t){return Px.has(t)}s(SMe,"Has");function BMe(t,e){Px.set(t,e)}s(BMe,"Set");function RMe(t){return Px.get(t)}s(RMe,"Get");var x0={};Io(x0,{Clear:()=>DMe,Delete:()=>NMe,Entries:()=>kMe,Get:()=>FMe,Has:()=>QMe,Set:()=>PMe});f();var Fx=new Map;function kMe(){return new Map(Fx)}s(kMe,"Entries");function DMe(){return Fx.clear()}s(DMe,"Clear");function NMe(t){return Fx.delete(t)}s(NMe,"Delete");function QMe(t){return Fx.has(t)}s(QMe,"Has");function PMe(t,e){Fx.set(t,e)}s(PMe,"Set");function FMe(t){return Fx.get(t)}s(FMe,"Get");f();function OAe(t,e){return t.includes(e)}s(OAe,"SetIncludes");function UAe(t){return[...new Set(t)]}s(UAe,"SetDistinct");function LMe(t,e){return t.filter(r=>e.includes(r))}s(LMe,"SetIntersect");function MMe(t,e){return t.reduce((r,n)=>LMe(r,n),e)}s(MMe,"SetIntersectManyResolve");function HAe(t){return t.length===1?t[0]:t.length>1?MMe(t.slice(1),t[0]):[]}s(HAe,"SetIntersectMany");function qAe(t){let e=[];for(let r of t)e.push(...r);return e}s(qAe,"SetUnionMany");f();function Sg(t){return He({[Oe]:"Any"},t)}s(Sg,"Any");f();function Lx(t,e){return He({[Oe]:"Array",type:"array",items:t},e)}s(Lx,"Array");f();function GAe(t){return He({[Oe]:"Argument",index:t})}s(GAe,"Argument");f();function Mx(t,e){return He({[Oe]:"AsyncIterator",type:"AsyncIterator",items:t},e)}s(Mx,"AsyncIterator");f();f();function Oi(t,e,r){return He({[Oe]:"Computed",target:t,parameters:e},r)}s(Oi,"Computed");f();f();function OMe(t,e){let{[e]:r,...n}=t;return n}s(OMe,"DiscardKey");function wo(t,e){return e.reduce((r,n)=>OMe(r,n),t)}s(wo,"Discard");f();function Kr(t){return He({[Oe]:"Never",not:{}},t)}s(Kr,"Never");f();f();function Gn(t){return He({[Oe]:"MappedResult",properties:t})}s(Gn,"MappedResult");f();f();function Ox(t,e,r){return He({[Oe]:"Constructor",type:"Constructor",parameters:t,returns:e},r)}s(Ox,"Constructor");f();function Md(t,e,r){return He({[Oe]:"Function",type:"Function",parameters:t,returns:e},r)}s(Md,"Function");f();f();f();f();function sw(t,e){return He({[Oe]:"Union",anyOf:t},e)}s(sw,"UnionCreate");function UMe(t){return t.some(e=>oc(e))}s(UMe,"IsUnionOptional");function VAe(t){return t.map(e=>oc(e)?HMe(e):e)}s(VAe,"RemoveOptionalFromRest");function HMe(t){return wo(t,[wa])}s(HMe,"RemoveOptionalFromType");function qMe(t,e){return UMe(t)?ja(sw(VAe(t),e)):sw(VAe(t),e)}s(qMe,"ResolveUnion");function Od(t,e){return t.length===1?He(t[0],e):t.length===0?Kr(e):qMe(t,e)}s(Od,"UnionEvaluated");f();function ei(t,e){return t.length===0?Kr(e):t.length===1?He(t[0],e):sw(t,e)}s(ei,"Union");f();f();f();var ok=class extends ur{static{s(this,"TemplateLiteralParserError")}};function GMe(t){return t.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}s(GMe,"Unescape");function tW(t,e,r){return t[e]===r&&t.charCodeAt(e-1)!==92}s(tW,"IsNonEscaped");function _h(t,e){return tW(t,e,"(")}s(_h,"IsOpenParen");function aw(t,e){return tW(t,e,")")}s(aw,"IsCloseParen");function WAe(t,e){return tW(t,e,"|")}s(WAe,"IsSeparator");function VMe(t){if(!(_h(t,0)&&aw(t,t.length-1)))return!1;let e=0;for(let r=0;r<t.length;r++)if(_h(t,r)&&(e+=1),aw(t,r)&&(e-=1),e===0&&r!==t.length-1)return!1;return!0}s(VMe,"IsGroup");function WMe(t){return t.slice(1,t.length-1)}s(WMe,"InGroup");function YMe(t){let e=0;for(let r=0;r<t.length;r++)if(_h(t,r)&&(e+=1),aw(t,r)&&(e-=1),WAe(t,r)&&e===0)return!0;return!1}s(YMe,"IsPrecedenceOr");function $Me(t){for(let e=0;e<t.length;e++)if(_h(t,e))return!0;return!1}s($Me,"IsPrecedenceAnd");function zMe(t){let[e,r]=[0,0],n=[];for(let a=0;a<t.length;a++)if(_h(t,a)&&(e+=1),aw(t,a)&&(e-=1),WAe(t,a)&&e===0){let c=t.slice(r,a);c.length>0&&n.push(Ux(c)),r=a+1}let o=t.slice(r);return o.length>0&&n.push(Ux(o)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}s(zMe,"Or");function jMe(t){function e(o,a){if(!_h(o,a))throw new ok("TemplateLiteralParser: Index must point to open parens");let c=0;for(let l=a;l<o.length;l++)if(_h(o,l)&&(c+=1),aw(o,l)&&(c-=1),c===0)return[a,l];throw new ok("TemplateLiteralParser: Unclosed group parens in expression")}s(e,"Group");function r(o,a){for(let c=a;c<o.length;c++)if(_h(o,c))return[a,c];return[a,o.length]}s(r,"Range");let n=[];for(let o=0;o<t.length;o++)if(_h(t,o)){let[a,c]=e(t,o),l=t.slice(a,c+1);n.push(Ux(l)),o=c}else{let[a,c]=r(t,o),l=t.slice(a,c);l.length>0&&n.push(Ux(l)),o=c-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}s(jMe,"And");function Ux(t){return VMe(t)?Ux(WMe(t)):YMe(t)?zMe(t):$Me(t)?jMe(t):{type:"const",const:GMe(t)}}s(Ux,"TemplateLiteralParse");function Hx(t){return Ux(t.slice(1,t.length-1))}s(Hx,"TemplateLiteralParseExact");var rW=class extends ur{static{s(this,"TemplateLiteralFiniteError")}};function KMe(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="0"&&t.expr[1].type==="const"&&t.expr[1].const==="[1-9][0-9]*"}s(KMe,"IsNumberExpression");function JMe(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="true"&&t.expr[1].type==="const"&&t.expr[1].const==="false"}s(JMe,"IsBooleanExpression");function XMe(t){return t.type==="const"&&t.const===".*"}s(XMe,"IsStringExpression");function VC(t){return KMe(t)||XMe(t)?!1:JMe(t)?!0:t.type==="and"?t.expr.every(e=>VC(e)):t.type==="or"?t.expr.every(e=>VC(e)):t.type==="const"?!0:(()=>{throw new rW("Unknown expression type")})()}s(VC,"IsTemplateLiteralExpressionFinite");function sk(t){let e=Hx(t.pattern);return VC(e)}s(sk,"IsTemplateLiteralFinite");f();var nW=class extends ur{static{s(this,"TemplateLiteralGenerateError")}};function*YAe(t){if(t.length===1)return yield*t[0];for(let e of t[0])for(let r of YAe(t.slice(1)))yield`${e}${r}`}s(YAe,"GenerateReduce");function*ZMe(t){return yield*YAe(t.expr.map(e=>[...cw(e)]))}s(ZMe,"GenerateAnd");function*eOe(t){for(let e of t.expr)yield*cw(e)}s(eOe,"GenerateOr");function*tOe(t){return yield t.const}s(tOe,"GenerateConst");function*cw(t){return t.type==="and"?yield*ZMe(t):t.type==="or"?yield*eOe(t):t.type==="const"?yield*tOe(t):(()=>{throw new nW("Unknown expression")})()}s(cw,"TemplateLiteralExpressionGenerate");function qx(t){let e=Hx(t.pattern);return VC(e)?[...cw(e)]:[]}s(qx,"TemplateLiteralGenerate");f();f();function Sn(t,e){return He({[Oe]:"Literal",const:t,type:typeof t},e)}s(Sn,"Literal");f();function ak(t){return He({[Oe]:"Boolean",type:"boolean"},t)}s(ak,"Boolean");f();function Gx(t){return He({[Oe]:"BigInt",type:"bigint"},t)}s(Gx,"BigInt");f();function $l(t){return He({[Oe]:"Number",type:"number"},t)}s($l,"Number");f();function v0(t){return He({[Oe]:"String",type:"string"},t)}s(v0,"String");function*rOe(t){let e=t.trim().replace(/"|'/g,"");return e==="boolean"?yield ak():e==="number"?yield $l():e==="bigint"?yield Gx():e==="string"?yield v0():yield(()=>{let r=e.split("|").map(n=>Sn(n.trim()));return r.length===0?Kr():r.length===1?r[0]:Od(r)})()}s(rOe,"FromUnion");function*nOe(t){if(t[1]!=="{"){let e=Sn("$"),r=iW(t.slice(1));return yield*[e,...r]}for(let e=2;e<t.length;e++)if(t[e]==="}"){let r=rOe(t.slice(2,e)),n=iW(t.slice(e+1));return yield*[...r,...n]}yield Sn(t)}s(nOe,"FromTerminal");function*iW(t){for(let e=0;e<t.length;e++)if(t[e]==="$"){let r=Sn(t.slice(0,e)),n=nOe(t.slice(e));return yield*[r,...n]}yield Sn(t)}s(iW,"FromSyntax");function $Ae(t){return[...iW(t)]}s($Ae,"TemplateLiteralSyntax");f();var oW=class extends ur{static{s(this,"TemplateLiteralPatternError")}};function iOe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(iOe,"Escape");function zAe(t,e){return Kc(t)?t.pattern.slice(1,t.pattern.length-1):Ln(t)?`(${t.anyOf.map(r=>zAe(r,e)).join("|")})`:nf(t)?`${e}${ow}`:rf(t)?`${e}${ow}`:UC(t)?`${e}${ow}`:vh(t)?`${e}${eW}`:zc(t)?`${e}${iOe(t.const.toString())}`:xh(t)?`${e}${ZV}`:(()=>{throw new oW(`Unexpected Kind '${t[Oe]}'`)})()}s(zAe,"Visit");function sW(t){return`^${t.map(e=>zAe(e,"")).join("")}$`}s(sW,"TemplateLiteralPattern");f();function WC(t){let r=qx(t).map(n=>Sn(n));return Od(r)}s(WC,"TemplateLiteralToUnion");f();function ck(t,e){let r=Di(t)?sW($Ae(t)):sW(t);return He({[Oe]:"TemplateLiteral",type:"string",pattern:r},e)}s(ck,"TemplateLiteral");function oOe(t){return qx(t).map(r=>r.toString())}s(oOe,"FromTemplateLiteral");function sOe(t){let e=[];for(let r of t)e.push(...sc(r));return e}s(sOe,"FromUnion");function aOe(t){return[t.toString()]}s(aOe,"FromLiteral");function sc(t){return[...new Set(Kc(t)?oOe(t):Ln(t)?sOe(t.anyOf):zc(t)?aOe(t.const):nf(t)?["[number]"]:rf(t)?["[number]"]:[])]}s(sc,"IndexPropertyKeys");f();function cOe(t,e,r){let n={};for(let o of Object.getOwnPropertyNames(e))n[o]=Bg(t,sc(e[o]),r);return n}s(cOe,"FromProperties");function lOe(t,e,r){return cOe(t,e.properties,r)}s(lOe,"FromMappedResult");function jAe(t,e,r){let n=lOe(t,e,r);return Gn(n)}s(jAe,"IndexFromMappedResult");function JAe(t,e){return t.map(r=>XAe(r,e))}s(JAe,"FromRest");function uOe(t){return t.filter(e=>!_g(e))}s(uOe,"FromIntersectRest");function fOe(t,e){return lk(uOe(JAe(t,e)))}s(fOe,"FromIntersect");function dOe(t){return t.some(e=>_g(e))?[]:t}s(dOe,"FromUnionRest");function AOe(t,e){return Od(dOe(JAe(t,e)))}s(AOe,"FromUnion");function hOe(t,e){return e in t?t[e]:e==="[number]"?Od(t):Kr()}s(hOe,"FromTuple");function pOe(t,e){return e==="[number]"?t:Kr()}s(pOe,"FromArray");function mOe(t,e){return e in t?t[e]:Kr()}s(mOe,"FromProperty");function XAe(t,e){return _o(t)?fOe(t.allOf,e):Ln(t)?AOe(t.anyOf,e):Jc(t)?hOe(t.items??[],e):Xu(t)?pOe(t.items,e):is(t)?mOe(t.properties,e):Kr()}s(XAe,"IndexFromPropertyKey");function lw(t,e){return e.map(r=>XAe(t,r))}s(lw,"IndexFromPropertyKeys");function KAe(t,e){return Od(lw(t,e))}s(KAe,"FromSchema");function Bg(t,e,r){if(Oo(t)||Oo(e)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!fo(t)||!fo(e))throw new ur(n);return Oi("Index",[t,e])}return Zi(e)?jAe(t,e,r):jc(e)?ZAe(t,e,r):He(fo(e)?KAe(t,sc(e)):KAe(t,e),r)}s(Bg,"Index");function gOe(t,e,r){return{[e]:Bg(t,[e],Ji(r))}}s(gOe,"MappedIndexPropertyKey");function yOe(t,e,r){return e.reduce((n,o)=>({...n,...gOe(t,o,r)}),{})}s(yOe,"MappedIndexPropertyKeys");function COe(t,e,r){return yOe(t,e.keys,r)}s(COe,"MappedIndexProperties");function ZAe(t,e,r){let n=COe(t,e,r);return Gn(n)}s(ZAe,"IndexFromMappedKey");f();function Vx(t,e){return He({[Oe]:"Iterator",type:"Iterator",items:t},e)}s(Vx,"Iterator");f();function EOe(t){let e=[];for(let r in t)oc(t[r])||e.push(r);return e}s(EOe,"RequiredKeys");function IOe(t,e){let r=EOe(t),n=r.length>0?{[Oe]:"Object",type:"object",properties:t,required:r}:{[Oe]:"Object",type:"object",properties:t};return He(n,e)}s(IOe,"_Object");var ti=IOe;f();function uk(t,e){return He({[Oe]:"Promise",type:"Promise",item:t},e)}s(uk,"Promise");f();f();function xOe(t){return He(wo(t,[Ju]))}s(xOe,"RemoveReadonly");function vOe(t){return He({...t,[Ju]:"Readonly"})}s(vOe,"AddReadonly");function bOe(t,e){return e===!1?xOe(t):vOe(t)}s(bOe,"ReadonlyWithFlag");function ac(t,e){let r=e??!0;return Zi(t)?ehe(t,r):bOe(t,r)}s(ac,"Readonly");function TOe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=ac(t[n],e);return r}s(TOe,"FromProperties");function _Oe(t,e){return TOe(t.properties,e)}s(_Oe,"FromMappedResult");function ehe(t,e){let r=_Oe(t,e);return Gn(r)}s(ehe,"ReadonlyFromMappedResult");f();function zl(t,e){return He(t.length>0?{[Oe]:"Tuple",type:"array",items:t,additionalItems:!1,minItems:t.length,maxItems:t.length}:{[Oe]:"Tuple",type:"array",minItems:t.length,maxItems:t.length},e)}s(zl,"Tuple");function the(t,e){return t in e?jl(t,e[t]):Gn(e)}s(the,"FromMappedResult");function wOe(t){return{[t]:Sn(t)}}s(wOe,"MappedKeyToKnownMappedResultProperties");function SOe(t){let e={};for(let r of t)e[r]=Sn(r);return e}s(SOe,"MappedKeyToUnknownMappedResultProperties");function BOe(t,e){return OAe(e,t)?wOe(t):SOe(e)}s(BOe,"MappedKeyToMappedResultProperties");function ROe(t,e){let r=BOe(t,e);return the(t,r)}s(ROe,"FromMappedKey");function uw(t,e){return e.map(r=>jl(t,r))}s(uw,"FromRest");function kOe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=jl(t,e[n]);return r}s(kOe,"FromProperties");function jl(t,e){let r={...e};return oc(e)?ja(jl(t,wo(e,[wa]))):Qx(e)?ac(jl(t,wo(e,[Ju]))):Zi(e)?the(t,e.properties):jc(e)?ROe(t,e.keys):ef(e)?Ox(uw(t,e.parameters),jl(t,e.returns),r):tf(e)?Md(uw(t,e.parameters),jl(t,e.returns),r):OC(e)?Mx(jl(t,e.items),r):HC(e)?Vx(jl(t,e.items),r):_o(e)?Ka(uw(t,e.allOf),r):Ln(e)?ei(uw(t,e.anyOf),r):Jc(e)?zl(uw(t,e.items??[]),r):is(e)?ti(kOe(t,e.properties),r):Xu(e)?Lx(jl(t,e.items),r):qC(e)?uk(jl(t,e.item),r):e}s(jl,"FromSchemaType");function DOe(t,e){let r={};for(let n of t)r[n]=jl(n,e);return r}s(DOe,"MappedFunctionReturnType");function rhe(t,e,r){let n=fo(t)?sc(t):t,o=e({[Oe]:"MappedKey",keys:n}),a=DOe(n,o);return ti(a,r)}s(rhe,"Mapped");f();function NOe(t){return He(wo(t,[wa]))}s(NOe,"RemoveOptional");function QOe(t){return He({...t,[wa]:"Optional"})}s(QOe,"AddOptional");function POe(t,e){return e===!1?NOe(t):QOe(t)}s(POe,"OptionalWithFlag");function ja(t,e){let r=e??!0;return Zi(t)?nhe(t,r):POe(t,r)}s(ja,"Optional");function FOe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=ja(t[n],e);return r}s(FOe,"FromProperties");function LOe(t,e){return FOe(t.properties,e)}s(LOe,"FromMappedResult");function nhe(t,e){let r=LOe(t,e);return Gn(r)}s(nhe,"OptionalFromMappedResult");f();function fw(t,e={}){let r=t.every(o=>is(o)),n=fo(e.unevaluatedProperties)?{unevaluatedProperties:e.unevaluatedProperties}:{};return He(e.unevaluatedProperties===!1||fo(e.unevaluatedProperties)||r?{...n,[Oe]:"Intersect",type:"object",allOf:t}:{...n,[Oe]:"Intersect",allOf:t},e)}s(fw,"IntersectCreate");function MOe(t){return t.every(e=>oc(e))}s(MOe,"IsIntersectOptional");function OOe(t){return wo(t,[wa])}s(OOe,"RemoveOptionalFromType");function ihe(t){return t.map(e=>oc(e)?OOe(e):e)}s(ihe,"RemoveOptionalFromRest");function UOe(t,e){return MOe(t)?ja(fw(ihe(t),e)):fw(ihe(t),e)}s(UOe,"ResolveIntersect");function lk(t,e={}){if(t.length===1)return He(t[0],e);if(t.length===0)return Kr(e);if(t.some(r=>Zn(r)))throw new Error("Cannot intersect transform types");return UOe(t,e)}s(lk,"IntersectEvaluated");f();function Ka(t,e){if(t.length===1)return He(t[0],e);if(t.length===0)return Kr(e);if(t.some(r=>Zn(r)))throw new Error("Cannot intersect transform types");return fw(t,e)}s(Ka,"Intersect");f();function Kl(...t){let[e,r]=typeof t[0]=="string"?[t[0],t[1]]:[t[0].$id,t[1]];if(typeof e!="string")throw new ur("Ref: $ref must be a string");return He({[Oe]:"Ref",$ref:e},r)}s(Kl,"Ref");function HOe(t,e){return Oi("Awaited",[Oi(t,e)])}s(HOe,"FromComputed");function qOe(t){return Oi("Awaited",[Kl(t)])}s(qOe,"FromRef");function GOe(t){return Ka(ohe(t))}s(GOe,"FromIntersect");function VOe(t){return ei(ohe(t))}s(VOe,"FromUnion");function WOe(t){return Wx(t)}s(WOe,"FromPromise");function ohe(t){return t.map(e=>Wx(e))}s(ohe,"FromRest");function Wx(t,e){return He(Zu(t)?HOe(t.target,t.parameters):_o(t)?GOe(t.allOf):Ln(t)?VOe(t.anyOf):qC(t)?WOe(t.item):Oo(t)?qOe(t.$ref):t,e)}s(Wx,"Awaited");f();f();f();f();function she(t){let e=[];for(let r of t)e.push(cc(r));return e}s(she,"FromRest");function YOe(t){let e=she(t);return qAe(e)}s(YOe,"FromIntersect");function $Oe(t){let e=she(t);return HAe(e)}s($Oe,"FromUnion");function zOe(t){return t.map((e,r)=>r.toString())}s(zOe,"FromTuple");function jOe(t){return["[number]"]}s(jOe,"FromArray");function KOe(t){return globalThis.Object.getOwnPropertyNames(t)}s(KOe,"FromProperties");function JOe(t){return aW?globalThis.Object.getOwnPropertyNames(t).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}s(JOe,"FromPatternProperties");function cc(t){return _o(t)?YOe(t.allOf):Ln(t)?$Oe(t.anyOf):Jc(t)?zOe(t.items??[]):Xu(t)?jOe(t.items):is(t)?KOe(t.properties):GC(t)?JOe(t.patternProperties):[]}s(cc,"KeyOfPropertyKeys");var aW=!1;function wh(t){aW=!0;let e=cc(t);return aW=!1,`^(${e.map(n=>`(${n})`).join("|")})$`}s(wh,"KeyOfPattern");function XOe(t,e){return Oi("KeyOf",[Oi(t,e)])}s(XOe,"FromComputed");function ZOe(t){return Oi("KeyOf",[Kl(t)])}s(ZOe,"FromRef");function eUe(t,e){let r=cc(t),n=tUe(r),o=Od(n);return He(o,e)}s(eUe,"KeyOfFromType");function tUe(t){return t.map(e=>e==="[number]"?$l():Sn(e))}s(tUe,"KeyOfPropertyKeysToRest");function Yx(t,e){return Zu(t)?XOe(t.target,t.parameters):Oo(t)?ZOe(t.$ref):Zi(t)?ahe(t,e):eUe(t,e)}s(Yx,"KeyOf");function rUe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Yx(t[n],Ji(e));return r}s(rUe,"FromProperties");function nUe(t,e){return rUe(t.properties,e)}s(nUe,"FromMappedResult");function ahe(t,e){let r=nUe(t,e);return Gn(r)}s(ahe,"KeyOfFromMappedResult");f();function fk(t){let e=cc(t),r=lw(t,e);return e.map((n,o)=>[e[o],r[o]])}s(fk,"KeyOfPropertyEntries");function iUe(t){let e=[];for(let r of t)e.push(...cc(r));return UAe(e)}s(iUe,"CompositeKeys");function oUe(t){return t.filter(e=>!_g(e))}s(oUe,"FilterNever");function sUe(t,e){let r=[];for(let n of t)r.push(...lw(n,[e]));return oUe(r)}s(sUe,"CompositeProperty");function aUe(t,e){let r={};for(let n of e)r[n]=lk(sUe(t,n));return r}s(aUe,"CompositeProperties");function che(t,e){let r=iUe(t),n=aUe(t,r);return ti(n,e)}s(che,"Composite");f();f();function dk(t){return He({[Oe]:"Date",type:"Date"},t)}s(dk,"Date");f();function Ak(t){return He({[Oe]:"Null",type:"null"},t)}s(Ak,"Null");f();function hk(t){return He({[Oe]:"Symbol",type:"symbol"},t)}s(hk,"Symbol");f();function pk(t){return He({[Oe]:"Undefined",type:"undefined"},t)}s(pk,"Undefined");f();function mk(t){return He({[Oe]:"Uint8Array",type:"Uint8Array"},t)}s(mk,"Uint8Array");f();function sf(t){return He({[Oe]:"Unknown"},t)}s(sf,"Unknown");function cUe(t){return t.map(e=>cW(e,!1))}s(cUe,"FromArray");function lUe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=ac(cW(t[r],!1));return e}s(lUe,"FromProperties");function gk(t,e){return e===!0?t:ac(t)}s(gk,"ConditionalReadonly");function cW(t,e){return UV(t)?gk(Sg(),e):qV(t)?gk(Sg(),e):rs(t)?ac(zl(cUe(t))):Ch(t)?mk():MC(t)?dk():Ii(t)?gk(ti(lUe(t)),e):HV(t)?gk(Md([],sf()),e):ns(t)?pk():GV(t)?Ak():VV(t)?hk():X4(t)?Gx():Yc(t)?Sn(t):yh(t)?Sn(t):Di(t)?Sn(t):ti({})}s(cW,"FromValue");function lhe(t,e){return He(cW(t,!0),e)}s(lhe,"Const");f();function uhe(t,e){return ef(t)?zl(t.parameters,e):Kr(e)}s(uhe,"ConstructorParameters");f();function fhe(t,e){if(ns(t))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),o=[...new Set(r)].map(a=>Sn(a));return ei(o,{...e,[Yl]:"Enum"})}s(fhe,"Enum");f();f();f();var uW=class extends ur{static{s(this,"ExtendsResolverError")}},qe;(function(t){t[t.Union=0]="Union",t[t.True=1]="True",t[t.False=2]="False"})(qe||(qe={}));function Jl(t){return t===qe.False?t:qe.True}s(Jl,"IntoBooleanResult");function $x(t){throw new uW(t)}s($x,"Throw");function Cs(t){return be.IsNever(t)||be.IsIntersect(t)||be.IsUnion(t)||be.IsUnknown(t)||be.IsAny(t)}s(Cs,"IsStructuralRight");function Es(t,e){return be.IsNever(e)?yhe(t,e):be.IsIntersect(e)?yk(t,e):be.IsUnion(e)?hW(t,e):be.IsUnknown(e)?xhe(t,e):be.IsAny(e)?AW(t,e):$x("StructuralRight")}s(Es,"StructuralRight");function AW(t,e){return qe.True}s(AW,"FromAnyRight");function uUe(t,e){return be.IsIntersect(e)?yk(t,e):be.IsUnion(e)&&e.anyOf.some(r=>be.IsAny(r)||be.IsUnknown(r))?qe.True:be.IsUnion(e)?qe.Union:be.IsUnknown(e)||be.IsAny(e)?qe.True:qe.Union}s(uUe,"FromAny");function fUe(t,e){return be.IsUnknown(t)?qe.False:be.IsAny(t)?qe.Union:be.IsNever(t)?qe.True:qe.False}s(fUe,"FromArrayRight");function dUe(t,e){return be.IsObject(e)&&Ck(e)?qe.True:Cs(e)?Es(t,e):be.IsArray(e)?Jl(vi(t.items,e.items)):qe.False}s(dUe,"FromArray");function AUe(t,e){return Cs(e)?Es(t,e):be.IsAsyncIterator(e)?Jl(vi(t.items,e.items)):qe.False}s(AUe,"FromAsyncIterator");function hUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsBigInt(e)?qe.True:qe.False}s(hUe,"FromBigInt");function mhe(t,e){return be.IsLiteralBoolean(t)||be.IsBoolean(t)?qe.True:qe.False}s(mhe,"FromBooleanRight");function pUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsBoolean(e)?qe.True:qe.False}s(pUe,"FromBoolean");function mUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsConstructor(e)?t.parameters.length>e.parameters.length?qe.False:t.parameters.every((r,n)=>Jl(vi(e.parameters[n],r))===qe.True)?Jl(vi(t.returns,e.returns)):qe.False:qe.False}s(mUe,"FromConstructor");function gUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsDate(e)?qe.True:qe.False}s(gUe,"FromDate");function yUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsFunction(e)?t.parameters.length>e.parameters.length?qe.False:t.parameters.every((r,n)=>Jl(vi(e.parameters[n],r))===qe.True)?Jl(vi(t.returns,e.returns)):qe.False:qe.False}s(yUe,"FromFunction");function ghe(t,e){return be.IsLiteral(t)&&za.IsNumber(t.const)||be.IsNumber(t)||be.IsInteger(t)?qe.True:qe.False}s(ghe,"FromIntegerRight");function CUe(t,e){return be.IsInteger(e)||be.IsNumber(e)?qe.True:Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):qe.False}s(CUe,"FromInteger");function yk(t,e){return e.allOf.every(r=>vi(t,r)===qe.True)?qe.True:qe.False}s(yk,"FromIntersectRight");function EUe(t,e){return t.allOf.some(r=>vi(r,e)===qe.True)?qe.True:qe.False}s(EUe,"FromIntersect");function IUe(t,e){return Cs(e)?Es(t,e):be.IsIterator(e)?Jl(vi(t.items,e.items)):qe.False}s(IUe,"FromIterator");function xUe(t,e){return be.IsLiteral(e)&&e.const===t.const?qe.True:Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsString(e)?Ihe(t,e):be.IsNumber(e)?Che(t,e):be.IsInteger(e)?ghe(t,e):be.IsBoolean(e)?mhe(t,e):qe.False}s(xUe,"FromLiteral");function yhe(t,e){return qe.False}s(yhe,"FromNeverRight");function vUe(t,e){return qe.True}s(vUe,"FromNever");function dhe(t){let[e,r]=[t,0];for(;be.IsNot(e);)e=e.not,r+=1;return r%2===0?e:sf()}s(dhe,"UnwrapTNot");function bUe(t,e){return be.IsNot(t)?vi(dhe(t),e):be.IsNot(e)?vi(t,dhe(e)):$x("Invalid fallthrough for Not")}s(bUe,"FromNot");function TUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsNull(e)?qe.True:qe.False}s(TUe,"FromNull");function Che(t,e){return be.IsLiteralNumber(t)||be.IsNumber(t)||be.IsInteger(t)?qe.True:qe.False}s(Che,"FromNumberRight");function _Ue(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsInteger(e)||be.IsNumber(e)?qe.True:qe.False}s(_Ue,"FromNumber");function lc(t,e){return Object.getOwnPropertyNames(t.properties).length===e}s(lc,"IsObjectPropertyCount");function Ahe(t){return Ck(t)}s(Ahe,"IsObjectStringLike");function hhe(t){return lc(t,0)||lc(t,1)&&"description"in t.properties&&be.IsUnion(t.properties.description)&&t.properties.description.anyOf.length===2&&(be.IsString(t.properties.description.anyOf[0])&&be.IsUndefined(t.properties.description.anyOf[1])||be.IsString(t.properties.description.anyOf[1])&&be.IsUndefined(t.properties.description.anyOf[0]))}s(hhe,"IsObjectSymbolLike");function lW(t){return lc(t,0)}s(lW,"IsObjectNumberLike");function phe(t){return lc(t,0)}s(phe,"IsObjectBooleanLike");function wUe(t){return lc(t,0)}s(wUe,"IsObjectBigIntLike");function SUe(t){return lc(t,0)}s(SUe,"IsObjectDateLike");function BUe(t){return Ck(t)}s(BUe,"IsObjectUint8ArrayLike");function RUe(t){let e=$l();return lc(t,0)||lc(t,1)&&"length"in t.properties&&Jl(vi(t.properties.length,e))===qe.True}s(RUe,"IsObjectFunctionLike");function kUe(t){return lc(t,0)}s(kUe,"IsObjectConstructorLike");function Ck(t){let e=$l();return lc(t,0)||lc(t,1)&&"length"in t.properties&&Jl(vi(t.properties.length,e))===qe.True}s(Ck,"IsObjectArrayLike");function DUe(t){let e=Md([Sg()],Sg());return lc(t,0)||lc(t,1)&&"then"in t.properties&&Jl(vi(t.properties.then,e))===qe.True}s(DUe,"IsObjectPromiseLike");function Ehe(t,e){return vi(t,e)===qe.False||be.IsOptional(t)&&!be.IsOptional(e)?qe.False:qe.True}s(Ehe,"Property");function Ja(t,e){return be.IsUnknown(t)?qe.False:be.IsAny(t)?qe.Union:be.IsNever(t)||be.IsLiteralString(t)&&Ahe(e)||be.IsLiteralNumber(t)&&lW(e)||be.IsLiteralBoolean(t)&&phe(e)||be.IsSymbol(t)&&hhe(e)||be.IsBigInt(t)&&wUe(e)||be.IsString(t)&&Ahe(e)||be.IsSymbol(t)&&hhe(e)||be.IsNumber(t)&&lW(e)||be.IsInteger(t)&&lW(e)||be.IsBoolean(t)&&phe(e)||be.IsUint8Array(t)&&BUe(e)||be.IsDate(t)&&SUe(e)||be.IsConstructor(t)&&kUe(e)||be.IsFunction(t)&&RUe(e)?qe.True:be.IsRecord(t)&&be.IsString(fW(t))?e[Yl]==="Record"?qe.True:qe.False:be.IsRecord(t)&&be.IsNumber(fW(t))?lc(e,0)?qe.True:qe.False:qe.False}s(Ja,"FromObjectRight");function NUe(t,e){return Cs(e)?Es(t,e):be.IsRecord(e)?Xl(t,e):be.IsObject(e)?(()=>{for(let r of Object.getOwnPropertyNames(e.properties)){if(!(r in t.properties)&&!be.IsOptional(e.properties[r]))return qe.False;if(be.IsOptional(e.properties[r]))return qe.True;if(Ehe(t.properties[r],e.properties[r])===qe.False)return qe.False}return qe.True})():qe.False}s(NUe,"FromObject");function QUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)&&DUe(e)?qe.True:be.IsPromise(e)?Jl(vi(t.item,e.item)):qe.False}s(QUe,"FromPromise");function fW(t){return Fd in t.patternProperties?$l():Ld in t.patternProperties?v0():$x("Unknown record key pattern")}s(fW,"RecordKey");function dW(t){return Fd in t.patternProperties?t.patternProperties[Fd]:Ld in t.patternProperties?t.patternProperties[Ld]:$x("Unable to get record value schema")}s(dW,"RecordValue");function Xl(t,e){let[r,n]=[fW(e),dW(e)];return be.IsLiteralString(t)&&be.IsNumber(r)&&Jl(vi(t,n))===qe.True?qe.True:be.IsUint8Array(t)&&be.IsNumber(r)||be.IsString(t)&&be.IsNumber(r)||be.IsArray(t)&&be.IsNumber(r)?vi(t,n):be.IsObject(t)?(()=>{for(let o of Object.getOwnPropertyNames(t.properties))if(Ehe(n,t.properties[o])===qe.False)return qe.False;return qe.True})():qe.False}s(Xl,"FromRecordRight");function PUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?vi(dW(t),dW(e)):qe.False}s(PUe,"FromRecord");function FUe(t,e){let r=be.IsRegExp(t)?v0():t,n=be.IsRegExp(e)?v0():e;return vi(r,n)}s(FUe,"FromRegExp");function Ihe(t,e){return be.IsLiteral(t)&&za.IsString(t.const)||be.IsString(t)?qe.True:qe.False}s(Ihe,"FromStringRight");function LUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsString(e)?qe.True:qe.False}s(LUe,"FromString");function MUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsSymbol(e)?qe.True:qe.False}s(MUe,"FromSymbol");function OUe(t,e){return be.IsTemplateLiteral(t)?vi(WC(t),e):be.IsTemplateLiteral(e)?vi(t,WC(e)):$x("Invalid fallthrough for TemplateLiteral")}s(OUe,"FromTemplateLiteral");function UUe(t,e){return be.IsArray(e)&&t.items!==void 0&&t.items.every(r=>vi(r,e.items)===qe.True)}s(UUe,"IsArrayOfTuple");function HUe(t,e){return be.IsNever(t)?qe.True:be.IsUnknown(t)?qe.False:be.IsAny(t)?qe.Union:qe.False}s(HUe,"FromTupleRight");function qUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)&&Ck(e)||be.IsArray(e)&&UUe(t,e)?qe.True:be.IsTuple(e)?za.IsUndefined(t.items)&&!za.IsUndefined(e.items)||!za.IsUndefined(t.items)&&za.IsUndefined(e.items)?qe.False:za.IsUndefined(t.items)&&!za.IsUndefined(e.items)||t.items.every((r,n)=>vi(r,e.items[n])===qe.True)?qe.True:qe.False:qe.False}s(qUe,"FromTuple");function GUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsUint8Array(e)?qe.True:qe.False}s(GUe,"FromUint8Array");function VUe(t,e){return Cs(e)?Es(t,e):be.IsObject(e)?Ja(t,e):be.IsRecord(e)?Xl(t,e):be.IsVoid(e)?$Ue(t,e):be.IsUndefined(e)?qe.True:qe.False}s(VUe,"FromUndefined");function hW(t,e){return e.anyOf.some(r=>vi(t,r)===qe.True)?qe.True:qe.False}s(hW,"FromUnionRight");function WUe(t,e){return t.anyOf.every(r=>vi(r,e)===qe.True)?qe.True:qe.False}s(WUe,"FromUnion");function xhe(t,e){return qe.True}s(xhe,"FromUnknownRight");function YUe(t,e){return be.IsNever(e)?yhe(t,e):be.IsIntersect(e)?yk(t,e):be.IsUnion(e)?hW(t,e):be.IsAny(e)?AW(t,e):be.IsString(e)?Ihe(t,e):be.IsNumber(e)?Che(t,e):be.IsInteger(e)?ghe(t,e):be.IsBoolean(e)?mhe(t,e):be.IsArray(e)?fUe(t,e):be.IsTuple(e)?HUe(t,e):be.IsObject(e)?Ja(t,e):be.IsUnknown(e)?qe.True:qe.False}s(YUe,"FromUnknown");function $Ue(t,e){return be.IsUndefined(t)||be.IsUndefined(t)?qe.True:qe.False}s($Ue,"FromVoidRight");function zUe(t,e){return be.IsIntersect(e)?yk(t,e):be.IsUnion(e)?hW(t,e):be.IsUnknown(e)?xhe(t,e):be.IsAny(e)?AW(t,e):be.IsObject(e)?Ja(t,e):be.IsVoid(e)?qe.True:qe.False}s(zUe,"FromVoid");function vi(t,e){return be.IsTemplateLiteral(t)||be.IsTemplateLiteral(e)?OUe(t,e):be.IsRegExp(t)||be.IsRegExp(e)?FUe(t,e):be.IsNot(t)||be.IsNot(e)?bUe(t,e):be.IsAny(t)?uUe(t,e):be.IsArray(t)?dUe(t,e):be.IsBigInt(t)?hUe(t,e):be.IsBoolean(t)?pUe(t,e):be.IsAsyncIterator(t)?AUe(t,e):be.IsConstructor(t)?mUe(t,e):be.IsDate(t)?gUe(t,e):be.IsFunction(t)?yUe(t,e):be.IsInteger(t)?CUe(t,e):be.IsIntersect(t)?EUe(t,e):be.IsIterator(t)?IUe(t,e):be.IsLiteral(t)?xUe(t,e):be.IsNever(t)?vUe(t,e):be.IsNull(t)?TUe(t,e):be.IsNumber(t)?_Ue(t,e):be.IsObject(t)?NUe(t,e):be.IsRecord(t)?PUe(t,e):be.IsString(t)?LUe(t,e):be.IsSymbol(t)?MUe(t,e):be.IsTuple(t)?qUe(t,e):be.IsPromise(t)?QUe(t,e):be.IsUint8Array(t)?GUe(t,e):be.IsUndefined(t)?VUe(t,e):be.IsUnion(t)?WUe(t,e):be.IsUnknown(t)?YUe(t,e):be.IsVoid(t)?zUe(t,e):$x(`Unknown left type operand '${t[Oe]}'`)}s(vi,"Visit");function Rg(t,e){return vi(t,e)}s(Rg,"ExtendsCheck");f();f();f();function jUe(t,e,r,n,o){let a={};for(let c of globalThis.Object.getOwnPropertyNames(t))a[c]=zx(t[c],e,r,n,Ji(o));return a}s(jUe,"FromProperties");function KUe(t,e,r,n,o){return jUe(t.properties,e,r,n,o)}s(KUe,"FromMappedResult");function vhe(t,e,r,n,o){let a=KUe(t,e,r,n,o);return Gn(a)}s(vhe,"ExtendsFromMappedResult");function JUe(t,e,r,n){let o=Rg(t,e);return o===qe.Union?ei([r,n]):o===qe.True?r:n}s(JUe,"ExtendsResolve");function zx(t,e,r,n,o){return Zi(t)?vhe(t,e,r,n,o):jc(t)?He(bhe(t,e,r,n,o)):He(JUe(t,e,r,n),o)}s(zx,"Extends");function XUe(t,e,r,n,o){return{[t]:zx(Sn(t),e,r,n,Ji(o))}}s(XUe,"FromPropertyKey");function ZUe(t,e,r,n,o){return t.reduce((a,c)=>({...a,...XUe(c,e,r,n,o)}),{})}s(ZUe,"FromPropertyKeys");function eHe(t,e,r,n,o){return ZUe(t.keys,e,r,n,o)}s(eHe,"FromMappedKey");function bhe(t,e,r,n,o){let a=eHe(t,e,r,n,o);return Gn(a)}s(bhe,"ExtendsFromMappedKey");f();function tHe(t){return t.allOf.every(e=>Sh(e))}s(tHe,"Intersect");function rHe(t){return t.anyOf.some(e=>Sh(e))}s(rHe,"Union");function nHe(t){return!Sh(t.not)}s(nHe,"Not");function Sh(t){return t[Oe]==="Intersect"?tHe(t):t[Oe]==="Union"?rHe(t):t[Oe]==="Not"?nHe(t):t[Oe]==="Undefined"}s(Sh,"ExtendsUndefinedCheck");f();function The(t,e){return jx(WC(t),e)}s(The,"ExcludeFromTemplateLiteral");function iHe(t,e){let r=t.filter(n=>Rg(n,e)===qe.False);return r.length===1?r[0]:ei(r)}s(iHe,"ExcludeRest");function jx(t,e,r={}){return Kc(t)?He(The(t,e),r):Zi(t)?He(_he(t,e),r):He(Ln(t)?iHe(t.anyOf,e):Rg(t,e)!==qe.False?Kr():t,r)}s(jx,"Exclude");function oHe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=jx(t[n],e);return r}s(oHe,"FromProperties");function sHe(t,e){return oHe(t.properties,e)}s(sHe,"FromMappedResult");function _he(t,e){let r=sHe(t,e);return Gn(r)}s(_he,"ExcludeFromMappedResult");f();f();f();function whe(t,e){return Kx(WC(t),e)}s(whe,"ExtractFromTemplateLiteral");function aHe(t,e){let r=t.filter(n=>Rg(n,e)!==qe.False);return r.length===1?r[0]:ei(r)}s(aHe,"ExtractRest");function Kx(t,e,r){return Kc(t)?He(whe(t,e),r):Zi(t)?He(She(t,e),r):He(Ln(t)?aHe(t.anyOf,e):Rg(t,e)!==qe.False?t:Kr(),r)}s(Kx,"Extract");function cHe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Kx(t[n],e);return r}s(cHe,"FromProperties");function lHe(t,e){return cHe(t.properties,e)}s(lHe,"FromMappedResult");function She(t,e){let r=lHe(t,e);return Gn(r)}s(She,"ExtractFromMappedResult");f();function Bhe(t,e){return ef(t)?He(t.returns,e):Kr(e)}s(Bhe,"InstanceType");f();f();function Ek(t){return ac(ja(t))}s(Ek,"ReadonlyOptional");f();function YC(t,e,r){return He({[Oe]:"Record",type:"object",patternProperties:{[t]:e}},r)}s(YC,"RecordCreateFromPattern");function pW(t,e,r){let n={};for(let o of t)n[o]=e;return ti(n,{...r,[Yl]:"Record"})}s(pW,"RecordCreateFromKeys");function uHe(t,e,r){return sk(t)?pW(sc(t),e,r):YC(t.pattern,e,r)}s(uHe,"FromTemplateLiteralKey");function fHe(t,e,r){return pW(sc(ei(t)),e,r)}s(fHe,"FromUnionKey");function dHe(t,e,r){return pW([t.toString()],e,r)}s(dHe,"FromLiteralKey");function AHe(t,e,r){return YC(t.source,e,r)}s(AHe,"FromRegExpKey");function hHe(t,e,r){let n=ns(t.pattern)?Ld:t.pattern;return YC(n,e,r)}s(hHe,"FromStringKey");function pHe(t,e,r){return YC(Ld,e,r)}s(pHe,"FromAnyKey");function mHe(t,e,r){return YC(MAe,e,r)}s(mHe,"FromNeverKey");function gHe(t,e,r){return ti({true:e,false:e},r)}s(gHe,"FromBooleanKey");function yHe(t,e,r){return YC(Fd,e,r)}s(yHe,"FromIntegerKey");function CHe(t,e,r){return YC(Fd,e,r)}s(CHe,"FromNumberKey");function Ik(t,e,r={}){return Ln(t)?fHe(t.anyOf,e,r):Kc(t)?uHe(t,e,r):zc(t)?dHe(t.const,e,r):xh(t)?gHe(t,e,r):rf(t)?yHe(t,e,r):nf(t)?CHe(t,e,r):zV(t)?AHe(t,e,r):vh(t)?hHe(t,e,r):YV(t)?pHe(t,e,r):_g(t)?mHe(t,e,r):Kr(r)}s(Ik,"Record");function xk(t){return globalThis.Object.getOwnPropertyNames(t.patternProperties)[0]}s(xk,"RecordPattern");function Rhe(t){let e=xk(t);return e===Ld?v0():e===Fd?$l():v0({pattern:e})}s(Rhe,"RecordKey");function vk(t){return t.patternProperties[xk(t)]}s(vk,"RecordValue");function EHe(t,e){return e.parameters=dw(t,e.parameters),e.returns=af(t,e.returns),e}s(EHe,"FromConstructor");function IHe(t,e){return e.parameters=dw(t,e.parameters),e.returns=af(t,e.returns),e}s(IHe,"FromFunction");function xHe(t,e){return e.allOf=dw(t,e.allOf),e}s(xHe,"FromIntersect");function vHe(t,e){return e.anyOf=dw(t,e.anyOf),e}s(vHe,"FromUnion");function bHe(t,e){return ns(e.items)||(e.items=dw(t,e.items)),e}s(bHe,"FromTuple");function THe(t,e){return e.items=af(t,e.items),e}s(THe,"FromArray");function _He(t,e){return e.items=af(t,e.items),e}s(_He,"FromAsyncIterator");function wHe(t,e){return e.items=af(t,e.items),e}s(wHe,"FromIterator");function SHe(t,e){return e.item=af(t,e.item),e}s(SHe,"FromPromise");function BHe(t,e){let r=NHe(t,e.properties);return{...e,...ti(r)}}s(BHe,"FromObject");function RHe(t,e){let r=af(t,Rhe(e)),n=af(t,vk(e)),o=Ik(r,n);return{...e,...o}}s(RHe,"FromRecord");function kHe(t,e){return e.index in t?t[e.index]:sf()}s(kHe,"FromArgument");function DHe(t,e){let r=Qx(e),n=oc(e),o=af(t,e);return r&&n?Ek(o):r&&!n?ac(o):!r&&n?ja(o):o}s(DHe,"FromProperty");function NHe(t,e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:DHe(t,e[n])}),{})}s(NHe,"FromProperties");function dw(t,e){return e.map(r=>af(t,r))}s(dw,"FromTypes");function af(t,e){return ef(e)?EHe(t,e):tf(e)?IHe(t,e):_o(e)?xHe(t,e):Ln(e)?vHe(t,e):Jc(e)?bHe(t,e):Xu(e)?THe(t,e):OC(e)?_He(t,e):HC(e)?wHe(t,e):qC(e)?SHe(t,e):is(e)?BHe(t,e):GC(e)?RHe(t,e):$V(e)?kHe(t,e):e}s(af,"FromType");function khe(t,e){return af(e,Dx(t))}s(khe,"Instantiate");f();function Dhe(t){return He({[Oe]:"Integer",type:"integer"},t)}s(Dhe,"Integer");f();f();f();function QHe(t,e,r){return{[t]:cf(Sn(t),e,Ji(r))}}s(QHe,"MappedIntrinsicPropertyKey");function PHe(t,e,r){return t.reduce((o,a)=>({...o,...QHe(a,e,r)}),{})}s(PHe,"MappedIntrinsicPropertyKeys");function FHe(t,e,r){return PHe(t.keys,e,r)}s(FHe,"MappedIntrinsicProperties");function Nhe(t,e,r){let n=FHe(t,e,r);return Gn(n)}s(Nhe,"IntrinsicFromMappedKey");function LHe(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toLowerCase(),r].join("")}s(LHe,"ApplyUncapitalize");function MHe(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toUpperCase(),r].join("")}s(MHe,"ApplyCapitalize");function OHe(t){return t.toUpperCase()}s(OHe,"ApplyUppercase");function UHe(t){return t.toLowerCase()}s(UHe,"ApplyLowercase");function HHe(t,e,r){let n=Hx(t.pattern);if(!VC(n))return{...t,pattern:Qhe(t.pattern,e)};let c=[...cw(n)].map(d=>Sn(d)),l=Phe(c,e),u=ei(l);return ck([u],r)}s(HHe,"FromTemplateLiteral");function Qhe(t,e){return typeof t=="string"?e==="Uncapitalize"?LHe(t):e==="Capitalize"?MHe(t):e==="Uppercase"?OHe(t):e==="Lowercase"?UHe(t):t:t.toString()}s(Qhe,"FromLiteralValue");function Phe(t,e){return t.map(r=>cf(r,e))}s(Phe,"FromRest");function cf(t,e,r={}){return jc(t)?Nhe(t,e,r):Kc(t)?HHe(t,e,r):Ln(t)?ei(Phe(t.anyOf,e),r):zc(t)?Sn(Qhe(t.const,e),r):He(t,r)}s(cf,"Intrinsic");function Fhe(t,e={}){return cf(t,"Capitalize",e)}s(Fhe,"Capitalize");f();function Lhe(t,e={}){return cf(t,"Lowercase",e)}s(Lhe,"Lowercase");f();function Mhe(t,e={}){return cf(t,"Uncapitalize",e)}s(Mhe,"Uncapitalize");f();function Ohe(t,e={}){return cf(t,"Uppercase",e)}s(Ohe,"Uppercase");f();f();f();f();f();function qHe(t,e,r){let n={};for(let o of globalThis.Object.getOwnPropertyNames(t))n[o]=kg(t[o],e,Ji(r));return n}s(qHe,"FromProperties");function GHe(t,e,r){return qHe(t.properties,e,r)}s(GHe,"FromMappedResult");function Uhe(t,e,r){let n=GHe(t,e,r);return Gn(n)}s(Uhe,"OmitFromMappedResult");function VHe(t,e){return t.map(r=>mW(r,e))}s(VHe,"FromIntersect");function WHe(t,e){return t.map(r=>mW(r,e))}s(WHe,"FromUnion");function YHe(t,e){let{[e]:r,...n}=t;return n}s(YHe,"FromProperty");function $He(t,e){return e.reduce((r,n)=>YHe(r,n),t)}s($He,"FromProperties");function zHe(t,e){let r=wo(t,[uo,"$id","required","properties"]),n=$He(t.properties,e);return ti(n,r)}s(zHe,"FromObject");function jHe(t){let e=t.reduce((r,n)=>nk(n)?[...r,Sn(n)]:r,[]);return ei(e)}s(jHe,"UnionFromPropertyKeys");function mW(t,e){return _o(t)?Ka(VHe(t.allOf,e)):Ln(t)?ei(WHe(t.anyOf,e)):is(t)?zHe(t,e):ti({})}s(mW,"OmitResolve");function kg(t,e,r){let n=rs(e)?jHe(e):e,o=fo(e)?sc(e):e,a=Oo(t),c=Oo(e);return Zi(t)?Uhe(t,o,r):jc(e)?Hhe(t,e,r):a&&c?Oi("Omit",[t,n],r):!a&&c?Oi("Omit",[t,n],r):a&&!c?Oi("Omit",[t,n],r):He({...mW(t,o),...r})}s(kg,"Omit");function KHe(t,e,r){return{[e]:kg(t,[e],Ji(r))}}s(KHe,"FromPropertyKey");function JHe(t,e,r){return e.reduce((n,o)=>({...n,...KHe(t,o,r)}),{})}s(JHe,"FromPropertyKeys");function XHe(t,e,r){return JHe(t,e.keys,r)}s(XHe,"FromMappedKey");function Hhe(t,e,r){let n=XHe(t,e,r);return Gn(n)}s(Hhe,"OmitFromMappedKey");f();f();f();function ZHe(t,e,r){let n={};for(let o of globalThis.Object.getOwnPropertyNames(t))n[o]=Dg(t[o],e,Ji(r));return n}s(ZHe,"FromProperties");function eqe(t,e,r){return ZHe(t.properties,e,r)}s(eqe,"FromMappedResult");function qhe(t,e,r){let n=eqe(t,e,r);return Gn(n)}s(qhe,"PickFromMappedResult");function tqe(t,e){return t.map(r=>gW(r,e))}s(tqe,"FromIntersect");function rqe(t,e){return t.map(r=>gW(r,e))}s(rqe,"FromUnion");function nqe(t,e){let r={};for(let n of e)n in t&&(r[n]=t[n]);return r}s(nqe,"FromProperties");function iqe(t,e){let r=wo(t,[uo,"$id","required","properties"]),n=nqe(t.properties,e);return ti(n,r)}s(iqe,"FromObject");function oqe(t){let e=t.reduce((r,n)=>nk(n)?[...r,Sn(n)]:r,[]);return ei(e)}s(oqe,"UnionFromPropertyKeys");function gW(t,e){return _o(t)?Ka(tqe(t.allOf,e)):Ln(t)?ei(rqe(t.anyOf,e)):is(t)?iqe(t,e):ti({})}s(gW,"PickResolve");function Dg(t,e,r){let n=rs(e)?oqe(e):e,o=fo(e)?sc(e):e,a=Oo(t),c=Oo(e);return Zi(t)?qhe(t,o,r):jc(e)?Ghe(t,e,r):a&&c?Oi("Pick",[t,n],r):!a&&c?Oi("Pick",[t,n],r):a&&!c?Oi("Pick",[t,n],r):He({...gW(t,o),...r})}s(Dg,"Pick");function sqe(t,e,r){return{[e]:Dg(t,[e],Ji(r))}}s(sqe,"FromPropertyKey");function aqe(t,e,r){return e.reduce((n,o)=>({...n,...sqe(t,o,r)}),{})}s(aqe,"FromPropertyKeys");function cqe(t,e,r){return aqe(t,e.keys,r)}s(cqe,"FromMappedKey");function Ghe(t,e,r){let n=cqe(t,e,r);return Gn(n)}s(Ghe,"PickFromMappedKey");f();f();function lqe(t,e){return Oi("Partial",[Oi(t,e)])}s(lqe,"FromComputed");function uqe(t){return Oi("Partial",[Kl(t)])}s(uqe,"FromRef");function fqe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=ja(t[r]);return e}s(fqe,"FromProperties");function dqe(t){let e=wo(t,[uo,"$id","required","properties"]),r=fqe(t.properties);return ti(r,e)}s(dqe,"FromObject");function Vhe(t){return t.map(e=>Whe(e))}s(Vhe,"FromRest");function Whe(t){return Zu(t)?lqe(t.target,t.parameters):Oo(t)?uqe(t.$ref):_o(t)?Ka(Vhe(t.allOf)):Ln(t)?ei(Vhe(t.anyOf)):is(t)?dqe(t):UC(t)||xh(t)||rf(t)||zc(t)||tw(t)||nf(t)||vh(t)||rw(t)||bh(t)?t:ti({})}s(Whe,"PartialResolve");function Jx(t,e){return Zi(t)?Yhe(t,e):He({...Whe(t),...e})}s(Jx,"Partial");function Aqe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Jx(t[n],Ji(e));return r}s(Aqe,"FromProperties");function hqe(t,e){return Aqe(t.properties,e)}s(hqe,"FromMappedResult");function Yhe(t,e){let r=hqe(t,e);return Gn(r)}s(Yhe,"PartialFromMappedResult");f();f();function pqe(t,e){return Oi("Required",[Oi(t,e)])}s(pqe,"FromComputed");function mqe(t){return Oi("Required",[Kl(t)])}s(mqe,"FromRef");function gqe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=wo(t[r],[wa]);return e}s(gqe,"FromProperties");function yqe(t){let e=wo(t,[uo,"$id","required","properties"]),r=gqe(t.properties);return ti(r,e)}s(yqe,"FromObject");function $he(t){return t.map(e=>zhe(e))}s($he,"FromRest");function zhe(t){return Zu(t)?pqe(t.target,t.parameters):Oo(t)?mqe(t.$ref):_o(t)?Ka($he(t.allOf)):Ln(t)?ei($he(t.anyOf)):is(t)?yqe(t):UC(t)||xh(t)||rf(t)||zc(t)||tw(t)||nf(t)||vh(t)||rw(t)||bh(t)?t:ti({})}s(zhe,"RequiredResolve");function Xx(t,e){return Zi(t)?jhe(t,e):He({...zhe(t),...e})}s(Xx,"Required");function Cqe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Xx(t[n],e);return r}s(Cqe,"FromProperties");function Eqe(t,e){return Cqe(t.properties,e)}s(Eqe,"FromMappedResult");function jhe(t,e){let r=Eqe(t,e);return Gn(r)}s(jhe,"RequiredFromMappedResult");function Iqe(t,e){return e.map(r=>Oo(r)?yW(t,r.$ref):Xc(t,r))}s(Iqe,"DereferenceParameters");function yW(t,e){return e in t?Oo(t[e])?yW(t,t[e].$ref):Xc(t,t[e]):Kr()}s(yW,"Dereference");function xqe(t){return Wx(t[0])}s(xqe,"FromAwaited");function vqe(t){return Bg(t[0],t[1])}s(vqe,"FromIndex");function bqe(t){return Yx(t[0])}s(bqe,"FromKeyOf");function Tqe(t){return Jx(t[0])}s(Tqe,"FromPartial");function _qe(t){return kg(t[0],t[1])}s(_qe,"FromOmit");function wqe(t){return Dg(t[0],t[1])}s(wqe,"FromPick");function Sqe(t){return Xx(t[0])}s(Sqe,"FromRequired");function Bqe(t,e,r){let n=Iqe(t,r);return e==="Awaited"?xqe(n):e==="Index"?vqe(n):e==="KeyOf"?bqe(n):e==="Partial"?Tqe(n):e==="Omit"?_qe(n):e==="Pick"?wqe(n):e==="Required"?Sqe(n):Kr()}s(Bqe,"FromComputed");function Rqe(t,e){return Lx(Xc(t,e))}s(Rqe,"FromArray");function kqe(t,e){return Mx(Xc(t,e))}s(kqe,"FromAsyncIterator");function Dqe(t,e,r){return Ox(Aw(t,e),Xc(t,r))}s(Dqe,"FromConstructor");function Nqe(t,e,r){return Md(Aw(t,e),Xc(t,r))}s(Nqe,"FromFunction");function Qqe(t,e){return Ka(Aw(t,e))}s(Qqe,"FromIntersect");function Pqe(t,e){return Vx(Xc(t,e))}s(Pqe,"FromIterator");function Fqe(t,e){return ti(globalThis.Object.keys(e).reduce((r,n)=>({...r,[n]:Xc(t,e[n])}),{}))}s(Fqe,"FromObject");function Lqe(t,e){let[r,n]=[Xc(t,vk(e)),xk(e)],o=Dx(e);return o.patternProperties[n]=r,o}s(Lqe,"FromRecord");function Mqe(t,e){return Oo(e)?{...yW(t,e.$ref),[uo]:e[uo]}:e}s(Mqe,"FromTransform");function Oqe(t,e){return zl(Aw(t,e))}s(Oqe,"FromTuple");function Uqe(t,e){return ei(Aw(t,e))}s(Uqe,"FromUnion");function Aw(t,e){return e.map(r=>Xc(t,r))}s(Aw,"FromTypes");function Xc(t,e){return oc(e)?He(Xc(t,wo(e,[wa])),e):Qx(e)?He(Xc(t,wo(e,[Ju])),e):Zn(e)?He(Mqe(t,e),e):Xu(e)?He(Rqe(t,e.items),e):OC(e)?He(kqe(t,e.items),e):Zu(e)?He(Bqe(t,e.target,e.parameters)):ef(e)?He(Dqe(t,e.parameters,e.returns),e):tf(e)?He(Nqe(t,e.parameters,e.returns),e):_o(e)?He(Qqe(t,e.allOf),e):HC(e)?He(Pqe(t,e.items),e):is(e)?He(Fqe(t,e.properties),e):GC(e)?He(Lqe(t,e)):Jc(e)?He(Oqe(t,e.items||[]),e):Ln(e)?He(Uqe(t,e.anyOf),e):e}s(Xc,"FromType");function Hqe(t,e){return e in t?Xc(t,t[e]):Kr()}s(Hqe,"ComputeType");function Khe(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,r)=>({...e,[r]:Hqe(t,r)}),{})}s(Khe,"ComputeModuleProperties");var CW=class{static{s(this,"TModule")}constructor(e){let r=Khe(e),n=this.WithIdentifiers(r);this.$defs=n}Import(e,r){let n={...this.$defs,[e]:He(this.$defs[e],r)};return He({[Oe]:"Import",$defs:n,$ref:e})}WithIdentifiers(e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:{...e[n],$id:n}}),{})}};function Jhe(t){return new CW(t)}s(Jhe,"Module");f();function Xhe(t,e){return He({[Oe]:"Not",not:t},e)}s(Xhe,"Not");f();function Zhe(t,e){return tf(t)?zl(t.parameters,e):Kr()}s(Zhe,"Parameters");f();var qqe=0;function epe(t,e={}){ns(e.$id)&&(e.$id=`T${qqe++}`);let r=Dx(t({[Oe]:"This",$ref:`${e.$id}`}));return r.$id=e.$id,He({[Yl]:"Recursive",...r},e)}s(epe,"Recursive");f();function tpe(t,e){let r=Di(t)?new globalThis.RegExp(t):t;return He({[Oe]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},e)}s(tpe,"RegExp");f();function Gqe(t){return _o(t)?t.allOf:Ln(t)?t.anyOf:Jc(t)?t.items??[]:[]}s(Gqe,"RestResolve");function rpe(t){return Gqe(t)}s(rpe,"Rest");f();function npe(t,e){return tf(t)?He(t.returns,e):Kr(e)}s(npe,"ReturnType");f();var EW=class{static{s(this,"TransformDecodeBuilder")}constructor(e){this.schema=e}Decode(e){return new IW(this.schema,e)}},IW=class{static{s(this,"TransformEncodeBuilder")}constructor(e,r){this.schema=e,this.decode=r}EncodeTransform(e,r){let a={Encode:s(c=>r[uo].Encode(e(c)),"Encode"),Decode:s(c=>this.decode(r[uo].Decode(c)),"Decode")};return{...r,[uo]:a}}EncodeSchema(e,r){let n={Decode:this.decode,Encode:e};return{...r,[uo]:n}}Encode(e){return Zn(this.schema)?this.EncodeTransform(e,this.schema):this.EncodeSchema(e,this.schema)}};function ipe(t){return new EW(t)}s(ipe,"Transform");f();function ope(t={}){return He({[Oe]:t[Oe]??"Unsafe"},t)}s(ope,"Unsafe");f();function spe(t){return He({[Oe]:"Void",type:"void"},t)}s(spe,"Void");f();var xW={};Io(xW,{Any:()=>Sg,Argument:()=>GAe,Array:()=>Lx,AsyncIterator:()=>Mx,Awaited:()=>Wx,BigInt:()=>Gx,Boolean:()=>ak,Capitalize:()=>Fhe,Composite:()=>che,Const:()=>lhe,Constructor:()=>Ox,ConstructorParameters:()=>uhe,Date:()=>dk,Enum:()=>fhe,Exclude:()=>jx,Extends:()=>zx,Extract:()=>Kx,Function:()=>Md,Index:()=>Bg,InstanceType:()=>Bhe,Instantiate:()=>khe,Integer:()=>Dhe,Intersect:()=>Ka,Iterator:()=>Vx,KeyOf:()=>Yx,Literal:()=>Sn,Lowercase:()=>Lhe,Mapped:()=>rhe,Module:()=>Jhe,Never:()=>Kr,Not:()=>Xhe,Null:()=>Ak,Number:()=>$l,Object:()=>ti,Omit:()=>kg,Optional:()=>ja,Parameters:()=>Zhe,Partial:()=>Jx,Pick:()=>Dg,Promise:()=>uk,Readonly:()=>ac,ReadonlyOptional:()=>Ek,Record:()=>Ik,Recursive:()=>epe,Ref:()=>Kl,RegExp:()=>tpe,Required:()=>Xx,Rest:()=>rpe,ReturnType:()=>npe,String:()=>v0,Symbol:()=>hk,TemplateLiteral:()=>ck,Transform:()=>ipe,Tuple:()=>zl,Uint8Array:()=>mk,Uncapitalize:()=>Mhe,Undefined:()=>pk,Union:()=>ei,Unknown:()=>sf,Unsafe:()=>ope,Uppercase:()=>Ohe,Void:()=>spe});f();var ee=xW;var Khr=600*1e3,hw={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Gpt41:"gpt-4.1",Gpt5:"gpt-5",CopilotBase:"copilot-base",BYOK:"byok",Unknown:"unknown"},Jhr=new Set([hw.O1Ga,hw.O3Mini,hw.O1Mini,hw.Gemini20Pro,hw.Gemini20Flash]);var Vqe=ee.Object({type:ee.Union([ee.Literal("chat"),ee.Literal("embeddings"),ee.Literal("completion")]),tokenizer:ee.String(),family:ee.String(),object:ee.String(),supports:ee.Optional(ee.Object({tool_calls:ee.Optional(ee.Boolean()),parallel_tool_calls:ee.Optional(ee.Boolean()),streaming:ee.Optional(ee.Boolean()),vision:ee.Optional(ee.Boolean())})),limits:ee.Optional(ee.Object({max_inputs:ee.Optional(ee.Number()),max_prompt_tokens:ee.Optional(ee.Number()),max_output_tokens:ee.Optional(ee.Number()),max_context_window_tokens:ee.Optional(ee.Number())}))}),Wqe=ee.Object({id:ee.String(),name:ee.String(),version:ee.String(),model_picker_enabled:ee.Boolean(),is_chat_default:ee.Optional(ee.Boolean()),is_chat_fallback:ee.Optional(ee.Boolean()),capabilities:Vqe,billing:ee.Optional(ee.Object({is_premium:ee.Optional(ee.Boolean()),multiplier:ee.Optional(ee.Number())})),object:ee.String(),preview:ee.Optional(ee.Boolean()),isExperimental:ee.Optional(ee.Boolean()),policy:ee.Optional(ee.Object({state:ee.String(),terms:ee.String()}))}),ape=ee.Object({data:ee.Array(Wqe)});f();function cpe(t){let e=Zo(t,Ft.UserSelectedCompletionModel);return typeof e=="string"&&e.length>0?e:null}s(cpe,"getUserSelectedModelConfiguration");f();f();f();var Zx=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{s(this,"CopilotPromptLoadFailure")}};f();var lpe=Et(require("node:fs/promises")),bk=Et(require("node:path"));async function Tk(t){return await lpe.readFile(vW(t))}s(Tk,"readFile");function vW(t){return bk.default.resolve(bk.default.extname(__filename)!==".ts"?__dirname:bk.default.resolve(__dirname,"../../dist"),t)}s(vW,"locateFile");var tv=Et(vpe());var kk=new Map;function Zl(t="o200k_base"){let e=kk.get(t);return e!==void 0||(e=kk.get("o200k_base"),e!==void 0)?e:new ev}s(Zl,"getTokenizer");async function aGe(t){if(!t.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let e=await Tk(t),r=new Map,n=[];for(let o=0;o<e.length;o++){if(e[o]!==255||n.length===0){n.push(e[o]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}s(aGe,"parseTikTokenNoIndex");var QW=class t{constructor(e){this._tokenizer=e}static{s(this,"TTokenizer")}static async create(e){try{let r=(0,tv.createTokenizer)(await aGe(`resources/${e}.tiktoken.noindex`),(0,tv.getSpecialTokensByEncoder)(e),(0,tv.getRegexByEncoder)(e),32768);return new t(r)}catch(r){throw r instanceof Error?new Zx("Could not load tokenizer",r):r}}tokenize(e){return this._tokenizer.encode(e)}detokenize(e){return this._tokenizer.decode(e)}tokenLength(e){return this.tokenize(e).length}tokenizeStrings(e){return this.tokenize(e).map(n=>this.detokenize([n]))}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,o=1,a=Math.min(e.length,r*n),c=e.slice(-a),l=this.tokenize(c);for(;l.length<r+2&&a<e.length;)a=Math.min(e.length,a+r*o),c=e.slice(-a),l=this.tokenize(c);return l.length<r?{text:e,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,o=1,a=Math.min(e.length,r*n),c=e.slice(0,a),l=this.tokenize(c);for(;l.length<r+2&&a<e.length;)a=Math.min(e.length,a+r*o),c=e.slice(0,a),l=this.tokenize(c);return l.length<r?{text:e,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}},PW=class{constructor(){this.hash=s(e=>{let r=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);r=(r<<5)-r+o,r&=r&65535}return r},"hash")}static{s(this,"MockTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map(r=>r.toString()).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,r){let n=this.tokenizeStrings(e).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(e,r){let n=this.tokenizeStrings(e).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}},cGe={cl100k_base:{python:3.99,typescript:4.54,typescriptreact:4.58,javascript:4.76,csharp:5.13,java:4.86,cpp:3.85,php:4.1,html:4.57,vue:4.22,go:3.93,dart:5.66,javascriptreact:4.81,css:3.37},o200k_base:{python:4.05,typescript:4.12,typescriptreact:5.01,javascript:4.47,csharp:5.47,java:4.86,cpp:3.8,php:4.35,html:4.86,vue:4.3,go:4.21,dart:5.7,javascriptreact:4.83,css:3.33}},NW=4,ev=class{constructor(e="o200k_base",r){this.languageId=r;this.tokenizerName=e}static{s(this,"ApproximateTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(r=>{let n=0;for(let o=0;o<r.length;o++)n=n*Math.pow(10,NW)+r.charCodeAt(o);return n})}detokenize(e){return e.map(r=>{let n=[],o=r.toString();for(;o.length>0;){let a=o.slice(-NW),c=String.fromCharCode(parseInt(a));n.unshift(c),o=o.slice(0,-NW)}return n.join("")}).join("")}tokenizeStrings(e){return e.match(/.{1,4}/g)??[]}getEffectiveTokenLength(){return this.tokenizerName&&this.languageId?cGe[this.tokenizerName]?.[this.languageId]??4:4}tokenLength(e){return Math.ceil(e.length/this.getEffectiveTokenLength())}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(-Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(o,a)=>a)}}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(0,Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(o,a)=>a)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}};async function bpe(t){try{let e=await QW.create(t);kk.set(t,e)}catch{}}s(bpe,"setTokenizer");var lGe=(async()=>{kk.set("mock",new PW),await Promise.all([bpe("cl100k_base"),bpe("o200k_base")])})();f();f();f();function uGe(t){switch(t.errorType){case Le.ArrayContains:return"Expected array to contain at least one matching value";case Le.ArrayMaxContains:return`Expected array to contain no more than ${t.schema.maxContains} matching values`;case Le.ArrayMinContains:return`Expected array to contain at least ${t.schema.minContains} matching values`;case Le.ArrayMaxItems:return`Expected array length to be less or equal to ${t.schema.maxItems}`;case Le.ArrayMinItems:return`Expected array length to be greater or equal to ${t.schema.minItems}`;case Le.ArrayUniqueItems:return"Expected array elements to be unique";case Le.Array:return"Expected array";case Le.AsyncIterator:return"Expected AsyncIterator";case Le.BigIntExclusiveMaximum:return`Expected bigint to be less than ${t.schema.exclusiveMaximum}`;case Le.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${t.schema.exclusiveMinimum}`;case Le.BigIntMaximum:return`Expected bigint to be less or equal to ${t.schema.maximum}`;case Le.BigIntMinimum:return`Expected bigint to be greater or equal to ${t.schema.minimum}`;case Le.BigIntMultipleOf:return`Expected bigint to be a multiple of ${t.schema.multipleOf}`;case Le.BigInt:return"Expected bigint";case Le.Boolean:return"Expected boolean";case Le.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${t.schema.exclusiveMinimumTimestamp}`;case Le.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${t.schema.exclusiveMaximumTimestamp}`;case Le.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${t.schema.minimumTimestamp}`;case Le.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${t.schema.maximumTimestamp}`;case Le.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${t.schema.multipleOfTimestamp}`;case Le.Date:return"Expected Date";case Le.Function:return"Expected function";case Le.IntegerExclusiveMaximum:return`Expected integer to be less than ${t.schema.exclusiveMaximum}`;case Le.IntegerExclusiveMinimum:return`Expected integer to be greater than ${t.schema.exclusiveMinimum}`;case Le.IntegerMaximum:return`Expected integer to be less or equal to ${t.schema.maximum}`;case Le.IntegerMinimum:return`Expected integer to be greater or equal to ${t.schema.minimum}`;case Le.IntegerMultipleOf:return`Expected integer to be a multiple of ${t.schema.multipleOf}`;case Le.Integer:return"Expected integer";case Le.IntersectUnevaluatedProperties:return"Unexpected property";case Le.Intersect:return"Expected all values to match";case Le.Iterator:return"Expected Iterator";case Le.Literal:return`Expected ${typeof t.schema.const=="string"?`'${t.schema.const}'`:t.schema.const}`;case Le.Never:return"Never";case Le.Not:return"Value should not match";case Le.Null:return"Expected null";case Le.NumberExclusiveMaximum:return`Expected number to be less than ${t.schema.exclusiveMaximum}`;case Le.NumberExclusiveMinimum:return`Expected number to be greater than ${t.schema.exclusiveMinimum}`;case Le.NumberMaximum:return`Expected number to be less or equal to ${t.schema.maximum}`;case Le.NumberMinimum:return`Expected number to be greater or equal to ${t.schema.minimum}`;case Le.NumberMultipleOf:return`Expected number to be a multiple of ${t.schema.multipleOf}`;case Le.Number:return"Expected number";case Le.Object:return"Expected object";case Le.ObjectAdditionalProperties:return"Unexpected property";case Le.ObjectMaxProperties:return`Expected object to have no more than ${t.schema.maxProperties} properties`;case Le.ObjectMinProperties:return`Expected object to have at least ${t.schema.minProperties} properties`;case Le.ObjectRequiredProperty:return"Expected required property";case Le.Promise:return"Expected Promise";case Le.RegExp:return"Expected string to match regular expression";case Le.StringFormatUnknown:return`Unknown format '${t.schema.format}'`;case Le.StringFormat:return`Expected string to match '${t.schema.format}' format`;case Le.StringMaxLength:return`Expected string length less or equal to ${t.schema.maxLength}`;case Le.StringMinLength:return`Expected string length greater or equal to ${t.schema.minLength}`;case Le.StringPattern:return`Expected string to match '${t.schema.pattern}'`;case Le.String:return"Expected string";case Le.Symbol:return"Expected symbol";case Le.TupleLength:return`Expected tuple to have ${t.schema.maxItems||0} elements`;case Le.Tuple:return"Expected tuple";case Le.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${t.schema.maxByteLength}`;case Le.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${t.schema.minByteLength}`;case Le.Uint8Array:return"Expected Uint8Array";case Le.Undefined:return"Expected undefined";case Le.Union:return"Expected union value";case Le.Void:return"Expected void";case Le.Kind:return`Expected kind '${t.schema[Oe]}'`;default:return"Unknown error type"}}s(uGe,"DefaultErrorFunction");var fGe=uGe;function Tpe(){return fGe}s(Tpe,"GetErrorFunction");f();var FW=class extends ur{static{s(this,"TypeDereferenceError")}constructor(e){super(`Unable to dereference schema with $id '${e.$ref}'`),this.schema=e}};function dGe(t,e){let r=e.find(n=>n.$id===t.$ref);if(r===void 0)throw new FW(t);return Vn(r,e)}s(dGe,"Resolve");function ea(t,e){return!Fn(t.$id)||e.some(r=>r.$id===t.$id)||e.push(t),e}s(ea,"Pushref");function Vn(t,e){return t[Oe]==="This"||t[Oe]==="Ref"?dGe(t,e):t}s(Vn,"Deref");f();var LW=class extends ur{static{s(this,"ValueHashError")}constructor(e){super("Unable to hash value"),this.value=e}},Zc;(function(t){t[t.Undefined=0]="Undefined",t[t.Null=1]="Null",t[t.Boolean=2]="Boolean",t[t.Number=3]="Number",t[t.String=4]="String",t[t.Object=5]="Object",t[t.Array=6]="Array",t[t.Date=7]="Date",t[t.Uint8Array=8]="Uint8Array",t[t.Symbol=9]="Symbol",t[t.BigInt=10]="BigInt"})(Zc||(Zc={}));var rv=BigInt("14695981039346656037"),[AGe,hGe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],pGe=Array.from({length:256}).map((t,e)=>BigInt(e)),_pe=new Float64Array(1),wpe=new DataView(_pe.buffer),Spe=new Uint8Array(_pe.buffer);function*mGe(t){let e=t===0?1:Math.ceil(Math.floor(Math.log2(t)+1)/8);for(let r=0;r<e;r++)yield t>>8*(e-1-r)&255}s(mGe,"NumberToBytes");function gGe(t){Xa(Zc.Array);for(let e of t)nv(e)}s(gGe,"ArrayType");function yGe(t){Xa(Zc.Boolean),Xa(t?1:0)}s(yGe,"BooleanType");function CGe(t){Xa(Zc.BigInt),wpe.setBigInt64(0,t);for(let e of Spe)Xa(e)}s(CGe,"BigIntType");function EGe(t){Xa(Zc.Date),nv(t.getTime())}s(EGe,"DateType");function IGe(t){Xa(Zc.Null)}s(IGe,"NullType");function xGe(t){Xa(Zc.Number),wpe.setFloat64(0,t);for(let e of Spe)Xa(e)}s(xGe,"NumberType");function vGe(t){Xa(Zc.Object);for(let e of globalThis.Object.getOwnPropertyNames(t).sort())nv(e),nv(t[e])}s(vGe,"ObjectType");function bGe(t){Xa(Zc.String);for(let e=0;e<t.length;e++)for(let r of mGe(t.charCodeAt(e)))Xa(r)}s(bGe,"StringType");function TGe(t){Xa(Zc.Symbol),nv(t.description)}s(TGe,"SymbolType");function _Ge(t){Xa(Zc.Uint8Array);for(let e=0;e<t.length;e++)Xa(t[e])}s(_Ge,"Uint8ArrayType");function wGe(t){return Xa(Zc.Undefined)}s(wGe,"UndefinedType");function nv(t){if(lr(t))return gGe(t);if(Pd(t))return yGe(t);if(_a(t))return CGe(t);if(I0(t))return EGe(t);if(Eh(t))return IGe(t);if(zt(t))return xGe(t);if(en(t))return vGe(t);if(Fn(t))return bGe(t);if(Ih(t))return TGe(t);if(Nx(t))return _Ge(t);if(Xi(t))return wGe(t);throw new LW(t)}s(nv,"Visit");function Xa(t){rv=rv^pGe[t],rv=rv*AGe%hGe}s(Xa,"FNV1A64");function Qg(t){return rv=BigInt("14695981039346656037"),nv(t),rv}s(Qg,"Hash");f();var MW=class extends ur{static{s(this,"ValueCheckUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function SGe(t){return t[Oe]==="Any"||t[Oe]==="Unknown"}s(SGe,"IsAnyOrUnknown");function gn(t){return t!==void 0}s(gn,"IsDefined");function BGe(t,e,r){return!0}s(BGe,"FromAny");function RGe(t,e,r){return!0}s(RGe,"FromArgument");function kGe(t,e,r){if(!lr(r)||gn(t.minItems)&&!(r.length>=t.minItems)||gn(t.maxItems)&&!(r.length<=t.maxItems)||!r.every(a=>ta(t.items,e,a))||t.uniqueItems===!0&&!function(){let a=new Set;for(let c of r){let l=Qg(c);if(a.has(l))return!1;a.add(l)}return!0}())return!1;if(!(gn(t.contains)||zt(t.minContains)||zt(t.maxContains)))return!0;let n=gn(t.contains)?t.contains:Kr(),o=r.reduce((a,c)=>ta(n,e,c)?a+1:a,0);return!(o===0||zt(t.minContains)&&o<t.minContains||zt(t.maxContains)&&o>t.maxContains)}s(kGe,"FromArray");function DGe(t,e,r){return Z7(r)}s(DGe,"FromAsyncIterator");function NGe(t,e,r){return!(!_a(r)||gn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||gn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||gn(t.maximum)&&!(r<=t.maximum)||gn(t.minimum)&&!(r>=t.minimum)||gn(t.multipleOf)&&r%t.multipleOf!==BigInt(0))}s(NGe,"FromBigInt");function QGe(t,e,r){return Pd(r)}s(QGe,"FromBoolean");function PGe(t,e,r){return ta(t.returns,e,r.prototype)}s(PGe,"FromConstructor");function FGe(t,e,r){return!(!I0(r)||gn(t.exclusiveMaximumTimestamp)&&!(r.getTime()<t.exclusiveMaximumTimestamp)||gn(t.exclusiveMinimumTimestamp)&&!(r.getTime()>t.exclusiveMinimumTimestamp)||gn(t.maximumTimestamp)&&!(r.getTime()<=t.maximumTimestamp)||gn(t.minimumTimestamp)&&!(r.getTime()>=t.minimumTimestamp)||gn(t.multipleOfTimestamp)&&r.getTime()%t.multipleOfTimestamp!==0)}s(FGe,"FromDate");function LGe(t,e,r){return Tg(r)}s(LGe,"FromFunction");function MGe(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return ta(o,[...e,...n],r)}s(MGe,"FromImport");function OGe(t,e,r){return!(!rk(r)||gn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||gn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||gn(t.maximum)&&!(r<=t.maximum)||gn(t.minimum)&&!(r>=t.minimum)||gn(t.multipleOf)&&r%t.multipleOf!==0)}s(OGe,"FromInteger");function UGe(t,e,r){let n=t.allOf.every(o=>ta(o,e,r));if(t.unevaluatedProperties===!1){let o=new RegExp(wh(t)),a=Object.getOwnPropertyNames(r).every(c=>o.test(c));return n&&a}else if(fo(t.unevaluatedProperties)){let o=new RegExp(wh(t)),a=Object.getOwnPropertyNames(r).every(c=>o.test(c)||ta(t.unevaluatedProperties,e,r[c]));return n&&a}else return n}s(UGe,"FromIntersect");function HGe(t,e,r){return ek(r)}s(HGe,"FromIterator");function qGe(t,e,r){return r===t.const}s(qGe,"FromLiteral");function GGe(t,e,r){return!1}s(GGe,"FromNever");function VGe(t,e,r){return!ta(t.not,e,r)}s(VGe,"FromNot");function WGe(t,e,r){return Eh(r)}s(WGe,"FromNull");function YGe(t,e,r){return!(!Mi.IsNumberLike(r)||gn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||gn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||gn(t.minimum)&&!(r>=t.minimum)||gn(t.maximum)&&!(r<=t.maximum)||gn(t.multipleOf)&&r%t.multipleOf!==0)}s(YGe,"FromNumber");function $Ge(t,e,r){if(!Mi.IsObjectLike(r)||gn(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||gn(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let n=Object.getOwnPropertyNames(t.properties);for(let o of n){let a=t.properties[o];if(t.required&&t.required.includes(o)){if(!ta(a,e,r[o])||(Sh(a)||SGe(a))&&!(o in r))return!1}else if(Mi.IsExactOptionalProperty(r,o)&&!ta(a,e,r[o]))return!1}if(t.additionalProperties===!1){let o=Object.getOwnPropertyNames(r);return t.required&&t.required.length===n.length&&o.length===n.length?!0:o.every(a=>n.includes(a))}else return typeof t.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(a=>n.includes(a)||ta(t.additionalProperties,e,r[a])):!0}s($Ge,"FromObject");function zGe(t,e,r){return tk(r)}s(zGe,"FromPromise");function jGe(t,e,r){if(!Mi.IsRecordLike(r)||gn(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||gn(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let[n,o]=Object.entries(t.patternProperties)[0],a=new RegExp(n),c=Object.entries(r).every(([d,A])=>a.test(d)?ta(o,e,A):!0),l=typeof t.additionalProperties=="object"?Object.entries(r).every(([d,A])=>a.test(d)?!0:ta(t.additionalProperties,e,A)):!0,u=t.additionalProperties===!1?Object.getOwnPropertyNames(r).every(d=>a.test(d)):!0;return c&&l&&u}s(jGe,"FromRecord");function KGe(t,e,r){return ta(Vn(t,e),e,r)}s(KGe,"FromRef");function JGe(t,e,r){let n=new RegExp(t.source,t.flags);return gn(t.minLength)&&!(r.length>=t.minLength)||gn(t.maxLength)&&!(r.length<=t.maxLength)?!1:n.test(r)}s(JGe,"FromRegExp");function XGe(t,e,r){return!Fn(r)||gn(t.minLength)&&!(r.length>=t.minLength)||gn(t.maxLength)&&!(r.length<=t.maxLength)||gn(t.pattern)&&!new RegExp(t.pattern).test(r)?!1:gn(t.format)?of.Has(t.format)?of.Get(t.format)(r):!1:!0}s(XGe,"FromString");function ZGe(t,e,r){return Ih(r)}s(ZGe,"FromSymbol");function eVe(t,e,r){return Fn(r)&&new RegExp(t.pattern).test(r)}s(eVe,"FromTemplateLiteral");function tVe(t,e,r){return ta(Vn(t,e),e,r)}s(tVe,"FromThis");function rVe(t,e,r){if(!lr(r)||t.items===void 0&&r.length!==0||r.length!==t.maxItems)return!1;if(!t.items)return!0;for(let n=0;n<t.items.length;n++)if(!ta(t.items[n],e,r[n]))return!1;return!0}s(rVe,"FromTuple");function nVe(t,e,r){return Xi(r)}s(nVe,"FromUndefined");function iVe(t,e,r){return t.anyOf.some(n=>ta(n,e,r))}s(iVe,"FromUnion");function oVe(t,e,r){return!(!Nx(r)||gn(t.maxByteLength)&&!(r.length<=t.maxByteLength)||gn(t.minByteLength)&&!(r.length>=t.minByteLength))}s(oVe,"FromUint8Array");function sVe(t,e,r){return!0}s(sVe,"FromUnknown");function aVe(t,e,r){return Mi.IsVoidLike(r)}s(aVe,"FromVoid");function cVe(t,e,r){return x0.Has(t[Oe])?x0.Get(t[Oe])(t,r):!1}s(cVe,"FromKind");function ta(t,e,r){let n=gn(t.$id)?ea(t,e):e,o=t;switch(o[Oe]){case"Any":return BGe(o,n,r);case"Argument":return RGe(o,n,r);case"Array":return kGe(o,n,r);case"AsyncIterator":return DGe(o,n,r);case"BigInt":return NGe(o,n,r);case"Boolean":return QGe(o,n,r);case"Constructor":return PGe(o,n,r);case"Date":return FGe(o,n,r);case"Function":return LGe(o,n,r);case"Import":return MGe(o,n,r);case"Integer":return OGe(o,n,r);case"Intersect":return UGe(o,n,r);case"Iterator":return HGe(o,n,r);case"Literal":return qGe(o,n,r);case"Never":return GGe(o,n,r);case"Not":return VGe(o,n,r);case"Null":return WGe(o,n,r);case"Number":return YGe(o,n,r);case"Object":return $Ge(o,n,r);case"Promise":return zGe(o,n,r);case"Record":return jGe(o,n,r);case"Ref":return KGe(o,n,r);case"RegExp":return JGe(o,n,r);case"String":return XGe(o,n,r);case"Symbol":return ZGe(o,n,r);case"TemplateLiteral":return eVe(o,n,r);case"This":return tVe(o,n,r);case"Tuple":return rVe(o,n,r);case"Undefined":return nVe(o,n,r);case"Union":return iVe(o,n,r);case"Uint8Array":return oVe(o,n,r);case"Unknown":return sVe(o,n,r);case"Void":return aVe(o,n,r);default:if(!x0.Has(o[Oe]))throw new MW(o);return cVe(o,n,r)}}s(ta,"Visit");function an(...t){return t.length===3?ta(t[0],t[1],t[2]):ta(t[0],[],t[1])}s(an,"Check");var Le;(function(t){t[t.ArrayContains=0]="ArrayContains",t[t.ArrayMaxContains=1]="ArrayMaxContains",t[t.ArrayMaxItems=2]="ArrayMaxItems",t[t.ArrayMinContains=3]="ArrayMinContains",t[t.ArrayMinItems=4]="ArrayMinItems",t[t.ArrayUniqueItems=5]="ArrayUniqueItems",t[t.Array=6]="Array",t[t.AsyncIterator=7]="AsyncIterator",t[t.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",t[t.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",t[t.BigIntMaximum=10]="BigIntMaximum",t[t.BigIntMinimum=11]="BigIntMinimum",t[t.BigIntMultipleOf=12]="BigIntMultipleOf",t[t.BigInt=13]="BigInt",t[t.Boolean=14]="Boolean",t[t.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",t[t.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",t[t.DateMaximumTimestamp=17]="DateMaximumTimestamp",t[t.DateMinimumTimestamp=18]="DateMinimumTimestamp",t[t.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",t[t.Date=20]="Date",t[t.Function=21]="Function",t[t.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",t[t.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",t[t.IntegerMaximum=24]="IntegerMaximum",t[t.IntegerMinimum=25]="IntegerMinimum",t[t.IntegerMultipleOf=26]="IntegerMultipleOf",t[t.Integer=27]="Integer",t[t.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",t[t.Intersect=29]="Intersect",t[t.Iterator=30]="Iterator",t[t.Kind=31]="Kind",t[t.Literal=32]="Literal",t[t.Never=33]="Never",t[t.Not=34]="Not",t[t.Null=35]="Null",t[t.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",t[t.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",t[t.NumberMaximum=38]="NumberMaximum",t[t.NumberMinimum=39]="NumberMinimum",t[t.NumberMultipleOf=40]="NumberMultipleOf",t[t.Number=41]="Number",t[t.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",t[t.ObjectMaxProperties=43]="ObjectMaxProperties",t[t.ObjectMinProperties=44]="ObjectMinProperties",t[t.ObjectRequiredProperty=45]="ObjectRequiredProperty",t[t.Object=46]="Object",t[t.Promise=47]="Promise",t[t.RegExp=48]="RegExp",t[t.StringFormatUnknown=49]="StringFormatUnknown",t[t.StringFormat=50]="StringFormat",t[t.StringMaxLength=51]="StringMaxLength",t[t.StringMinLength=52]="StringMinLength",t[t.StringPattern=53]="StringPattern",t[t.String=54]="String",t[t.Symbol=55]="Symbol",t[t.TupleLength=56]="TupleLength",t[t.Tuple=57]="Tuple",t[t.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",t[t.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",t[t.Uint8Array=60]="Uint8Array",t[t.Undefined=61]="Undefined",t[t.Union=62]="Union",t[t.Void=63]="Void"})(Le||(Le={}));var OW=class extends ur{static{s(this,"ValueErrorsUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function Bh(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}s(Bh,"EscapeKey");function yn(t){return t!==void 0}s(yn,"IsDefined");var Pg=class{static{s(this,"ValueErrorIterator")}constructor(e){this.iterator=e}[Symbol.iterator](){return this.iterator}First(){let e=this.iterator.next();return e.done?void 0:e.value}};function _t(t,e,r,n,o=[]){return{type:t,schema:e,path:r,value:n,message:Tpe()({errorType:t,path:r,schema:e,value:n,errors:o}),errors:o}}s(_t,"Create");function*lVe(t,e,r,n){}s(lVe,"FromAny");function*uVe(t,e,r,n){}s(uVe,"FromArgument");function*fVe(t,e,r,n){if(!lr(n))return yield _t(Le.Array,t,r,n);yn(t.minItems)&&!(n.length>=t.minItems)&&(yield _t(Le.ArrayMinItems,t,r,n)),yn(t.maxItems)&&!(n.length<=t.maxItems)&&(yield _t(Le.ArrayMaxItems,t,r,n));for(let c=0;c<n.length;c++)yield*ra(t.items,e,`${r}/${c}`,n[c]);if(t.uniqueItems===!0&&!function(){let c=new Set;for(let l of n){let u=Qg(l);if(c.has(u))return!1;c.add(u)}return!0}()&&(yield _t(Le.ArrayUniqueItems,t,r,n)),!(yn(t.contains)||yn(t.minContains)||yn(t.maxContains)))return;let o=yn(t.contains)?t.contains:Kr(),a=n.reduce((c,l,u)=>ra(o,e,`${r}${u}`,l).next().done===!0?c+1:c,0);a===0&&(yield _t(Le.ArrayContains,t,r,n)),zt(t.minContains)&&a<t.minContains&&(yield _t(Le.ArrayMinContains,t,r,n)),zt(t.maxContains)&&a>t.maxContains&&(yield _t(Le.ArrayMaxContains,t,r,n))}s(fVe,"FromArray");function*dVe(t,e,r,n){Z7(n)||(yield _t(Le.AsyncIterator,t,r,n))}s(dVe,"FromAsyncIterator");function*AVe(t,e,r,n){if(!_a(n))return yield _t(Le.BigInt,t,r,n);yn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield _t(Le.BigIntExclusiveMaximum,t,r,n)),yn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield _t(Le.BigIntExclusiveMinimum,t,r,n)),yn(t.maximum)&&!(n<=t.maximum)&&(yield _t(Le.BigIntMaximum,t,r,n)),yn(t.minimum)&&!(n>=t.minimum)&&(yield _t(Le.BigIntMinimum,t,r,n)),yn(t.multipleOf)&&n%t.multipleOf!==BigInt(0)&&(yield _t(Le.BigIntMultipleOf,t,r,n))}s(AVe,"FromBigInt");function*hVe(t,e,r,n){Pd(n)||(yield _t(Le.Boolean,t,r,n))}s(hVe,"FromBoolean");function*pVe(t,e,r,n){yield*ra(t.returns,e,r,n.prototype)}s(pVe,"FromConstructor");function*mVe(t,e,r,n){if(!I0(n))return yield _t(Le.Date,t,r,n);yn(t.exclusiveMaximumTimestamp)&&!(n.getTime()<t.exclusiveMaximumTimestamp)&&(yield _t(Le.DateExclusiveMaximumTimestamp,t,r,n)),yn(t.exclusiveMinimumTimestamp)&&!(n.getTime()>t.exclusiveMinimumTimestamp)&&(yield _t(Le.DateExclusiveMinimumTimestamp,t,r,n)),yn(t.maximumTimestamp)&&!(n.getTime()<=t.maximumTimestamp)&&(yield _t(Le.DateMaximumTimestamp,t,r,n)),yn(t.minimumTimestamp)&&!(n.getTime()>=t.minimumTimestamp)&&(yield _t(Le.DateMinimumTimestamp,t,r,n)),yn(t.multipleOfTimestamp)&&n.getTime()%t.multipleOfTimestamp!==0&&(yield _t(Le.DateMultipleOfTimestamp,t,r,n))}s(mVe,"FromDate");function*gVe(t,e,r,n){Tg(n)||(yield _t(Le.Function,t,r,n))}s(gVe,"FromFunction");function*yVe(t,e,r,n){let o=globalThis.Object.values(t.$defs),a=t.$defs[t.$ref];yield*ra(a,[...e,...o],r,n)}s(yVe,"FromImport");function*CVe(t,e,r,n){if(!rk(n))return yield _t(Le.Integer,t,r,n);yn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield _t(Le.IntegerExclusiveMaximum,t,r,n)),yn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield _t(Le.IntegerExclusiveMinimum,t,r,n)),yn(t.maximum)&&!(n<=t.maximum)&&(yield _t(Le.IntegerMaximum,t,r,n)),yn(t.minimum)&&!(n>=t.minimum)&&(yield _t(Le.IntegerMinimum,t,r,n)),yn(t.multipleOf)&&n%t.multipleOf!==0&&(yield _t(Le.IntegerMultipleOf,t,r,n))}s(CVe,"FromInteger");function*EVe(t,e,r,n){let o=!1;for(let a of t.allOf)for(let c of ra(a,e,r,n))o=!0,yield c;if(o)return yield _t(Le.Intersect,t,r,n);if(t.unevaluatedProperties===!1){let a=new RegExp(wh(t));for(let c of Object.getOwnPropertyNames(n))a.test(c)||(yield _t(Le.IntersectUnevaluatedProperties,t,`${r}/${c}`,n))}if(typeof t.unevaluatedProperties=="object"){let a=new RegExp(wh(t));for(let c of Object.getOwnPropertyNames(n))if(!a.test(c)){let l=ra(t.unevaluatedProperties,e,`${r}/${c}`,n[c]).next();l.done||(yield l.value)}}}s(EVe,"FromIntersect");function*IVe(t,e,r,n){ek(n)||(yield _t(Le.Iterator,t,r,n))}s(IVe,"FromIterator");function*xVe(t,e,r,n){n!==t.const&&(yield _t(Le.Literal,t,r,n))}s(xVe,"FromLiteral");function*vVe(t,e,r,n){yield _t(Le.Never,t,r,n)}s(vVe,"FromNever");function*bVe(t,e,r,n){ra(t.not,e,r,n).next().done===!0&&(yield _t(Le.Not,t,r,n))}s(bVe,"FromNot");function*TVe(t,e,r,n){Eh(n)||(yield _t(Le.Null,t,r,n))}s(TVe,"FromNull");function*_Ve(t,e,r,n){if(!Mi.IsNumberLike(n))return yield _t(Le.Number,t,r,n);yn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield _t(Le.NumberExclusiveMaximum,t,r,n)),yn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield _t(Le.NumberExclusiveMinimum,t,r,n)),yn(t.maximum)&&!(n<=t.maximum)&&(yield _t(Le.NumberMaximum,t,r,n)),yn(t.minimum)&&!(n>=t.minimum)&&(yield _t(Le.NumberMinimum,t,r,n)),yn(t.multipleOf)&&n%t.multipleOf!==0&&(yield _t(Le.NumberMultipleOf,t,r,n))}s(_Ve,"FromNumber");function*wVe(t,e,r,n){if(!Mi.IsObjectLike(n))return yield _t(Le.Object,t,r,n);yn(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield _t(Le.ObjectMinProperties,t,r,n)),yn(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield _t(Le.ObjectMaxProperties,t,r,n));let o=Array.isArray(t.required)?t.required:[],a=Object.getOwnPropertyNames(t.properties),c=Object.getOwnPropertyNames(n);for(let l of o)c.includes(l)||(yield _t(Le.ObjectRequiredProperty,t.properties[l],`${r}/${Bh(l)}`,void 0));if(t.additionalProperties===!1)for(let l of c)a.includes(l)||(yield _t(Le.ObjectAdditionalProperties,t,`${r}/${Bh(l)}`,n[l]));if(typeof t.additionalProperties=="object")for(let l of c)a.includes(l)||(yield*ra(t.additionalProperties,e,`${r}/${Bh(l)}`,n[l]));for(let l of a){let u=t.properties[l];t.required&&t.required.includes(l)?(yield*ra(u,e,`${r}/${Bh(l)}`,n[l]),Sh(t)&&!(l in n)&&(yield _t(Le.ObjectRequiredProperty,u,`${r}/${Bh(l)}`,void 0))):Mi.IsExactOptionalProperty(n,l)&&(yield*ra(u,e,`${r}/${Bh(l)}`,n[l]))}}s(wVe,"FromObject");function*SVe(t,e,r,n){tk(n)||(yield _t(Le.Promise,t,r,n))}s(SVe,"FromPromise");function*BVe(t,e,r,n){if(!Mi.IsRecordLike(n))return yield _t(Le.Object,t,r,n);yn(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield _t(Le.ObjectMinProperties,t,r,n)),yn(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield _t(Le.ObjectMaxProperties,t,r,n));let[o,a]=Object.entries(t.patternProperties)[0],c=new RegExp(o);for(let[l,u]of Object.entries(n))c.test(l)&&(yield*ra(a,e,`${r}/${Bh(l)}`,u));if(typeof t.additionalProperties=="object")for(let[l,u]of Object.entries(n))c.test(l)||(yield*ra(t.additionalProperties,e,`${r}/${Bh(l)}`,u));if(t.additionalProperties===!1){for(let[l,u]of Object.entries(n))if(!c.test(l))return yield _t(Le.ObjectAdditionalProperties,t,`${r}/${Bh(l)}`,u)}}s(BVe,"FromRecord");function*RVe(t,e,r,n){yield*ra(Vn(t,e),e,r,n)}s(RVe,"FromRef");function*kVe(t,e,r,n){if(!Fn(n))return yield _t(Le.String,t,r,n);if(yn(t.minLength)&&!(n.length>=t.minLength)&&(yield _t(Le.StringMinLength,t,r,n)),yn(t.maxLength)&&!(n.length<=t.maxLength)&&(yield _t(Le.StringMaxLength,t,r,n)),!new RegExp(t.source,t.flags).test(n))return yield _t(Le.RegExp,t,r,n)}s(kVe,"FromRegExp");function*DVe(t,e,r,n){if(!Fn(n))return yield _t(Le.String,t,r,n);yn(t.minLength)&&!(n.length>=t.minLength)&&(yield _t(Le.StringMinLength,t,r,n)),yn(t.maxLength)&&!(n.length<=t.maxLength)&&(yield _t(Le.StringMaxLength,t,r,n)),Fn(t.pattern)&&(new RegExp(t.pattern).test(n)||(yield _t(Le.StringPattern,t,r,n))),Fn(t.format)&&(of.Has(t.format)?of.Get(t.format)(n)||(yield _t(Le.StringFormat,t,r,n)):yield _t(Le.StringFormatUnknown,t,r,n))}s(DVe,"FromString");function*NVe(t,e,r,n){Ih(n)||(yield _t(Le.Symbol,t,r,n))}s(NVe,"FromSymbol");function*QVe(t,e,r,n){if(!Fn(n))return yield _t(Le.String,t,r,n);new RegExp(t.pattern).test(n)||(yield _t(Le.StringPattern,t,r,n))}s(QVe,"FromTemplateLiteral");function*PVe(t,e,r,n){yield*ra(Vn(t,e),e,r,n)}s(PVe,"FromThis");function*FVe(t,e,r,n){if(!lr(n))return yield _t(Le.Tuple,t,r,n);if(t.items===void 0&&n.length!==0)return yield _t(Le.TupleLength,t,r,n);if(n.length!==t.maxItems)return yield _t(Le.TupleLength,t,r,n);if(t.items)for(let o=0;o<t.items.length;o++)yield*ra(t.items[o],e,`${r}/${o}`,n[o])}s(FVe,"FromTuple");function*LVe(t,e,r,n){Xi(n)||(yield _t(Le.Undefined,t,r,n))}s(LVe,"FromUndefined");function*MVe(t,e,r,n){if(an(t,e,n))return;let o=t.anyOf.map(a=>new Pg(ra(a,e,r,n)));yield _t(Le.Union,t,r,n,o)}s(MVe,"FromUnion");function*OVe(t,e,r,n){if(!Nx(n))return yield _t(Le.Uint8Array,t,r,n);yn(t.maxByteLength)&&!(n.length<=t.maxByteLength)&&(yield _t(Le.Uint8ArrayMaxByteLength,t,r,n)),yn(t.minByteLength)&&!(n.length>=t.minByteLength)&&(yield _t(Le.Uint8ArrayMinByteLength,t,r,n))}s(OVe,"FromUint8Array");function*UVe(t,e,r,n){}s(UVe,"FromUnknown");function*HVe(t,e,r,n){Mi.IsVoidLike(n)||(yield _t(Le.Void,t,r,n))}s(HVe,"FromVoid");function*qVe(t,e,r,n){x0.Get(t[Oe])(t,n)||(yield _t(Le.Kind,t,r,n))}s(qVe,"FromKind");function*ra(t,e,r,n){let o=yn(t.$id)?[...e,t]:e,a=t;switch(a[Oe]){case"Any":return yield*lVe(a,o,r,n);case"Argument":return yield*uVe(a,o,r,n);case"Array":return yield*fVe(a,o,r,n);case"AsyncIterator":return yield*dVe(a,o,r,n);case"BigInt":return yield*AVe(a,o,r,n);case"Boolean":return yield*hVe(a,o,r,n);case"Constructor":return yield*pVe(a,o,r,n);case"Date":return yield*mVe(a,o,r,n);case"Function":return yield*gVe(a,o,r,n);case"Import":return yield*yVe(a,o,r,n);case"Integer":return yield*CVe(a,o,r,n);case"Intersect":return yield*EVe(a,o,r,n);case"Iterator":return yield*IVe(a,o,r,n);case"Literal":return yield*xVe(a,o,r,n);case"Never":return yield*vVe(a,o,r,n);case"Not":return yield*bVe(a,o,r,n);case"Null":return yield*TVe(a,o,r,n);case"Number":return yield*_Ve(a,o,r,n);case"Object":return yield*wVe(a,o,r,n);case"Promise":return yield*SVe(a,o,r,n);case"Record":return yield*BVe(a,o,r,n);case"Ref":return yield*RVe(a,o,r,n);case"RegExp":return yield*kVe(a,o,r,n);case"String":return yield*DVe(a,o,r,n);case"Symbol":return yield*NVe(a,o,r,n);case"TemplateLiteral":return yield*QVe(a,o,r,n);case"This":return yield*PVe(a,o,r,n);case"Tuple":return yield*FVe(a,o,r,n);case"Undefined":return yield*LVe(a,o,r,n);case"Union":return yield*MVe(a,o,r,n);case"Uint8Array":return yield*OVe(a,o,r,n);case"Unknown":return yield*UVe(a,o,r,n);case"Void":return yield*HVe(a,o,r,n);default:if(!x0.Has(a[Oe]))throw new OW(t);return yield*qVe(a,o,r,n)}}s(ra,"Visit");function qd(...t){let e=t.length===3?ra(t[0],t[1],"",t[2]):ra(t[0],[],"",t[1]);return new Pg(e)}s(qd,"Errors");f();var GVe=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},Rpe=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},UW,Dk,kpe,HW=class extends ur{static{s(this,"AssertError")}constructor(e){let r=e.First();super(r===void 0?"Invalid Value":r.message),UW.add(this),Dk.set(this,void 0),GVe(this,Dk,e,"f"),this.error=r}Errors(){return new Pg(Rpe(this,UW,"m",kpe).call(this))}};Dk=new WeakMap,UW=new WeakSet,kpe=s(function*(){this.error&&(yield this.error),yield*Rpe(this,Dk,"f")},"_AssertError_Iterator");function Bpe(t,e,r){if(!an(t,e,r))throw new HW(qd(t,e,r))}s(Bpe,"AssertValue");function Nk(...t){return t.length===3?Bpe(t[0],t[1],t[2]):Bpe(t[0],[],t[1])}s(Nk,"Assert");f();f();f();function VVe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=Wn(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=Wn(t[r]);return e}s(VVe,"FromObject");function WVe(t){return t.map(e=>Wn(e))}s(WVe,"FromArray");function YVe(t){return t.slice()}s(YVe,"FromTypedArray");function $Ve(t){return new Map(Wn([...t.entries()]))}s($Ve,"FromMap");function zVe(t){return new Set(Wn([...t.entries()]))}s(zVe,"FromSet");function jVe(t){return new Date(t.toISOString())}s(jVe,"FromDate");function Wn(t){if(lr(t))return WVe(t);if(I0(t))return jVe(t);if(Wl(t))return YVe(t);if(zde(t))return $Ve(t);if(jde(t))return zVe(t);if(en(t))return VVe(t);if($c(t))return t;throw new Error("ValueClone: Unable to clone value")}s(Wn,"Clone");var el=class extends ur{static{s(this,"ValueCreateError")}constructor(e,r){super(r),this.schema=e}};function Yn(t){return Tg(t)?t():Wn(t)}s(Yn,"FromDefault");function KVe(t,e){return cr(t,"default")?Yn(t.default):{}}s(KVe,"FromAny");function JVe(t,e){return{}}s(JVe,"FromArgument");function XVe(t,e){if(t.uniqueItems===!0&&!cr(t,"default"))throw new el(t,"Array with the uniqueItems constraint requires a default value");if("contains"in t&&!cr(t,"default"))throw new el(t,"Array with the contains constraint requires a default value");return"default"in t?Yn(t.default):t.minItems!==void 0?Array.from({length:t.minItems}).map(r=>uc(t.items,e)):[]}s(XVe,"FromArray");function ZVe(t,e){return cr(t,"default")?Yn(t.default):async function*(){}()}s(ZVe,"FromAsyncIterator");function eWe(t,e){return cr(t,"default")?Yn(t.default):BigInt(0)}s(eWe,"FromBigInt");function tWe(t,e){return cr(t,"default")?Yn(t.default):!1}s(tWe,"FromBoolean");function rWe(t,e){if(cr(t,"default"))return Yn(t.default);{let r=uc(t.returns,e);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,o]of Object.entries(r)){let a=this;a[n]=o}}}:class{}}}s(rWe,"FromConstructor");function nWe(t,e){return cr(t,"default")?Yn(t.default):t.minimumTimestamp!==void 0?new Date(t.minimumTimestamp):new Date}s(nWe,"FromDate");function iWe(t,e){return cr(t,"default")?Yn(t.default):()=>uc(t.returns,e)}s(iWe,"FromFunction");function oWe(t,e){let r=globalThis.Object.values(t.$defs),n=t.$defs[t.$ref];return uc(n,[...e,...r])}s(oWe,"FromImport");function sWe(t,e){return cr(t,"default")?Yn(t.default):t.minimum!==void 0?t.minimum:0}s(sWe,"FromInteger");function aWe(t,e){if(cr(t,"default"))return Yn(t.default);{let r=t.allOf.reduce((n,o)=>{let a=uc(o,e);return typeof a=="object"?{...n,...a}:a},{});if(!an(t,e,r))throw new el(t,"Intersect produced invalid value. Consider using a default value.");return r}}s(aWe,"FromIntersect");function cWe(t,e){return cr(t,"default")?Yn(t.default):function*(){}()}s(cWe,"FromIterator");function lWe(t,e){return cr(t,"default")?Yn(t.default):t.const}s(lWe,"FromLiteral");function uWe(t,e){if(cr(t,"default"))return Yn(t.default);throw new el(t,"Never types cannot be created. Consider using a default value.")}s(uWe,"FromNever");function fWe(t,e){if(cr(t,"default"))return Yn(t.default);throw new el(t,"Not types must have a default value")}s(fWe,"FromNot");function dWe(t,e){return cr(t,"default")?Yn(t.default):null}s(dWe,"FromNull");function AWe(t,e){return cr(t,"default")?Yn(t.default):t.minimum!==void 0?t.minimum:0}s(AWe,"FromNumber");function hWe(t,e){if(cr(t,"default"))return Yn(t.default);{let r=new Set(t.required),n={};for(let[o,a]of Object.entries(t.properties))r.has(o)&&(n[o]=uc(a,e));return n}}s(hWe,"FromObject");function pWe(t,e){return cr(t,"default")?Yn(t.default):Promise.resolve(uc(t.item,e))}s(pWe,"FromPromise");function mWe(t,e){let[r,n]=Object.entries(t.patternProperties)[0];if(cr(t,"default"))return Yn(t.default);if(r===Ld||r===Fd)return{};{let o=r.slice(1,r.length-1).split("|"),a={};for(let c of o)a[c]=uc(n,e);return a}}s(mWe,"FromRecord");function gWe(t,e){return cr(t,"default")?Yn(t.default):uc(Vn(t,e),e)}s(gWe,"FromRef");function yWe(t,e){if(cr(t,"default"))return Yn(t.default);throw new el(t,"RegExp types cannot be created. Consider using a default value.")}s(yWe,"FromRegExp");function CWe(t,e){if(t.pattern!==void 0){if(cr(t,"default"))return Yn(t.default);throw new el(t,"String types with patterns must specify a default value")}else if(t.format!==void 0){if(cr(t,"default"))return Yn(t.default);throw new el(t,"String types with formats must specify a default value")}else return cr(t,"default")?Yn(t.default):t.minLength!==void 0?Array.from({length:t.minLength}).map(()=>" ").join(""):""}s(CWe,"FromString");function EWe(t,e){return cr(t,"default")?Yn(t.default):"value"in t?Symbol.for(t.value):Symbol()}s(EWe,"FromSymbol");function IWe(t,e){if(cr(t,"default"))return Yn(t.default);if(!sk(t))throw new el(t,"Can only create template literals that produce a finite variants. Consider using a default value.");return qx(t)[0]}s(IWe,"FromTemplateLiteral");function xWe(t,e){if(Dpe++>RWe)throw new el(t,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return cr(t,"default")?Yn(t.default):uc(Vn(t,e),e)}s(xWe,"FromThis");function vWe(t,e){return cr(t,"default")?Yn(t.default):t.items===void 0?[]:Array.from({length:t.minItems}).map((r,n)=>uc(t.items[n],e))}s(vWe,"FromTuple");function bWe(t,e){if(cr(t,"default"))return Yn(t.default)}s(bWe,"FromUndefined");function TWe(t,e){if(cr(t,"default"))return Yn(t.default);if(t.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return uc(t.anyOf[0],e)}s(TWe,"FromUnion");function _We(t,e){return cr(t,"default")?Yn(t.default):t.minByteLength!==void 0?new Uint8Array(t.minByteLength):new Uint8Array(0)}s(_We,"FromUint8Array");function wWe(t,e){return cr(t,"default")?Yn(t.default):{}}s(wWe,"FromUnknown");function SWe(t,e){if(cr(t,"default"))return Yn(t.default)}s(SWe,"FromVoid");function BWe(t,e){if(cr(t,"default"))return Yn(t.default);throw new Error("User defined types must specify a default value")}s(BWe,"FromKind");function uc(t,e){let r=ea(t,e),n=t;switch(n[Oe]){case"Any":return KVe(n,r);case"Argument":return JVe(n,r);case"Array":return XVe(n,r);case"AsyncIterator":return ZVe(n,r);case"BigInt":return eWe(n,r);case"Boolean":return tWe(n,r);case"Constructor":return rWe(n,r);case"Date":return nWe(n,r);case"Function":return iWe(n,r);case"Import":return oWe(n,r);case"Integer":return sWe(n,r);case"Intersect":return aWe(n,r);case"Iterator":return cWe(n,r);case"Literal":return lWe(n,r);case"Never":return uWe(n,r);case"Not":return fWe(n,r);case"Null":return dWe(n,r);case"Number":return AWe(n,r);case"Object":return hWe(n,r);case"Promise":return pWe(n,r);case"Record":return mWe(n,r);case"Ref":return gWe(n,r);case"RegExp":return yWe(n,r);case"String":return CWe(n,r);case"Symbol":return EWe(n,r);case"TemplateLiteral":return IWe(n,r);case"This":return xWe(n,r);case"Tuple":return vWe(n,r);case"Undefined":return bWe(n,r);case"Union":return TWe(n,r);case"Uint8Array":return _We(n,r);case"Unknown":return wWe(n,r);case"Void":return SWe(n,r);default:if(!x0.Has(n[Oe]))throw new el(n,"Unknown type");return BWe(n,r)}}s(uc,"Visit");var RWe=512,Dpe=0;function eu(...t){return Dpe=0,t.length===2?uc(t[0],t[1]):uc(t[0],[])}s(eu,"Create");var Qk=class extends ur{static{s(this,"ValueCastError")}constructor(e,r){super(r),this.schema=e}};function kWe(t,e,r){if(t[Oe]==="Object"&&typeof r=="object"&&!Eh(r)){let n=t,o=Object.getOwnPropertyNames(r),a=Object.entries(n.properties),[c,l]=[1/a.length,a.length];return a.reduce((u,[d,A])=>{let h=A[Oe]==="Literal"&&A.const===r[d]?l:0,p=an(A,e,r[d])?c:0,y=o.includes(d)?c:0;return u+(h+p+y)},0)}else return an(t,e,r)?1:0}s(kWe,"ScoreUnion");function DWe(t,e,r){let n=t.anyOf.map(c=>Vn(c,e)),[o,a]=[n[0],0];for(let c of n){let l=kWe(c,e,r);l>a&&(o=c,a=l)}return o}s(DWe,"SelectUnion");function NWe(t,e,r){if("default"in t)return typeof r=="function"?t.default:Wn(t.default);{let n=DWe(t,e,r);return mw(n,e,r)}}s(NWe,"CastUnion");function QWe(t,e,r){return an(t,e,r)?Wn(r):eu(t,e)}s(QWe,"DefaultClone");function PWe(t,e,r){return an(t,e,r)?r:eu(t,e)}s(PWe,"Default");function FWe(t,e,r){if(an(t,e,r))return Wn(r);let n=lr(r)?Wn(r):eu(t,e),o=zt(t.minItems)&&n.length<t.minItems?[...n,...Array.from({length:t.minItems-n.length},()=>null)]:n,c=(zt(t.maxItems)&&o.length>t.maxItems?o.slice(0,t.maxItems):o).map(u=>lf(t.items,e,u));if(t.uniqueItems!==!0)return c;let l=[...new Set(c)];if(!an(t,e,l))throw new Qk(t,"Array cast produced invalid data due to uniqueItems constraint");return l}s(FWe,"FromArray");function LWe(t,e,r){if(an(t,e,r))return eu(t,e);let n=new Set(t.returns.required||[]),o=s(function(){},"result");for(let[a,c]of Object.entries(t.returns.properties))!n.has(a)&&r.prototype[a]===void 0||(o.prototype[a]=lf(c,e,r.prototype[a]));return o}s(LWe,"FromConstructor");function MWe(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return lf(o,[...e,...n],r)}s(MWe,"FromImport");function OWe(t,e,r){let n=eu(t,e),o=en(n)&&en(r)?{...n,...r}:r;return an(t,e,o)?o:eu(t,e)}s(OWe,"FromIntersect");function UWe(t,e,r){throw new Qk(t,"Never types cannot be cast")}s(UWe,"FromNever");function HWe(t,e,r){if(an(t,e,r))return r;if(r===null||typeof r!="object")return eu(t,e);let n=new Set(t.required||[]),o={};for(let[a,c]of Object.entries(t.properties))!n.has(a)&&r[a]===void 0||(o[a]=lf(c,e,r[a]));if(typeof t.additionalProperties=="object"){let a=Object.getOwnPropertyNames(t.properties);for(let c of Object.getOwnPropertyNames(r))a.includes(c)||(o[c]=lf(t.additionalProperties,e,r[c]))}return o}s(HWe,"FromObject");function qWe(t,e,r){if(an(t,e,r))return Wn(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return eu(t,e);let n=Object.getOwnPropertyNames(t.patternProperties)[0],o=t.patternProperties[n],a={};for(let[c,l]of Object.entries(r))a[c]=lf(o,e,l);return a}s(qWe,"FromRecord");function GWe(t,e,r){return lf(Vn(t,e),e,r)}s(GWe,"FromRef");function VWe(t,e,r){return lf(Vn(t,e),e,r)}s(VWe,"FromThis");function WWe(t,e,r){return an(t,e,r)?Wn(r):lr(r)?t.items===void 0?[]:t.items.map((n,o)=>lf(n,e,r[o])):eu(t,e)}s(WWe,"FromTuple");function YWe(t,e,r){return an(t,e,r)?Wn(r):NWe(t,e,r)}s(YWe,"FromUnion");function lf(t,e,r){let n=Fn(t.$id)?ea(t,e):e,o=t;switch(t[Oe]){case"Array":return FWe(o,n,r);case"Constructor":return LWe(o,n,r);case"Import":return MWe(o,n,r);case"Intersect":return OWe(o,n,r);case"Never":return UWe(o,n,r);case"Object":return HWe(o,n,r);case"Record":return qWe(o,n,r);case"Ref":return GWe(o,n,r);case"This":return VWe(o,n,r);case"Tuple":return WWe(o,n,r);case"Union":return YWe(o,n,r);case"Date":case"Symbol":case"Uint8Array":return QWe(t,e,r);default:return PWe(o,n,r)}}s(lf,"Visit");function mw(...t){return t.length===3?lf(t[0],t[1],t[2]):lf(t[0],[],t[1])}s(mw,"Cast");f();function $We(t){return wg(t)&&t[Oe]!=="Unsafe"}s($We,"IsCheckable");function zWe(t,e,r){return lr(r)?r.map(n=>fc(t.items,e,n)):r}s(zWe,"FromArray");function jWe(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return fc(o,[...e,...n],r)}s(jWe,"FromImport");function KWe(t,e,r){let n=t.unevaluatedProperties,a=t.allOf.map(l=>fc(l,e,Wn(r))).reduce((l,u)=>en(u)?{...l,...u}:u,{});if(!en(r)||!en(a)||!wg(n))return a;let c=cc(t);for(let l of Object.getOwnPropertyNames(r))c.includes(l)||an(n,e,r[l])&&(a[l]=fc(n,e,r[l]));return a}s(KWe,"FromIntersect");function JWe(t,e,r){if(!en(r)||lr(r))return r;let n=t.additionalProperties;for(let o of Object.getOwnPropertyNames(r)){if(cr(t.properties,o)){r[o]=fc(t.properties[o],e,r[o]);continue}if(wg(n)&&an(n,e,r[o])){r[o]=fc(n,e,r[o]);continue}delete r[o]}return r}s(JWe,"FromObject");function XWe(t,e,r){if(!en(r))return r;let n=t.additionalProperties,o=Object.getOwnPropertyNames(r),[a,c]=Object.entries(t.patternProperties)[0],l=new RegExp(a);for(let u of o){if(l.test(u)){r[u]=fc(c,e,r[u]);continue}if(wg(n)&&an(n,e,r[u])){r[u]=fc(n,e,r[u]);continue}delete r[u]}return r}s(XWe,"FromRecord");function ZWe(t,e,r){return fc(Vn(t,e),e,r)}s(ZWe,"FromRef");function eYe(t,e,r){return fc(Vn(t,e),e,r)}s(eYe,"FromThis");function tYe(t,e,r){if(!lr(r))return r;if(Xi(t.items))return[];let n=Math.min(r.length,t.items.length);for(let o=0;o<n;o++)r[o]=fc(t.items[o],e,r[o]);return r.length>n?r.slice(0,n):r}s(tYe,"FromTuple");function rYe(t,e,r){for(let n of t.anyOf)if($We(n)&&an(n,e,r))return fc(n,e,r);return r}s(rYe,"FromUnion");function fc(t,e,r){let n=Fn(t.$id)?ea(t,e):e,o=t;switch(o[Oe]){case"Array":return zWe(o,n,r);case"Import":return jWe(o,n,r);case"Intersect":return KWe(o,n,r);case"Object":return JWe(o,n,r);case"Record":return XWe(o,n,r);case"Ref":return ZWe(o,n,r);case"This":return eYe(o,n,r);case"Tuple":return tYe(o,n,r);case"Union":return rYe(o,n,r);default:return r}}s(fc,"Visit");function Pk(...t){return t.length===3?fc(t[0],t[1],t[2]):fc(t[0],[],t[1])}s(Pk,"Clean");f();function Fk(t){return Fn(t)&&!isNaN(t)&&!isNaN(parseFloat(t))}s(Fk,"IsStringNumeric");function nYe(t){return _a(t)||Pd(t)||zt(t)}s(nYe,"IsValueToString");function gw(t){return t===!0||zt(t)&&t===1||_a(t)&&t===BigInt("1")||Fn(t)&&(t.toLowerCase()==="true"||t==="1")}s(gw,"IsValueTrue");function yw(t){return t===!1||zt(t)&&(t===0||Object.is(t,-0))||_a(t)&&t===BigInt("0")||Fn(t)&&(t.toLowerCase()==="false"||t==="0"||t==="-0")}s(yw,"IsValueFalse");function iYe(t){return Fn(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}s(iYe,"IsTimeStringWithTimeZone");function oYe(t){return Fn(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}s(oYe,"IsTimeStringWithoutTimeZone");function sYe(t){return Fn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}s(sYe,"IsDateTimeStringWithTimeZone");function aYe(t){return Fn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}s(aYe,"IsDateTimeStringWithoutTimeZone");function cYe(t){return Fn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(t)}s(cYe,"IsDateString");function lYe(t,e){let r=Qpe(t);return r===e?r:t}s(lYe,"TryConvertLiteralString");function uYe(t,e){let r=Ppe(t);return r===e?r:t}s(uYe,"TryConvertLiteralNumber");function fYe(t,e){let r=Npe(t);return r===e?r:t}s(fYe,"TryConvertLiteralBoolean");function dYe(t,e){return Fn(t.const)?lYe(e,t.const):zt(t.const)?uYe(e,t.const):Pd(t.const)?fYe(e,t.const):e}s(dYe,"TryConvertLiteral");function Npe(t){return gw(t)?!0:yw(t)?!1:t}s(Npe,"TryConvertBoolean");function AYe(t){let e=s(r=>r.split(".")[0],"truncateInteger");return Fk(t)?BigInt(e(t)):zt(t)?BigInt(Math.trunc(t)):yw(t)?BigInt(0):gw(t)?BigInt(1):t}s(AYe,"TryConvertBigInt");function Qpe(t){return Ih(t)&&t.description!==void 0?t.description.toString():nYe(t)?t.toString():t}s(Qpe,"TryConvertString");function Ppe(t){return Fk(t)?parseFloat(t):gw(t)?1:yw(t)?0:t}s(Ppe,"TryConvertNumber");function hYe(t){return Fk(t)?parseInt(t):zt(t)?Math.trunc(t):gw(t)?1:yw(t)?0:t}s(hYe,"TryConvertInteger");function pYe(t){return Fn(t)&&t.toLowerCase()==="null"?null:t}s(pYe,"TryConvertNull");function mYe(t){return Fn(t)&&t==="undefined"?void 0:t}s(mYe,"TryConvertUndefined");function gYe(t){return I0(t)?t:zt(t)?new Date(t):gw(t)?new Date(1):yw(t)?new Date(0):Fk(t)?new Date(parseInt(t)):oYe(t)?new Date(`1970-01-01T${t}.000Z`):iYe(t)?new Date(`1970-01-01T${t}`):aYe(t)?new Date(`${t}.000Z`):sYe(t)?new Date(t):cYe(t)?new Date(`${t}T00:00:00.000Z`):t}s(gYe,"TryConvertDate");function yYe(t,e,r){return(lr(r)?r:[r]).map(o=>uf(t.items,e,o))}s(yYe,"FromArray");function CYe(t,e,r){return AYe(r)}s(CYe,"FromBigInt");function EYe(t,e,r){return Npe(r)}s(EYe,"FromBoolean");function IYe(t,e,r){return gYe(r)}s(IYe,"FromDate");function xYe(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return uf(o,[...e,...n],r)}s(xYe,"FromImport");function vYe(t,e,r){return hYe(r)}s(vYe,"FromInteger");function bYe(t,e,r){return t.allOf.reduce((n,o)=>uf(o,e,n),r)}s(bYe,"FromIntersect");function TYe(t,e,r){return dYe(t,r)}s(TYe,"FromLiteral");function _Ye(t,e,r){return pYe(r)}s(_Ye,"FromNull");function wYe(t,e,r){return Ppe(r)}s(wYe,"FromNumber");function SYe(t,e,r){if(!en(r))return r;for(let n of Object.getOwnPropertyNames(t.properties))cr(r,n)&&(r[n]=uf(t.properties[n],e,r[n]));return r}s(SYe,"FromObject");function BYe(t,e,r){if(!en(r))return r;let o=Object.getOwnPropertyNames(t.patternProperties)[0],a=t.patternProperties[o];for(let[c,l]of Object.entries(r))r[c]=uf(a,e,l);return r}s(BYe,"FromRecord");function RYe(t,e,r){return uf(Vn(t,e),e,r)}s(RYe,"FromRef");function kYe(t,e,r){return Qpe(r)}s(kYe,"FromString");function DYe(t,e,r){return Fn(r)||zt(r)?Symbol(r):r}s(DYe,"FromSymbol");function NYe(t,e,r){return uf(Vn(t,e),e,r)}s(NYe,"FromThis");function QYe(t,e,r){return lr(r)&&!Xi(t.items)?r.map((o,a)=>a<t.items.length?uf(t.items[a],e,o):o):r}s(QYe,"FromTuple");function PYe(t,e,r){return mYe(r)}s(PYe,"FromUndefined");function FYe(t,e,r){for(let n of t.anyOf){let o=uf(n,e,Wn(r));if(an(n,e,o))return o}return r}s(FYe,"FromUnion");function uf(t,e,r){let n=ea(t,e),o=t;switch(t[Oe]){case"Array":return yYe(o,n,r);case"BigInt":return CYe(o,n,r);case"Boolean":return EYe(o,n,r);case"Date":return IYe(o,n,r);case"Import":return xYe(o,n,r);case"Integer":return vYe(o,n,r);case"Intersect":return bYe(o,n,r);case"Literal":return TYe(o,n,r);case"Null":return _Ye(o,n,r);case"Number":return wYe(o,n,r);case"Object":return SYe(o,n,r);case"Record":return BYe(o,n,r);case"Ref":return RYe(o,n,r);case"String":return kYe(o,n,r);case"Symbol":return DYe(o,n,r);case"This":return NYe(o,n,r);case"Tuple":return QYe(o,n,r);case"Undefined":return PYe(o,n,r);case"Union":return FYe(o,n,r);default:return r}}s(uf,"Visit");function Lk(...t){return t.length===3?uf(t[0],t[1],t[2]):uf(t[0],[],t[1])}s(Lk,"Convert");f();f();var iv=class extends ur{static{s(this,"TransformDecodeCheckError")}constructor(e,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},qW=class extends ur{static{s(this,"TransformDecodeError")}constructor(e,r,n,o){super(o instanceof Error?o.message:"Unknown error"),this.schema=e,this.path=r,this.value=n,this.error=o}};function Ao(t,e,r){try{return Zn(t)?t[uo].Decode(r):r}catch(n){throw new qW(t,e,r,n)}}s(Ao,"Default");function LYe(t,e,r,n){return lr(n)?Ao(t,r,n.map((o,a)=>ff(t.items,e,`${r}/${a}`,o))):Ao(t,r,n)}s(LYe,"FromArray");function MYe(t,e,r,n){if(!en(n)||$c(n))return Ao(t,r,n);let o=fk(t),a=o.map(A=>A[0]),c={...n};for(let[A,h]of o)A in c&&(c[A]=ff(h,e,`${r}/${A}`,c[A]));if(!Zn(t.unevaluatedProperties))return Ao(t,r,c);let l=Object.getOwnPropertyNames(c),u=t.unevaluatedProperties,d={...c};for(let A of l)a.includes(A)||(d[A]=Ao(u,`${r}/${A}`,d[A]));return Ao(t,r,d)}s(MYe,"FromIntersect");function OYe(t,e,r,n){let o=globalThis.Object.values(t.$defs),a=t.$defs[t.$ref],c=ff(a,[...e,...o],r,n);return Ao(t,r,c)}s(OYe,"FromImport");function UYe(t,e,r,n){return Ao(t,r,ff(t.not,e,r,n))}s(UYe,"FromNot");function HYe(t,e,r,n){if(!en(n))return Ao(t,r,n);let o=cc(t),a={...n};for(let d of o)cr(a,d)&&(Xi(a[d])&&(!bh(t.properties[d])||Mi.IsExactOptionalProperty(a,d))||(a[d]=ff(t.properties[d],e,`${r}/${d}`,a[d])));if(!fo(t.additionalProperties))return Ao(t,r,a);let c=Object.getOwnPropertyNames(a),l=t.additionalProperties,u={...a};for(let d of c)o.includes(d)||(u[d]=Ao(l,`${r}/${d}`,u[d]));return Ao(t,r,u)}s(HYe,"FromObject");function qYe(t,e,r,n){if(!en(n))return Ao(t,r,n);let o=Object.getOwnPropertyNames(t.patternProperties)[0],a=new RegExp(o),c={...n};for(let A of Object.getOwnPropertyNames(n))a.test(A)&&(c[A]=ff(t.patternProperties[o],e,`${r}/${A}`,c[A]));if(!fo(t.additionalProperties))return Ao(t,r,c);let l=Object.getOwnPropertyNames(c),u=t.additionalProperties,d={...c};for(let A of l)a.test(A)||(d[A]=Ao(u,`${r}/${A}`,d[A]));return Ao(t,r,d)}s(qYe,"FromRecord");function GYe(t,e,r,n){let o=Vn(t,e);return Ao(t,r,ff(o,e,r,n))}s(GYe,"FromRef");function VYe(t,e,r,n){let o=Vn(t,e);return Ao(t,r,ff(o,e,r,n))}s(VYe,"FromThis");function WYe(t,e,r,n){return lr(n)&&lr(t.items)?Ao(t,r,t.items.map((o,a)=>ff(o,e,`${r}/${a}`,n[a]))):Ao(t,r,n)}s(WYe,"FromTuple");function YYe(t,e,r,n){for(let o of t.anyOf){if(!an(o,e,n))continue;let a=ff(o,e,r,n);return Ao(t,r,a)}return Ao(t,r,n)}s(YYe,"FromUnion");function ff(t,e,r,n){let o=ea(t,e),a=t;switch(t[Oe]){case"Array":return LYe(a,o,r,n);case"Import":return OYe(a,o,r,n);case"Intersect":return MYe(a,o,r,n);case"Not":return UYe(a,o,r,n);case"Object":return HYe(a,o,r,n);case"Record":return qYe(a,o,r,n);case"Ref":return GYe(a,o,r,n);case"Symbol":return Ao(a,r,n);case"This":return VYe(a,o,r,n);case"Tuple":return WYe(a,o,r,n);case"Union":return YYe(a,o,r,n);default:return Ao(a,r,n)}}s(ff,"Visit");function ov(t,e,r){return ff(t,e,"",r)}s(ov,"TransformDecode");f();var sv=class extends ur{static{s(this,"TransformEncodeCheckError")}constructor(e,r,n){super("The encoded value does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},GW=class extends ur{static{s(this,"TransformEncodeError")}constructor(e,r,n,o){super(`${o instanceof Error?o.message:"Unknown error"}`),this.schema=e,this.path=r,this.value=n,this.error=o}};function Sa(t,e,r){try{return Zn(t)?t[uo].Encode(r):r}catch(n){throw new GW(t,e,r,n)}}s(Sa,"Default");function $Ye(t,e,r,n){let o=Sa(t,r,n);return lr(o)?o.map((a,c)=>df(t.items,e,`${r}/${c}`,a)):o}s($Ye,"FromArray");function zYe(t,e,r,n){let o=globalThis.Object.values(t.$defs),a=t.$defs[t.$ref],c=Sa(t,r,n);return df(a,[...e,...o],r,c)}s(zYe,"FromImport");function jYe(t,e,r,n){let o=Sa(t,r,n);if(!en(n)||$c(n))return o;let a=fk(t),c=a.map(h=>h[0]),l={...o};for(let[h,p]of a)h in l&&(l[h]=df(p,e,`${r}/${h}`,l[h]));if(!Zn(t.unevaluatedProperties))return l;let u=Object.getOwnPropertyNames(l),d=t.unevaluatedProperties,A={...l};for(let h of u)c.includes(h)||(A[h]=Sa(d,`${r}/${h}`,A[h]));return A}s(jYe,"FromIntersect");function KYe(t,e,r,n){return Sa(t.not,r,Sa(t,r,n))}s(KYe,"FromNot");function JYe(t,e,r,n){let o=Sa(t,r,n);if(!en(o))return o;let a=cc(t),c={...o};for(let A of a)cr(c,A)&&(Xi(c[A])&&(!bh(t.properties[A])||Mi.IsExactOptionalProperty(c,A))||(c[A]=df(t.properties[A],e,`${r}/${A}`,c[A])));if(!fo(t.additionalProperties))return c;let l=Object.getOwnPropertyNames(c),u=t.additionalProperties,d={...c};for(let A of l)a.includes(A)||(d[A]=Sa(u,`${r}/${A}`,d[A]));return d}s(JYe,"FromObject");function XYe(t,e,r,n){let o=Sa(t,r,n);if(!en(n))return o;let a=Object.getOwnPropertyNames(t.patternProperties)[0],c=new RegExp(a),l={...o};for(let h of Object.getOwnPropertyNames(n))c.test(h)&&(l[h]=df(t.patternProperties[a],e,`${r}/${h}`,l[h]));if(!fo(t.additionalProperties))return l;let u=Object.getOwnPropertyNames(l),d=t.additionalProperties,A={...l};for(let h of u)c.test(h)||(A[h]=Sa(d,`${r}/${h}`,A[h]));return A}s(XYe,"FromRecord");function ZYe(t,e,r,n){let o=Vn(t,e),a=df(o,e,r,n);return Sa(t,r,a)}s(ZYe,"FromRef");function e$e(t,e,r,n){let o=Vn(t,e),a=df(o,e,r,n);return Sa(t,r,a)}s(e$e,"FromThis");function t$e(t,e,r,n){let o=Sa(t,r,n);return lr(t.items)?t.items.map((a,c)=>df(a,e,`${r}/${c}`,o[c])):[]}s(t$e,"FromTuple");function r$e(t,e,r,n){for(let o of t.anyOf){if(!an(o,e,n))continue;let a=df(o,e,r,n);return Sa(t,r,a)}for(let o of t.anyOf){let a=df(o,e,r,n);if(an(t,e,a))return Sa(t,r,a)}return Sa(t,r,n)}s(r$e,"FromUnion");function df(t,e,r,n){let o=ea(t,e),a=t;switch(t[Oe]){case"Array":return $Ye(a,o,r,n);case"Import":return zYe(a,o,r,n);case"Intersect":return jYe(a,o,r,n);case"Not":return KYe(a,o,r,n);case"Object":return JYe(a,o,r,n);case"Record":return XYe(a,o,r,n);case"Ref":return ZYe(a,o,r,n);case"This":return e$e(a,o,r,n);case"Tuple":return t$e(a,o,r,n);case"Union":return r$e(a,o,r,n);default:return Sa(a,r,n)}}s(df,"Visit");function av(t,e,r){return df(t,e,"",r)}s(av,"TransformEncode");f();function n$e(t,e){return Zn(t)||Ps(t.items,e)}s(n$e,"FromArray");function i$e(t,e){return Zn(t)||Ps(t.items,e)}s(i$e,"FromAsyncIterator");function o$e(t,e){return Zn(t)||Ps(t.returns,e)||t.parameters.some(r=>Ps(r,e))}s(o$e,"FromConstructor");function s$e(t,e){return Zn(t)||Ps(t.returns,e)||t.parameters.some(r=>Ps(r,e))}s(s$e,"FromFunction");function a$e(t,e){return Zn(t)||Zn(t.unevaluatedProperties)||t.allOf.some(r=>Ps(r,e))}s(a$e,"FromIntersect");function c$e(t,e){let r=globalThis.Object.getOwnPropertyNames(t.$defs).reduce((o,a)=>[...o,t.$defs[a]],[]),n=t.$defs[t.$ref];return Zn(t)||Ps(n,[...r,...e])}s(c$e,"FromImport");function l$e(t,e){return Zn(t)||Ps(t.items,e)}s(l$e,"FromIterator");function u$e(t,e){return Zn(t)||Ps(t.not,e)}s(u$e,"FromNot");function f$e(t,e){return Zn(t)||Object.values(t.properties).some(r=>Ps(r,e))||fo(t.additionalProperties)&&Ps(t.additionalProperties,e)}s(f$e,"FromObject");function d$e(t,e){return Zn(t)||Ps(t.item,e)}s(d$e,"FromPromise");function A$e(t,e){let r=Object.getOwnPropertyNames(t.patternProperties)[0],n=t.patternProperties[r];return Zn(t)||Ps(n,e)||fo(t.additionalProperties)&&Zn(t.additionalProperties)}s(A$e,"FromRecord");function h$e(t,e){return Zn(t)?!0:Ps(Vn(t,e),e)}s(h$e,"FromRef");function p$e(t,e){return Zn(t)?!0:Ps(Vn(t,e),e)}s(p$e,"FromThis");function m$e(t,e){return Zn(t)||!Xi(t.items)&&t.items.some(r=>Ps(r,e))}s(m$e,"FromTuple");function g$e(t,e){return Zn(t)||t.anyOf.some(r=>Ps(r,e))}s(g$e,"FromUnion");function Ps(t,e){let r=ea(t,e),n=t;if(t.$id&&VW.has(t.$id))return!1;switch(t.$id&&VW.add(t.$id),t[Oe]){case"Array":return n$e(n,r);case"AsyncIterator":return i$e(n,r);case"Constructor":return o$e(n,r);case"Function":return s$e(n,r);case"Import":return c$e(n,r);case"Intersect":return a$e(n,r);case"Iterator":return l$e(n,r);case"Not":return u$e(n,r);case"Object":return f$e(n,r);case"Promise":return d$e(n,r);case"Record":return A$e(n,r);case"Ref":return h$e(n,r);case"This":return p$e(n,r);case"Tuple":return m$e(n,r);case"Union":return g$e(n,r);default:return Zn(t)}}s(Ps,"Visit");var VW=new Set;function Rh(t,e){return VW.clear(),Ps(t,e)}s(Rh,"HasTransform");function Fpe(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]];if(!an(e,r,n))throw new iv(e,n,qd(e,r,n).First());return Rh(e,r)?ov(e,r,n):n}s(Fpe,"Decode");f();function kh(t,e){let r=cr(t,"default")?t.default:void 0,n=Tg(r)?r():Wn(r);return Xi(e)?n:en(e)&&en(n)?Object.assign(n,e):e}s(kh,"ValueOrDefault");function WW(t){return wg(t)&&"default"in t}s(WW,"HasDefaultProperty");function y$e(t,e,r){if(lr(r)){for(let o=0;o<r.length;o++)r[o]=T0(t.items,e,r[o]);return r}let n=kh(t,r);if(!lr(n))return n;for(let o=0;o<n.length;o++)n[o]=T0(t.items,e,n[o]);return n}s(y$e,"FromArray");function C$e(t,e,r){return I0(r)?r:kh(t,r)}s(C$e,"FromDate");function E$e(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return T0(o,[...e,...n],r)}s(E$e,"FromImport");function I$e(t,e,r){let n=kh(t,r);return t.allOf.reduce((o,a)=>{let c=T0(a,e,n);return en(c)?{...o,...c}:c},{})}s(I$e,"FromIntersect");function x$e(t,e,r){let n=kh(t,r);if(!en(n))return n;let o=Object.getOwnPropertyNames(t.properties);for(let a of o){let c=T0(t.properties[a],e,n[a]);Xi(c)||(n[a]=T0(t.properties[a],e,n[a]))}if(!WW(t.additionalProperties))return n;for(let a of Object.getOwnPropertyNames(n))o.includes(a)||(n[a]=T0(t.additionalProperties,e,n[a]));return n}s(x$e,"FromObject");function v$e(t,e,r){let n=kh(t,r);if(!en(n))return n;let o=t.additionalProperties,[a,c]=Object.entries(t.patternProperties)[0],l=new RegExp(a);for(let u of Object.getOwnPropertyNames(n))l.test(u)&&WW(c)&&(n[u]=T0(c,e,n[u]));if(!WW(o))return n;for(let u of Object.getOwnPropertyNames(n))l.test(u)||(n[u]=T0(o,e,n[u]));return n}s(v$e,"FromRecord");function b$e(t,e,r){return T0(Vn(t,e),e,kh(t,r))}s(b$e,"FromRef");function T$e(t,e,r){return T0(Vn(t,e),e,r)}s(T$e,"FromThis");function _$e(t,e,r){let n=kh(t,r);if(!lr(n)||Xi(t.items))return n;let[o,a]=[t.items,Math.max(t.items.length,n.length)];for(let c=0;c<a;c++)c<o.length&&(n[c]=T0(o[c],e,n[c]));return n}s(_$e,"FromTuple");function w$e(t,e,r){let n=kh(t,r);for(let o of t.anyOf){let a=T0(o,e,Wn(n));if(an(o,e,a))return a}return n}s(w$e,"FromUnion");function T0(t,e,r){let n=ea(t,e),o=t;switch(o[Oe]){case"Array":return y$e(o,n,r);case"Date":return C$e(o,n,r);case"Import":return E$e(o,n,r);case"Intersect":return I$e(o,n,r);case"Object":return x$e(o,n,r);case"Record":return v$e(o,n,r);case"Ref":return b$e(o,n,r);case"This":return T$e(o,n,r);case"Tuple":return _$e(o,n,r);case"Union":return w$e(o,n,r);default:return kh(o,r)}}s(T0,"Visit");function Mk(...t){return t.length===3?T0(t[0],t[1],t[2]):T0(t[0],[],t[1])}s(Mk,"Default");f();f();var Af={};Io(Af,{Delete:()=>B$e,Format:()=>Cw,Get:()=>k$e,Has:()=>R$e,Set:()=>S$e,ValuePointerRootDeleteError:()=>Uk,ValuePointerRootSetError:()=>Ok});f();var Ok=class extends ur{static{s(this,"ValuePointerRootSetError")}constructor(e,r,n){super("Cannot set root value"),this.value=e,this.path=r,this.update=n}},Uk=class extends ur{static{s(this,"ValuePointerRootDeleteError")}constructor(e,r){super("Cannot delete root value"),this.value=e,this.path=r}};function Lpe(t){return t.indexOf("~")===-1?t:t.replace(/~1/g,"/").replace(/~0/g,"~")}s(Lpe,"Escape");function*Cw(t){if(t==="")return;let[e,r]=[0,0];for(let n=0;n<t.length;n++)t.charAt(n)==="/"?(n===0||(r=n,yield Lpe(t.slice(e,r))),e=n+1):r=n;yield Lpe(t.slice(e))}s(Cw,"Format");function S$e(t,e,r){if(e==="")throw new Ok(t,e,r);let[n,o,a]=[null,t,""];for(let c of Cw(e))o[c]===void 0&&(o[c]={}),n=o,o=o[c],a=c;n[a]=r}s(S$e,"Set");function B$e(t,e){if(e==="")throw new Uk(t,e);let[r,n,o]=[null,t,""];for(let a of Cw(e)){if(n[a]===void 0||n[a]===null)return;r=n,n=n[a],o=a}if(Array.isArray(r)){let a=parseInt(o);r.splice(a,1)}else delete r[o]}s(B$e,"Delete");function R$e(t,e){if(e==="")return!0;let[r,n,o]=[null,t,""];for(let a of Cw(e)){if(n[a]===void 0)return!1;r=n,n=n[a],o=a}return Object.getOwnPropertyNames(r).includes(o)}s(R$e,"Has");function k$e(t,e){if(e==="")return t;let r=t;for(let n of Cw(e)){if(r[n]===void 0)return;r=r[n]}return r}s(k$e,"Get");f();function D$e(t,e){if(!en(e))return!1;let r=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],n=[...Object.keys(e),...Object.getOwnPropertySymbols(e)];return r.length!==n.length?!1:r.every(o=>$C(t[o],e[o]))}s(D$e,"ObjectType");function N$e(t,e){return I0(e)&&t.getTime()===e.getTime()}s(N$e,"DateType");function Q$e(t,e){return!lr(e)||t.length!==e.length?!1:t.every((r,n)=>$C(r,e[n]))}s(Q$e,"ArrayType");function P$e(t,e){return!Wl(e)||t.length!==e.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(e).constructor.name?!1:t.every((r,n)=>$C(r,e[n]))}s(P$e,"TypedArrayType");function F$e(t,e){return t===e}s(F$e,"ValueType");function $C(t,e){if(I0(t))return N$e(t,e);if(Wl(t))return P$e(t,e);if(lr(t))return Q$e(t,e);if(en(t))return D$e(t,e);if($c(t))return F$e(t,e);throw new Error("ValueEquals: Unable to compare value")}s($C,"Equal");var L$e=ti({type:Sn("insert"),path:v0(),value:sf()}),M$e=ti({type:Sn("update"),path:v0(),value:sf()}),O$e=ti({type:Sn("delete"),path:v0()}),Ope=ei([L$e,M$e,O$e]),Hk=class extends ur{static{s(this,"ValueDiffError")}constructor(e,r){super(r),this.value=e}};function qk(t,e){return{type:"update",path:t,value:e}}s(qk,"CreateUpdate");function Upe(t,e){return{type:"insert",path:t,value:e}}s(Upe,"CreateInsert");function Hpe(t){return{type:"delete",path:t}}s(Hpe,"CreateDelete");function Mpe(t){if(globalThis.Object.getOwnPropertySymbols(t).length>0)throw new Hk(t,"Cannot diff objects with symbols")}s(Mpe,"AssertDiffable");function*U$e(t,e,r){if(Mpe(e),Mpe(r),!WV(r))return yield qk(t,r);let n=globalThis.Object.getOwnPropertyNames(e),o=globalThis.Object.getOwnPropertyNames(r);for(let a of o)cr(e,a)||(yield Upe(`${t}/${a}`,r[a]));for(let a of n)cr(r,a)&&($C(e,r)||(yield*Gk(`${t}/${a}`,e[a],r[a])));for(let a of n)cr(r,a)||(yield Hpe(`${t}/${a}`))}s(U$e,"ObjectType");function*H$e(t,e,r){if(!lr(r))return yield qk(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*Gk(`${t}/${n}`,e[n],r[n]);for(let n=0;n<r.length;n++)n<e.length||(yield Upe(`${t}/${n}`,r[n]));for(let n=e.length-1;n>=0;n--)n<r.length||(yield Hpe(`${t}/${n}`))}s(H$e,"ArrayType");function*q$e(t,e,r){if(!Wl(r)||e.length!==r.length||globalThis.Object.getPrototypeOf(e).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield qk(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*Gk(`${t}/${n}`,e[n],r[n])}s(q$e,"TypedArrayType");function*G$e(t,e,r){e!==r&&(yield qk(t,r))}s(G$e,"ValueType");function*Gk(t,e,r){if(WV(e))return yield*U$e(t,e,r);if(lr(e))return yield*H$e(t,e,r);if(Wl(e))return yield*q$e(t,e,r);if($c(e))return yield*G$e(t,e,r);throw new Hk(e,"Unable to diff value")}s(Gk,"Visit");function qpe(t,e){return[...Gk("",t,e)]}s(qpe,"Diff");function V$e(t){return t.length>0&&t[0].path===""&&t[0].type==="update"}s(V$e,"IsRootUpdate");function W$e(t){return t.length===0}s(W$e,"IsIdentity");function Gpe(t,e){if(V$e(e))return Wn(e[0].value);if(W$e(e))return Wn(t);let r=Wn(t);for(let n of e)switch(n.type){case"insert":{Af.Set(r,n.path,n.value);break}case"update":{Af.Set(r,n.path,n.value);break}case"delete":{Af.Delete(r,n.path);break}}return r}s(Gpe,"Patch");f();function Vpe(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]],o=Rh(e,r)?av(e,r,n):n;if(!an(e,r,o))throw new sv(e,o,qd(e,r,o).First());return o}s(Vpe,"Encode");f();function Vk(t){return en(t)&&!lr(t)}s(Vk,"IsStandardObject");var Wk=class extends ur{static{s(this,"ValueMutateError")}constructor(e){super(e)}};function Y$e(t,e,r,n){if(!Vk(r))Af.Set(t,e,Wn(n));else{let o=Object.getOwnPropertyNames(r),a=Object.getOwnPropertyNames(n);for(let c of o)a.includes(c)||delete r[c];for(let c of a)o.includes(c)||(r[c]=null);for(let c of a)YW(t,`${e}/${c}`,r[c],n[c])}}s(Y$e,"ObjectType");function $$e(t,e,r,n){if(!lr(r))Af.Set(t,e,Wn(n));else{for(let o=0;o<n.length;o++)YW(t,`${e}/${o}`,r[o],n[o]);r.splice(n.length)}}s($$e,"ArrayType");function z$e(t,e,r,n){if(Wl(r)&&r.length===n.length)for(let o=0;o<r.length;o++)r[o]=n[o];else Af.Set(t,e,Wn(n))}s(z$e,"TypedArrayType");function j$e(t,e,r,n){r!==n&&Af.Set(t,e,n)}s(j$e,"ValueType");function YW(t,e,r,n){if(lr(n))return $$e(t,e,r,n);if(Wl(n))return z$e(t,e,r,n);if(Vk(n))return Y$e(t,e,r,n);if($c(n))return j$e(t,e,r,n)}s(YW,"Visit");function Wpe(t){return Wl(t)||$c(t)}s(Wpe,"IsNonMutableValue");function K$e(t,e){return Vk(t)&&lr(e)||lr(t)&&Vk(e)}s(K$e,"IsMismatchedValue");function Ype(t,e){if(Wpe(t)||Wpe(e))throw new Wk("Only object and array types can be mutated at the root level");if(K$e(t,e))throw new Wk("Cannot assign due type mismatch of assignable values");YW(t,"",t,e)}s(Ype,"Mutate");f();var Yk=class extends ur{static{s(this,"ParseError")}constructor(e){super(e)}},$W;(function(t){let e=new Map([["Assert",(a,c,l)=>(Nk(a,c,l),l)],["Cast",(a,c,l)=>mw(a,c,l)],["Clean",(a,c,l)=>Pk(a,c,l)],["Clone",(a,c,l)=>Wn(l)],["Convert",(a,c,l)=>Lk(a,c,l)],["Decode",(a,c,l)=>Rh(a,c)?ov(a,c,l):l],["Default",(a,c,l)=>Mk(a,c,l)],["Encode",(a,c,l)=>Rh(a,c)?av(a,c,l):l]]);function r(a){e.delete(a)}s(r,"Delete"),t.Delete=r;function n(a,c){e.set(a,c)}s(n,"Set"),t.Set=n;function o(a){return e.get(a)}s(o,"Get"),t.Get=o})($W||($W={}));var $pe=["Clone","Clean","Default","Convert","Assert","Decode"];function J$e(t,e,r,n){return t.reduce((o,a)=>{let c=$W.Get(a);if(Xi(c))throw new Yk(`Unable to find Parse operation '${a}'`);return c(e,r,o)},n)}s(J$e,"ParseValue");function zpe(...t){let[e,r,n,o]=t.length===4?[t[0],t[1],t[2],t[3]]:t.length===3?lr(t[0])?[t[0],t[1],[],t[2]]:[$pe,t[0],t[1],t[2]]:t.length===2?[$pe,t[0],[],t[1]]:(()=>{throw new Yk("Invalid Arguments")})();return J$e(e,r,n,o)}s(zpe,"Parse");f();var Fg={};Io(Fg,{Assert:()=>Nk,Cast:()=>mw,Check:()=>an,Clean:()=>Pk,Clone:()=>Wn,Convert:()=>Lk,Create:()=>eu,Decode:()=>Fpe,Default:()=>Mk,Diff:()=>qpe,Edit:()=>Ope,Encode:()=>Vpe,Equal:()=>$C,Errors:()=>qd,Hash:()=>Qg,Mutate:()=>Ype,Parse:()=>zpe,Patch:()=>Gpe,ValueErrorIterator:()=>Pg});f();var X$e="gpt-4o-copilot",zC=class t{constructor(e,r=!0){this._ctx=e;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&G0(this._ctx,n=>this.refreshAvailableModels(n))}static{s(this,"AvailableModelsManager")}async refreshAvailableModels(e){await this.refreshModels(e);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(e){this.onModelsFetchedCallbacks.push(e)}getDefaultModelId(){if(this.fetchedModelData){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(e)return e.id}return X$e}parseModelsResponse(e){try{return Fg.Parse(ape,e)}catch(r){Qo.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(e){let r=await this.fetchModels(e);r&&(this.fetchedModelData=r)}async fetchModels(e){return this.customModels=e.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=e.getTokenValue("editor_preview_features")=="0",await this.fetch(e)}async fetch(e){let r=await OV(this._ctx,"/models",e);return r.ok?this.parseModelsResponse(await r.json())?.data??[]:(Qo.error(this._ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),null)}getGenericCompletionModels(){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return t.mapCompletionModels(e)}getTokenizerForModel(e){let n=this.getGenericCompletionModels().find(o=>o.modelId===e);return n?n.tokenizer:"o200k_base"}static filterCompletionModels(e,r){return e.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(e,r){return e.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(e){return e.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview,tokenizer:r.capabilities.tokenizer}))}getCurrentModelRequestInfo(e=void 0){let r=this.getDefaultModelId(),n=cpe(this._ctx);if(n){let l=this.getGenericCompletionModels().map(u=>u.modelId);l.includes(n)||(l.length>0&&Qo.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let o=Zo(this._ctx,Ft.DebugOverrideEngine)||Zo(this._ctx,Ft.DebugOverrideEngineLegacy);if(o)return new Lg(o,"override");let a=e?this._ctx.get(Sr).customEngine(e):"",c=e?this._ctx.get(Sr).customEngineTargetEngine(e):void 0;return n?a&&c&&n===c?new Lg(a,"exp"):new Lg(n,"modelpicker"):a?new Lg(a,"exp"):this.customModels.length>0?new Lg(this.customModels[0],"custommodel"):new Lg(r,"default")}},Lg=class{constructor(e,r){this.modelId=e;this.modelChoiceSource=r}static{s(this,"ModelRequestInfo")}get headers(){return{}}};function Iw(t,e=void 0){let r=t.get(zC),n=r.getCurrentModelRequestInfo(e),o=r.getTokenizerForModel(n.modelId);return{headers:n.headers,modelId:n.modelId,engineChoiceSource:n.modelChoiceSource,tokenizer:o}}s(Iw,"getEngineRequestInfo");f();f();var na=class{static{s(this,"FileSystem")}};var dme=Et(fme());function Ame(t){if(t===void 0||t===0)return"";let e=xw(t);if(e==="github/github")return e;let r=bze(t)?.toLowerCase();return r!==void 0?r:""}s(Ame,"getDogFood");function xw(t){if(t!==void 0&&t!==0&&t.hostname==="github.com")return t.owner+"/"+t.repo}s(xw,"tryGetGitHubNWO");function bze(t){if(t!==void 0&&t!==0&&(t.hostname.endsWith("azure.com")||t.hostname.endsWith("visualstudio.com")))return t.owner+"/"+t.repo}s(bze,"tryGetADONWO");function JW(t,e){let r=YA(e);return Tze(t,r)}s(JW,"extractRepoInfoInBackground");var Tze=Rze(_ze,1e4);async function _ze(t,e){let r=nre(e);if(!r)return;let n=await Sze(t,r);if(!n)return;let o=t.get(na),a=$s(n,".git","config"),c;try{c=await o.readFileString(a)}catch{return}let l=Bze(c)??"",u=wze(l),d={uri:n};return u===void 0?{baseFolder:d,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:d,url:l,...u}}s(_ze,"extractRepoInfo");function wze(t){let e;try{if(e=(0,dme.default)(t),e.resource==""||e.owner==""||e.name==""||e.pathname=="")return}catch{return}return{hostname:e.resource,owner:e.owner,repo:e.name,pathname:e.pathname}}s(wze,"parseRepoUrl");async function Sze(t,e){let r=e+"_add_to_make_longer",n=t.get(na);for(;e!=="file:///"&&e.length<r.length;){let o=$s(e,".git","config"),a=!1;try{await n.stat(o),a=!0}catch{a=!1}if(a)return e;r=e,e=YA(e)}}s(Sze,"getRepoBaseUri");function Bze(t){let e=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,o=/^\s*\[/,a,c,l=!1;for(let u of t.split(`
`))if(l&&a!==void 0){if(a+=u,u.endsWith("\\"))a=a.substring(0,a.length-1);else if(l=!1,c==="origin")return a}else{let d=u.match(e)??u.match(r);if(d)c=d[1];else if(u.match(o))c=void 0;else{if(a&&c!=="origin")continue;{let A=u.match(n);if(A){if(a=A[1],a.endsWith("\\"))a=a.substring(0,a.length-1),l=!0;else if(c==="origin")return a}}}}return a}s(Bze,"getRepoUrlFromConfigText");var KW=class{static{s(this,"CompletedComputation")}constructor(e){this.result=e}};function Rze(t,e){let r=new mn(e),n=new Set;return(o,...a)=>{let c=JSON.stringify(a),l=r.get(c);if(l)return l.result;if(n.has(c))return 0;let u=t(o,...a);return n.add(c),u.then(d=>{r.set(c,new KW(d)),n.delete(c)}),0}}s(Rze,"computeInBackgroundAndMemoize");f();var vw=500,hme=8192-vw,pme=4,$k=10,mme=1e3*5,zk={prefix:35,suffix:15,stableContext:35,volatileContext:15},kze={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function bw(t){return t=t.toLowerCase(),kze[t]??t}s(bw,"normalizeLanguageId");var XW=class{constructor(e){this.ctx=e;this.cache=new mn(200)}static{s(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(e,r){let n=e.stringify()+`
`+JSON.stringify(r),o=this.cache.get(n);return o||(o=new ZW(()=>this.ctx.get(Ly).fetchExperiments(this.ctx,r,e.toHeaders()),1e3*60*60),this.cache.set(n,o)),o.run()}getCachedExpConfig(e){return this.cache.get(e.stringify())?.value()}},ZW=class{constructor(e,r=1/0){this.producer=e;this.expirationMs=r}static{s(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(e){try{this.result=await e}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Nze(t){return"uri"in t}s(Nze,"isCompletionsFiltersInfo");var Sr=class t{constructor(e){this.ctx=e;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new XW(this.ctx)}static{s(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(e){Object.assign(this.staticFilters,e)}registerDynamicFilter(e,r){this.dynamicFilters[e]=r}registerDynamicFilterGroup(e){this.dynamicFilterGroups.push(e)}getDynamicFilterValues(){let e={};for(let r of this.dynamicFilterGroups)Object.assign(e,r());for(let[r,n]of Object.entries(this.dynamicFilters))e[r]=n();return e}registerUpcomingDynamicFilter(e,r){this.upcomingDynamicFilters[e]=r}async updateExPValuesAndAssignments(e,r,n=nn.createAndMarkAsIssued()){if(n instanceof Tw)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let o=r&&Nze(r)?JW(this.ctx,r.uri):void 0,a=xw(o)??"",c=Ame(o)??"",l=r?.languageId??"",u=Iw(this.ctx).modelId,d=Oee(e),A=e.getTokenValue("ft")??"",h=e.getTokenValue("ol")??"",p=e.getTokenValue("cml")??"",y=e.getTokenValue("tid")??"",E=e.endpoints,v={"X-Copilot-Repository":a,"X-Copilot-FileType":l,"X-Copilot-UserKind":d,"X-Copilot-Dogfood":c,"X-Copilot-Engine":u,"X-Copilot-CustomModel":A,"X-Copilot-Orgs":h,"X-Copilot-CustomModelNames":p,"X-Copilot-CopilotTrackingId":y},w=this.getGranularityDirectory(),_=this.makeFilterSettings(v),S=w.extendFilters(_),D=await this.getExpConfig(S.newFilterSettings,E);w.update(_,+(D.variables.copilotbycallbuckets??NaN),+(D.variables.copilottimeperiodsizeinh??NaN));let N=w.extendFilters(_),P=N.newFilterSettings,O=await this.getExpConfig(P,E),$=new Promise(ne=>setTimeout(ne,t.upcomingDynamicFilterCheckDelayMs));for(let ne of N.otherFilterSettingsToPrefetch)$=$.then(async()=>{await new Promise(oe=>setTimeout(oe,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(ne,E)});return this.prepareForUpcomingFilters(P,E),new Tw(n.properties,n.measurements,n.issuedTime,{filters:P,exp:O})}async fetchTokenAndUpdateExPValuesAndAssignments(e,r){let n=await this.ctx.get(Ei).getToken();return await this.updateExPValuesAndAssignments(n,e,r)}getGranularityDirectory(){if(!this.granularityDirectory){let e=this.ctx.get(Ys).machineId;this.granularityDirectory=new fR(e,this.ctx.get(Fy))}return this.granularityDirectory}makeFilterSettings(e){return new My({...this.staticFilters,...this.getDynamicFilterValues(),...e})}async getExpConfig(e,r){try{return this.assignments.fetchExpConfig(e,r)}catch(n){return Vu.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(n)}`)}}async prepareForUpcomingFilters(e,r){if(!(new Date().getMinutes()<60-t.upcomingTimeBucketMinutes))for(let[n,o]of Object.entries(this.upcomingDynamicFilters))await new Promise(a=>setTimeout(a,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(e.withChange(n,o()),r)}stringify(){let e=this.assignments.getCachedExpConfig(new My({}));return JSON.stringify(e?.variables??{})}async getFallbackExpAndFilters(){let e=this.makeFilterSettings({}),r=m6(this.ctx),n=await this.getExpConfig(e,r);return{filters:e,exp:n}}disableLogProb(e){return e.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(e){return e.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(e){return e.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(e){return e.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(e){return e.filtersAndExp.exp.variables.CopilotSuffixPercent??zk.suffix}suffixMatchThreshold(e){return e.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??$k}cppHeadersEnableSwitch(e){return e.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}contextProviders(e){let r=e.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}contextProviderTimeBudget(e){return e.filtersAndExp.exp.variables.copilotcontextprovidertimebudget??150}includeNeighboringFiles(e){return e.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}excludeRelatedFiles(e){return e.filtersAndExp.exp.variables.copilotexcluderelatedfiles??!1}maxPromptCompletionTokens(e){return e.filtersAndExp.exp.variables.maxpromptcompletionTokens??hme+vw}ideChatMaxRequestTokens(e){return e.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(e){return e.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(e){return e.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}workspaceContextCoordinator(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextcoordinator??!1}workspaceContextCacheTime(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextcachetime??mme}stableContextPercent(e){return e.filtersAndExp.exp.variables.copilotstablecontextpercent??zk.stableContext}volatileContextPercent(e){return e.filtersAndExp.exp.variables.copilotvolatilecontextpercent??zk.volatileContext}cppContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotjavacontextproviderparams}multiLanguageContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotmultilanguagecontextproviderparams}tsContextProviderParams(e){return e.filtersAndExp.exp.variables.copilottscontextproviderparams}completionsDebounce(e){return e.filtersAndExp.exp.variables.copilotcompletionsdebounce}enableElectronFetcher(e){return e.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(e){return e.filtersAndExp.exp.variables.copilotasynccompletionstimeout??200}enablePromptContextProxyField(e){return e.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(e){return e.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(e){return e.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!0}longLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??9}shortLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}maxMultilineTokens(e){return e.filtersAndExp.exp.variables.copilotmaxmultilinetokens??200}multilineAfterAcceptLines(e){return e.filtersAndExp.exp.variables.copilotmultilineafteracceptlines??1}enableNESXTab(e){return e.filtersAndExp.exp.variables.copilotnesxtab??!1}getNESXTabModelID(e){return e.filtersAndExp.exp.variables.copilotnesxtabmodelid??"copilot-nes-xtab"}completionsDelay(e){return e.filtersAndExp.exp.variables.copilotcompletionsdelay??200}singleLineUnlessAccepted(e){return e.filtersAndExp.exp.variables.copilotsinglelineunlessaccepted??!1}useCompletionsComparisonPanel(e){return e.filtersAndExp.exp.variables.copilotusecompletionscomparisonpanel??!1}comparisonPanelModelIds(e){return e.filtersAndExp.exp.variables.copilotcomparisonpanelmodelids??""}comparisonPanelRandomizedMode(e){return e.filtersAndExp.exp.variables.copilotcomparisonpanelrandomizedmode??!0}};f();f();f();var jk=Et(gme());var tY={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c-sharp",java:"java",php:"php",c:"cpp",cpp:"cpp"};function _w(t){return t in tY&&t!=="csharp"&&t!=="java"&&t!=="php"&&t!=="c"&&t!=="cpp"}s(_w,"isSupportedLanguageId");function yme(t){if(!(t in tY))throw new Error(`Unrecognized language: ${t}`);return tY[t]}s(yme,"languageIdToWasmLanguage");var eY=new Map;async function Qze(t){let e;try{e=await Tk(`tree-sitter-${t}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new Zx(`Could not load tree-sitter-${t}.wasm`,r):r}return jk.default.Language.load(e)}s(Qze,"loadWasmLanguage");function Pze(t){let e=yme(t);if(!eY.has(e)){let r=Qze(e);eY.set(e,r)}return eY.get(e)}s(Pze,"getLanguage");var rY=class extends Error{static{s(this,"WrappedError")}constructor(e,r){super(e,{cause:r})}};async function cv(t,e){return(await nY(t,e))[0]}s(cv,"parseTreeSitter");async function nY(t,e){await jk.default.init({locateFile:s(a=>vW(a),"locateFile")});let r;try{r=new jk.default}catch(a){throw a&&typeof a=="object"&&"message"in a&&typeof a.message=="string"&&a.message.includes("table index is out of bounds")?new rY(`Could not init Parse for language <${t}>`,a):a}let n=await Pze(t);r.setLanguage(n);let o=r.parse(e);return r.delete(),[o,n.version]}s(nY,"parseTreeSitterIncludingVersion");function Fze(t,e){let r=[];for(let n of t){if(!n[1]){let o=e.tree.getLanguage();n[1]=o.query(n[0])}r.push(...n[1].matches(e))}return r}s(Fze,"innerQuery");var Lze=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Cme(t){return Fze([Lze],t).length==1}s(Cme,"queryPythonIsDocstring");var Gd=class{constructor(e){this.node=e;this.children=[];this.collapsed=!1}static{s(this,"StatementNode")}addChild(e){e.parent=this,e.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=e),this.children.push(e)}childrenFinished(){}containsStatement(e){return this.node.startIndex<=e.node.startIndex&&this.node.endIndex>=e.node.endIndex}statementAt(e){if(this.node.startIndex>e||this.node.endIndex<e)return;let r;return this.children.find(n=>(r=n.statementAt(e),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(e="",r=""){let n=[`${e}${this.description}`];return this.children.forEach(o=>{n.push(o.dump(`${r}+- `,o.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(e="",r="",n=!1){if(this.parent){let o=this.parent.dumpPath(e,r,!0),a=o.length-o.lastIndexOf(`
`)-1-r.length,c=" ".repeat(a),l=n?`
${r}${c}+- `:"";return o+this.description+l}else{let o=n?`
${r}+- `:"";return e+this.description+o}}},Ba=class{constructor(e,r,n,o){this.languageId=e;this.text=r;this.startOffset=n;this.endOffset=o;this.statements=[]}static{s(this,"StatementTree")}static isSupported(e){return lv.languageIds.has(e)||uv.languageIds.has(e)||ww.languageIds.has(e)||fv.languageIds.has(e)||Sw.languageIds.has(e)||Bw.languageIds.has(e)||Rw.languageIds.has(e)||kw.languageIds.has(e)||Dw.languageIds.has(e)}static isTrimmedByDefault(e){return lv.languageIds.has(e)||uv.languageIds.has(e)||fv.languageIds.has(e)}static create(e,r,n,o){if(lv.languageIds.has(e))return new lv(e,r,n,o);if(uv.languageIds.has(e))return new uv(e,r,n,o);if(ww.languageIds.has(e))return new ww(e,r,n,o);if(fv.languageIds.has(e))return new fv(e,r,n,o);if(Rw.languageIds.has(e))return new Rw(e,r,n,o);if(Sw.languageIds.has(e))return new Sw(e,r,n,o);if(Bw.languageIds.has(e))return new Bw(e,r,n,o);if(kw.languageIds.has(e))return new kw(e,r,n,o);if(Dw.languageIds.has(e))return new Dw(e,r,n,o);throw new Error(`Unsupported languageId: ${e}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(e){let r;return this.statements.find(n=>(r=n.statementAt(e),r!==void 0)),r}async build(){let e=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,{startPosition:this.offsetToPosition(this.startOffset),endPosition:this.offsetToPosition(this.endOffset)}).forEach(o=>{let a=this.createNode(o.node);for(;e.length>0&&!e[0].containsStatement(a);)e.shift()?.childrenFinished();e.length>0?e[0].addChild(a):this.addStatement(a),e.unshift(a)}),e.forEach(o=>o.childrenFinished())}addStatement(e){e.parent=void 0,e.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=e),this.statements.push(e)}async parse(){return this.tree||(this.tree=await cv(this.languageId,this.text)),this.tree}getStatementQuery(e){return this.getQuery(e.getLanguage(),this.getStatementQueryText())}getQuery(e,r){return e.query(r)}offsetToPosition(e){let r=this.text.slice(0,e).split(`
`),n=r.length-1,o=r[r.length-1].length;return{row:n,column:o}}dump(e=""){let r=[];return this.statements.forEach((n,o)=>{let a=`[${o}]`,c=" ".repeat(a.length);r.push(n.dump(`${e} ${a} `,`${e} ${c} `))}),r.join(`
`)}},Kk=class t extends Gd{static{s(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("alternative")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},lv=class extends Ba{static{s(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx"])}createNode(e){return new Kk(e)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (field_definition)
        ] @statement`}},uv=class extends Ba{static{s(this,"TSStatementTree")}static{this.languageIds=new Set(["typescript","typescriptreact"])}createNode(e){return new Kk(e)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},iY=class t extends Gd{static{s(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},ww=class extends Ba{static{s(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(e){return new iY(e)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},oY=class t extends Gd{static{s(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},fv=class extends Ba{static{s(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(e){return new oY(e)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},sY=class t extends Gd{static{s(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},Sw=class extends Ba{static{s(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(e){return new sY(e)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},aY=class t extends Gd{static{s(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},Bw=class extends Ba{static{s(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(e){return new aY(e)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},cY=class t extends Gd{static{s(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},Rw=class extends Ba{static{s(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(e){return new cY(e)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},lY=class t extends Gd{static{s(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},kw=class extends Ba{static{s(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(e){return new lY(e)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}},uY=class t extends Gd{static{s(this,"CStatementNode")}static{this.compoundTypeNames=new Set(["declaration","function_definition","enum_specifier","field_declaration_list","type_definition","compound_statement","if_statement","switch_statement","while_statement","for_statement","do_statement","preproc_if","preproc_ifdef","namespace_definition","class_specifier","field_declaration_list","concept_definition","template_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){(this.isSingleLineDeclarationStatement()||this.isSingleLineConceptDefinition())&&this.collapse()}isSingleLineDeclarationStatement(){return!(this.node.type!=="declaration"||this.node.startPosition.row!==this.node.endPosition.row)}isSingleLineConceptDefinition(){return!(this.node.type!=="concept_definition"||this.node.startPosition.row!==this.node.endPosition.row)}},Dw=class extends Ba{static{s(this,"CStatementTree")}static{this.languageIds=new Set(["c","cpp"])}createNode(e){return new uY(e)}getStatementQueryText(){return`[
            (declaration)
            (function_definition)
            (type_definition)
            (field_declaration)
            (enum_specifier)
            (return_statement)
            (compound_statement)
            (if_statement)
            (expression_statement)
            (switch_statement)
            (break_statement)
            (case_statement)
            (while_statement)
            (for_statement)
            (do_statement)
            (goto_statement)
            (labeled_statement)
            (preproc_if)
            (preproc_def)
            (preproc_ifdef)
            (preproc_include)
            (preproc_call)
            (preproc_function_def)
            (continue_statement)

            ;C++ specific:
            (namespace_definition)
            (class_specifier)
            (field_declaration_list)
            (field_declaration)
            (concept_definition)
            (compound_requirement)
            (template_declaration)
            (using_declaration)
            (alias_declaration)
            (static_assert_declaration)
        ] @statement`}};var Nw=class{constructor(e,r,n){this.languageId=e;this.prefix=r;this.completion=n}static{s(this,"BlockTrimmer")}static isSupported(e){return Ba.isSupported(e)}static isTrimmedByDefault(e){return Ba.isTrimmedByDefault(e)}async withParsedStatementTree(e){var n=[];try{let r=Fee(n,Ba.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await e(r)}catch(o){var a=o,c=!0}finally{Lee(n,a,c)}}trimmedCompletion(e){return e===void 0?this.completion:this.completion.substring(0,e)}getStatementAtCursor(e){return e.statementAt(Math.max(this.prefix.length-1,0))??e.statements[0]}getContainingBlockOffset(e){let r;if(e&&this.isCompoundStatement(e))r=e;else if(e){let n=e.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(e){if(!e||!e.nextSibling)return!1;let r=this.asCompletionOffset(e.node.endIndex),n=this.asCompletionOffset(e.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(e){return e===void 0?void 0:e-this.prefix.length}isCompoundStatement(e){return e.isCompoundStatementType||e.children.length>0}};f();var REr=ee.Object({proxy:ee.Optional(ee.String()),proxyStrictSSL:ee.Optional(ee.Boolean()),proxyAuthorization:ee.Optional(ee.String()),proxyKerberosServicePrincipal:ee.Optional(ee.String())});var dv={};Io(dv,{activationEvents:()=>nje,badges:()=>rje,browser:()=>ije,bugs:()=>zze,build:()=>qze,buildType:()=>Gze,categories:()=>eje,contributes:()=>fY,default:()=>fje,dependencies:()=>lje,description:()=>Uze,devDependencies:()=>cje,displayName:()=>Oze,enabledApiProposals:()=>sje,engines:()=>Zze,extensionPack:()=>Xze,homepage:()=>Yze,icon:()=>Kze,keywords:()=>tje,license:()=>$ze,main:()=>oje,name:()=>Mze,overrides:()=>uje,preview:()=>Wze,pricing:()=>Jze,publisher:()=>Vze,qna:()=>jze,scripts:()=>aje,version:()=>Hze});var Mze="copilot",Oze="GitHub Copilot",Uze="Your AI pair programmer",Hze="1.372.0",qze="1785",Gze="prod",Vze="GitHub",Wze=!1,Yze="https://github.com/features/copilot?editor=vscode",$ze="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",zze={url:"https://github.com/microsoft/vscode/issues"},jze="https://github.com/github-community/community/discussions/categories/copilot",Kze="assets/Copilot-App-Icon.png",Jze="Trial",Xze=["GitHub.copilot-chat","GitHub.copilot"],Zze={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},eje=["AI","Chat","Programming Languages","Machine Learning"],tje=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],rje=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],nje=["onStartupFinished"],ije="./dist/web",oje="./dist/extension",sje=["inlineCompletionsAdditions"],fY={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.generateComparison",title:"Open Comparison Panel",enablement:"github.copilot.activated && !isWeb && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.acceptCursorComparisonPanelSolution",title:"Accept Comparison Panel Suggestion at the Cursor",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.previousComparisonPanelSolution",title:"Navigate to the Previous Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.nextComparisonPanelSolution",title:"Navigate to the Next Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github-copilot-completions-debugger-view.refresh",title:"Refresh",icon:"$(refresh)"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.acceptCursorComparisonPanelSolution",key:"ctrl+shift+/",mac:"ctrl+shift+/",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.previousComparisonPanelSolution",key:"alt+shift+[",mac:"alt+shift+[",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.nextComparisonPanelSolution",key:"alt+shift+]",mac:"alt+shift+]",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completions Model"__ command or open the model picker (from the Copilot menu in the VS Code title bar, select __"Configure Code Completions"__ then __"Change Completions Model"__. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable auto triggering of Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers). You can still trigger suggestions manually using `Alt + \\`"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}],viewsContainers:{activitybar:[{id:"github-copilot-completions-debugger-panel",title:"Debugger",icon:"$(bug)",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator"}]},views:{"github-copilot-completions-debugger-panel":[{id:"github-copilot-completions-debugger-view",name:"Debugger",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator",icon:"$(bug)"}]},menus:{"view/title":[{command:"github-copilot-completions-debugger-view.refresh",when:"view == github-copilot-completions-debugger-view",group:"navigation"}]}},aje={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/deviceFlow.ts --save-as-test-token",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"test:prepare-msbench":"tsx script/setupMsbench.ts","test:run-msbench":"tsx lsp-client/test/msbench/agent/index.ts","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},cje={"@azure/identity":"^4.11.0","@azure/keyvault-secrets":"^4.10.0","@datadog/datadog-ci":"^3.17.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^8.0.0","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/markdown-it":"^14.1.2","@types/mocha":"^10.0.10","@types/node":"~20.16.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.6.0","@yao-pkg/pkg":"^6.6.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^17.0.1",electron:"^28.1.4",esbuild:"^0.25.8","esbuild-plugin-copy":"^2.1.1",eslint:"^9.32.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",glob:"^11.0.3",globals:"^16.3.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.2.0",proxy:"^2.1.1","simple-git":"^3.28.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.9.2","typescript-eslint":"^8.39.1","vscode-dts":"^0.3.3","@vscode/tree-sitter-wasm":"0.0.5-php.2"},lje={"@adobe/helix-fetch":"github:devm33/helix-fetch#2a08fa939591a0e14f34f611adcc3ed767579e9a","@anthropic-ai/sdk":"^0.56.0","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.9","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.17.0","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.39","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^8.0.2",dldr:"^0.0.10",events:"^3.3.0","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.3","markdown-it":"^14.1.0",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.2.0","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.23.0","windows-ca-certs":"^0.2.2",yargs:"^17.7.2"},uje={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},fje={name:Mze,displayName:Oze,description:Uze,version:Hze,build:qze,buildType:Gze,publisher:Vze,preview:Wze,homepage:Yze,license:$ze,bugs:zze,qna:jze,icon:Kze,pricing:Jze,extensionPack:Xze,engines:Zze,categories:eje,keywords:tje,badges:rje,activationEvents:nje,browser:ije,main:oje,enabledApiProposals:sje,contributes:fY,scripts:aje,devDependencies:cje,dependencies:lje,overrides:uje};var Ft={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",ToolConfirmAutoApprove:"agent.toolConfirmAutoApprove",MaxToolCallingLoop:"agent.maxToolCallingLoop",CompletionsDelay:"completionsDelay",CompletionsDebounce:"completionsDebounce",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",UseWorkspaceContextCoordinator:"internal.useWorkspaceContextCoordinator",ShowWorkspaceContextDebugger:"internal.showWorkspaceContextDebugger",IncludeNeighboringFiles:"internal.includeNeighboringFiles",ExcludeRelatedFiles:"internal.excludeRelatedFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",NESXTab:"internal.useXTab",UseSplitContextPrompt:"internal.useSplitContextPrompt",UseCompletionsComparisonPanel:"internal.useCompletionsComparisonPanel",ComparisonPanelModelIds:"internal.comparisonPanelModelIds",ComparisonPanelRandomizedMode:"internal.comparisonPanelRandomizedMode"};var hv=class{static{s(this,"BlockModeConfig")}},Jk=class extends hv{static{s(this,"ConfigBlockModeConfig")}forLanguage(e,r,n){let o=e.get(Sr).overrideBlockMode(n);if(o)return dY(o,r);let a=e.get(Sr).enableProgressiveReveal(n);return(Zo(e,Ft.AlwaysRequestMultiline)??a)||Nw.isTrimmedByDefault(r)?dY("moremultiline",r):r=="ruby"?"parsing":_w(r)?"parsingandserver":"server"}};function dje(t){return["parsing","parsingandserver","moremultiline"].includes(t)}s(dje,"blockModeRequiresTreeSitter");function dY(t,e){return t==="moremultiline"&&Ba.isSupported(e)?t:dje(t)&&!_w(e)?"server":t}s(dY,"toApplicableBlockMode");var W0=class{static{s(this,"ConfigProvider")}requireReady(){return Promise.resolve()}},Xk=class extends W0{constructor(){super(...arguments);this.onDidChangeCopilotSettings=s(()=>({dispose:s(()=>{},"dispose")}),"onDidChangeCopilotSettings");this.onDidChangeHttpSettings=this.onDidChangeCopilotSettings}static{s(this,"DefaultsOnlyConfigProvider")}getConfig(r){return hje(r)}getOptionalConfig(r){return pje(r)}dumpForTelemetry(){return{}}getHttpSettings(){return{proxy:""}}};function Aje(t){return t?.type==="object"&&"properties"in t}s(Aje,"isContributesObject");function hje(t){if(Av.has(t))return Av.get(t);throw new Error(`Missing config default value: ${FT}.${t}`)}s(hje,"getConfigDefaultForKey");function pje(t){return Av.get(t)}s(pje,"getOptionalConfigDefaultForKey");var Av=new Map([[Ft.DebugOverrideCppHeadersEnableSwitch,!1],[Ft.RelatedFilesVSCodeCSharp,!1],[Ft.RelatedFilesVSCodeTypeScript,!1],[Ft.RelatedFilesVSCode,!1],[Ft.IncludeNeighboringFiles,!1],[Ft.ExcludeRelatedFiles,!1],[Ft.ContextProviders,[]],[Ft.DebugUseEditorFetcher,null],[Ft.DebugUseElectronFetcher,null],[Ft.DebugOverrideLogLevels,{}],[Ft.DebugSnippyOverrideUrl,""],[Ft.FetchStrategy,"auto"],[Ft.ToolConfirmAutoApprove,!1],[Ft.MaxToolCallingLoop,25],[Ft.UseSubsetMatching,null],[Ft.ContextProviderTimeBudget,void 0],[Ft.DebugOverrideCapiUrl,""],[Ft.DebugTestOverrideCapiUrl,""],[Ft.DebugOverrideProxyUrl,""],[Ft.DebugTestOverrideProxyUrl,""],[Ft.DebugOverrideEngine,""],[Ft.AlwaysRequestMultiline,void 0],[Ft.ModelAlwaysTerminatesSingleline,void 0],[Ft.TrimCompletionsAggressively,void 0],[Ft.CompletionsDebounce,void 0],[Ft.NESXTab,void 0],[Ft.UseWorkspaceContextCoordinator,void 0],[Ft.ShowWorkspaceContextDebugger,!1],[Ft.CompletionsDelay,void 0],[Ft.UseSplitContextPrompt,void 0],[Ft.UseCompletionsComparisonPanel,void 0],[Ft.ComparisonPanelModelIds,void 0],[Ft.ComparisonPanelRandomizedMode,void 0],[Ft.ShowEditorCompletions,void 0],[Ft.EnableAutoCompletions,void 0],[Ft.DelayCompletions,void 0],[Ft.FilterCompletions,void 0]]);for(let t of Object.values(Ft)){let e=fY.configuration[0],r=[],n=`${FT}.${t}`.split(".");for(;n.length>0;){r.push(n.shift());let o=e.properties[r.join(".")];if(Aje(o))r.length=0,e=o;else if(n.length==0&&o?.default!==void 0){if(Av.has(t))throw new Error(`Duplicate config default value ${FT}.${t}`);Av.set(t,o.default)}}if(!Av.has(t))throw new Error(`Missing config default value ${FT}.${t}`)}function Zo(t,e){return t.get(W0).getConfig(e)}s(Zo,"getConfig");function Eme(t){return t.get(W0).dumpForTelemetry()}s(Eme,"dumpForTelemetry");var js=class{constructor(){this.packageJson=dv}static{s(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function $M(t){return t.get(js).isProduction()}s($M,"isProduction");function zoe(t){return t.get(js).getBuildType()==="dev"}s(zoe,"isDevBuild");function jM(t){return t.get(js).getBuildType()}s(jM,"getBuildType");function Ime(t){return t.get(js).getBuild()}s(Ime,"getBuild");function AY(t){return t.get(js).getVersion()}s(AY,"getVersion");var Ys=class{constructor(e,r,n="none",o="desktop"){this.sessionId=e;this.machineId=r;this.remoteName=n;this.uiKind=o}static{s(this,"EditorSession")}};function Vd({name:t,version:e}){return`${t}/${e}`}s(Vd,"formatNameAndVersion");var zs=class{static{s(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}getEditorPluginSpecificFilters(){return[]}},wB="2025-05-01";function wy(t){let e=t.get(zs);return{"Editor-Version":Vd(e.getEditorInfo()),"Editor-Plugin-Version":Vd(e.getEditorPluginInfo()),"Copilot-Language-Server-Version":AY(t)}}s(wy,"editorVersionHeaders");var sre="Iv1.b507a08c87ecfe98";var A2=class{static{s(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??sre}};f();var Zk=Et(HT()),eD=Et(require("os"));var mje=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function gje(t){let e={type:t.name,value:t.message},r=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(t.toString()+`
`)){e.stacktrace=[];for(let n of r.slice(t.toString().length+1).split(/\n/).reverse()){let o=n.match(mje),a={filename:"",function:""};o&&(a.function=o[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??a.function,a.filename=(o[4]?.trim()??a.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),o[5]&&o[5]!==":0"&&(a.lineno=o[5].slice(1)),o[6]&&o[5]!==":0"&&(a.colno=o[6].slice(1)),a.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(a.filename)),e.stacktrace.push(a)}}return e}s(gje,"buildExceptionDetail");function yje(t,e){let r=t.get(zs),n=r.getEditorInfo(),o=t.get(V0),a={"#editor":n.devName??n.name,"#editor_version":Vd({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":Vd(r.getEditorPluginInfo()),"#session_id":t.get(Ys).sessionId,"#machine_id":t.get(Ys).machineId,"#architecture":eD.arch(),"#os_platform":eD.platform(),...e};return o.trackingId&&(a.user=o.trackingId,a["#tracking_id"]=o.trackingId),a}s(yje,"buildContext");function xme(t,e){let r=t.get(js),n=t.get(zs).getEditorInfo(),o=typeof process<"u"?process.versions.node:"web",a={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:yje(t,{"#node_version":o}),sensitive_context:{}},c=[];a.exception_detail=[];let l=0,u=e;for(;u instanceof Error&&l<10;){let A=gje(u);a.exception_detail.unshift(A),c.unshift([u,A]),l+=1,u=u.cause}let d=[];for(let[A,h]of c)if(h.stacktrace&&h.stacktrace.length>0){d.push(`${h.type}: ${A.code??""}`);let p=[...h.stacktrace].reverse();for(let y of p)if(y.filename?.startsWith("/github-copilot/"))return a;for(let y of p)if(y.in_app){d.push(`${y.filename?.replace(/^\.\//,"")}:${y.lineno}:${y.colno}`);break}d.push(`${p[0].filename?.replace(/^\.\//,"")}`)}else return a;return a.exception_detail.length>0&&(a.rollup_id=(0,Zk.SHA256)(Zk.enc.Utf16.parse(d.join(`
`))).toString()),a}s(xme,"buildPayload");f();var Qw=class{static{s(this,"FailingTelemetryReporter")}sendTelemetryEvent(e,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(e,r,n,o){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};f();var jC=class{constructor(e=5){this.perTenMinutes=e;this.cache=new mn}static{s(this,"ExceptionRateLimiter")}isThrottled(e){let r=Date.now(),n=this.cache.get(e)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(e,n),!1)}};f();var Za=class{constructor(){this.promises=new Set}static{s(this,"PromiseQueue")}register(e){this.promises.add(e),e.finally(()=>this.promises.delete(e))}async flush(){await Promise.allSettled(this.promises)}};f();var Tme=require("os"),_me=Et(require("path"));function Pw(t){return t.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}s(Pw,"redactPaths");var Eje=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Ije=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function pY(t){if(Eje.has(t))return t;for(let e of Ije)if(e.test(t))return t;return Pw(t).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}s(pY,"redactMessage");function tD(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(tD,"escapeForRegExp");var xje=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+tD((0,Tme.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function hY(t){return t.replace(xje,"~")}s(hY,"redactHomeDir");var wme="[\\\\/]?([^:)]*)(?=:\\d)",vme=new RegExp(tD(_me.sep),"g"),bme=new RegExp(tD(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+wme,"gi");function mY(t,e,r=!1,n=[]){let o=new Error(e(t));o.name=t.name,typeof t.syscall=="string"&&(o.syscall=t.syscall),typeof t.code=="string"&&(o.code=t.code),typeof t.errno=="number"&&(o.errno=t.errno),o.stack=void 0;let a=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),c;for(let l of[t.toString(),`${t.name}: ${t.message}`])if(a?.startsWith(l+`
`)){c=a.slice(l.length+1).split(/\n/);break}if(c){o.stack=o.toString();for(let l of c)if(bme.test(l))o.stack+=`
${Pw(l.replace(bme,(u,d)=>"./"+d.replace(vme,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))o.stack+=`
${Pw(l)}`;else{let u=!1;for(let{prefix:d,path:A}of n){let h=new RegExp(tD(A.replace(/[\\/]$/,""))+wme,"gi");if(h.test(l)){o.stack+=`
${Pw(l.replace(h,(p,y)=>d+y.replace(vme,"/")))}`,u=!0;break}}if(u)continue;r?o.stack+=`
${hY(l)}`:o.stack+=`
    at [redacted]:0:0`}}else r&&a&&(o.stack=hY(a));return t.cause instanceof Error&&(o.cause=mY(t.cause,e,r,n)),o}s(mY,"cloneError");function Sme(t){let e=t.message;return typeof t.path=="string"&&t.path.length>0&&(e=e.replaceAll(t.path,"<path>")),e}s(Sme,"errorMessageWithoutPath");function Bme(t,e){return mY(t,s(function(n){return hY(Sme(n))},"prepareMessage"),!0,e)}s(Bme,"prepareErrorForRestrictedTelemetry");function Rme(t,e,r=!1){return mY(t,s(function(o){if(r)return pY(Sme(o));let a="[redacted]";return typeof o.code=="string"&&(a=o.code+" "+a),typeof o.syscall=="string"?a=Pw(o.syscall)+" "+a:"erroredSysCall"in o&&typeof o.erroredSysCall=="string"&&(a=o.erroredSysCall+" "+a),a},"prepareMessage"),!1,e)}s(Rme,"redactError");f();var gY=class{static{s(this,"TypeCheck")}constructor(e,r,n,o){this.schema=e,this.references=r,this.checkFunc=n,this.code=o,this.hasTransform=Rh(e,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(e){return qd(this.schema,this.references,e)}Check(e){return this.checkFunc(e)}Decode(e){if(!this.checkFunc(e))throw new iv(this.schema,e,this.Errors(e).First());return this.hasTransform?ov(this.schema,this.references,e):e}Encode(e){let r=this.hasTransform?av(this.schema,this.references,e):e;if(!this.checkFunc(r))throw new sv(this.schema,e,this.Errors(e).First());return r}},Dh;(function(t){function e(a){return a===36}s(e,"DollarSign"),t.DollarSign=e;function r(a){return a===95}s(r,"IsUnderscore"),t.IsUnderscore=r;function n(a){return a>=65&&a<=90||a>=97&&a<=122}s(n,"IsAlpha"),t.IsAlpha=n;function o(a){return a>=48&&a<=57}s(o,"IsNumeric"),t.IsNumeric=o})(Dh||(Dh={}));var rD;(function(t){function e(a){return a.length===0?!1:Dh.IsNumeric(a.charCodeAt(0))}s(e,"IsFirstCharacterNumeric");function r(a){if(e(a))return!1;for(let c=0;c<a.length;c++){let l=a.charCodeAt(c);if(!(Dh.IsAlpha(l)||Dh.IsNumeric(l)||Dh.DollarSign(l)||Dh.IsUnderscore(l)))return!1}return!0}s(r,"IsAccessor");function n(a){return a.replace(/'/g,"\\'")}s(n,"EscapeHyphen");function o(a,c){return r(c)?`${a}.${c}`:`${a}['${n(c)}']`}s(o,"Encode"),t.Encode=o})(rD||(rD={}));var yY;(function(t){function e(r){let n=[];for(let o=0;o<r.length;o++){let a=r.charCodeAt(o);Dh.IsNumeric(a)||Dh.IsAlpha(a)?n.push(r.charAt(o)):n.push(`_${a}_`)}return n.join("").replace(/__/g,"_")}s(e,"Encode"),t.Encode=e})(yY||(yY={}));var CY;(function(t){function e(r){return r.replace(/'/g,"\\'")}s(e,"Escape"),t.Escape=e})(CY||(CY={}));var EY=class extends ur{static{s(this,"TypeCompilerUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}},nD=class extends ur{static{s(this,"TypeCompilerTypeGuardError")}constructor(e){super("Preflight validation check failed to guard for the given schema"),this.schema=e}},KC;(function(t){function e(c,l,u){return Mi.ExactOptionalPropertyTypes?`('${l}' in ${c} ? ${u} : true)`:`(${rD.Encode(c,l)} !== undefined ? ${u} : true)`}s(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(c){return Mi.AllowArrayObject?`(typeof ${c} === 'object' && ${c} !== null)`:`(typeof ${c} === 'object' && ${c} !== null && !Array.isArray(${c}))`}s(r,"IsObjectLike"),t.IsObjectLike=r;function n(c){return Mi.AllowArrayObject?`(typeof ${c} === 'object' && ${c} !== null && !(${c} instanceof Date) && !(${c} instanceof Uint8Array))`:`(typeof ${c} === 'object' && ${c} !== null && !Array.isArray(${c}) && !(${c} instanceof Date) && !(${c} instanceof Uint8Array))`}s(n,"IsRecordLike"),t.IsRecordLike=n;function o(c){return Mi.AllowNaN?`typeof ${c} === 'number'`:`Number.isFinite(${c})`}s(o,"IsNumberLike"),t.IsNumberLike=o;function a(c){return Mi.AllowNullVoid?`(${c} === undefined || ${c} === null)`:`${c} === undefined`}s(a,"IsVoidLike"),t.IsVoidLike=a})(KC||(KC={}));var Mg;(function(t){function e(le){return le[Oe]==="Any"||le[Oe]==="Unknown"}s(e,"IsAnyOrUnknown");function*r(le,Xe,ge){yield"true"}s(r,"FromAny");function*n(le,Xe,ge){yield"true"}s(n,"FromArgument");function*o(le,Xe,ge){yield`Array.isArray(${ge})`;let[ft,st]=[Ct("value","any"),Ct("acc","number")];zt(le.maxItems)&&(yield`${ge}.length <= ${le.maxItems}`),zt(le.minItems)&&(yield`${ge}.length >= ${le.minItems}`);let Ye=he(le.items,Xe,"value");if(yield`${ge}.every((${ft}) => ${Ye})`,eo(le.contains)||zt(le.minContains)||zt(le.maxContains)){let Mr=eo(le.contains)?le.contains:Kr(),xn=he(Mr,Xe,"value"),qr=zt(le.minContains)?[`(count >= ${le.minContains})`]:[],Jt=zt(le.maxContains)?[`(count <= ${le.maxContains})`]:[],gi=`const count = value.reduce((${st}, ${ft}) => ${xn} ? acc + 1 : acc, 0)`,Yo=["(count > 0)",...qr,...Jt].join(" && ");yield`((${ft}) => { ${gi}; return ${Yo}})(${ge})`}le.uniqueItems===!0&&(yield`((${ft}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${ge})`)}s(o,"FromArray");function*a(le,Xe,ge){yield`(typeof value === 'object' && Symbol.asyncIterator in ${ge})`}s(a,"FromAsyncIterator");function*c(le,Xe,ge){yield`(typeof ${ge} === 'bigint')`,_a(le.exclusiveMaximum)&&(yield`${ge} < BigInt(${le.exclusiveMaximum})`),_a(le.exclusiveMinimum)&&(yield`${ge} > BigInt(${le.exclusiveMinimum})`),_a(le.maximum)&&(yield`${ge} <= BigInt(${le.maximum})`),_a(le.minimum)&&(yield`${ge} >= BigInt(${le.minimum})`),_a(le.multipleOf)&&(yield`(${ge} % BigInt(${le.multipleOf})) === 0`)}s(c,"FromBigInt");function*l(le,Xe,ge){yield`(typeof ${ge} === 'boolean')`}s(l,"FromBoolean");function*u(le,Xe,ge){yield*ie(le.returns,Xe,`${ge}.prototype`)}s(u,"FromConstructor");function*d(le,Xe,ge){yield`(${ge} instanceof Date) && Number.isFinite(${ge}.getTime())`,zt(le.exclusiveMaximumTimestamp)&&(yield`${ge}.getTime() < ${le.exclusiveMaximumTimestamp}`),zt(le.exclusiveMinimumTimestamp)&&(yield`${ge}.getTime() > ${le.exclusiveMinimumTimestamp}`),zt(le.maximumTimestamp)&&(yield`${ge}.getTime() <= ${le.maximumTimestamp}`),zt(le.minimumTimestamp)&&(yield`${ge}.getTime() >= ${le.minimumTimestamp}`),zt(le.multipleOfTimestamp)&&(yield`(${ge}.getTime() % ${le.multipleOfTimestamp}) === 0`)}s(d,"FromDate");function*A(le,Xe,ge){yield`(typeof ${ge} === 'function')`}s(A,"FromFunction");function*h(le,Xe,ge){let ft=globalThis.Object.getOwnPropertyNames(le.$defs).reduce((st,Ye)=>[...st,le.$defs[Ye]],[]);yield*ie(Kl(le.$ref),[...Xe,...ft],ge)}s(h,"FromImport");function*p(le,Xe,ge){yield`Number.isInteger(${ge})`,zt(le.exclusiveMaximum)&&(yield`${ge} < ${le.exclusiveMaximum}`),zt(le.exclusiveMinimum)&&(yield`${ge} > ${le.exclusiveMinimum}`),zt(le.maximum)&&(yield`${ge} <= ${le.maximum}`),zt(le.minimum)&&(yield`${ge} >= ${le.minimum}`),zt(le.multipleOf)&&(yield`(${ge} % ${le.multipleOf}) === 0`)}s(p,"FromInteger");function*y(le,Xe,ge){let ft=le.allOf.map(st=>he(st,Xe,ge)).join(" && ");if(le.unevaluatedProperties===!1){let st=rt(`${new RegExp(wh(le))};`),Ye=`Object.getOwnPropertyNames(${ge}).every(key => ${st}.test(key))`;yield`(${ft} && ${Ye})`}else if(eo(le.unevaluatedProperties)){let st=rt(`${new RegExp(wh(le))};`),Ye=`Object.getOwnPropertyNames(${ge}).every(key => ${st}.test(key) || ${he(le.unevaluatedProperties,Xe,`${ge}[key]`)})`;yield`(${ft} && ${Ye})`}else yield`(${ft})`}s(y,"FromIntersect");function*E(le,Xe,ge){yield`(typeof value === 'object' && Symbol.iterator in ${ge})`}s(E,"FromIterator");function*v(le,Xe,ge){typeof le.const=="number"||typeof le.const=="boolean"?yield`(${ge} === ${le.const})`:yield`(${ge} === '${CY.Escape(le.const)}')`}s(v,"FromLiteral");function*w(le,Xe,ge){yield"false"}s(w,"FromNever");function*_(le,Xe,ge){yield`(!${he(le.not,Xe,ge)})`}s(_,"FromNot");function*S(le,Xe,ge){yield`(${ge} === null)`}s(S,"FromNull");function*D(le,Xe,ge){yield KC.IsNumberLike(ge),zt(le.exclusiveMaximum)&&(yield`${ge} < ${le.exclusiveMaximum}`),zt(le.exclusiveMinimum)&&(yield`${ge} > ${le.exclusiveMinimum}`),zt(le.maximum)&&(yield`${ge} <= ${le.maximum}`),zt(le.minimum)&&(yield`${ge} >= ${le.minimum}`),zt(le.multipleOf)&&(yield`(${ge} % ${le.multipleOf}) === 0`)}s(D,"FromNumber");function*N(le,Xe,ge){yield KC.IsObjectLike(ge),zt(le.minProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length >= ${le.minProperties}`),zt(le.maxProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length <= ${le.maxProperties}`);let ft=Object.getOwnPropertyNames(le.properties);for(let st of ft){let Ye=rD.Encode(ge,st),Mr=le.properties[st];if(le.required&&le.required.includes(st))yield*ie(Mr,Xe,Ye),(Sh(Mr)||e(Mr))&&(yield`('${st}' in ${ge})`);else{let xn=he(Mr,Xe,Ye);yield KC.IsExactOptionalProperty(ge,st,xn)}}if(le.additionalProperties===!1)if(le.required&&le.required.length===ft.length)yield`Object.getOwnPropertyNames(${ge}).length === ${ft.length}`;else{let st=`[${ft.map(Ye=>`'${Ye}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${ge}).every(key => ${st}.includes(key))`}if(typeof le.additionalProperties=="object"){let st=he(le.additionalProperties,Xe,`${ge}[key]`),Ye=`[${ft.map(Mr=>`'${Mr}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${ge}).every(key => ${Ye}.includes(key) || ${st}))`}}s(N,"FromObject");function*P(le,Xe,ge){yield`${ge} instanceof Promise`}s(P,"FromPromise");function*O(le,Xe,ge){yield KC.IsRecordLike(ge),zt(le.minProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length >= ${le.minProperties}`),zt(le.maxProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length <= ${le.maxProperties}`);let[ft,st]=Object.entries(le.patternProperties)[0],Ye=rt(`${new RegExp(ft)}`),Mr=he(st,Xe,"value"),xn=eo(le.additionalProperties)?he(le.additionalProperties,Xe,ge):le.additionalProperties===!1?"false":"true",qr=`(${Ye}.test(key) ? ${Mr} : ${xn})`;yield`(Object.entries(${ge}).every(([key, value]) => ${qr}))`}s(O,"FromRecord");function*$(le,Xe,ge){let ft=Vn(le,Xe);if(ue.functions.has(le.$ref))return yield`${Je(le.$ref)}(${ge})`;yield*ie(ft,Xe,ge)}s($,"FromRef");function*ne(le,Xe,ge){let ft=rt(`${new RegExp(le.source,le.flags)};`);yield`(typeof ${ge} === 'string')`,zt(le.maxLength)&&(yield`${ge}.length <= ${le.maxLength}`),zt(le.minLength)&&(yield`${ge}.length >= ${le.minLength}`),yield`${ft}.test(${ge})`}s(ne,"FromRegExp");function*oe(le,Xe,ge){yield`(typeof ${ge} === 'string')`,zt(le.maxLength)&&(yield`${ge}.length <= ${le.maxLength}`),zt(le.minLength)&&(yield`${ge}.length >= ${le.minLength}`),le.pattern!==void 0&&(yield`${rt(`${new RegExp(le.pattern)};`)}.test(${ge})`),le.format!==void 0&&(yield`format('${le.format}', ${ge})`)}s(oe,"FromString");function*Ae(le,Xe,ge){yield`(typeof ${ge} === 'symbol')`}s(Ae,"FromSymbol");function*Y(le,Xe,ge){yield`(typeof ${ge} === 'string')`,yield`${rt(`${new RegExp(le.pattern)};`)}.test(${ge})`}s(Y,"FromTemplateLiteral");function*K(le,Xe,ge){yield`${Je(le.$ref)}(${ge})`}s(K,"FromThis");function*xe(le,Xe,ge){if(yield`Array.isArray(${ge})`,le.items===void 0)return yield`${ge}.length === 0`;yield`(${ge}.length === ${le.maxItems})`;for(let ft=0;ft<le.items.length;ft++)yield`${he(le.items[ft],Xe,`${ge}[${ft}]`)}`}s(xe,"FromTuple");function*ce(le,Xe,ge){yield`${ge} === undefined`}s(ce,"FromUndefined");function*J(le,Xe,ge){yield`(${le.anyOf.map(st=>he(st,Xe,ge)).join(" || ")})`}s(J,"FromUnion");function*W(le,Xe,ge){yield`${ge} instanceof Uint8Array`,zt(le.maxByteLength)&&(yield`(${ge}.length <= ${le.maxByteLength})`),zt(le.minByteLength)&&(yield`(${ge}.length >= ${le.minByteLength})`)}s(W,"FromUint8Array");function*Z(le,Xe,ge){yield"true"}s(Z,"FromUnknown");function*re(le,Xe,ge){yield KC.IsVoidLike(ge)}s(re,"FromVoid");function*te(le,Xe,ge){let ft=ue.instances.size;ue.instances.set(ft,le),yield`kind('${le[Oe]}', ${ft}, ${ge})`}s(te,"FromKind");function*ie(le,Xe,ge,ft=!0){let st=Fn(le.$id)?[...Xe,le]:Xe,Ye=le;if(ft&&Fn(le.$id)){let Mr=Je(le.$id);if(ue.functions.has(Mr))return yield`${Mr}(${ge})`;{ue.functions.set(Mr,"<deferred>");let xn=lt(Mr,le,Xe,"value",!1);return ue.functions.set(Mr,xn),yield`${Mr}(${ge})`}}switch(Ye[Oe]){case"Any":return yield*r(Ye,st,ge);case"Argument":return yield*n(Ye,st,ge);case"Array":return yield*o(Ye,st,ge);case"AsyncIterator":return yield*a(Ye,st,ge);case"BigInt":return yield*c(Ye,st,ge);case"Boolean":return yield*l(Ye,st,ge);case"Constructor":return yield*u(Ye,st,ge);case"Date":return yield*d(Ye,st,ge);case"Function":return yield*A(Ye,st,ge);case"Import":return yield*h(Ye,st,ge);case"Integer":return yield*p(Ye,st,ge);case"Intersect":return yield*y(Ye,st,ge);case"Iterator":return yield*E(Ye,st,ge);case"Literal":return yield*v(Ye,st,ge);case"Never":return yield*w(Ye,st,ge);case"Not":return yield*_(Ye,st,ge);case"Null":return yield*S(Ye,st,ge);case"Number":return yield*D(Ye,st,ge);case"Object":return yield*N(Ye,st,ge);case"Promise":return yield*P(Ye,st,ge);case"Record":return yield*O(Ye,st,ge);case"Ref":return yield*$(Ye,st,ge);case"RegExp":return yield*ne(Ye,st,ge);case"String":return yield*oe(Ye,st,ge);case"Symbol":return yield*Ae(Ye,st,ge);case"TemplateLiteral":return yield*Y(Ye,st,ge);case"This":return yield*K(Ye,st,ge);case"Tuple":return yield*xe(Ye,st,ge);case"Undefined":return yield*ce(Ye,st,ge);case"Union":return yield*J(Ye,st,ge);case"Uint8Array":return yield*W(Ye,st,ge);case"Unknown":return yield*Z(Ye,st,ge);case"Void":return yield*re(Ye,st,ge);default:if(!x0.Has(Ye[Oe]))throw new EY(le);return yield*te(Ye,st,ge)}}s(ie,"Visit");let ue={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function he(le,Xe,ge,ft=!0){return`(${[...ie(le,Xe,ge,ft)].join(" && ")})`}s(he,"CreateExpression");function Je(le){return`check_${yY.Encode(le)}`}s(Je,"CreateFunctionName");function rt(le){let Xe=`local_${ue.variables.size}`;return ue.variables.set(Xe,`const ${Xe} = ${le}`),Xe}s(rt,"CreateVariable");function lt(le,Xe,ge,ft,st=!0){let[Ye,Mr]=[`
`,gi=>"".padStart(gi," ")],xn=Ct("value","any"),qr=Vt("boolean"),Jt=[...ie(Xe,ge,ft,st)].map(gi=>`${Mr(4)}${gi}`).join(` &&${Ye}`);return`function ${le}(${xn})${qr} {${Ye}${Mr(2)}return (${Ye}${Jt}${Ye}${Mr(2)})
}`}s(lt,"CreateFunction");function Ct(le,Xe){let ge=ue.language==="typescript"?`: ${Xe}`:"";return`${le}${ge}`}s(Ct,"CreateParameter");function Vt(le){return ue.language==="typescript"?`: ${le}`:""}s(Vt,"CreateReturns");function Hr(le,Xe,ge){let ft=lt("check",le,Xe,"value"),st=Ct("value","any"),Ye=Vt("boolean"),Mr=[...ue.functions.values()],xn=[...ue.variables.values()],qr=Fn(le.$id)?`return function check(${st})${Ye} {
  return ${Je(le.$id)}(value)
}`:`return ${ft}`;return[...xn,...Mr,qr].join(`
`)}s(Hr,"Build");function Dn(...le){let Xe={language:"javascript"},[ge,ft,st]=le.length===2&&lr(le[1])?[le[0],le[1],Xe]:le.length===2&&!lr(le[1])?[le[0],[],le[1]]:le.length===3?[le[0],le[1],le[2]]:le.length===1?[le[0],[],Xe]:[null,[],Xe];if(ue.language=st.language,ue.variables.clear(),ue.functions.clear(),ue.instances.clear(),!eo(ge))throw new nD(ge);for(let Ye of ft)if(!eo(Ye))throw new nD(Ye);return Hr(ge,ft,st)}s(Dn,"Code"),t.Code=Dn;function br(le,Xe=[]){let ge=Dn(le,Xe,{language:"javascript"}),ft=globalThis.Function("kind","format","hash",ge),st=new Map(ue.instances);function Ye(Jt,gi,Yo){if(!x0.Has(Jt)||!st.has(gi))return!1;let Mn=x0.Get(Jt),$o=st.get(gi);return Mn($o,Yo)}s(Ye,"typeRegistryFunction");function Mr(Jt,gi){return of.Has(Jt)?of.Get(Jt)(gi):!1}s(Mr,"formatRegistryFunction");function xn(Jt){return Qg(Jt)}s(xn,"hashFunction");let qr=ft(Ye,Mr,xn);return new gY(le,Xe,qr,ge)}s(br,"Compile"),t.Compile=br})(Mg||(Mg={}));var cD=Et(HT());f();f();var Ra=[];for(let t=0;t<256;++t)Ra.push((t+256).toString(16).slice(1));function kme(t,e=0){return(Ra[t[e+0]]+Ra[t[e+1]]+Ra[t[e+2]]+Ra[t[e+3]]+"-"+Ra[t[e+4]]+Ra[t[e+5]]+"-"+Ra[t[e+6]]+Ra[t[e+7]]+"-"+Ra[t[e+8]]+Ra[t[e+9]]+"-"+Ra[t[e+10]]+Ra[t[e+11]]+Ra[t[e+12]]+Ra[t[e+13]]+Ra[t[e+14]]+Ra[t[e+15]]).toLowerCase()}s(kme,"unsafeStringify");f();var Dme=require("crypto");var oD=new Uint8Array(256),iD=oD.length;function IY(){return iD>oD.length-16&&((0,Dme.randomFillSync)(oD),iD=0),oD.slice(iD,iD+=16)}s(IY,"rng");f();f();var Nme=require("crypto"),xY={randomUUID:Nme.randomUUID};function vje(t,e,r){if(xY.randomUUID&&!e&&!t)return xY.randomUUID();t=t||{};let n=t.random??t.rng?.()??IY();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let o=0;o<16;++o)e[r+o]=n[o];return e}return kme(n)}s(vje,"v4");var hf=vje;var lD=Et(ya());function pv(t){return t===1}s(pv,"isRestricted");var bje=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],Fw=8192,Tje=21;var Dc=class{static{s(this,"TelemetryReporters")}getReporter(e,r=0){return pv(r)?this.getRestrictedReporter(e):this.reporter}getRestrictedReporter(e){if(uD(e))return this.reporterRestricted;if(qT(e))return new Qw}getFTReporter(e){if(Qme(e))return this.reporterFT;if(qT(e))return new Qw}setReporter(e){this.reporter=e}setRestrictedReporter(e){this.reporterRestricted=e}setFTReporter(e){this.reporterFT=e}async deactivate(){let e=[this.reporter,this.reporterRestricted,this.reporterFT];this.reporter=this.reporterRestricted=this.reporterFT=void 0,await Promise.all(e.map(r=>r?.dispose()))}},_je=ee.Object({},{additionalProperties:ee.String()}),wje=ee.Object({meanLogProb:ee.Optional(ee.Number()),meanAlternativeLogProb:ee.Optional(ee.Number())},{additionalProperties:ee.Number()}),Sje=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Bje(t){return Sje.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}s(Bje,"isOomError");function Rje(t){return LM(t)?"network":Bje(t)||t.code==="EMFILE"||t.code==="ENFILE"||t.syscall==="uv_cwd"&&(t.code==="ENOENT"||t.code=="EIO")||t.code==="CopilotPromptLoadFailure"||`${t.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}s(Rje,"getErrorType");var nn=class t{static{s(this,"TelemetryData")}static{this.validateTelemetryProperties=Mg.Compile(_je)}static{this.validateTelemetryMeasurements=Mg.Compile(wje)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(e,r,n){this.properties=e,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(e,r){return new t(e||{},r||{},e0())}extendedBy(e,r){let n={...this.properties,...e},o={...this.measurements,...r},a=new t(n,o,this.issuedTime);return a.displayedTime=this.displayedTime,a}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=e0())}async extendWithExpTelemetry(e){let{filters:r,exp:n}=await e.get(Sr).getFallbackExpAndFilters();n.addToTelemetry(e,this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(e){this.properties.editor_version=Vd(e.get(zs).getEditorInfo()),this.properties.editor_plugin_version=Vd(e.get(zs).getEditorPluginInfo());let r=e.get(Ys);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${AY(e)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=e.get(zs);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=Vd(n.getEditorInfo());let o=e.get(ps);this.properties.fetcher=o.name;let a=e.get(W0).getHttpSettings();this.properties.proxy_enabled=a.proxy?"true":"false",this.properties.proxy_auth=a.proxyAuthorization?"true":"false",this.properties.proxy_kerberos_spn=a.proxyKerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=a.proxyStrictSSL!==!1?"true":"false"}extendWithConfigProperties(e){let r=Eme(e);r["copilot.build"]=Ime(e),r["copilot.buildType"]=jM(e),this.properties={...this.properties,...r}}extendWithRequestId(e){let r={headerRequestId:e.headerRequestId,serverExperiments:e.serverExperiments,deploymentId:e.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(e,r){if(pv(e))return r;let n={};for(let o in r)t.keysToRemoveFromStandardTelemetryHack.includes(o)||(n[o]=r[o]);return n}sanitizeKeys(){this.properties=t.sanitizeKeys(this.properties),this.measurements=t.sanitizeKeys(this.measurements);for(let e in this.measurements)isNaN(this.measurements[e])&&delete this.measurements[e]}multiplexProperties(){this.properties=t.multiplexProperties(this.properties)}static sanitizeKeys(e){e=e||{};let r={};for(let n in e){let o=t.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[o]=e[n]}return r}static multiplexProperties(e){let r={...e};for(let n in e){let o=e[n],a=o?.length??0;if(a>Fw){let c=0,l=0;for(;a>0&&l<Tje;){l+=1;let u=n;l>1&&(u=n+"_"+(l<10?"0":"")+l);let d=c+Fw;a<Fw&&(d=c+a),r[u]=o.slice(c,d),a-=Fw,c+=Fw}}}return r}updateMeasurements(e){let r=e-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=e-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=Nje(e))}validateData(e,r){let n;if(t.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...t.validateTelemetryProperties.Errors(this.properties)])}),!t.validateTelemetryMeasurements.Check(this.measurements)){let o=JSON.stringify([...t.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:o}:(n.problem="both",n.error+=`; ${o}`)}if(n===void 0)return!0;if(qT(e))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return zA(e,"invalidTelemetryData",t.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),pv(r)&&zA(e,"invalidTelemetryData_in_secure",t.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(e,r,n,o){this.extendWithConfigProperties(e),this.extendWithEditorAgnosticFields(e),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(e),this.updateMeasurements(o),this.validateData(e,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,Fje(e))}},Tw=class t extends nn{static{s(this,"TelemetryWithExp")}constructor(e,r,n,o){super(e,r,n),this.filtersAndExp=o}extendedBy(e,r){let n={...this.properties,...e},o={...this.measurements,...r},a=new t(n,o,this.issuedTime,this.filtersAndExp);return a.displayedTime=this.displayedTime,a}extendWithExpTelemetry(e){return this.filtersAndExp.exp.addToTelemetry(e,this),this.filtersAndExp.filters.addToTelemetry(this),Promise.resolve()}static createEmptyConfigForTesting(){return new t({},{},0,{filters:new My({}),exp:Vu.createEmptyConfig()})}};function aD(t,e,r,n){t.get(Dc).getReporter(t,e)?.sendTelemetryEvent(r,nn.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}s(aD,"sendTelemetryEvent");function kje(t,e,r,n){t.get(Dc).getReporter(t,e)?.sendTelemetryErrorEvent(r,nn.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}s(kje,"sendTelemetryErrorEvent");function Dje(t,e,r,n){t.get(Dc).getFTReporter(t)?.sendTelemetryEvent(r,nn.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}s(Dje,"sendFTTelemetryEvent");function bY(t){return{promptCharLen:t.prefix.length+(t.context?.reduce((e,r)=>e+r.length,0)??0),promptSuffixCharLen:t.suffix.length}}s(bY,"telemetrizePromptLength");function e0(){return performance.now()}s(e0,"now");function Nje(t){return Math.floor(t/1e3)}s(Nje,"nowSeconds");function uD(t){return t.get(V0).optedIn}s(uD,"shouldSendRestricted");function Qme(t){return t.get(V0).ftFlag!==""}s(Qme,"shouldSendFinetuningTelemetry");function ir(t,e,r,n){return t.get(Za).register(Qje(t,e,e0(),r?.extendedBy(),n))}s(ir,"telemetry");async function Qje(t,e,r,n,o=0){let a=n||nn.createAndMarkAsIssued({},{});await a.makeReadyForSending(t,o??!1,"IncludeExp",r),(!pv(o)||uD(t))&&aD(t,o,e,a),pv(o)&&bje.includes(e)&&Qme(t)&&Dje(t,o,e,a)}s(Qje,"_telemetry");function Koe(t,e){return t.get(Za).register(Pje(t,e,e0()))}s(Koe,"telemetryExpProblem");async function Pje(t,e,r){let n="expProblem",o=nn.createAndMarkAsIssued(e,{});await o.makeReadyForSending(t,0,"SkipExp",r),aD(t,0,n,o)}s(Pje,"_telemetryExpProblem");function Fje(t){let e=t.get(zs),r={unique_id:hf(),common_extname:e.getEditorPluginInfo().name,common_extversion:e.getEditorPluginInfo().version,common_vscodeversion:Vd(e.getEditorInfo())};return{...t.get(V0).getProperties(),...r}}s(Fje,"createRequiredProperties");var vY=class extends Error{static{s(this,"CopilotNonError")}constructor(e){let r;try{r=JSON.stringify(e)}catch{r=String(e)}super(r),this.name="CopilotNonError",this.code=(0,cD.SHA256)(cD.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function yd(t,e,r,n,o){return t.get(Za).register(Pme(t,e,e0(),r,{...n},o))}s(yd,"telemetryException");async function Pme(t,e,r,n,o,a){let c;if(e instanceof Error){if(c=e,c.name==="Canceled"&&c.message==="Canceled"||c.name==="CodeExpectedError"||Tm(c)||c instanceof vm||c instanceof lD.ConnectionError||c instanceof lD.ResponseError)return}else{if(c=new vY(e),e&&typeof e=="object"&&e.name==="ExitStatus")return;if(c.stack?.startsWith(`${c}
`)){let v=c.stack.slice(`${c}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(v[0]??"")&&v.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(v[0]??"")&&v.shift(),c.stack=`${c}
${v.join(`
`)}`}}let l=t.get(zs).getEditorInfo(),u;l.root&&(u=[{prefix:`${l.name}:`,path:l.root}]);let d=uD(t),A=Rme(c,u,d),h=Rje(c),p=h==="exception",y=nn.createAndMarkAsIssued({origin:n??"",type:c.name,code:`${c.code??""}`,reason:A.stack||A.toString(),message:A.message,...o});if(await y.makeReadyForSending(t,0,"IncludeExp",r),a?.exception_detail)for(let v of a.exception_detail)v.value&&(d?v.value=pY(v.value):v.value="[redacted]");if(a??=xme(t,A),a.context={...a.context,"copilot_event.unique_id":y.properties.unique_id,"#restricted_telemetry":d?"true":"false"},n&&(a.context["#origin"]=n,a.transaction=n),a.rollup_id!=="auto"&&(y.properties.errno=a.rollup_id),a.created_at=new Date(y.issuedTime).toISOString(),d){let v=Bme(c,u),w=nn.createAndMarkAsIssued({origin:n??"",type:c.name,code:`${c.code??""}`,reason:v.stack||v.toString(),message:v.message,...o});a.rollup_id!=="auto"&&(w.properties.errno=a.rollup_id),await w.makeReadyForSending(t,1,"IncludeExp",r),w.properties.unique_id=y.properties.unique_id,y.properties.restricted_unique_id=w.properties.unique_id,aD(t,1,`error.${h}`,w)}let E=a.rollup_id==="auto"?c.stack??"":a.rollup_id;p&&!t.get(jC).isThrottled(E)&&(y.properties.failbot_payload=JSON.stringify(a)),aD(t,0,`error.${h}`,y)}s(Pme,"_telemetryException");function $A(t,e,r,n){let o=s(async(...a)=>{try{await e(...a)}catch(c){await Pme(t,c,e0(),r,n)}},"wrapped");return(...a)=>t.get(Za).register(o(...a))}s($A,"telemetryCatch");function zA(t,e,r,n){return t.get(Za).register(Lje(t,e,e0(),r?.extendedBy(),n))}s(zA,"telemetryError");async function Lje(t,e,r,n,o=0){if(pv(o)&&!uD(t))return;let a=n||nn.createAndMarkAsIssued({},{});await a.makeReadyForSending(t,o,"IncludeExp",r),kje(t,o,e,a)}s(Lje,"_telemetryError");function Fme(t,e,r,n,o){let a=nn.createAndMarkAsIssued({completionTextJson:JSON.stringify(e),choiceIndex:o.toString()});if(r.logprobs)for(let[c,l]of Object.entries(r.logprobs))a.properties["logprobs_"+c]=JSON.stringify(l)??"unset";return a.extendWithRequestId(n),ir(t,"engine.completion",a,1)}s(Fme,"logEngineCompletion");function Lme(t,e,r){let n={promptJson:JSON.stringify({prefix:e.prefix,context:e.context}),promptSuffixJson:JSON.stringify(e.suffix)};if(e.context){let a=r.properties["request.option.extra"]?JSON.parse(r.properties["request.option.extra"]):{};a.context=e.context,n["request.option.extra"]=JSON.stringify(a)}let o=r.extendedBy(n);return ir(t,"engine.prompt",o,1)}s(Lme,"logEnginePrompt");var fD=class{static{s(this,"InstallationManager")}async startup(e){await this.isNewInstall(e)?(await this.markInstalled(e),this.handleInstall(e,await this.wasPreviouslyInstalled(e))):await this.isNewUpgrade(e)&&(await this.markUpgraded(e),this.handleUpgrade(e))}uninstall(e){return this.handleUninstall(e)}handleInstall(e,r){r?ir(e,"installed.reinstall"):ir(e,"installed.new")}handleUpgrade(e){ir(e,"installed.upgrade")}handleUninstall(e){ir(e,"uninstalled")}};var dD=class extends fD{static{s(this,"VsCodeUninstallationManager")}isNewInstall(){throw new Error("not callable from an uninstall script")}markInstalled(){throw new Error("not callable from an uninstall script")}wasPreviouslyInstalled(){throw new Error("not callable from an uninstall script")}isNewUpgrade(){throw new Error("not callable from an uninstall script")}markUpgraded(){throw new Error("not callable from an uninstall script")}};f();f();f();f();var Mje={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1,showPanelMessage:!1,mcpElicitation:!1,mcpSampling:!1},Lw=class{constructor(){this.capabilities={...Mje};this.emitter=new Gm;this.onDidSetCapabilities=this.emitter.event}static{s(this,"CopilotCapabilitiesProvider")}setCapabilities(e){let r;for(r in e){let n=e[r];n!==void 0&&(this.capabilities[r]=n)}this.emitter.fire(this.capabilities)}getCapabilities(){return this.capabilities}};f();f();f();f();function TY(t,e){let r=mv(t,e);return r===-1?void 0:t[r]}s(TY,"findLastMonotonous");function mv(t,e,r=0,n=t.length){let o=r,a=n;for(;o<a;){let c=Math.floor((o+a)/2);e(t[c])?o=c+1:a=c}return o-1}s(mv,"findLastIdxMonotonous");function AD(t,e,r=0,n=t.length){let o=r,a=n;for(;o<a;){let c=Math.floor((o+a)/2);e(t[c])?a=c:o=c+1}return o}s(AD,"findFirstIdxMonotonousOrArrLen");var Mme=class t{constructor(e){this._array=e;this._findLastMonotonousLastIdx=0}static{s(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(e){if(t.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!e(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}let r=mv(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};f();var _Y=class{static{s(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?hD.isErrorNoTelemetry(e)?new hD(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(r=>{r(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Ome=new _Y;function JC(t){Ome.onUnexpectedError(t)}s(JC,"onBugIndicatingError");function yv(t){Oje(t)||Ome.onUnexpectedError(t)}s(yv,"onUnexpectedError");var wY="Canceled";function Oje(t){return t instanceof gv?!0:t instanceof Error&&t.name===wY&&t.message===wY}s(Oje,"isCancellationError");var gv=class extends Error{static{s(this,"CancellationError")}constructor(){super(wY),this.name=this.message}};var hD=class t extends Error{static{s(this,"ErrorNoTelemetry")}constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof t)return e;let r=new t;return r.message=e.message,r.stack=e.stack,r}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},Fs=class t extends Error{static{s(this,"BugIndicatingError")}constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}};var Hme;(l=>{function t(u){return u<0}l.isLessThan=t,s(t,"isLessThan");function e(u){return u<=0}l.isLessThanOrEqual=e,s(e,"isLessThanOrEqual");function r(u){return u>0}l.isGreaterThan=r,s(r,"isGreaterThan");function n(u){return u===0}l.isNeitherLessOrGreaterThan=n,s(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(Hme||={});function pD(t,e){return(r,n)=>e(t(r),t(n))}s(pD,"compareBy");var mD=s((t,e)=>t-e,"numberComparator");var Ume=class t{constructor(e){this.iterate=e}static{s(this,"CallbackIterable")}static{this.empty=new t(e=>{})}forEach(e){this.iterate(r=>(e(r),!0))}toArray(){let e=[];return this.iterate(r=>(e.push(r),!0)),e}filter(e){return new t(r=>this.iterate(n=>e(n)?r(n):!0))}map(e){return new t(r=>this.iterate(n=>r(e(n))))}some(e){let r=!1;return this.iterate(n=>(r=e(n),!r)),r}findFirst(e){let r;return this.iterate(n=>e(n)?(r=n,!1):!0),r}findLast(e){let r;return this.iterate(n=>(e(n)&&(r=n),!0)),r}findLastMaxBy(e){let r,n=!0;return this.iterate(o=>((n||Hme.isGreaterThan(e(o,r)))&&(n=!1,r=o),!0)),r}};f();function Wme(t,e){let r=Object.create(null);for(let n of t){let o=e(n),a=r[o];a||(a=r[o]=[]),a.push(n)}return r}s(Wme,"groupBy");var Gme,Vme,qme=class{constructor(e,r){this.toKey=r;this._map=new Map;this[Gme]="SetWithKey";for(let n of e)this.add(n)}static{s(this,"SetWithKey")}get size(){return this._map.size}add(e){let r=this.toKey(e);return this._map.set(r,e),this}delete(e){return this._map.delete(this.toKey(e))}has(e){return this._map.has(this.toKey(e))}*entries(){for(let e of this._map.values())yield[e,e]}keys(){return this.values()}*values(){for(let e of this._map.values())yield e}clear(){this._map.clear()}forEach(e,r){this._map.forEach(n=>e.call(r,n,n,this))}[(Vme=Symbol.iterator,Gme=Symbol.toStringTag,Vme)](){return this.values()}};f();function SY(t,e){let r=this,n=!1,o;return function(){if(n)return o;if(n=!0,e)try{o=t.apply(r,arguments)}finally{e()}else o=t.apply(r,arguments);return o}}s(SY,"createSingleCallFunction");f();var BY;(D=>{function t(N){return N&&typeof N=="object"&&typeof N[Symbol.iterator]=="function"}D.is=t,s(t,"is");let e=Object.freeze([]);function r(){return e}D.empty=r,s(r,"empty");function*n(N){yield N}D.single=n,s(n,"single");function o(N){return t(N)?N:n(N)}D.wrap=o,s(o,"wrap");function a(N){return N||e}D.from=a,s(a,"from");function*c(N){for(let P=N.length-1;P>=0;P--)yield N[P]}D.reverse=c,s(c,"reverse");function l(N){return!N||N[Symbol.iterator]().next().done===!0}D.isEmpty=l,s(l,"isEmpty");function u(N){return N[Symbol.iterator]().next().value}D.first=u,s(u,"first");function d(N,P){let O=0;for(let $ of N)if(P($,O++))return!0;return!1}D.some=d,s(d,"some");function A(N,P){for(let O of N)if(P(O))return O}D.find=A,s(A,"find");function*h(N,P){for(let O of N)P(O)&&(yield O)}D.filter=h,s(h,"filter");function*p(N,P){let O=0;for(let $ of N)yield P($,O++)}D.map=p,s(p,"map");function*y(N,P){let O=0;for(let $ of N)yield*P($,O++)}D.flatMap=y,s(y,"flatMap");function*E(...N){for(let P of N)yield*P}D.concat=E,s(E,"concat");function v(N,P,O){let $=O;for(let ne of N)$=P($,ne);return $}D.reduce=v,s(v,"reduce");function*w(N,P,O=N.length){for(P<-N.length&&(P=0),P<0&&(P+=N.length),O<0?O+=N.length:O>N.length&&(O=N.length);P<O;P++)yield N[P]}D.slice=w,s(w,"slice");function _(N,P=Number.POSITIVE_INFINITY){let O=[];if(P===0)return[O,N];let $=N[Symbol.iterator]();for(let ne=0;ne<P;ne++){let oe=$.next();if(oe.done)return[O,D.empty()];O.push(oe.value)}return[O,{[Symbol.iterator](){return $}}]}D.consume=_,s(_,"consume");async function S(N){let P=[];for await(let O of N)P.push(O);return Promise.resolve(P)}D.asyncToArray=S,s(S,"asyncToArray")})(BY||={});f();var RY=class{constructor(e,r){this.uri=e;this.value=r}static{s(this,"ResourceMapEntry")}};function Hje(t){return Array.isArray(t)}s(Hje,"isEntries");var zme,gD=class t{constructor(e,r){this[zme]="ResourceMap";if(e instanceof t)this.map=new Map(e.map),this.toKey=r??t.defaultToKey;else if(Hje(e)){this.map=new Map,this.toKey=r??t.defaultToKey;for(let[n,o]of e)this.set(n,o)}else this.map=new Map,this.toKey=e??t.defaultToKey}static{s(this,"ResourceMap")}static{this.defaultToKey=s(e=>e.toString(),"defaultToKey")}set(e,r){return this.map.set(this.toKey(e),new RY(e,r)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,r){typeof r<"u"&&(e=e.bind(r));for(let[n,o]of this.map)e(o.value,o.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(zme=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}},jme,Yme=class{constructor(e,r){this[jme]="ResourceSet";!e||typeof e=="function"?this._map=new gD(e):(this._map=new gD(r),e.forEach(this.add,this))}static{s(this,"ResourceSet")}get size(){return this._map.size}add(e){return this._map.set(e,e),this}clear(){this._map.clear()}delete(e){return this._map.delete(e)}forEach(e,r){this._map.forEach((n,o)=>e.call(r,o,o,this))}has(e){return this._map.has(e)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(jme=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var Kme,$me=class{constructor(){this[Kme]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{s(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=0){let n=this._map.get(e);if(n)return r!==0&&this.touch(n,r),n.value}set(e,r,n=0){let o=this._map.get(e);if(o)o.value=r,n!==0&&this.touch(o,n);else{switch(o={key:e,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,o=this._head;for(;o;){if(r?e.bind(r)(o.value,o.key,this):e(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.key,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}values(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.value,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}entries(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:[n.key,n.value],done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}[(Kme=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(e===this._head)return;let n=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===2){if(e===this._tail)return;let n=e.next,o=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};var yD=class{constructor(){this.map=new Map}static{s(this,"SetMap")}add(e,r){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(r)}delete(e,r){let n=this.map.get(e);n&&(n.delete(r),n.size===0&&this.map.delete(e))}forEach(e,r){let n=this.map.get(e);n&&n.forEach(r)}get(e){let r=this.map.get(e);return r||new Set}};var qje=!1,Cv=null;var Jme=class t{constructor(){this.livingDisposables=new Map}static{s(this,"DisposableTracker")}static{this.idx=0}getDisposableData(e){let r=this.livingDisposables.get(e);return r||(r={parent:null,source:null,isSingleton:!1,value:e,idx:t.idx++},this.livingDisposables.set(e,r)),r}trackDisposable(e){let r=this.getDisposableData(e);r.source||(r.source=new Error().stack)}setParent(e,r){let n=this.getDisposableData(e);n.parent=r}markAsDisposed(e){this.livingDisposables.delete(e)}markAsSingleton(e){this.getDisposableData(e).isSingleton=!0}getRootParent(e,r){let n=r.get(e);if(n)return n;let o=e.parent?this.getRootParent(this.getDisposableData(e.parent),r):e;return r.set(e,o),o}getTrackedDisposables(){let e=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,e).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(e=10,r){let n;if(r)n=r;else{let u=new Map,d=[...this.livingDisposables.values()].filter(h=>h.source!==null&&!this.getRootParent(h,u).isSingleton);if(d.length===0)return;let A=new Set(d.map(h=>h.value));if(n=d.filter(h=>!(h.parent&&A.has(h.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function o(u){function d(h,p){for(;h.length>0&&p.some(y=>typeof y=="string"?y===h[0]:h[0].match(y));)h.shift()}s(d,"removePrefix");let A=u.source.split(`
`).map(h=>h.trim().replace("at ","")).filter(h=>h!=="");return d(A,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),A.reverse()}s(o,"getStackTracePath");let a=new yD;for(let u of n){let d=o(u);for(let A=0;A<=d.length;A++)a.add(d.slice(0,A).join(`
`),u)}n.sort(pD(u=>u.idx,mD));let c="",l=0;for(let u of n.slice(0,e)){l++;let d=o(u),A=[];for(let h=0;h<d.length;h++){let p=d[h];p=`(shared with ${a.get(d.slice(0,h+1).join(`
`)).size}/${n.length} leaks) at ${p}`;let E=a.get(d.slice(0,h).join(`
`)),v=Wme([...E].map(w=>o(w)[h]),w=>w);delete v[d[h]];for(let[w,_]of Object.entries(v))A.unshift(`    - stacktraces of ${_.length} other leaks continue with ${w}`);A.unshift(p)}c+=`


==================== Leaking disposable ${l}/${n.length}: ${u.value.constructor.name} ====================
${A.join(`
`)}
============================================================

`}return n.length>e&&(c+=`


... and ${n.length-e} more leaking disposables

`),{leaks:n,details:c}}};function Gje(t){Cv=t}s(Gje,"setDisposableTracker");if(qje){let t="__is_disposable_tracked__";Gje(new class{trackDisposable(e){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[t]||console.log(r)},3e3)}setParent(e,r){if(e&&e!==tl.None)try{e[t]=!0}catch{}}markAsDisposed(e){if(e&&e!==tl.None)try{e[t]=!0}catch{}}markAsSingleton(e){}})}function Ev(t){return Cv?.trackDisposable(t),t}s(Ev,"trackDisposable");function Iv(t){Cv?.markAsDisposed(t)}s(Iv,"markAsDisposed");function kY(t,e){Cv?.setParent(t,e)}s(kY,"setParentOfDisposable");function Vje(t,e){if(Cv)for(let r of t)Cv.setParent(r,e)}s(Vje,"setParentOfDisposables");function Xme(t){if(BY.is(t)){let e=[];for(let r of t)if(r)try{r.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}s(Xme,"dispose");function Zme(...t){let e=Nh(()=>Xme(t));return Vje(t,e),e}s(Zme,"combinedDisposable");function Nh(t){let e=Ev({dispose:SY(()=>{Iv(e),t()})});return e}s(Nh,"toDisposable");var Wd=class t{constructor(){this._toDispose=new Set;this._isDisposed=!1;Ev(this)}static{s(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(Iv(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Xme(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return kY(e,this),this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),kY(e,null))}},tl=class{constructor(){this._store=new Wd;Ev(this),kY(this._store,this)}static{s(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){Iv(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var Mw=class extends tl{static{s(this,"ChatQuotaService")}constructor(e){super(),this._register(G0(e,r=>{this.processUserInfoQuotaSnapshot(r.userInfo?.raw)}))}get quotaExhausted(){return this._quotaInfo?this._quotaInfo.used>=this._quotaInfo.quota&&!this._quotaInfo.overageEnabled:!1}get overagesEnabled(){return this._quotaInfo?this._quotaInfo.overageEnabled:!1}clearQuota(){this._quotaInfo=void 0}processQuotaHeaders(e){let r=e.get("x-quota-snapshot-premium_models")||e.get("x-quota-snapshot-premium_interactions");if(r)try{let n=new URLSearchParams(r),o=parseInt(n.get("ent")||"0",10),a=parseFloat(n.get("ov")||"0.0"),c=n.get("ovPerm")==="true",l=parseFloat(n.get("rem")||"0.0"),u=n.get("rst"),d;u?d=new Date(u):(d=new Date,d.setMonth(d.getMonth()+1));let A=Math.max(0,o*(1-l/100));this._quotaInfo={quota:o,used:A,overageUsed:a,overageEnabled:c,resetDate:d}}catch(n){console.error("Failed to parse quota header",n)}}processUserInfoQuotaSnapshot(e){!e||!e.quota_snapshots||!e.quota_reset_date||(this._quotaInfo={overageEnabled:e.quota_snapshots.premium_interactions.overage_permitted,overageUsed:e.quota_snapshots.premium_interactions.overage_count,quota:e.quota_snapshots.premium_interactions.entitlement,resetDate:new Date(e.quota_reset_date),used:Math.max(0,e.quota_snapshots.premium_interactions.entitlement*(1-e.quota_snapshots.premium_interactions.percent_remaining/100))})}};f();f();f();var ege=Et(ya()),ixr=ee.Object({accessToken:ee.Optional(ee.String({minLength:1})),handle:ee.Optional(ee.String({minLength:1})),login:ee.Optional(ee.String({minLength:1})),githubAppId:ee.Optional(ee.String({minLength:1})),apiUrl:ee.Optional(ee.String({})),serverUrl:ee.Optional(ee.String({})),tokenEndpoint:ee.Optional(ee.String({}))}),Wje;(r=>(r.method="github/didChangeAuth",r.type=new ege.ProtocolNotificationType(r.method)))(Wje||={});f();var tge=Et(ya()),Yje;(r=>(r.method="copilot/ipCodeCitation",r.type=new tge.NotificationType(r.method)))(Yje||={});f();var rge=Et(ya()),$je;(r=>(r.method="context/update",r.type=new rge.ProtocolRequestType(r.method)))($je||={});f();f();f();var Uo=Et(ya()),zje=ee.String(),jje=ee.Object({uri:zje}),XC=ee.Intersect([jje,ee.Object({version:ee.Optional(ee.Integer())})]),gxr=ee.Required(XC),Og=ee.Object({line:ee.Integer({minimum:0}),character:ee.Integer({minimum:0})}),nge=ee.Object({start:Og,end:Og}),DY=ee.Union([ee.Integer(),ee.String()]),yxr=ee.Object({isCancellationRequested:ee.Boolean(),onCancellationRequested:ee.Any()});f();var ige=Et(ya()),Kje;(r=>(r.method="textDocument/didFocus",r.type=new ige.ProtocolNotificationType(r.method)))(Kje||={});f();var Jje=ee.Object({didChangeFeatureFlags:ee.Boolean(),fetch:ee.Boolean(),ipCodeCitation:ee.Boolean(),redirectedTelemetry:ee.Boolean(),related:ee.Boolean(),token:ee.Boolean(),watchedFiles:ee.Boolean(),showPanelMessage:ee.Boolean(),mcpElicitation:ee.Boolean(),mcpSampling:ee.Boolean()}),Xje=ee.Object({name:ee.String(),version:ee.String(),readableName:ee.Optional(ee.String())}),oge=ee.Object({name:ee.String(),version:ee.Optional(ee.String()),readableName:ee.Optional(ee.String())}),Txr=ee.Object({editorInfo:ee.Optional(oge),editorPluginInfo:ee.Optional(oge),relatedPluginInfo:ee.Optional(ee.Array(Xje)),copilotIntegrationId:ee.Optional(ee.String()),copilotCapabilities:ee.Optional(ee.Partial(Jje)),githubAppId:ee.Optional(ee.String())});f();var Ow=Et(ya());var sge=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(sge||{}),Zje=ee.Enum(sge),eKe=ee.Object({triggerKind:Zje,selectedCompletionInfo:ee.Optional(ee.Object({text:ee.String(),range:nge,tooltipSignature:ee.Optional(ee.String())}))}),age=ee.Object({textDocument:XC,position:Og,formattingOptions:ee.Optional(ee.Object({tabSize:ee.Optional(ee.Union([ee.Integer({minimum:1}),ee.String()])),insertSpaces:ee.Optional(ee.Union([ee.Boolean(),ee.String()]))})),context:eKe,data:ee.Optional(ee.Unknown())}),tKe;(r=>(r.method="textDocument/inlineCompletion",r.type=new Ow.ProtocolRequestType(r.method)))(tKe||={});var cge=ee.Object({command:ee.Object({arguments:ee.Tuple([ee.String({minLength:1})])})}),kxr=ee.Object({item:cge}),rKe;(r=>(r.method="textDocument/didShowCompletion",r.type=new Ow.ProtocolNotificationType(r.method)))(rKe||={});var Dxr=ee.Object({item:cge,acceptedLength:ee.Integer({minimum:1})}),nKe;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new Ow.ProtocolNotificationType(r.method)))(nKe||={});f();var lge=Et(ya()),iKe;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new lge.ProtocolRequestType(r.method)))(iKe||={});f();var uge=Et(ya()),Uxr=ee.Object({textDocument:XC,position:Og}),oKe=ee.Object({command:ee.Object({arguments:ee.Tuple([ee.String({minLength:1})])})}),Hxr=ee.Object({item:oKe}),sKe;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new uge.ProtocolNotificationType(r.method)))(sKe||={});f();var CD=Et(ya());var zxr=ee.Object({textDocument:XC,position:Og,partialResultToken:ee.Optional(DY),workDoneToken:ee.Optional(DY)}),aKe;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new CD.ProtocolRequestType(n.method),n.partialResult=new CD.ProgressType))(aKe||={});f();var fge=Et(ya()),cKe;(r=>(r.method="copilot/related",r.type=new fge.ProtocolRequestType(r.method)))(cKe||={});f();var dge=Et(ya()),lKe;(r=>(r.method="statusNotification",r.type=new dge.ProtocolNotificationType(r.method)))(lKe||={});var Age=Et(require("events"));var ED="CompletionRequested",xv=class{constructor(e){this.ctx=e}static{s(this,"CompletionNotifier")}#e=new Age.default;notifyRequest(e,r,n,o,a){return this.#e.emit(ED,{completionId:r,completionState:e,telemetryData:n,cancellationToken:o,options:a})}onRequest(e){let r=$A(this.ctx,e,`event.${ED}`);return this.#e.on(ED,r),Uo.Disposable.create(()=>this.#e.off(ED,r))}};f();var NY=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name=`UnregisteredContextErrorFor${r.name}`}static{s(this,"UnregisteredContextError")}},ID=class{constructor(){this.instances=new Map}static{s(this,"Context")}get(e){let r=this.tryGet(e);if(r)return r;throw new NY(e)}tryGet(e){let r=this.instances.get(e);if(r)return r}set(e,r){if(this.tryGet(e))throw new Error(`An instance of ${e.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(e,r),this.instances.set(e,r)}forceSet(e,r){this.assertIsInstance(e,r),this.instances.set(e,r)}assertIsInstance(e,r){if(!(r instanceof e)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${e.name} is not an instance of it (${n}).`)}}};f();f();f();f();var Uw={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};f();var hge=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],pge={".php":[".blade"]},mge=Object.keys(Uw).flatMap(t=>Uw[t].extensions);var QY=Et(require("node:path"));var bv=class{constructor(e,r,n){this.languageId=e;this.isGuess=r;this.fileExtension=n}static{s(this,"Language")}},Hw=class{static{s(this,"LanguageDetection")}},PY=new Map,vv=new Map;for(let[t,{extensions:e,filenames:r}]of Object.entries(Uw)){for(let n of e)PY.set(n,[...PY.get(n)??[],t]);for(let n of r??[])vv.set(n,[...vv.get(n)??[],t])}var FY=class extends Hw{static{s(this,"FilenameAndExensionLanguageDetection")}detectLanguage(e){let r=km(e.uri),n=QY.extname(r).toLowerCase(),o=this.extensionWithoutTemplateLanguage(r,n),a=this.detectLanguageId(r,o),c=this.computeFullyQualifiedExtension(n,o);return a?new bv(a.languageId,a.isGuess,c):new bv(e.languageId,!0,c)}extensionWithoutTemplateLanguage(e,r){if(hge.includes(r)){let n=e.substring(0,e.lastIndexOf(".")),o=QY.extname(n).toLowerCase();if(o.length>0&&mge.includes(o)&&this.isExtensionValidForTemplateLanguage(r,o))return o}return r}isExtensionValidForTemplateLanguage(e,r){let n=pge[e];return!n||n.includes(r)}detectLanguageId(e,r){if(vv.has(e))return{languageId:vv.get(e)[0],isGuess:!1};let n=PY.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;e.includes(".");)if(e=e.replace(/\.[^.]*$/,""),vv.has(e))return{languageId:vv.get(e)[0],isGuess:!1}}computeFullyQualifiedExtension(e,r){return e!==r?r+e:e}},LY=class extends Hw{constructor(r){super();this.delegate=r}static{s(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),o=n.languageId;return o==="c"||o==="cpp"?new bv("cpp",n.isGuess,n.fileExtension):n}},MY=class extends Hw{constructor(r){super();this.delegate=r}static{s(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new bv(r.languageId,!0,""):this.delegate.detectLanguage(r)}},uKe=new LY(new MY(new FY));function xD({uri:t,languageId:e}){let r=uKe.detectLanguage({uri:t,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?e:r.languageId}s(xD,"detectLanguage");f();var vD=class t{static{s(this,"FullTextDocument")}constructor(e,r,n,o){this._uri=e,this._languageId=r,this._version=n,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(let n of e)if(t.isIncremental(n)){let o=Cge(n.range),a=this.offsetAt(o.start),c=this.offsetAt(o.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(c,this._content.length);let l=Math.max(o.start.line,0),u=Math.max(o.end.line,0),d=this._lineOffsets,A=gge(n.text,!1,a);if(u-l===A.length)for(let p=0,y=A.length;p<y;p++)d[p+l+1]=A[p];else A.length<1e4?d.splice(l+1,u-l,...A):this._lineOffsets=d=d.slice(0,l+1).concat(A,d.slice(u+1));let h=n.text.length-(c-a);if(h!==0)for(let p=l+1+A.length,y=d.length;p<y;p++)d[p]=d[p]+h}else if(t.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=gge(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,o=r.length;if(o===0)return{line:0,character:e};for(;n<o;){let c=Math.floor((n+o)/2);r[c]>e?o=c:n=c+1}let a=n-1;return e=this.ensureBeforeEOL(e,r[a]),{line:a,character:e-r[a]}}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line];if(e.character<=0)return n;let o=e.line+1<r.length?r[e.line+1]:this._content.length,a=Math.min(n+e.character,o);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(e,r){for(;e>r&&yge(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},Ug;(function(t){function e(o,a,c,l){return new vD(o,a,c,l)}s(e,"create"),t.create=e;function r(o,a,c){if(o instanceof vD)return o.update(a,c),o;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(r,"update"),t.update=r;function n(o,a){let c=o.getText(),l=OY(a.map(fKe),(A,h)=>{let p=A.range.start.line-h.range.start.line;return p===0?A.range.start.character-h.range.start.character:p}),u=0,d=[];for(let A of l){let h=o.offsetAt(A.range.start);if(h<u)throw new Error("Overlapping edit");h>u&&d.push(c.substring(u,h)),A.newText.length&&d.push(A.newText),u=o.offsetAt(A.range.end)}return d.push(c.substr(u)),d.join("")}s(n,"applyEdits"),t.applyEdits=n})(Ug||(Ug={}));function OY(t,e){if(t.length<=1)return t;let r=t.length/2|0,n=t.slice(0,r),o=t.slice(r);OY(n,e),OY(o,e);let a=0,c=0,l=0;for(;a<n.length&&c<o.length;)e(n[a],o[c])<=0?t[l++]=n[a++]:t[l++]=o[c++];for(;a<n.length;)t[l++]=n[a++];for(;c<o.length;)t[l++]=o[c++];return t}s(OY,"mergeSort");function gge(t,e,r=0){let n=e?[r]:[];for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);yge(a)&&(a===13&&o+1<t.length&&t.charCodeAt(o+1)===10&&o++,n.push(r+o+1))}return n}s(gge,"computeLineOffsets");function yge(t){return t===13||t===10}s(yge,"isEOL");function Cge(t){let e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}s(Cge,"getWellformedRange");function fKe(t){let e=Cge(t.range);return e!==t.range?{newText:t.newText,range:e}:t}s(fKe,"getWellformedEdit");f();var Ege;(function(t){function e(r){return typeof r=="string"}s(e,"is"),t.is=e})(Ege||(Ege={}));var UY;(function(t){function e(r){return typeof r=="string"}s(e,"is"),t.is=e})(UY||(UY={}));var Ige;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}s(e,"is"),t.is=e})(Ige||(Ige={}));var bD;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}s(e,"is"),t.is=e})(bD||(bD={}));var t0;(function(t){function e(n,o){return n===Number.MAX_VALUE&&(n=bD.MAX_VALUE),o===Number.MAX_VALUE&&(o=bD.MAX_VALUE),{line:n,character:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.uinteger(o.line)&&Qe.uinteger(o.character)}s(r,"is"),t.is=r})(t0||(t0={}));var Ui;(function(t){function e(n,o,a,c){if(Qe.uinteger(n)&&Qe.uinteger(o)&&Qe.uinteger(a)&&Qe.uinteger(c))return{start:t0.create(n,o),end:t0.create(a,c)};if(t0.is(n)&&t0.is(o))return{start:n,end:o};throw new Error(`Range#create called with invalid arguments[${n}, ${o}, ${a}, ${c}]`)}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&t0.is(o.start)&&t0.is(o.end)}s(r,"is"),t.is=r})(Ui||(Ui={}));var TD;(function(t){function e(n,o){return{uri:n,range:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Ui.is(o.range)&&(Qe.string(o.uri)||Qe.undefined(o.uri))}s(r,"is"),t.is=r})(TD||(TD={}));var xge;(function(t){function e(n,o,a,c){return{targetUri:n,targetRange:o,targetSelectionRange:a,originSelectionRange:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Ui.is(o.targetRange)&&Qe.string(o.targetUri)&&Ui.is(o.targetSelectionRange)&&(Ui.is(o.originSelectionRange)||Qe.undefined(o.originSelectionRange))}s(r,"is"),t.is=r})(xge||(xge={}));var HY;(function(t){function e(n,o,a,c){return{red:n,green:o,blue:a,alpha:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.numberRange(o.red,0,1)&&Qe.numberRange(o.green,0,1)&&Qe.numberRange(o.blue,0,1)&&Qe.numberRange(o.alpha,0,1)}s(r,"is"),t.is=r})(HY||(HY={}));var vge;(function(t){function e(n,o){return{range:n,color:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Ui.is(o.range)&&HY.is(o.color)}s(r,"is"),t.is=r})(vge||(vge={}));var bge;(function(t){function e(n,o,a){return{label:n,textEdit:o,additionalTextEdits:a}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.string(o.label)&&(Qe.undefined(o.textEdit)||_v.is(o))&&(Qe.undefined(o.additionalTextEdits)||Qe.typedArray(o.additionalTextEdits,_v.is))}s(r,"is"),t.is=r})(bge||(bge={}));var Tge;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(Tge||(Tge={}));var _ge;(function(t){function e(n,o,a,c,l,u){let d={startLine:n,endLine:o};return Qe.defined(a)&&(d.startCharacter=a),Qe.defined(c)&&(d.endCharacter=c),Qe.defined(l)&&(d.kind=l),Qe.defined(u)&&(d.collapsedText=u),d}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.uinteger(o.startLine)&&Qe.uinteger(o.startLine)&&(Qe.undefined(o.startCharacter)||Qe.uinteger(o.startCharacter))&&(Qe.undefined(o.endCharacter)||Qe.uinteger(o.endCharacter))&&(Qe.undefined(o.kind)||Qe.string(o.kind))}s(r,"is"),t.is=r})(_ge||(_ge={}));var qY;(function(t){function e(n,o){return{location:n,message:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&TD.is(o.location)&&Qe.string(o.message)}s(r,"is"),t.is=r})(qY||(qY={}));var wge;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(wge||(wge={}));var Sge;(function(t){t.Unnecessary=1,t.Deprecated=2})(Sge||(Sge={}));var Bge;(function(t){function e(r){let n=r;return Qe.objectLiteral(n)&&Qe.string(n.href)}s(e,"is"),t.is=e})(Bge||(Bge={}));var _D;(function(t){function e(n,o,a,c,l,u){let d={range:n,message:o};return Qe.defined(a)&&(d.severity=a),Qe.defined(c)&&(d.code=c),Qe.defined(l)&&(d.source=l),Qe.defined(u)&&(d.relatedInformation=u),d}s(e,"create"),t.create=e;function r(n){var o;let a=n;return Qe.defined(a)&&Ui.is(a.range)&&Qe.string(a.message)&&(Qe.number(a.severity)||Qe.undefined(a.severity))&&(Qe.integer(a.code)||Qe.string(a.code)||Qe.undefined(a.code))&&(Qe.undefined(a.codeDescription)||Qe.string((o=a.codeDescription)===null||o===void 0?void 0:o.href))&&(Qe.string(a.source)||Qe.undefined(a.source))&&(Qe.undefined(a.relatedInformation)||Qe.typedArray(a.relatedInformation,qY.is))}s(r,"is"),t.is=r})(_D||(_D={}));var Tv;(function(t){function e(n,o,...a){let c={title:n,command:o};return Qe.defined(a)&&a.length>0&&(c.arguments=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.title)&&Qe.string(o.command)}s(r,"is"),t.is=r})(Tv||(Tv={}));var _v;(function(t){function e(a,c){return{range:a,newText:c}}s(e,"replace"),t.replace=e;function r(a,c){return{range:{start:a,end:a},newText:c}}s(r,"insert"),t.insert=r;function n(a){return{range:a,newText:""}}s(n,"del"),t.del=n;function o(a){let c=a;return Qe.objectLiteral(c)&&Qe.string(c.newText)&&Ui.is(c.range)}s(o,"is"),t.is=o})(_v||(_v={}));var GY;(function(t){function e(n,o,a){let c={label:n};return o!==void 0&&(c.needsConfirmation=o),a!==void 0&&(c.description=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.string(o.label)&&(Qe.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(Qe.string(o.description)||o.description===void 0)}s(r,"is"),t.is=r})(GY||(GY={}));var wv;(function(t){function e(r){let n=r;return Qe.string(n)}s(e,"is"),t.is=e})(wv||(wv={}));var Rge;(function(t){function e(a,c,l){return{range:a,newText:c,annotationId:l}}s(e,"replace"),t.replace=e;function r(a,c,l){return{range:{start:a,end:a},newText:c,annotationId:l}}s(r,"insert"),t.insert=r;function n(a,c){return{range:a,newText:"",annotationId:c}}s(n,"del"),t.del=n;function o(a){let c=a;return _v.is(c)&&(GY.is(c.annotationId)||wv.is(c.annotationId))}s(o,"is"),t.is=o})(Rge||(Rge={}));var VY;(function(t){function e(n,o){return{textDocument:n,edits:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&jY.is(o.textDocument)&&Array.isArray(o.edits)}s(r,"is"),t.is=r})(VY||(VY={}));var WY;(function(t){function e(n,o,a){let c={kind:"create",uri:n};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),a!==void 0&&(c.annotationId=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return o&&o.kind==="create"&&Qe.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||Qe.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||Qe.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||wv.is(o.annotationId))}s(r,"is"),t.is=r})(WY||(WY={}));var YY;(function(t){function e(n,o,a,c){let l={kind:"rename",oldUri:n,newUri:o};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(l.options=a),c!==void 0&&(l.annotationId=c),l}s(e,"create"),t.create=e;function r(n){let o=n;return o&&o.kind==="rename"&&Qe.string(o.oldUri)&&Qe.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||Qe.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||Qe.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||wv.is(o.annotationId))}s(r,"is"),t.is=r})(YY||(YY={}));var $Y;(function(t){function e(n,o,a){let c={kind:"delete",uri:n};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(c.options=o),a!==void 0&&(c.annotationId=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return o&&o.kind==="delete"&&Qe.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||Qe.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||Qe.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||wv.is(o.annotationId))}s(r,"is"),t.is=r})($Y||($Y={}));var zY;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(o=>Qe.string(o.kind)?WY.is(o)||YY.is(o)||$Y.is(o):VY.is(o)))}s(e,"is"),t.is=e})(zY||(zY={}));var kge;(function(t){function e(n){return{uri:n}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.uri)}s(r,"is"),t.is=r})(kge||(kge={}));var Dge;(function(t){function e(n,o){return{uri:n,version:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.uri)&&Qe.integer(o.version)}s(r,"is"),t.is=r})(Dge||(Dge={}));var jY;(function(t){function e(n,o){return{uri:n,version:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.uri)&&(o.version===null||Qe.integer(o.version))}s(r,"is"),t.is=r})(jY||(jY={}));var Nge;(function(t){function e(n,o,a,c){return{uri:n,languageId:o,version:a,text:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.uri)&&Qe.string(o.languageId)&&Qe.integer(o.version)&&Qe.string(o.text)}s(r,"is"),t.is=r})(Nge||(Nge={}));var KY;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){let n=r;return n===t.PlainText||n===t.Markdown}s(e,"is"),t.is=e})(KY||(KY={}));var qw;(function(t){function e(r){let n=r;return Qe.objectLiteral(r)&&KY.is(n.kind)&&Qe.string(n.value)}s(e,"is"),t.is=e})(qw||(qw={}));var Qge;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(Qge||(Qge={}));var Pge;(function(t){t.PlainText=1,t.Snippet=2})(Pge||(Pge={}));var Fge;(function(t){t.Deprecated=1})(Fge||(Fge={}));var Lge;(function(t){function e(n,o,a){return{newText:n,insert:o,replace:a}}s(e,"create"),t.create=e;function r(n){let o=n;return o&&Qe.string(o.newText)&&Ui.is(o.insert)&&Ui.is(o.replace)}s(r,"is"),t.is=r})(Lge||(Lge={}));var Mge;(function(t){t.asIs=1,t.adjustIndentation=2})(Mge||(Mge={}));var Oge;(function(t){function e(r){let n=r;return n&&(Qe.string(n.detail)||n.detail===void 0)&&(Qe.string(n.description)||n.description===void 0)}s(e,"is"),t.is=e})(Oge||(Oge={}));var Uge;(function(t){function e(r){return{label:r}}s(e,"create"),t.create=e})(Uge||(Uge={}));var Hge;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}s(e,"create"),t.create=e})(Hge||(Hge={}));var wD;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(e,"fromPlainText"),t.fromPlainText=e;function r(n){let o=n;return Qe.string(o)||Qe.objectLiteral(o)&&Qe.string(o.language)&&Qe.string(o.value)}s(r,"is"),t.is=r})(wD||(wD={}));var qge;(function(t){function e(r){let n=r;return!!n&&Qe.objectLiteral(n)&&(qw.is(n.contents)||wD.is(n.contents)||Qe.typedArray(n.contents,wD.is))&&(r.range===void 0||Ui.is(r.range))}s(e,"is"),t.is=e})(qge||(qge={}));var Gge;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}s(e,"create"),t.create=e})(Gge||(Gge={}));var Vge;(function(t){function e(r,n,...o){let a={label:r};return Qe.defined(n)&&(a.documentation=n),Qe.defined(o)?a.parameters=o:a.parameters=[],a}s(e,"create"),t.create=e})(Vge||(Vge={}));var Wge;(function(t){t.Text=1,t.Read=2,t.Write=3})(Wge||(Wge={}));var Yge;(function(t){function e(r,n){let o={range:r};return Qe.number(n)&&(o.kind=n),o}s(e,"create"),t.create=e})(Yge||(Yge={}));var $ge;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})($ge||($ge={}));var zge;(function(t){t.Deprecated=1})(zge||(zge={}));var jge;(function(t){function e(r,n,o,a,c){let l={name:r,kind:n,location:{uri:a,range:o}};return c&&(l.containerName=c),l}s(e,"create"),t.create=e})(jge||(jge={}));var Kge;(function(t){function e(r,n,o,a){return a!==void 0?{name:r,kind:n,location:{uri:o,range:a}}:{name:r,kind:n,location:{uri:o}}}s(e,"create"),t.create=e})(Kge||(Kge={}));var Jge;(function(t){function e(n,o,a,c,l,u){let d={name:n,detail:o,kind:a,range:c,selectionRange:l};return u!==void 0&&(d.children=u),d}s(e,"create"),t.create=e;function r(n){let o=n;return o&&Qe.string(o.name)&&Qe.number(o.kind)&&Ui.is(o.range)&&Ui.is(o.selectionRange)&&(o.detail===void 0||Qe.string(o.detail))&&(o.deprecated===void 0||Qe.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}s(r,"is"),t.is=r})(Jge||(Jge={}));var Xge;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Xge||(Xge={}));var SD;(function(t){t.Invoked=1,t.Automatic=2})(SD||(SD={}));var Zge;(function(t){function e(n,o,a){let c={diagnostics:n};return o!=null&&(c.only=o),a!=null&&(c.triggerKind=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.typedArray(o.diagnostics,_D.is)&&(o.only===void 0||Qe.typedArray(o.only,Qe.string))&&(o.triggerKind===void 0||o.triggerKind===SD.Invoked||o.triggerKind===SD.Automatic)}s(r,"is"),t.is=r})(Zge||(Zge={}));var e1e;(function(t){function e(n,o,a){let c={title:n},l=!0;return typeof o=="string"?(l=!1,c.kind=o):Tv.is(o)?c.command=o:c.edit=o,l&&a!==void 0&&(c.kind=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return o&&Qe.string(o.title)&&(o.diagnostics===void 0||Qe.typedArray(o.diagnostics,_D.is))&&(o.kind===void 0||Qe.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||Tv.is(o.command))&&(o.isPreferred===void 0||Qe.boolean(o.isPreferred))&&(o.edit===void 0||zY.is(o.edit))}s(r,"is"),t.is=r})(e1e||(e1e={}));var t1e;(function(t){function e(n,o){let a={range:n};return Qe.defined(o)&&(a.data=o),a}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Ui.is(o.range)&&(Qe.undefined(o.command)||Tv.is(o.command))}s(r,"is"),t.is=r})(t1e||(t1e={}));var r1e;(function(t){function e(n,o){return{tabSize:n,insertSpaces:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.uinteger(o.tabSize)&&Qe.boolean(o.insertSpaces)}s(r,"is"),t.is=r})(r1e||(r1e={}));var n1e;(function(t){function e(n,o,a){return{range:n,target:o,data:a}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Ui.is(o.range)&&(Qe.undefined(o.target)||Qe.string(o.target))}s(r,"is"),t.is=r})(n1e||(n1e={}));var i1e;(function(t){function e(n,o){return{range:n,parent:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Ui.is(o.range)&&(o.parent===void 0||t.is(o.parent))}s(r,"is"),t.is=r})(i1e||(i1e={}));var o1e;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(o1e||(o1e={}));var s1e;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(s1e||(s1e={}));var a1e;(function(t){function e(r){let n=r;return Qe.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}s(e,"is"),t.is=e})(a1e||(a1e={}));var c1e;(function(t){function e(n,o){return{range:n,text:o}}s(e,"create"),t.create=e;function r(n){let o=n;return o!=null&&Ui.is(o.range)&&Qe.string(o.text)}s(r,"is"),t.is=r})(c1e||(c1e={}));var l1e;(function(t){function e(n,o,a){return{range:n,variableName:o,caseSensitiveLookup:a}}s(e,"create"),t.create=e;function r(n){let o=n;return o!=null&&Ui.is(o.range)&&Qe.boolean(o.caseSensitiveLookup)&&(Qe.string(o.variableName)||o.variableName===void 0)}s(r,"is"),t.is=r})(l1e||(l1e={}));var u1e;(function(t){function e(n,o){return{range:n,expression:o}}s(e,"create"),t.create=e;function r(n){let o=n;return o!=null&&Ui.is(o.range)&&(Qe.string(o.expression)||o.expression===void 0)}s(r,"is"),t.is=r})(u1e||(u1e={}));var f1e;(function(t){function e(n,o){return{frameId:n,stoppedLocation:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Ui.is(n.stoppedLocation)}s(r,"is"),t.is=r})(f1e||(f1e={}));var JY;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}s(e,"is"),t.is=e})(JY||(JY={}));var XY;(function(t){function e(n){return{value:n}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&(o.tooltip===void 0||Qe.string(o.tooltip)||qw.is(o.tooltip))&&(o.location===void 0||TD.is(o.location))&&(o.command===void 0||Tv.is(o.command))}s(r,"is"),t.is=r})(XY||(XY={}));var d1e;(function(t){function e(n,o,a){let c={position:n,label:o};return a!==void 0&&(c.kind=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&t0.is(o.position)&&(Qe.string(o.label)||Qe.typedArray(o.label,XY.is))&&(o.kind===void 0||JY.is(o.kind))&&o.textEdits===void 0||Qe.typedArray(o.textEdits,_v.is)&&(o.tooltip===void 0||Qe.string(o.tooltip)||qw.is(o.tooltip))&&(o.paddingLeft===void 0||Qe.boolean(o.paddingLeft))&&(o.paddingRight===void 0||Qe.boolean(o.paddingRight))}s(r,"is"),t.is=r})(d1e||(d1e={}));var A1e;(function(t){function e(r){return{kind:"snippet",value:r}}s(e,"createSnippet"),t.createSnippet=e})(A1e||(A1e={}));var h1e;(function(t){function e(r,n,o,a){return{insertText:r,filterText:n,range:o,command:a}}s(e,"create"),t.create=e})(h1e||(h1e={}));var p1e;(function(t){function e(r){return{items:r}}s(e,"create"),t.create=e})(p1e||(p1e={}));var m1e;(function(t){t.Invoked=0,t.Automatic=1})(m1e||(m1e={}));var g1e;(function(t){function e(r,n){return{range:r,text:n}}s(e,"create"),t.create=e})(g1e||(g1e={}));var y1e;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}s(e,"create"),t.create=e})(y1e||(y1e={}));var C1e;(function(t){function e(r){let n=r;return Qe.objectLiteral(n)&&UY.is(n.uri)&&Qe.string(n.name)}s(e,"is"),t.is=e})(C1e||(C1e={}));var E1e;(function(t){function e(a,c,l,u){return new ZY(a,c,l,u)}s(e,"create"),t.create=e;function r(a){let c=a;return!!(Qe.defined(c)&&Qe.string(c.uri)&&(Qe.undefined(c.languageId)||Qe.string(c.languageId))&&Qe.uinteger(c.lineCount)&&Qe.func(c.getText)&&Qe.func(c.positionAt)&&Qe.func(c.offsetAt))}s(r,"is"),t.is=r;function n(a,c){let l=a.getText(),u=o(c,(A,h)=>{let p=A.range.start.line-h.range.start.line;return p===0?A.range.start.character-h.range.start.character:p}),d=l.length;for(let A=u.length-1;A>=0;A--){let h=u[A],p=a.offsetAt(h.range.start),y=a.offsetAt(h.range.end);if(y<=d)l=l.substring(0,p)+h.newText+l.substring(y,l.length);else throw new Error("Overlapping edit");d=p}return l}s(n,"applyEdits"),t.applyEdits=n;function o(a,c){if(a.length<=1)return a;let l=a.length/2|0,u=a.slice(0,l),d=a.slice(l);o(u,c),o(d,c);let A=0,h=0,p=0;for(;A<u.length&&h<d.length;)c(u[A],d[h])<=0?a[p++]=u[A++]:a[p++]=d[h++];for(;A<u.length;)a[p++]=u[A++];for(;h<d.length;)a[p++]=d[h++];return a}s(o,"mergeSort")})(E1e||(E1e={}));var ZY=class{static{s(this,"FullTextDocument")}constructor(e,r,n,o){this._uri=e,this._languageId=r,this._version=n,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let o=0;o<r.length;o++){n&&(e.push(o),n=!1);let a=r.charAt(o);n=a==="\r"||a===`
`,a==="\r"&&o+1<r.length&&r.charAt(o+1)===`
`&&o++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,o=r.length;if(o===0)return t0.create(0,e);for(;n<o;){let c=Math.floor((n+o)/2);r[c]>e?o=c:n=c+1}let a=n-1;return t0.create(a,e-r[a])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],o=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,o),n)}get lineCount(){return this.getLineOffsets().length}},Qe;(function(t){let e=Object.prototype.toString;function r(y){return typeof y<"u"}s(r,"defined"),t.defined=r;function n(y){return typeof y>"u"}s(n,"undefined"),t.undefined=n;function o(y){return y===!0||y===!1}s(o,"boolean"),t.boolean=o;function a(y){return e.call(y)==="[object String]"}s(a,"string"),t.string=a;function c(y){return e.call(y)==="[object Number]"}s(c,"number"),t.number=c;function l(y,E,v){return e.call(y)==="[object Number]"&&E<=y&&y<=v}s(l,"numberRange"),t.numberRange=l;function u(y){return e.call(y)==="[object Number]"&&-2147483648<=y&&y<=2147483647}s(u,"integer"),t.integer=u;function d(y){return e.call(y)==="[object Number]"&&0<=y&&y<=2147483647}s(d,"uinteger"),t.uinteger=d;function A(y){return e.call(y)==="[object Function]"}s(A,"func"),t.func=A;function h(y){return y!==null&&typeof y=="object"}s(h,"objectLiteral"),t.objectLiteral=h;function p(y,E){return Array.isArray(y)&&y.every(E)}s(p,"typedArray"),t.typedArray=p})(Qe||(Qe={}));var BD=class{static{s(this,"LocationFactory")}static{this.range=Ui.create.bind(Ui)}static{this.position=t0.create.bind(t0)}},RD=class t{constructor(e,r,n){this.uri=e;this._textDocument=r;this.detectedLanguageId=n}static{s(this,"CopilotTextDocument")}static withChanges(e,r,n){let o=Ug.create(e.clientUri,e.clientLanguageId,n,e.getText());return Ug.update(o,r,n),new t(e.uri,o,e.detectedLanguageId)}applyEdits(e){let r=Ug.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return Ug.update(r,e.map(n=>({text:n.newText,range:n.range})),this.version),new t(this.uri,r,this.detectedLanguageId)}static create(e,r,n,o,a=xD({uri:e,languageId:r})){return new t(Rm(e),Ug.create(e,r,n,o),a)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(e){return this._textDocument.getText(e)}positionAt(e){return this._textDocument.positionAt(e)}offsetAt(e){return this._textDocument.offsetAt(e)}lineAt(e){let r=typeof e=="number"?e:e.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Ui.create(r,0,r+1,0),o=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),a=Ui.create(t0.create(r,0),t0.create(r,o.length)),c=o.trim().length===0;return{text:o,range:a,isEmptyOrWhitespace:c}}};f();f();f();f();var Gw={isBlocked:!1,reason:"VALID_FILE"},kD={isBlocked:!1,reason:"NO_MATCHING_POLICY"},I1e={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},ZC={all:"all",repo:"repo"},Hg=new jr("contentExclusion");f();f();var DD=class{static{s(this,"PolicyEvaluator")}};f();f();f();var x1e=new jr("repository"),eE=class t{constructor(){this.data={}}static{s(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(e){let r=this.getAll(e);return r?r[r.length-1]:void 0}getAll(e){return this.data[this.normalizeKey(e)]}add(e,r){e in this.data||(this.data[e]=[]),this.data[e].push(r)}getSectionValues(e,r){let n=`${e}.`.toLowerCase(),o=`.${r}`.toLowerCase();return Object.keys(this.data).filter(a=>a.startsWith(n)&&a.endsWith(o)).map(a=>a.slice(n.length,-o.length))}concat(e){return this.getEntries().concat(e.getEntries()).reduce((r,[n,o])=>(o.forEach(a=>r.add(n,a)),r),new t)}normalizeKey(e){let r=e.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},pf=class{static{s(this,"GitConfigLoader")}},ND=class extends pf{constructor(r){super();this.loaders=r}static{s(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let o of this.loaders){let a=await o.getConfig(r,n);if(a)return a}}};f();var v1e=require("os");var QD=class{constructor(e){this.url=e;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{s(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return Bm.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let e=this.url.indexOf(":");return this.url.substring(0,e+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let e;try{e=Bm.parse(this.url)}catch(r){this._error=r;return}this._scheme=e.scheme,this.setAuthority(e.authority),this.setPath(e.path)}setAuthority(e){this._authority=e;let r=e.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let e=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(e&&((0,v1e.platform)()!=="win32"||(e.groups?.host?.length??0)>1)){let r=e.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(e){if(this.isADO())try{this._path=decodeURIComponent(e);return}catch{}this._path=e}};var PD=class{static{s(this,"GitRemoteResolver")}async resolveRemote(e,r){let n=await e.get(pf).getConfig(e,r);if(!n)return;let o=this.getRemotes(n),a=o.filter(c=>c.url.isGitHub());if(a.length)return a.find(c=>c.name==="origin")?.url??a[0].url;if(o.length)return o.find(c=>c.name==="origin")?.url??o[0].url}getRemotes(e){let r=this.getInsteadOfRules(e);return e.getSectionValues("remote","url").map(n=>({name:n,url:new QD(this.applyInsteadOfRules(r,e.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(e,r){for(let n of e)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(e){return e.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:e.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var dKe=100,e$=class{constructor(e,r){this.baseFolder=e;this.remote=r;this.setNWO()}static{s(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let e=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=e?.[0],this._name=e?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&e?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=e?.[1],this._owner=e?.[2],this._name=e?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=e?.[1],this._name=e?.[3]):(this._adoOrganization=e?.[0],this._owner=e?.[1],this._name=e?.[3])}}},Qh=class t{constructor(e){this.ctx=e;this.remoteResolver=new PD;this.cache=new mn(dKe)}static{s(this,"RepositoryManager")}async getRepo({uri:e}){let r,n=[];do{if(this.cache.has(e.toString())){let a=this.cache.get(e);return this.updateCache(n,a),a}n.push(e.toString());let o=await this.tryGetRepoForFolder(e);if(o)return this.updateCache(n,o),o;r=e,e=YA(e)}while(e!==r);this.updateCache(n,void 0)}updateCache(e,r){e.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(e){return await this.isBaseRepoFolder(e)?new e$(typeof e=="string"?{uri:e}:e,await this.repoUrl(e)):void 0}async isBaseRepoFolder(e){return await t.getRepoConfigLocation(this.ctx,e)!==void 0}async repoUrl(e){return await this.remoteResolver.resolveRemote(this.ctx,e)}static async getRepoConfigLocation(e,r){try{let n=e.get(na),o=$s(r,".git");if((await n.stat(o)).type&1)return await this.getConfigLocationForGitfile(n,r,o);let c=$s(o,"config");return await n.stat(c),c}catch{return}}static async getConfigLocationForGitfile(e,r,n){let a=(await e.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!a)return;let c=By(r,a[1]),l=$s(c,"config");if(await this.tryStat(e,l)!==void 0)return l;let u=$s(c,"config.worktree");if(await this.tryStat(e,u)!==void 0)return u;let d=$s(c,"commondir");c=By(c,(await e.readFileString(d)).trimEnd());let A=$s(c,"config");return await e.stat(A),A}static async tryStat(e,r){try{return await e.stat(r)}catch{return}}};f();var t$=s((t,e)=>{if(Fg.Check(t,e))return e;let r=`Typebox schema validation failed:
${[...Fg.Errors(t,e)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");f();f();f();var FD=new WeakMap;function LD(t,e){if(t==null||typeof t!="object")return String(t);let r,n="",o=0,a=Object.prototype.toString.call(t);if(a!=="[object RegExp]"&&a!=="[object Date]"&&FD.has(t))return FD.get(t);switch(FD.set(t,"~"+ ++e),a){case"[object Set]":r=Array.from(t);case"[object Array]":for(r||(r=t),n+="a";o<r.length;n+=LD(r[o++],e));break;case"[object Object]":for(n+="o",r=Object.keys(t).sort();o<r.length;n+=r[o]+LD(t[r[o++]],e));break;case"[object Map]":for(n+="o",r=Array.from(t.keys()).sort();o<r.length;n+=r[o]+LD(t.get(r[o++]),e));break;case"[object Date]":return"d"+ +t;case"[object RegExp]":return"r"+t.source+t.flags;default:throw new Error(`Unsupported value ${t}`)}return FD.set(t,n),n}s(LD,"t");function MD(t){return LD(t,0)}s(MD,"r");var r$=new WeakMap;function b1e(t,e,r=MD(e)){let n,o,a=r$.get(t);a||(r$.set(t,a=[[],o=[],n=[]]),queueMicrotask(function(){let d,A=0;function h(p){for(;d=n[A++];d.r(p));}s(h,"o"),r$.delete(t),t(o).then(function(p){if(p.length!==n.length)return h(new Error("loader value length mismatch"));for(;d=p[A++],A<=p.length;d instanceof Error?n[A-1].r(d):n[A-1].s(d));},h)}));let c=a[0].indexOf(r);if(~c)return a[2][c].p;let l=a[0].push(r)-1,u=a[2][l]={};return a[1][l]=e,u.p=new Promise(function(d,A){u.s=d,u.r=A})}s(b1e,"n");var T1e=new WeakMap;function AKe(t,e,r,n=MD(r)){if(e||(e=T1e.get(t)),e||T1e.set(t,e=new Map),e.has(n))return Promise.resolve(e.get(n));let o=b1e(t,r,n);return e.set(n,o),o.catch(()=>e.delete(n)),o}s(AKe,"n");function _1e(t,e){return function(r,n){return AKe(t,e,r,n)}}s(_1e,"o");f();var $1e=Et(O1e(),1);f();var Ww=s(t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");f();f();var IKe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Yw=s(t=>t.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),xKe=s(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),U1e=s(t=>t.join(""),"rangesToString"),H1e=s((t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],o=[],a=r+1,c=!1,l=!1,u=!1,d=!1,A=r,h="";e:for(;a<t.length;){let v=t.charAt(a);if((v==="!"||v==="^")&&a===r+1){d=!0,a++;continue}if(v==="]"&&c&&!u){A=a+1;break}if(c=!0,v==="\\"&&!u){u=!0,a++;continue}if(v==="["&&!u){for(let[w,[_,S,D]]of Object.entries(IKe))if(t.startsWith(w,a)){if(h)return["$.",!1,t.length-r,!0];a+=w.length,D?o.push(_):n.push(_),l=l||S;continue e}}if(u=!1,h){v>h?n.push(Yw(h)+"-"+Yw(v)):v===h&&n.push(Yw(v)),h="",a++;continue}if(t.startsWith("-]",a+1)){n.push(Yw(v+"-")),a+=2;continue}if(t.startsWith("-",a+1)){h=v,a+=2;continue}n.push(Yw(v)),a++}if(A<a)return["",!1,0,!1];if(!n.length&&!o.length)return["$.",!1,t.length-r,!0];if(o.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!d){let v=n[0].length===2?n[0].slice(-1):n[0];return[xKe(v),!1,A-r,!1]}let p="["+(d?"^":"")+U1e(n)+"]",y="["+(d?"":"^")+U1e(o)+"]";return[n.length&&o.length?"("+p+"|"+y+")":n.length?p:y,l,A-r,!0]},"parseClass");f();var qg=s((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var vKe=new Set(["!","?","+","*","@"]),q1e=s(t=>vKe.has(t),"isExtglobType"),bKe="(?!(?:^|/)\\.\\.?(?:$|/))",OD="(?!\\.)",TKe=new Set(["[","."]),_Ke=new Set(["..","."]),wKe=new Set("().*{}+?[]^$\\!"),SKe=s(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),o$="[^/]",G1e=o$+"*?",V1e=o$+"+?",Sv=class t{static{s(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#c;#l;#f=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#c=this.#e===this?n:this.#e.#c,this.#s=this.#e===this?[]:this.#e.#s,e==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#A(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#s.pop();){if(e.type!=="!")continue;let r=e,n=r.#r;for(;n;){for(let o=r.#o+1;!n.type&&o<n.#n.length;o++)for(let a of e.#n){if(typeof a=="string")throw new Error("string part in extglob AST??");a.copyIn(n.#n[o])}r=n,n=r.#r}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let e=this.#r;for(let r=0;r<this.#o;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#n.length:0;return this.#o===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#u(e,r,n,o){let a=!1,c=!1,l=-1,u=!1;if(r.type===null){let y=n,E="";for(;y<e.length;){let v=e.charAt(y++);if(a||v==="\\"){a=!a,E+=v;continue}if(c){y===l+1?(v==="^"||v==="!")&&(u=!0):v==="]"&&!(y===l+2&&u)&&(c=!1),E+=v;continue}else if(v==="["){c=!0,l=y,u=!1,E+=v;continue}if(!o.noext&&q1e(v)&&e.charAt(y)==="("){r.push(E),E="";let w=new t(v,r);y=t.#u(e,w,y,o),r.push(w);continue}E+=v}return r.push(E),y}let d=n+1,A=new t(null,r),h=[],p="";for(;d<e.length;){let y=e.charAt(d++);if(a||y==="\\"){a=!a,p+=y;continue}if(c){d===l+1?(y==="^"||y==="!")&&(u=!0):y==="]"&&!(d===l+2&&u)&&(c=!1),p+=y;continue}else if(y==="["){c=!0,l=d,u=!1,p+=y;continue}if(q1e(y)&&e.charAt(d)==="("){A.push(p),p="";let E=new t(y,A);A.push(E),d=t.#u(e,E,d,o);continue}if(y==="|"){A.push(p),p="",h.push(A),A=new t(null,r);continue}if(y===")")return p===""&&r.#n.length===0&&(r.#f=!0),A.push(p),p="",r.push(...h,A),d;p+=y}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],d}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#u(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,o,a]=this.toRegExpSource();if(!(o||this.#t||this.#c.nocase&&!this.#c.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let l=(this.#c.nocase?"i":"")+(a?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:e})}get options(){return this.#c}toRegExpSource(e){let r=e??!!this.#c.dot;if(this.#e===this&&this.#A(),!this.type){let u=this.isStart()&&this.isEnd(),d=this.#n.map(y=>{let[E,v,w,_]=typeof y=="string"?t.#h(y,this.#t,u):y.toRegExpSource(e);return this.#t=this.#t||w,this.#i=this.#i||_,E}).join(""),A="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&_Ke.has(this.#n[0]))){let E=TKe,v=r&&E.has(d.charAt(0))||d.startsWith("\\.")&&E.has(d.charAt(2))||d.startsWith("\\.\\.")&&E.has(d.charAt(4)),w=!r&&!e&&E.has(d.charAt(0));A=v?bKe:w?OD:""}let h="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(h="(?:$|\\/)"),[A+d+h,qg(d),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",o=this.type==="!"?"(?:(?!(?:":"(?:",a=this.#d(r);if(this.isStart()&&this.isEnd()&&!a&&this.type!=="!"){let u=this.toString();return this.#n=[u],this.type=null,this.#t=void 0,[u,qg(this.toString()),!1,!1]}let c=!n||e||r||!OD?"":this.#d(!0);c===a&&(c=""),c&&(a=`(?:${a})(?:${c})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?OD:"")+V1e;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!e?OD:"")+G1e+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&c?")":this.type==="*"&&c?")?":`)${this.type}`;l=o+a+u}return[l,qg(a),this.#t=!!this.#t,this.#i]}#d(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,o,a,c]=r.toRegExpSource(e);return this.#i=this.#i||c,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(e,r,n=!1){let o=!1,a="",c=!1;for(let l=0;l<e.length;l++){let u=e.charAt(l);if(o){o=!1,a+=(wKe.has(u)?"\\":"")+u;continue}if(u==="\\"){l===e.length-1?a+="\\\\":o=!0;continue}if(u==="["){let[d,A,h,p]=H1e(e,l);if(h){a+=d,c=c||A,l+=h-1,r=r||p;continue}}if(u==="*"){n&&e==="*"?a+=V1e:a+=G1e,r=!0;continue}if(u==="?"){a+=o$,r=!0;continue}a+=SKe(u)}return[a,qg(e),!!r,c]}};f();var s$=s((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var ka=s((t,e,r={})=>(Ww(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Bv(e,r).match(t)),"minimatch"),BKe=/^\*+([^+@!?\*\[\(]*)$/,RKe=s(t=>e=>!e.startsWith(".")&&e.endsWith(t),"starDotExtTest"),kKe=s(t=>e=>e.endsWith(t),"starDotExtTestDot"),DKe=s(t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),"starDotExtTestNocase"),NKe=s(t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),"starDotExtTestNocaseDot"),QKe=/^\*+\.\*+$/,PKe=s(t=>!t.startsWith(".")&&t.includes("."),"starDotStarTest"),FKe=s(t=>t!=="."&&t!==".."&&t.includes("."),"starDotStarTestDot"),LKe=/^\.\*+$/,MKe=s(t=>t!=="."&&t!==".."&&t.startsWith("."),"dotStarTest"),OKe=/^\*+$/,UKe=s(t=>t.length!==0&&!t.startsWith("."),"starTest"),HKe=s(t=>t.length!==0&&t!=="."&&t!=="..","starTestDot"),qKe=/^\?+([^+@!?\*\[\(]*)?$/,GKe=s(([t,e=""])=>{let r=z1e([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocase"),VKe=s(([t,e=""])=>{let r=j1e([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocaseDot"),WKe=s(([t,e=""])=>{let r=j1e([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTestDot"),YKe=s(([t,e=""])=>{let r=z1e([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTest"),z1e=s(([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},"qmarksTestNoExt"),j1e=s(([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),K1e=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",W1e={win32:{sep:"\\"},posix:{sep:"/"}},$Ke=K1e==="win32"?W1e.win32.sep:W1e.posix.sep;ka.sep=$Ke;var ru=Symbol("globstar **");ka.GLOBSTAR=ru;var zKe="[^/]",jKe=zKe+"*?",KKe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",JKe="(?:(?!(?:\\/|^)\\.).)*?",XKe=s((t,e={})=>r=>ka(r,t,e),"filter");ka.filter=XKe;var tu=s((t,e={})=>Object.assign({},t,e),"ext"),ZKe=s(t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return ka;let e=ka;return Object.assign(s((n,o,a={})=>e(n,o,tu(t,a)),"m"),{Minimatch:class extends e.Minimatch{static{s(this,"Minimatch")}constructor(o,a={}){super(o,tu(t,a))}static defaults(o){return e.defaults(tu(t,o)).Minimatch}},AST:class extends e.AST{static{s(this,"AST")}constructor(o,a,c={}){super(o,a,tu(t,c))}static fromGlob(o,a={}){return e.AST.fromGlob(o,tu(t,a))}},unescape:s((n,o={})=>e.unescape(n,tu(t,o)),"unescape"),escape:s((n,o={})=>e.escape(n,tu(t,o)),"escape"),filter:s((n,o={})=>e.filter(n,tu(t,o)),"filter"),defaults:s(n=>e.defaults(tu(t,n)),"defaults"),makeRe:s((n,o={})=>e.makeRe(n,tu(t,o)),"makeRe"),braceExpand:s((n,o={})=>e.braceExpand(n,tu(t,o)),"braceExpand"),match:s((n,o,a={})=>e.match(n,o,tu(t,a)),"match"),sep:e.sep,GLOBSTAR:ru})},"defaults");ka.defaults=ZKe;var J1e=s((t,e={})=>(Ww(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,$1e.default)(t)),"braceExpand");ka.braceExpand=J1e;var eJe=s((t,e={})=>new Bv(t,e).makeRe(),"makeRe");ka.makeRe=eJe;var tJe=s((t,e,r={})=>{let n=new Bv(e,r);return t=t.filter(o=>n.match(o)),n.options.nonull&&!t.length&&t.push(e),t},"match");ka.match=tJe;var Y1e=/[?*]|[+@!]\(.*?\)|\[|\]/,rJe=s(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Bv=class{static{s(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){Ww(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||K1e,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...a)=>console.error(...a)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(a=>this.slashSplit(a));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let o=this.globParts.map((a,c,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let u=a[0]===""&&a[1]===""&&(a[2]==="?"||!Y1e.test(a[2]))&&!Y1e.test(a[3]),d=/^[a-z]:/i.test(a[0]);if(u)return[...a.slice(0,4),...a.slice(4).map(A=>this.parse(A))];if(d)return[a[0],...a.slice(1).map(A=>this.parse(A))]}return a.map(u=>this.parse(u))});if(this.debug(this.pattern,o),this.set=o.filter(a=>a.indexOf(!1)===-1),this.isWindows)for(let a=0;a<this.set.length;a++){let c=this.set[a];c[0]===""&&c[1]===""&&this.globParts[a][2]==="?"&&typeof c[3]=="string"&&/^[a-z]:$/i.test(c[3])&&(c[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++)e[n][o]==="**"&&(e[n][o]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let o=n;for(;r[o+1]==="**";)o++;o!==n&&r.splice(n,o-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,o)=>{let a=n[n.length-1];return o==="**"&&a==="**"?n:o===".."&&a&&a!==".."&&a!=="."&&a!=="**"?(n.pop(),n):(n.push(o),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let o=1;o<e.length-1;o++){let a=e[o];o===1&&a===""&&e[0]===""||(a==="."||a==="")&&(r=!0,e.splice(o,1),o--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let o=e[n-1];o&&o!=="."&&o!==".."&&o!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let o=-1;for(;(o=n.indexOf("**",o+1))!==-1;){let c=o;for(;n[c+1]==="**";)c++;c>o&&n.splice(o+1,c-o);let l=n[o+1],u=n[o+2],d=n[o+3];if(l!==".."||!u||u==="."||u===".."||!d||d==="."||d==="..")continue;r=!0,n.splice(o,1);let A=n.slice(0);A[o]="**",e.push(A),o--}if(!this.preserveMultipleSlashes){for(let c=1;c<n.length-1;c++){let l=n[c];c===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(c,1),c--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let a=0;for(;(a=n.indexOf("..",a+1))!==-1;){let c=n[a-1];if(c&&c!=="."&&c!==".."&&c!=="**"){r=!0;let u=a===1&&n[a+1]==="**"?["."]:[];n.splice(a-1,2,...u),n.length===0&&n.push(""),a-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let o=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(o){e[r]=[],e[n]=o;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let o=0,a=0,c=[],l="";for(;o<e.length&&a<r.length;)if(e[o]===r[a])c.push(l==="b"?r[a]:e[o]),o++,a++;else if(n&&e[o]==="**"&&r[a]===e[o+1])c.push(e[o]),o++;else if(n&&r[a]==="**"&&e[o]===r[a+1])c.push(r[a]),a++;else if(e[o]==="*"&&r[a]&&(this.options.dot||!r[a].startsWith("."))&&r[a]!=="**"){if(l==="b")return!1;l="a",c.push(e[o]),o++,a++}else if(r[a]==="*"&&e[o]&&(this.options.dot||!e[o].startsWith("."))&&e[o]!=="**"){if(l==="a")return!1;l="b",c.push(r[a]),o++,a++}else return!1;return e.length===r.length&&c}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let o=0;o<e.length&&e.charAt(o)==="!";o++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let o=this.options;if(this.isWindows){let v=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),w=!v&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),_=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),S=!_&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),D=w?3:v?0:void 0,N=S?3:_?0:void 0;if(typeof D=="number"&&typeof N=="number"){let[P,O]=[e[D],r[N]];P.toLowerCase()===O.toLowerCase()&&(r[N]=P,N>D?r=r.slice(N):D>N&&(e=e.slice(D)))}}let{optimizationLevel:a=1}=this.options;a>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var c=0,l=0,u=e.length,d=r.length;c<u&&l<d;c++,l++){this.debug("matchOne loop");var A=r[l],h=e[c];if(this.debug(r,A,h),A===!1)return!1;if(A===ru){this.debug("GLOBSTAR",[r,A,h]);var p=c,y=l+1;if(y===d){for(this.debug("** at the end");c<u;c++)if(e[c]==="."||e[c]===".."||!o.dot&&e[c].charAt(0)===".")return!1;return!0}for(;p<u;){var E=e[p];if(this.debug(`
globstar while`,e,p,r,y,E),this.matchOne(e.slice(p),r.slice(y),n))return this.debug("globstar found match!",p,u,E),!0;if(E==="."||E===".."||!o.dot&&E.charAt(0)==="."){this.debug("dot detected!",e,p,r,y);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,p,r,y),p===u))}let v;if(typeof A=="string"?(v=h===A,this.debug("string match",A,h,v)):(v=A.test(h),this.debug("pattern match",A,h,v)),!v)return!1}if(c===u&&l===d)return!0;if(c===u)return n;if(l===d)return c===u-1&&e[c]==="";throw new Error("wtf?")}braceExpand(){return J1e(this.pattern,this.options)}parse(e){Ww(e);let r=this.options;if(e==="**")return ru;if(e==="")return"";let n,o=null;(n=e.match(OKe))?o=r.dot?HKe:UKe:(n=e.match(BKe))?o=(r.nocase?r.dot?NKe:DKe:r.dot?kKe:RKe)(n[1]):(n=e.match(qKe))?o=(r.nocase?r.dot?VKe:GKe:r.dot?WKe:YKe)(n):(n=e.match(QKe))?o=r.dot?FKe:PKe:(n=e.match(LKe))&&(o=MKe);let a=Sv.fromGlob(e,this.options).toMMPattern();return o&&typeof a=="object"&&Reflect.defineProperty(a,"test",{value:o}),a}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?jKe:r.dot?KKe:JKe,o=new Set(r.nocase?["i"]:[]),a=e.map(u=>{let d=u.map(A=>{if(A instanceof RegExp)for(let h of A.flags.split(""))o.add(h);return typeof A=="string"?rJe(A):A===ru?ru:A._src});return d.forEach((A,h)=>{let p=d[h+1],y=d[h-1];A!==ru||y===ru||(y===void 0?p!==void 0&&p!==ru?d[h+1]="(?:\\/|"+n+"\\/)?"+p:d[h]=n:p===void 0?d[h-1]=y+"(?:\\/|"+n+")?":p!==ru&&(d[h-1]=y+"(?:\\/|\\/"+n+"\\/)"+p,d[h+1]=ru))}),d.filter(A=>A!==ru).join("/")}).join("|"),[c,l]=e.length>1?["(?:",")"]:["",""];a="^"+c+a+l+"$",this.negate&&(a="^(?!"+a+").+$");try{this.regexp=new RegExp(a,[...o].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let o=this.slashSplit(e);this.debug(this.pattern,"split",o);let a=this.set;this.debug(this.pattern,"set",a);let c=o[o.length-1];if(!c)for(let l=o.length-2;!c&&l>=0;l--)c=o[l];for(let l=0;l<a.length;l++){let u=a[l],d=o;if(n.matchBase&&u.length===1&&(d=[c]),this.matchOne(d,u,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return ka.defaults(e).Minimatch}};ka.AST=Sv;ka.Minimatch=Bv;ka.escape=s$;ka.unescape=qg;var a$="contentExclusion",UD=class extends DD{static{s(this,"CopilotContentExclusion")}#e;#t=new mn(1e4);#i=new mn(200);constructor(e){super(),this.#e=e}async evaluate(e,r){try{e=By(e).toString();let n=await this.getGitRepo({uri:e}),o=await this.#n(n?.url??ZC.all);if(!o)return kD;let a=n?.baseFolder?.uri??"file://",c=this.evaluateFilePathRules(e,a,o);if(c.isBlocked)return c;let l=this.evaluateTextBasedRules(e,o,r);if(l.isBlocked)return l}catch(n){return Hg.exception(this.#e,n,`${a$}.evaluate`),I1e}return Gw}evaluateFilePathRules(e,r,n){let o=e;if(this.#t.has(o))return this.#t.get(o);let a=Gw,c,l=GM(e.replace(r,""));e:for(let u of n)for(let d of u.paths)if(ka(l,d,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){a=c$(u,"FILE_BLOCKED_PATH"),c=d;break e}return Hg.debug(this.#e,`Evaluated path-based exclusion rules for <${e}>`,{result:a,baseUri:r,fileName:l,matchingPattern:c}),this.#t.set(o,a),a}evaluateTextBasedRules(e,r,n){let o=r.filter(l=>l.ifAnyMatch),a=r.filter(l=>l.ifNoneMatch);if(!n||o.length===0&&a.length===0)return Gw;let c=this.evaluateFileContent(o,a,n);return Hg.debug(this.#e,`Evaluated text-based exclusion rules for <${e}>`,{result:c}),c}evaluateFileContent(e,r,n){for(let o of e)if(o.ifAnyMatch&&o.ifAnyMatch.length>0&&o.ifAnyMatch.map(c=>X1e(c)).some(c=>c.test(n)))return c$(o,"FILE_BLOCKED_TEXT_BASED");for(let o of r)if(o.ifNoneMatch&&o.ifNoneMatch.length>0&&!o.ifNoneMatch.map(c=>X1e(c)).some(c=>c.test(n)))return c$(o,"FILE_BLOCKED_TEXT_BASED");return Gw}async refresh(){try{let e=[...this.#i.keys()];this.reset(),await Promise.all(e.map(r=>this.#o(r)))}catch(e){yd(this.#e,e,`${a$}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(e){if(this.#r?.length)return this.#r;let r=await this.#o(e.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(e){this.#r=e}#o=_1e(async e=>{let r=await this.#e.get(Ei).getGitHubSession();if(!r)throw new vm("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",o=new URL(n,r.apiUrl),a=e.includes(ZC.all);e.filter(d=>d!==ZC.all).length>0&&o.searchParams.set("repos",e.filter(d=>d!==ZC.all).join(",")),o.searchParams.set("scope",a?ZC.all:ZC.repo);let l=await OT(this.#e,r,o.href),u=await l.json();if(!l.ok){if(l.status===404)return Array.from(e,()=>[]);throw this.#s("fetch.error",{message:u.message}),new VA(l)}return this.#s("fetch.success"),t$(aJe,u).map(d=>d.rules)},this.#i);async getGitRepo(e){let n=await this.#e.get(Qh).getRepo(YA(e));if(!n||!n?.remote)return;let o=n.remote.getUrlForApi();if(o)return{baseFolder:n.baseFolder,url:o}}#s(e,r,n){ir(this.#e,`${a$}.${e}`,nn.createAndMarkAsIssued(r,n))}};function X1e(t){if(!t.startsWith("/")&&!t.endsWith("/"))return new RegExp(t);let e=t.slice(1,t.lastIndexOf("/")),r=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,r)}s(X1e,"stringToRegex");function c$(t,e){return{isBlocked:!0,message:`Your ${t.source.type.toLowerCase()} '${t.source.name}' has disabled Copilot for this file`,reason:e}}s(c$,"fileBlockedEvaluationResult");var nJe=ee.Object({name:ee.String(),type:ee.String()}),iJe=ee.Object({paths:ee.Array(ee.String()),ifNoneMatch:ee.Optional(ee.Array(ee.String())),ifAnyMatch:ee.Optional(ee.Array(ee.String())),source:nJe}),oJe=ee.Array(iJe),sJe=ee.Object({rules:oJe,last_updated_at:ee.String(),scope:ee.String()}),aJe=ee.Array(sJe);var Yd=class{constructor(e){this.ctx=e;this.#e=!1;this.#t=new UD(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=s(async e=>{if(!this.#e)return;if(!e.document){this.updateStatusIcon(!1);return}let r=await this.ctx.get(li).getTextDocumentValidation(e.document),n=r.status==="invalid",o=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,o)},"onDidChangeActiveTextEditor");let r=$A(this.ctx,this.onDidChangeActiveTextEditor,"Content exclusions focus change");this.ctx.get(li).onDidFocusTextDocument(r),G0(this.ctx,n=>{this.#e=n.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{s(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(e,r,n){if(!this.#e)return{isBlocked:!1};let o=[],a=s(async(u,d)=>{let A=performance.now(),h=await d.evaluate(e,r),p=performance.now();return o.push({key:u,result:h,elapsedMs:Math.round(p-A)}),h},"track"),l=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of o)this.#i(u.key,e,u.result,u.elapsedMs)}catch(u){Hg.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(l.isBlocked,l.message),l}updateStatusIcon(e,r){this.#e&&(e?this.ctx.get(Rs).setInactive(r??"Copilot is disabled"):this.ctx.get(Rs).clearInactive())}#i(e,r,n,o){let a=r+e;if(this.evaluateResultCache.get(a)===n.reason)return!1;if(this.evaluateResultCache.set(a,n.reason??"UNKNOWN"),n.reason===kD.reason)return Hg.debug(this.ctx,`[${e}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},u={contentExclusionEvalMs:o};return ir(this.ctx,e,nn.createAndMarkAsIssued(l,u)),ir(this.ctx,e,nn.createAndMarkAsIssued({...l,path:r},u),1),Hg.debug(this.ctx,`[${e}] ${r}`,n),!0}setTestingRules(e){this.#t.setTestingRules(e)}set __contentExclusions(e){this.#t=e}get __contentExclusions(){return this.#t}};async function $w(t,e,r){let n=await t.get(Yd).evaluate(e.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}s($w,"isDocumentValid");var li=class{constructor(e){this.ctx=e}static{s(this,"TextDocumentManager")}async textDocuments(){let e=this.getTextDocumentsUnsafe(),r=[];for(let n of e)(await $w(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(e){let r=Rm(e.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(e){return this.getTextDocumentWithValidation(e).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(e,r){return $w(this.ctx,e,r)}async getTextDocumentValidation(e){try{let r=this.getTextDocumentUnsafe(e)?.getText()??await this.readTextDocumentFromDisk(e.uri);return r===void 0?this.notFoundResult(e):this.validateTextDocument(e,r)}catch{return this.notFoundResult(e)}}async getTextDocumentWithValidation(e){let r=this.getTextDocumentUnsafe(e);if(!r)return this.notFoundResult(e);let n=await this.validateTextDocument(e,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:e}){return{status:"notfound",message:`Document for URI could not be found: ${e}`}}async readTextDocumentFromDisk(e){try{if((await this.ctx.get(na).stat(e)).size>5*1024*1024)return}catch{return}return await this.ctx.get(na).readFileString(e)}getWorkspaceFolder(e){let r=Rm(e.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(Rm(n.uri)))}getRelativePath(e){if(e.uri.startsWith("untitled:"))return;let r=Rm(e.uri);for(let n of this.getWorkspaceFolders()){let o=Rm(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(o))return r.slice(o.length)}return km(r)}};var Rv=class{constructor(e){this.ctx=e}static{s(this,"FileReader")}getRelativePath(e){return this.ctx.get(li).getRelativePath(e)??km(e.uri)}getOrReadTextDocument(e){return this.readFile(e.uri)}getOrReadTextDocumentWithFakeClientProperties(e){return this.readFile(e.uri)}async readFile(e){let n=await this.ctx.get(li).getTextDocumentWithValidation({uri:e});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(e)>1)return{status:"notfound",message:"File too large"};let a=await this.doReadFile(e),c=await $w(this.ctx,{uri:e},a);return c.status==="valid"?{status:"valid",document:RD.create(e,"UNKNOWN",-1,a)}:c}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(e){return await this.ctx.get(na).readFileString(e)}async getFileSizeMB(e){return(await this.ctx.get(na).stat(e)).size/1024/1024}};f();f();var tE=class{constructor(){this.resolve=s(()=>{},"resolve");this.reject=s(()=>{},"reject");this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}static{s(this,"Deferred")}};function kv(t,e=void 0){return new Promise(r=>setTimeout(()=>r(e),t))}s(kv,"delay");f();var l$=class{constructor(){this.observers=new Set}static{s(this,"Subject")}subscribe(e){return this.observers.add(e),()=>this.observers.delete(e)}next(e){for(let r of this.observers)r.next(e)}error(e){for(let r of this.observers)r.error?.(e)}complete(){for(let e of this.observers)e.complete?.()}},qD=class extends l${static{s(this,"ReplaySubject")}subscribe(e){let r=super.subscribe(e);return this._value!==void 0&&e.next(this._value),r}next(e){this._value=e,super.next(e)}};var Dv=class{constructor(e){this.ctx=e;this.#e=new jr("AsyncCompletionManager");this.requests=new mn(100);this.mostRecentRequestId=""}static{s(this,"AsyncCompletionManager")}#e;clear(){this.requests.clear()}shouldWaitForAsyncCompletions(e,r){for(let[n,o]of this.requests)if(u$(e,r,o))return!0;return!1}updateCompletion(e,r){let n=this.requests.get(e);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(e,r,n,o,a){this.#e.debug(this.ctx,`[${e}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let c=new qD;return this.requests.set(e,{state:2,cancellationTokenSource:o,headerRequestId:e,prefix:r,prompt:n,subject:c}),a.then(l=>{if(this.requests.delete(e),l.type!=="success"){this.#e.debug(this.ctx,`[${e}] Request failed with`,l.reason),c.error(l.reason);return}let u={cancellationTokenSource:o,headerRequestId:e,prefix:r,prompt:n,subject:c,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(e,u),c.next(u),c.complete()}).catch(l=>{this.#e.error(this.ctx,`[${e}] Request errored with`,l),this.requests.delete(e),c.error(l)})}getFirstMatchingRequestWithTimeout(e,r,n,o,a){let c=this.ctx.get(Sr).asyncCompletionsTimeout(a);return c<0?(this.#e.debug(this.ctx,`[${e}] Waiting for completions without timeout`),this.getFirstMatchingRequest(e,r,n,o)):(this.#e.debug(this.ctx,`[${e}] Waiting for completions with timeout of ${c}ms`),Promise.race([this.getFirstMatchingRequest(e,r,n,o),new Promise(l=>setTimeout(()=>l(null),c))]).then(l=>{if(l===null){this.#e.debug(this.ctx,`[${e}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(e,r,n,o){o||(this.mostRecentRequestId=e);let a=!1,c=new tE,l=new Map,u=s(A=>()=>{let h=l.get(A);h!==void 0&&(h(),l.delete(A),!a&&l.size===0&&(a=!0,this.#e.debug(this.ctx,`[${e}] No matching completions found`),c.resolve(void 0)))},"finishRequest"),d=s(A=>{if(u$(r,n,A)){if(A.state===0){let h=r.substring(A.prefix.length),{completionText:p}=A.choice;if(!p.startsWith(h)||p.length<=h.length){u(A.headerRequestId)();return}p=p.substring(h.length),A.choice.telemetryData.measurements.foundOffset=h.length,this.#e.debug(this.ctx,`[${e}] Found completion at offset ${h.length}: ${JSON.stringify(p)}`),c.resolve([{...A.choice,completionText:p},A.allChoicesPromise]),a=!0}}else this.cancelRequest(e,A),u(A.headerRequestId)()},"next");for(let[A,h]of this.requests)u$(r,n,h)?l.set(A,h.subject.subscribe({next:d,error:u(A),complete:u(A)})):this.cancelRequest(e,h);return c.promise.finally(()=>{for(let A of l.values())A()})}cancelRequest(e,r){e===this.mostRecentRequestId&&r.state!==0&&(this.#e.debug(this.ctx,`[${e}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function u$(t,e,r){if(r.prompt.suffix!==e.suffix||!t.startsWith(r.prefix))return!1;let n=t.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}s(u$,"isCandidate");f();f();var jw=class{constructor(e){this.maxSize=e;this.root=new zw;this.leafNodes=new Set}static{s(this,"LRURadixTrie")}set(e,r){let{node:n,remainingKey:o}=this.findClosestNode(e);if(o.length>0){for(let[a,c]of n.children)if(a.startsWith(o)){let l=a.slice(0,o.length),u=new zw;n.removeChild(a),n.addChild(l,u),u.addChild(a.slice(l.length),c),n=u,o=o.slice(l.length);break}if(o.length>0){let a=new zw;n.addChild(o,a),n=a}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(e){return this.findClosestNode(e).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(e){let{node:r,remainingKey:n}=this.findClosestNode(e);n.length>0||this.deleteNode(r)}findClosestNode(e){let r=!0,n=this.root,o=[{node:n,remainingKey:e}];for(;e.length>0&&r;){r=!1;for(let[a,c]of n.children)if(e.startsWith(a)){e=e.slice(a.length),o.unshift({node:c,remainingKey:e}),n=c,r=!0;break}}return{node:n,remainingKey:e,stack:o}}deleteNode(e){if(e.value=void 0,this.leafNodes.delete(e),e.parent===void 0||e.childCount>1)return;let{node:r,edge:n}=e.parent;if(e.childCount===1){let[a,c]=Array.from(e.children)[0];e.removeChild(a),r.removeChild(n),r.addChild(n+a,c);return}if(r.removeChild(n),r.parent===void 0)return;let o=r.parent;if(r.value===void 0&&r.childCount===1){let[a,c]=Array.from(r.children)[0],l=o.edge+a;r.removeChild(a),o.node.removeChild(o.edge),o.node.addChild(l,c)}}evictLeastRecentlyUsed(){let e=this.findLeastRecentlyUsed();e&&this.deleteNode(e)}findLeastRecentlyUsed(){let e;for(let r of this.leafNodes)(e===void 0||r.touched<e.touched)&&(e=r);return e}},zw=class{constructor(){this._children=new Map;this._touched=performance.now()}static{s(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(e,r){this._children.set(e,r),r.parent={node:this,edge:e}}removeChild(e){let r=this._children.get(e);r&&(r.parent=void 0),this._children.delete(e)}get value(){return this.touch(),this._value}set value(e){this.touch(),this._value=e}get touched(){return this._touched}touch(){this._touched=performance.now()}};var Nv=class{constructor(){this.cache=new jw(100)}static{s(this,"CompletionsCache")}findAll(e,r){return this.cache.findAll(e).flatMap(({remainingKey:n,value:o})=>o.content.filter(a=>a.suffix===r&&a.choice.completionText.startsWith(n)&&a.choice.completionText.length>n.length).map(a=>({...a.choice,completionText:a.choice.completionText.slice(n.length),telemetryData:a.choice.telemetryData.extendedBy({},{foundOffset:n.length})})))}append(e,r,n){let o=this.cache.findAll(e);if(o.length>0&&o[0].remainingKey===""){let a=o[0].value.content;this.cache.set(e,{content:[...a,{suffix:r,choice:n}]})}else this.cache.set(e,{content:[{suffix:r,choice:n}]})}clear(){this.cache=new jw(100)}};f();f();f();f();f();f();f();f();f();async function*GD(t,e){for await(let r of t)yield e(r)}s(GD,"asyncIterableMap");async function*Z1e(t,e){for await(let r of t)await e(r)&&(yield r)}s(Z1e,"asyncIterableFilter");f();function eye(t,e,r){let n=r.extendedBy({messagesJson:JSON.stringify(e)});return ir(t,"engine.messages",n,1)}s(eye,"logEngineMessages");f();f();function tye(t){if(t instanceof Error)return t.stack?t.stack:t.message;if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return String(t)}}s(tye,"toString");var rl=new jr("streamChoices"),d$=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new m$;this.tool_calls=new h$;this.function_call=new p$;this.copilot_references=[];this.yielded=!1}static{s(this,"APIJsonDataStreaming")}append(e){e.text&&this.text.push(e.text),e.delta?.content&&e.delta.role!=="function"&&this.text.push(e.delta.content),e.logprobs&&(this.tokens.push(e.logprobs.tokens??[]),this.text_offset.push(e.logprobs.text_offset??[]),this.logprobs.push(e.logprobs.token_logprobs??[]),this.top_logprobs.push(e.logprobs.top_logprobs??[])),e.copilot_annotations&&this.copilot_annotations.update(e.copilot_annotations),e.delta?.copilot_annotations&&this.copilot_annotations.update(e.delta.copilot_annotations),e.delta?.tool_calls&&e.delta.tool_calls.length>0&&this.tool_calls.update(e.delta.tool_calls),e.delta?.function_call&&this.function_call.update(e.delta.function_call),e?.finish_reason&&(this.finish_reason=e.finish_reason)}};function cJe(t){let e=t.split(`
`),r=e.pop();return[e.filter(n=>n!=""),r]}s(cJe,"splitChunk");var A$=class{constructor(){this.arguments=[]}static{s(this,"StreamingToolCall")}update(e){e.id&&(this.id=e.id),e.function.name&&(this.name=e.function.name),this.arguments.push(e.function.arguments)}},h$=class{constructor(){this.toolCalls=[]}static{s(this,"StreamingToolCalls")}update(e){e.forEach(r=>{let n=this.toolCalls.length>0?this.toolCalls[this.toolCalls.length-1]:void 0;(!n||r.id&&n.id!==r.id)&&(n=new A$,this.toolCalls.push(n)),n.update(r)})}getToolCalls(){return this.toolCalls}},p$=class{constructor(){this.arguments=[]}static{s(this,"StreamingFunctionCall")}update(e){e.name&&(this.name=e.name),this.arguments.push(e.arguments)}},m$=class{constructor(){this.current={}}static{s(this,"StreamCopilotAnnotations")}update(e){Object.entries(e).forEach(([r,n])=>{n.forEach(o=>this.update_namespace(r,o))})}update_namespace(e,r){this.current[e]||(this.current[e]=[]);let n=this.current[e],o=n.findIndex(a=>a.id===r.id);o>=0?n[o]=r:n.push(r)}for(e){return this.current[e]??[]}},Qv=class t{constructor(e,r,n,o,a,c,l){this.ctx=e;this.expectedNumChoices=r;this.response=n;this.body=o;this.telemetryData=a;this.dropCompletionReasons=c;this.cancellationToken=l;this.requestId=Kw(this.response);this.stats=new y$;this.solutions={}}static{s(this,"SSEProcessor")}static create(e,r,n,o,a,c){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new t(e,r,n,l,o,a??[],c)}async*processSSE(e=()=>{}){try{yield*this.processSSEInner(e)}finally{this.cancel(),rl.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),rl.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(e){let r="",n=null,o,a;e:for await(let c of this.body){if(this.maybeCancel("after awaiting body chunk"))return;rl.debug(this.ctx,"chunk",c.toString());let[l,u]=cJe(r+c.toString());r=u;for(let d of l){let A=d.slice(5).trim();if(A=="[DONE]"){yield*this.finishSolutions(n,o,a,e);return}n=null;let h;try{h=JSON.parse(A)}catch{rl.error(this.ctx,"Error parsing JSON stream data",d);continue}if(h.copilot_confirmation&&lJe(h.copilot_confirmation)&&await e("",{text:"",requestId:this.requestId,copilotConfirmation:h.copilot_confirmation}),h.copilot_references&&await e("",{text:"",requestId:this.requestId,copilotReferences:h.copilot_references}),h.choices===void 0){!h.copilot_references&&!h.copilot_confirmation&&(h.error!==void 0?rl.error(this.ctx,"Error in response:",h.error.message):rl.error(this.ctx,"Unexpected response with no choices or error: "+A)),h.copilot_errors&&await e("",{text:"",requestId:this.requestId,copilotErrors:h.copilot_errors});continue}if(o===void 0&&h.model&&(o=h.model),a===void 0&&h.usage&&(a=h.usage),this.allSolutionsDone()){r="";break e}for(let p=0;p<h.choices?.length;p++){let y=h.choices[p];rl.debug(this.ctx,"choice",y),this.stats.add(y.index),y.index in this.solutions||(this.solutions[y.index]=new d$);let E=this.solutions[y.index];if(E==null)continue;E.append(y);let v=this.asSolutionDecision(),w=y.text?.indexOf(`
`)>-1||y.delta?.content?.indexOf(`
`)>-1;if(y.finish_reason||w){let S=E.text.join("");if(v=this.asSolutionDecision(await e(S,{text:S,index:y.index,requestId:this.requestId,annotations:E.copilot_annotations,copilotReferences:E.copilot_references,getAPIJsonData:s(()=>g$(E),"getAPIJsonData"),finished:!!y.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(y.finish_reason&&E.function_call.name!==void 0){n=y.finish_reason;continue}if(y.finish_reason&&(v.yieldSolution=!0,v.continueStreaming=!1),!v.yieldSolution)continue;let _=y.finish_reason??"client-trimmed";if(ir(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:_,engineName:o??"",engineChoiceSource:Iw(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(y.finish_reason)?this.solutions[y.index]=null:E.yielded||(this.stats.markYielded(y.index),yield{solution:E,finishOffset:v.finishOffset,reason:y.finish_reason,requestId:this.requestId,index:y.index,model:o,usage:a},E.yielded=!0),this.maybeCancel("after yielding finished choice"))return;v.continueStreaming||(this.solutions[y.index]=null)}}}for(let[c,l]of Object.entries(this.solutions)){let u=Number(c);if(l!=null&&(ir(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:o??""})),this.stats.markYielded(u),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:u,model:o,usage:a},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let c=JSON.parse(r);c.error!==void 0&&rl.error(this.ctx,`Error in response: ${c.error.message}`,c.error)}catch{rl.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(e){return e===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof e=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:e}:e}async*finishSolutions(e,r,n,o){for(let[a,c]of Object.entries(this.solutions)){let l=Number(a);if(c==null)continue;let u=c.text.join("");if(await o(u,{text:u,index:l,requestId:this.requestId,annotations:c.copilot_annotations,copilotReferences:c.copilot_references,getAPIJsonData:s(()=>g$(c),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!c.yielded&&(this.stats.markYielded(l),ir(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:e??"DONE",engineName:r??""})),yield{solution:c,finishOffset:void 0,reason:e??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(e){return this.cancellationToken?.isCancellationRequested?(rl.debug(this.ctx,"Cancelled: "+e),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let e=Object.values(this.solutions);return e.length==this.expectedNumChoices&&e.every(r=>r==null)}};function VD(t,e,r){let n=e.solution.text.join(""),o=!1;e.finishOffset!==void 0&&(rl.debug(t,`solution ${e.index}: early finish at offset ${e.finishOffset}`),n=n.substring(0,e.finishOffset),o=!0),rl.info(t,`solution ${e.index} returned. finish reason: [${e.reason}]`),rl.debug(t,`solution ${e.index} details: finishOffset: [${e.finishOffset}]`);let a=g$(e.solution);return E$(t,n,a,e.index,e.requestId,o,r)}s(VD,"prepareSolutionForReturn");function g$(t){let e=t.text.join(""),r=uJe(t),n=fJe(t),o=t.copilot_annotations.current,a={text:e,tokens:t.text,tool_calls:r,function_call:n,copilot_annotations:o,finish_reason:t.finish_reason??"stop"};if(t.logprobs.length===0)return a;let c=t.logprobs.reduce((A,h)=>A.concat(h),[]),l=t.top_logprobs.reduce((A,h)=>A.concat(h),[]),u=t.text_offset.reduce((A,h)=>A.concat(h),[]),d=t.tokens.reduce((A,h)=>A.concat(h),[]);return{...a,logprobs:{token_logprobs:c,top_logprobs:l,text_offset:u,tokens:d}}}s(g$,"convertToAPIJsonData");function lJe(t){return typeof t.title=="string"&&typeof t.message=="string"&&!!t.confirmation}s(lJe,"isCopilotConfirmation");function rye(t,e,r){if(!t)return{};try{return JSON.parse(t)}catch(n){throw new Error(`Failed to parse JSON for ${e} '${r}': ${tye(n)}. Input: '${t}'`)}}s(rye,"parseCallArguments");function uJe(t){let e=[],r=t.tool_calls.getToolCalls();for(let n of r)if(n.name){let o=n.arguments.join("").trim(),a=rye(o,"tool call",n.name);e.push({type:"function",function:{name:n.name,arguments:a},approxNumTokens:n.arguments.length+1,id:n.id})}return e}s(uJe,"extractToolCalls");function fJe(t){if(t.function_call.name){let e=t.function_call.arguments.join("").trim(),r=rye(e,"function call",t.function_call.name);return{name:t.function_call.name,arguments:r}}}s(fJe,"extractFunctionCall");var y$=class{constructor(){this.choices=new Map}static{s(this,"ChunkStats")}getChoiceStats(e){let r=this.choices.get(e);return r||(r=new C$,this.choices.set(e,r)),r}add(e){this.getChoiceStats(e).increment()}markYielded(e){this.getChoiceStats(e).markYielded()}toString(){return Array.from(this.choices.entries()).map(([e,r])=>`${e}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},C$=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{s(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};f();function dJe(t,e){return t!==null&&typeof t=="object"&&e in t}s(dJe,"hasKey");function $d(t,e){return dJe(t,e)?t[e]:void 0}s($d,"getKey");var iye=Et(ya());var So=new jr("fetchCompletions");function Kw(t){return{headerRequestId:t.headers.get("x-request-id")||"",serverExperiments:t.headers.get("X-Copilot-Experiment")||"",deploymentId:t.headers.get("azureml-model-deployment")||""}}s(Kw,"getRequestId");function I$(t){let e=t.headers.get("openai-processing-ms");return e?parseInt(e,10):0}s(I$,"getProcessingTime");function oye(t){switch(t){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}s(oye,"uiKindToIntent");var Ph=class{static{s(this,"OpenAIFetcher")}};function AJe(t,e,r,n){return VT(t,e,"proxy","v1/engines",r,n)}s(AJe,"getProxyEngineUrl");function sye(t,e,r,n){for(let[o,a]of Object.entries(t)){if(r.includes(o))continue;let c=a;if(o==="extra"&&n){let l={...c};for(let u of n)delete l[u];c=l}e.properties[`request.option.${o}`]=JSON.stringify(c)??"undefined"}}s(sye,"sanitizeRequestOptionTelemetry");async function nye(t,e,r,n,o,a,c,l,u,d,A){let h=t.get(Rs),p=AJe(t,c,r,n),y=u.extendedBy({endpoint:n,engineName:r,uiKind:l},bY(e));sye(a,y,["prompt","suffix"],["context"]),y.properties.headerRequestId=o,ir(t,"request.sent",y);let E=e0(),v=oye(l);return MM(t,p,c.token,v,o,a,d,A).then(w=>{let _=Kw(w);y.extendWithRequestId(_);let S=e0()-E;return y.measurements.totalTimeMs=S,So.info(t,`Request ${o} at <${p}> finished with ${w.status} status after ${S}ms`),y.properties.status=String(w.status),So.debug(t,"request.response properties",y.properties),So.debug(t,"request.response measurements",y.measurements),So.debug(t,"prompt:",e),ir(t,"request.response",y),w}).catch(w=>{if(Tm(w))throw ir(t,"request.cancel",y),w;h.setWarning($d(w,"message")??"");let _=y.extendedBy({error:"Network exception"});ir(t,"request.shownWarning",_),y.properties.message=String($d(w,"name")??""),y.properties.code=String($d(w,"code")??""),y.properties.errno=String($d(w,"errno")??""),y.properties.type=String($d(w,"type")??"");let S=e0()-E;throw y.measurements.totalTimeMs=S,So.info(t,`Request ${o} at <${p}> rejected with ${String(w)} after ${S}ms`),So.debug(t,"request.error properties",y.properties),So.debug(t,"request.error measurements",y.measurements),ir(t,"request.error",y),w}).finally(()=>{Lme(t,e,y)})}s(nye,"fetchWithInstrumentation");async function hJe(t,e,r,n,o,a,c,l,u,d){let A=u.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});sye(a,A,["messages"]),A.properties.headerRequestId=o,ir(t,"request.sent",A);let h=e0(),p=oye(l),y=MV(t);MT()&&(y=await $de(t,y));try{let E=await MM(t,n,c.token,p,o,a,d,y),v=Kw(E);A.extendWithRequestId(v);let w=e0()-h;return A.measurements.totalTimeMs=w,So.info(t,`Request ${o} at <${n}> finished with ${E.status} status after ${w}ms`),So.debug(t,"request.response properties",A.properties),So.debug(t,"request.response measurements",A.measurements),So.debug(t,"messages:",JSON.stringify(e)),ir(t,"request.response",A),E}catch(E){if(Tm(E))throw ir(t,"request.cancel",A),E;let v=A.extendedBy({error:"Network exception"});ir(t,"request.shownWarning",v),A.properties.message=String($d(E,"name")??""),A.properties.code=String($d(E,"code")??""),A.properties.errno=String($d(E,"errno")??""),A.properties.type=String($d(E,"type")??"");let w=e0()-h;throw A.measurements.totalTimeMs=w,So.info(t,`Request ${o} at <${n}> rejected with ${String(E)} after ${w}ms`),So.debug(t,"request.error properties",A.properties),So.debug(t,"request.error measurements",A.measurements),ir(t,"request.error",A),E}finally{eye(t,e,A)}}s(hJe,"fetchChatWithInstrumentation");function x$(t){return Z1e(t,e=>e.completionText.trim().length>0)}s(x$,"postProcessChoices");var pJe="github.copilot.completions.quotaExceeded",Jw=class extends Ph{static{s(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(e,r,n,o,a){if(this.#e)return{type:"canceled",reason:this.#e};let c=e.get(Rs),l="completions",u=await e.get(Ei).getToken(),d=await this.fetchWithParameters(e,l,r,u,n,a);if(d==="not-sent")return{type:"canceled",reason:"before fetch request"};if(a?.isCancellationRequested){let y=d.body();try{y&&"destroy"in y&&typeof y.destroy=="function"?y.destroy():y instanceof ReadableStream&&y.cancel()}catch(E){So.exception(e,E,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(d.status!==200){let y=this.createTelemetryData(l,e,r);return this.handleError(e,c,y,d,u)}let h=Qv.create(e,r.count,d,n,[],a).processSSE(o),p=GD(h,y=>VD(e,y,n));return{type:"success",choices:x$(p),getProcessingTime:s(()=>I$(d),"getProcessingTime")}}async fetchAndStreamChat(e,r,n,o,a,c,l,u={},d){if(this.#e)return{type:"canceled",reason:this.#e};let A="https://copilot-proxy.githubusercontent.com/chat/completions",h={messages:r,model:l.id,stream:!0,...u},p=n.extendedBy({endpoint:A,model:l.name}),y=e.get(Rs),E=await e.get(Ei).getToken(),v=await hJe(e,r,l.id,A,a,h,E,o,p,d);if(d?.isCancellationRequested){let D=v.body();try{D&&"destroy"in D&&typeof D.destroy=="function"?D.destroy():D instanceof ReadableStream&&D.cancel()}catch(N){So.exception(e,N,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(v.status!==200){let D=nn.createAndMarkAsIssued({endpoint:A,engineName:l.name,uiKind:o,headerRequestId:a});return this.handleError(e,y,D,v,E)}let _=Qv.create(e,1,v,p,[],iye.CancellationToken.None).processSSE(),S=GD(_,D=>VD(e,D,n));return{type:"success",choices:x$(S),getProcessingTime:s(()=>I$(v),"getProcessingTime")}}async fetchAndStreamSpeculation(e,r,n,o,a){if(this.#e)return{type:"canceled",reason:this.#e};let c=e.get(Rs),l="speculation",u=await e.get(Ei).getToken(),d={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},speculation:r.speculation,ourRequestId:hf(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers,stops:r.stops},A=await this.fetchSpeculationWithParameters(e,l,d,u,n,a);if(A==="not-sent")return{type:"canceled",reason:"before fetch request"};if(a?.isCancellationRequested){let E=A.body();try{E&&"destroy"in E&&typeof E.destroy=="function"?E.destroy():E instanceof ReadableStream&&E.cancel()}catch(v){So.exception(e,v,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(A.status!==200){let E=this.createTelemetryData(l,e,d);return this.handleError(e,c,E,A,u)}let p=Qv.create(e,1,A,n,[],a).processSSE(o),y=GD(p,E=>VD(e,E,n));return{type:"success",choices:x$(y),getProcessingTime:s(()=>I$(A),"getProcessingTime")}}createTelemetryData(e,r,n){return nn.createAndMarkAsIssued({endpoint:e,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(e,r,n,o,a,c){let l={prompt:n.prompt.prefix,speculation:n.speculation,temperature:0,stream:!0,stop:n.stops??[]};return await kv(0),c?.isCancellationRequested?"not-sent":await nye(e,n.prompt,n.engineModelId,r,n.ourRequestId,l,o,n.uiKind,a,c,n.headers)}async fetchWithParameters(e,r,n,o,a,c){let l=e.get(Sr).disableLogProb(a),u={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:WD(e),temperature:v$(e,n.count),top_p:cye(e),n:n.count,stop:aye(e,n.languageId),stream:!0,extra:n.extra};(n.requestLogProbs||!l)&&(u.logprobs=2);let d=xw(n.repoInfo);return d!==void 0&&(u.nwo=d),n.postOptions&&Object.assign(u,n.postOptions),n.prompt.context&&(u.extra.context=n.prompt.context),await kv(0),c?.isCancellationRequested?"not-sent":await nye(e,n.prompt,n.engineModelId,r,n.ourRequestId,u,o,n.uiKind,a,c,n.headers)}async handleError(e,r,n,o,a){let c=await o.text();if(o.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:pJe,title:"Learn More"});let u=G0(e,d=>{this.#e=void 0,(d.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),u.dispose())});return{type:"failed",reason:this.#e}}if(o.status===466)return r.setError(c),So.info(e,c),{type:"failed",reason:`client not supported: ${c}`};if(o.clientError&&!o.headers.get("x-github-request-id")){let l=`Last response was a ${o.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;So.error(e,l),r.setWarning(l),n.properties.error=`Response status was ${o.status} with no x-github-request-id header`}else o.clientError?(So.warn(e,`Response status was ${o.status}:`,c),r.setWarning(`Last response was a ${o.status} error: ${c}`),n.properties.error=`Response status was ${o.status}: ${c}`):(r.setWarning(`Last response was a ${o.status} error`),n.properties.error=`Response status was ${o.status}`);return n.properties.status=String(o.status),ir(e,"request.shownWarning",n),o.status===401||o.status===403?(e.get(Ei).resetToken(o.status),{type:"failed",reason:`token expired or invalid: ${o.status}`}):o.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",So.warn(e,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):o.status===499?(So.info(e,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(So.error(e,"Unhandled status from server:",o.status,c),{type:"failed",reason:`unhandled status from server: ${o.status} ${c}`})}};function E$(t,e,r,n,o,a,c){return Fme(t,e,r,o,n),{completionText:e,meanLogProb:mJe(t,r),meanAlternativeLogProb:gJe(t,r),choiceIndex:n,requestId:o,blockFinished:a,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:c,copilotAnnotations:r.copilot_annotations,clientCompletionId:hf(),finishReason:r.finish_reason}}s(E$,"convertToAPIChoice");function mJe(t,e){if(e?.logprobs?.token_logprobs)try{let r=0,n=0,o=50;for(let a=0;a<e.logprobs.token_logprobs.length-1&&o>0;a++,o--)r+=e.logprobs.token_logprobs[a],n+=1;return n>0?r/n:void 0}catch(r){Qo.exception(t,r,"Error calculating mean prob")}}s(mJe,"calculateMeanLogProb");function gJe(t,e){if(e?.logprobs?.top_logprobs)try{let r=0,n=0,o=50;for(let a=0;a<e.logprobs.token_logprobs.length-1&&o>0;a++,o--){let c={...e.logprobs.top_logprobs[a]};delete c[e.logprobs.tokens[a]],r+=Math.max(...Object.values(c)),n+=1}return n>0?r/n:void 0}catch(r){Qo.exception(t,r,"Error calculating mean prob")}}s(gJe,"calculateMeanAlternativeLogProb");function v$(t,e){return Sy(t)||e<=1?0:e<10?.2:e<20?.4:.8}s(v$,"getTemperatureForSamples");var yJe={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function aye(t,e){return yJe[e??""]??[`


`,"\n```"]}s(aye,"getStops");function cye(t){return 1}s(cye,"getTopP");function WD(t){return vw}s(WD,"getMaxSolutionTokens");f();f();var Pv=class{constructor(){this.cache=new mn(100)}static{s(this,"SpeculativeRequestCache")}set(e,r){this.cache.set(e,r)}async request(e){let r=this.cache.get(e);r!==void 0&&(this.cache.delete(e),await r())}};var O4r=new jr("getCompletions");f();f();f();f();f();f();f();f();var uye=ee.Object({importance:ee.Optional(ee.Integer({minimum:0,maximum:100})),id:ee.Optional(ee.String()),origin:ee.Optional(ee.Union([ee.Literal("request"),ee.Literal("update")]))}),fye=ee.Intersect([ee.Object({name:ee.String(),value:ee.String()}),uye]),dye=ee.Intersect([ee.Object({uri:ee.String(),value:ee.String(),additionalUris:ee.Optional(ee.Array(ee.String()))}),uye]),CJe=[fye,dye],EJe=ee.Union(CJe),vwr=new Map([["Trait",Mg.Compile(fye)],["CodeSnippet",Mg.Compile(dye)]]),IJe=s(t=>t,"ensureTypesAreEqual");IJe(!0);var xJe=ee.Object({contextItems:ee.Array(EJe)}),vJe=ee.Object({selector:ee.Array(ee.Union([ee.String(),ee.Object({language:ee.Optional(ee.String()),scheme:ee.Optional(ee.String()),pattern:ee.Optional(ee.String())})]))}),b$=ee.Object({id:ee.String()}),bJe=ee.Intersect([b$,vJe]),TJe=ee.Intersect([b$,xJe]),bwr=ee.Object({providers:ee.Array(bJe)}),Twr=ee.Object({providers:ee.Array(b$)}),_Je=ee.Object({providers:ee.Array(TJe),updating:ee.Optional(ee.Array(ee.String()))}),_wr=ee.Intersect([age,ee.Object({contextItems:ee.Optional(_Je)})]);function YD(t,e){return t.map(r=>{let n=r.data.filter(o=>o.type===e);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}s(YD,"filterContextItemsByType");f();f();var nu=class{constructor(e=()=>new T$){this.createStatistics=e;this.statistics=new mn(25)}static{s(this,"ContextProviderStatistics")}getStatisticsForCompletion(e){let r=this.statistics.get(e);if(r)return r;let n=this.createStatistics();return this.statistics.set(e,n),n}getPreviousStatisticsForCompletion(e){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let o=r[n];if(o!==e)return this.statistics.peek(o)}}},T$=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{s(this,"PerCompletionContextProviderStatistics")}addExpectations(e,r){let n=this._expectations.get(e)??[];this._expectations.set(e,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(e,r){this._lastResolution.set(e,r)}get(e){return this._statistics.get(e)}computeMatch(e){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let o=this._lastResolution.get(r)??"none";if(o==="none"||o==="error"){this._statistics.set(r,{usage:"none",resolution:o});continue}let a=[];for(let[d,A]of n){let h={id:d.id,type:d.type};if(d.origin&&(h.origin=d.origin),A==="content_excluded"){a.push({...h,usage:"none_content_excluded"});continue}let p=e.find(y=>y.source===d);p===void 0?a.push({...h,usage:"error"}):a.push({...h,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let l=a.reduce((d,A)=>A.usage==="full"?d+1:A.usage==="partial"?d+.5:d,0)/n.length,u=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:o,usage:u,usageDetails:a})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function $D(t){return t.map(e=>{if(!(e.source===void 0||e.expectedTokens===void 0||e.actualTokens===void 0))return{source:e.source,expectedTokens:e.expectedTokens,actualTokens:e.actualTokens}}).filter(e=>e!==void 0)}s($D,"componentStatisticsToPromptMatcher");var wJe=Et(ya());var zD=class{static{s(this,"ContextProviderRegistry")}},_$=class{static{s(this,"DefaultContextProviders")}};function jD(t,e,r){let n=t.get(nu).getStatisticsForCompletion(e);return r.map(a=>{let{providerId:c,resolution:l,resolutionTimeMs:u,matchScore:d,data:A}=a,h=n.get(c),p=h?.usage??"none";(d<=0||l==="none"||l==="error")&&(p="none");let y={providerId:c,resolution:l,resolutionTimeMs:u,usage:p,usageDetails:h?.usageDetails,matched:d>0,numResolvedItems:A.length},E=h?.usageDetails!==void 0?h?.usageDetails.filter(w=>w.usage==="full"||w.usage==="partial"||w.usage==="partial_content_excluded").length:void 0,v=h?.usageDetails!==void 0?h?.usageDetails.filter(w=>w.usage==="partial"||w.usage==="partial_content_excluded").length:void 0;return E!==void 0&&(y.numUsedItems=E),v!==void 0&&(y.numPartiallyUsedItems=v),y})}s(jD,"telemetrizeContextItems");function KD(t){return t.matchScore>0&&t.resolution!=="error"}s(KD,"matchContextItems");function SJe(t,e){let r=BJe(t,e),n=Zo(t,Ft.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let o=t.get(_$).getIds();return Array.from(new Set([...o,...r,...n]))}s(SJe,"getActiveContextProviders");function BJe(t,e){return jte(t)?["*"]:t.get(Sr).contextProviders(e)}s(BJe,"getExpContextProviders");function Fv(t,e){return SJe(t,e).length>0}s(Fv,"useContextProviderAPI");var rE=class{constructor(e){this.ctx=e;this.scheduledResolutions=new mn(25)}static{s(this,"ContextProviderBridge")}schedule(e,r,n,o,a,c){let l=this.ctx.get(zD),{textDocument:u,originalPosition:d,originalOffset:A,originalVersion:h,editsWithPosition:p}=e,y=l.resolveAllProviders(r,n,{uri:u.uri,languageId:u.detectedLanguageId,version:h,offset:A,position:d,proposedEdits:p.length>0?p:void 0},o,a,c?.data);this.scheduledResolutions.set(r,y)}async resolution(e){let r=this.scheduledResolutions.get(e);return r?await r:[]}};f();f();var JD=class{constructor(e,r,n){this.languageId=e;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{s(this,"BaseBlockParser")}async getNodeMatchAtPosition(e,r,n){let o=await cv(this.languageId,e);try{let c=o.rootNode.descendantForIndex(r);for(;c;){let l=this.nodeMatch[c.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(c.type))break;let u=this.nodeTypesWithBlockOrStmtChild.get(c.type);if((u==""?c.namedChildren[0]:c.childForFieldName(u))?.type==l)break}c=c.parent}return c?n(c):void 0}finally{o.delete()}}getNextBlockAtPosition(e,r,n){return this.getNodeMatchAtPosition(e,r,o=>{let a=o.children.reverse().find(c=>c.type==this.nodeMatch[o.type]);if(a){if(this.languageId=="python"&&a.parent){let c=a.parent.type==":"?a.parent.parent:a.parent,l=c?.nextSibling;for(;l&&l.type=="comment";){let u=l.startPosition.row==a.endPosition.row&&l.startPosition.column>=a.endPosition.column,d=l.startPosition.row>c.endPosition.row&&l.startPosition.column>c.startPosition.column;if(u||d)a=l,l=l.nextSibling;else break}}if(!(a.endIndex>=a.tree.rootNode.endIndex-1&&(a.hasError||a.parent.hasError)))return n(a)}})}async isBlockBodyFinished(e,r,n){let o=(e+r).trimEnd(),a=await this.getNextBlockAtPosition(o,n,c=>c.endIndex);if(a!==void 0&&a<o.length){let c=a-e.length;return c>0?c:void 0}}getNodeStart(e,r){let n=e.trimEnd();return this.getNodeMatchAtPosition(n,r,o=>o.startIndex)}},XD=class extends JD{constructor(r,n,o,a,c){super(r,a,c);this.blockEmptyMatch=n;this.lineMatch=o}static{s(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let o=await this.getNextBlockAtPosition(r,n,a=>{a.startIndex<n&&(n=a.startIndex);let c=r.substring(n,a.endIndex).trim();return c==""||c.replace(/\s/g,"")==this.blockEmptyMatch});return o===void 0||o}async isEmptyBlockStart(r,n){return n=hye(r,n),this.isBlockStart(RJe(r,n))&&this.isBlockBodyEmpty(r,n)}};function RJe(t,e){let r=t.lastIndexOf(`
`,e-1),n=t.indexOf(`
`,e);return n<0&&(n=t.length),t.slice(r+1,n)}s(RJe,"getLineAtOffset");function hye(t,e){let r=e;for(;r>0&&/\s/.test(t.charAt(r-1));)r--;return r}s(hye,"rewindToNearestNonWs");function Aye(t,e){let r=t.startIndex,n=t.startIndex-t.startPosition.column,o=e.substring(n,r);if(/^\s*$/.test(o))return o}s(Aye,"indent");function kJe(t,e,r){if(e.startPosition.row<=t.startPosition.row)return!1;let n=Aye(t,r),o=Aye(e,r);return n!==void 0&&o!==void 0&&n.startsWith(o)}s(kJe,"outdented");var zd=class extends JD{constructor(r,n,o,a,c,l,u){super(r,n,o);this.startKeywords=a;this.blockNodeType=c;this.emptyStatementType=l;this.curlyBraceLanguage=u}static{s(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let o=r.text.trim();return this.curlyBraceLanguage&&(o.startsWith("{")&&(o=o.slice(1)),o.endsWith("}")&&(o=o.slice(0,-1)),o=o.trim()),!!(o.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&Cme(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let c=n;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;n=hye(r,n);let[o,a]=await nY(this.languageId,r);try{let c=o.rootNode.descendantForIndex(n-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let h=c;for(;h.parent;){if(h.type=="function_signature"||h.type=="method_signature"){let p=c.nextSibling;return p&&h.hasError&&kJe(h,p,r)?!0:!h.children.find(E=>E.type==";")&&h.endIndex<=n}h=h.parent}}let l=null,u=null,d=null,A=c;for(;A!=null;){if(A.type==this.blockNodeType){u=A;break}if(this.nodeMatch[A.type]){d=A;break}if(A.type=="ERROR"){l=A;break}A=A.parent}if(u!=null){if(!u.parent||!this.nodeMatch[u.parent.type])return!1;if(this.languageId=="python"){let h=u.previousSibling;if(h!=null&&h.hasError&&(h.text.startsWith('"""')||h.text.startsWith("'''")))return!0}return this.isBlockEmpty(u,n)}if(l!=null){if(l.previousSibling?.type=="module"||l.previousSibling?.type=="internal_module"||l.previousSibling?.type=="def")return!0;if(this.languageId==="python"&&a>=14&&l.hasError&&(l.text.startsWith('"')||l.text.startsWith("'"))){let E=l.parent?.type;if(E==="function_definition"||E==="class_definition"||E==="module")return!0}let h=[...l.children].reverse(),p=h.find(E=>this.startKeywords.includes(E.type)),y=h.find(E=>E.type==this.blockNodeType);if(p){switch(this.languageId){case"python":{p.type=="try"&&c.type=="identifier"&&c.text.length>4&&(y=h.find(w=>w.hasError)?.children.find(w=>w.type=="block"));let E,v=0;for(let w of l.children){if(w.type==":"&&v==0){E=w;break}w.type=="("&&(v+=1),w.type==")"&&(v-=1)}if(E&&p.endIndex<=E.startIndex&&E.nextSibling){if(p.type=="def"){let w=E.nextSibling;if(w.type=='"'||w.type=="'"||w.type=="ERROR"&&(w.text=='"""'||w.text=="'''"))return!0}return!1}break}case"javascript":{if(p.type==="class")if(a<=13){if(h.find(_=>_.type==="formal_parameters"))return!0}else{let w=l.children;for(let _=0;_<w.length;_++)if(w[_].type==="formal_parameters")return _+1===w.length||w[_+1]?.type==="{"&&_+2===w.length}let E=h.find(w=>w.type=="{");if(E&&E.startIndex>p.endIndex&&E.nextSibling!=null||h.find(w=>w.type=="do")&&p.type=="while"||p.type=="=>"&&p.nextSibling&&p.nextSibling.type!="{")return!1;break}case"typescript":{let E=h.find(w=>w.type=="{");if(E&&E.startIndex>p.endIndex&&E.nextSibling!=null||h.find(w=>w.type=="do")&&p.type=="while"||p.type=="=>"&&p.nextSibling&&p.nextSibling.type!="{")return!1;break}}return y&&y.startIndex>p.endIndex?this.isBlockEmpty(y,n):!0}}if(d!=null){let h=this.nodeMatch[d.type],p=d.children.slice().reverse().find(y=>y.type==h);if(p)return this.isBlockEmpty(p,n);if(this.nodeTypesWithBlockOrStmtChild.has(d.type)){let y=this.nodeTypesWithBlockOrStmtChild.get(d.type),E=y==""?d.children[0]:d.childForFieldName(y);if(E&&E.type!=this.blockNodeType&&E.type!=this.emptyStatementType)return!1}return!0}return!1}finally{o.delete()}}},E3r={python:new zd("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new zd("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_expression:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new zd("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_expression:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new zd("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_expression:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new XD("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new XD("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),"c-sharp":new zd("csharp",{},new Map([]),[],"block",null,!0),java:new zd("java",{},new Map([]),[],"block",null,!0),php:new zd("php",{},new Map([]),[],"block",null,!0),cpp:new zd("cpp",{},new Map([]),[],"block",null,!0)};var D3r=new jr("parseBlock");var DJe=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(t=>t+"\\b")),N3r=new RegExp(`^(${DJe.join("|")})`);f();f();f();f();f();f();var NJe={tokenizerName:"o200k_base"};function QJe(t){return{...NJe,...t}}s(QJe,"cursorContextOptions");function Xw(t,e={}){let r=QJe(e),n=Zl(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let o=t.source.slice(0,t.offset);return r.maxLineCount!==void 0&&(o=o.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(o=n.takeLastLinesTokens(o,r.maxTokenLength)),{context:o,lineCount:o.split(`
`).length,tokenLength:n.tokenLength(o),tokenizerName:r.tokenizerName}}s(Xw,"getCursorContext");f();f();var PJe={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function pye(t){let e=PJe[t.semantics],r=["snippets"].includes(t.semantics)?"these":"this";return{headline:t.relativePath?`Compare ${r} ${e} from ${t.relativePath}:`:`Compare ${r} ${e}:`,snippet:t.snippet}}s(pye,"announceSnippet");var w$=class{constructor(e){this.keys=[];this.cache={};this.size=e}static{s(this,"FifoCache")}put(e,r){if(this.cache[e]=r,this.keys.length>this.size){this.keys.push(e);let n=this.keys.shift()??"";delete this.cache[n]}}get(e){return this.cache[e]}};var S$=class{static{s(this,"Tokenizer")}constructor(e){this.stopsForLanguage=OJe.get(e.languageId)??MJe}tokenize(e){return new Set(FJe(e).filter(r=>!this.stopsForLanguage.has(r)))}},mye=new w$(20),Lv=class{static{s(this,"WindowedMatcher")}constructor(e){this.referenceDoc=e,this.tokenizer=new S$(e)}get referenceTokens(){return Promise.resolve(this.createReferenceTokens())}createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,r="descending"){return r=="ascending"?e.sort((n,o)=>n.score>o.score?1:-1):r=="descending"?e.sort((n,o)=>n.score>o.score?-1:1):e}async retrieveAllSnippets(e,r="descending"){let n=[];if(e.source.length===0||(await this.referenceTokens).size===0)return n;let o=e.source.split(`
`),a=this.id()+":"+e.source,c=mye.get(a)??[],l=c.length==0,u=l?o.map(d=>this.tokenizer.tokenize(d),this.tokenizer):[];for(let[d,[A,h]]of this.getWindowsDelineations(o).entries()){if(l){let E=new Set;u.slice(A,h).forEach(v=>v.forEach(w=>E.add(w),E)),c.push(E)}let p=c[d],y=this.similarityScore(p,await this.referenceTokens);if(n.length&&A>0&&n[n.length-1].endLine>A){n[n.length-1].score<y&&(n[n.length-1].score=y,n[n.length-1].startLine=A,n[n.length-1].endLine=h);continue}n.push({score:y,startLine:A,endLine:h})}return l&&mye.put(a,c),this.sortScoredSnippets(n,r)}findMatches(e,r){return this.findBestMatch(e,r)}async findBestMatch(e,r){if(e.source.length===0||(await this.referenceTokens).size===0)return[];let n=e.source.split(`
`),o=await this.retrieveAllSnippets(e,"descending");if(o.length===0)return[];let a=[];for(let c=0;c<o.length&&c<r;c++)if(o[c].score!==0){let l=n.slice(o[c].startLine,o[c].endLine).join(`
`);a.push({snippet:l,semantics:"snippet",provider:"similar-files",...o[c]})}return a}};function FJe(t){return t.split(/[^a-zA-Z0-9]/).filter(e=>e.length>0)}s(FJe,"splitIntoWords");var LJe=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),MJe=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...LJe]),OJe=new Map([]);f();f();f();f();function GJe(t){return Object.keys(t).map(e=>{let r;return t[e].test?r=s(n=>t[e].test(n),"matches"):r=t[e],{matches:r,label:e}})}s(GJe,"buildLabelRules");var VJe={opener:/^[[({]/,closer:/^[\])}]/},vSr=GJe(VJe);function ZD(t,e){let r=[],n=e.length;if(n==0)return[];if(n<t)return[[0,n]];for(let o=0;o<n-t+1;o++)r.push([o,o+t]);return r}s(ZD,"getBasicWindowDelineations");var eN=class t extends Lv{static{s(this,"FixedWindowSizeJaccardMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=s(e=>({to:s(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return ZD(this.windowLength,e)}_getCursorContextInfo(e){return Xw(e,{maxLineCount:this.windowLength})}similarityScore(e,r){return WJe(e,r)}};function WJe(t,e){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size/(t.size+e.size-r.size)}s(WJe,"computeScore");f();var tN=class t extends Lv{static{s(this,"BlockTokenSubsetMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=s(e=>({to:s(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return ZD(this.windowLength,e)}_getCursorContextInfo(e){return Xw(e,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=t.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let e=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=e?this.referenceDoc.source.slice(e,r):Xw(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(e){switch(e){case"csharp":return!0;default:return!1}}similarityScore(e,r){return YJe(e,r)}async getEnclosingMemberStart(e,r){let n;try{n=await cv(this.referenceDoc.languageId,e);let o=n.rootNode.namedDescendantForIndex(r);for(;o&&!(t.isMember(o)||t.isBlock(o));)o=o.parent??void 0;return o}finally{n?.delete()}}static isMember(e){switch(e?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(e){switch(e?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function YJe(t,e){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size}s(YJe,"computeScore");var $Je=0,zJe=60,jJe=4,KJe=1,JJe=20,XJe=1e4,gye={snippetLength:zJe,threshold:$Je,maxTopSnippets:jJe,maxCharPerFile:XJe,maxNumberOfFiles:JJe,maxSnippetsPerFile:KJe,useSubsetMatching:!1};var B$={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function ZJe(t,e){return(e.useSubsetMatching?tN.FACTORY(e.snippetLength):eN.FACTORY(e.snippetLength)).to(t)}s(ZJe,"getMatcher");async function yye(t,e,r){let n=ZJe(t,r);return r.maxTopSnippets===0?[]:(await e.filter(a=>a.source.length<r.maxCharPerFile&&a.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(a,c)=>(await a).concat((await n.findMatches(c,r.maxSnippetsPerFile)).map(l=>({relativePath:c.relativePath,...l}))),Promise.resolve([]))).filter(a=>a.score&&a.snippet&&a.score>r.threshold).sort((a,c)=>a.score-c.score).slice(-r.maxTopSnippets)}s(yye,"getSimilarSnippets");function Cye(t,e){return{...B$,useSubsetMatching:R$(t,e)}}s(Cye,"getCppSimilarFilesOptions");function Eye(t){return B$.maxTopSnippets}s(Eye,"getCppNumberOfSnippets");var eXe=new Map([["cpp",Cye]]);function rN(t,e,r){let n=eXe.get(r);return n?n(t,e):{...gye,useSubsetMatching:R$(t,e)}}s(rN,"getSimilarFilesOptions");var tXe=new Map([["cpp",Eye]]);function Iye(t,e){let r=tXe.get(e);return r?r(t):pme}s(Iye,"getNumberOfSnippets");function R$(t,e){return(e.filtersAndExp.exp.variables.copilotsubsetmatching||Zo(t,Ft.UseSubsetMatching))??!1}s(R$,"useSubsetMatching");f();f();f();f();var rXe="content_excluded";async function nN(t,e,r,n){let o=YD(r,"CodeSnippet");if(o.length===0)return[];let a=new Set,c=o.flatMap(A=>A.data.map(h=>(a.add(h.uri),h.additionalUris?.forEach(p=>a.add(p)),{providerId:A.providerId,data:h}))),l=t.get(li),u=new Map;await Promise.all(Array.from(a).map(async A=>{u.set(A,await l.getTextDocumentValidation({uri:A}))}));let d=t.get(nu).getStatisticsForCompletion(e);return c.filter(A=>{let p=[A.data.uri,...A.data.additionalUris??[]].every(y=>u.get(y)?.status==="valid");return p?d.addExpectations(A.providerId,[[A.data,"included"]]):d.addExpectations(A.providerId,[[A.data,rXe]]),p}).map(A=>A.data)}s(nN,"getCodeSnippetsFromContextItems");function xye(t,e){let r=t.get(li);return e.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}s(xye,"addRelativePathToCodeSnippets");f();function Ho(t){if(t.children)return Array.isArray(t.children)?t.children.join(""):t.children}s(Ho,"Text");function Gg(t){return t.children}s(Gg,"Chunk");f();function Gt(t,e,r){let n=[];Array.isArray(e.children)?n=e.children:e.children&&(n=[e.children]);let o={...e,children:n};return r&&(o.key=r),{type:t,props:o}}s(Gt,"functionComponentFunction");function mf(t){return{type:"f",children:t}}s(mf,"fragmentFunction");mf.isFragmentFunction=!0;var iN=s((t,e)=>{let[r,n]=e.useState(),[o,a]=e.useState();if(e.useData(dc,d=>{d.codeSnippets!==r&&n(d.codeSnippets),d.document.uri!==o?.uri&&a(d.document)}),!r||r.length===0||!o)return;let c=xye(t.ctx,r),l=new Map;for(let d of c){let A=d.relativePath??d.snippet.uri,h=l.get(A);h===void 0&&(h=[],l.set(A,h)),h.push(d)}let u=[];for(let[d,A]of l.entries()){let h=A.filter(p=>p.snippet.value.length>0);h.length>0&&u.push({chunkElements:h.map(p=>p.snippet),importance:Math.max(...h.map(p=>p.snippet.importance??0)),uri:d})}if(u.length!==0)return u.sort((d,A)=>A.importance-d.importance),u.reverse(),u.map(d=>{let A=[];return A.push(Gt(Ho,{children:`Compare ${d.chunkElements.length>1?"these snippets":"this snippet"} from ${d.uri}:`})),d.chunkElements.forEach((h,p)=>{A.push(Gt(Ho,{source:h,children:h.value},h.id)),d.chunkElements.length>1&&p<d.chunkElements.length-1&&A.push(Gt(Ho,{children:"---"}))}),Gt(Gg,{children:A})})},"CodeSnippets");f();function k$(t){return t.children}s(k$,"CompletionsContext");function D$(t){return t.children}s(D$,"StableCompletionsContext");function N$(t){return t.children}s(N$,"AdditionalCompletionsContext");function oN(t){return t.name===k$.name||t.name===D$.name||t.name===N$.name}s(oN,"isContextNode");f();f();f();function sN(t,e){if(t.length===0||e.length===0)return{score:t.length+e.length};let r=Array.from({length:t.length}).map(()=>Array.from({length:e.length}).map(()=>0));for(let n=0;n<t.length;n++)r[n][0]=n;for(let n=0;n<e.length;n++)r[0][n]=n;for(let n=0;n<e.length;n++)for(let o=0;o<t.length;o++)r[o][n]=Math.min((o==0?n:r[o-1][n])+1,(n==0?o:r[o][n-1])+1,(o==0||n==0?Math.max(o,n):r[o-1][n-1])+(t[o]==e[n]?0:1));return{score:r[t.length-1][e.length-1]}}s(sN,"findEditDistanceScore");var Zw=50;function Q$(t){let e=t*4,r=t*.1;return Math.floor(e+r)}s(Q$,"approximateMaxCharacters");function e3(t,e){let[r,n]=e.useState(),[o,a]=e.useState(),[c,l]=e.useState(0),[u,d]=e.useState(),[A,h]=e.useState();e.useData(dc,y=>{let E=y.document;(y.document.uri!==r?.uri||E.getText()!==r?.getText())&&n(E),y.position!==o&&a(y.position),y.suffixMatchThreshold!==u&&d(y.suffixMatchThreshold),y.maxPromptTokens!==c&&l(y.maxPromptTokens),y.tokenizer!==A&&h(y.tokenizer)});let p=Q$(c);return Gt(mf,{children:[Gt(nE,{document:r,position:o,maxCharacters:p}),Gt(aN,{document:r,position:o,suffixMatchThreshold:u,maxCharacters:p,tokenizer:A})]})}s(e3,"CurrentFile");function nE(t){if(t.document===void 0||t.position===void 0)return Gt(Ho,{});let e=t.document.getText({start:{line:0,character:0},end:t.position});return e.length>t.maxCharacters&&(e=e.slice(-t.maxCharacters)),Gt(Ho,{children:e})}s(nE,"BeforeCursor");function aN(t,e){let[r,n]=e.useState("");if(t.document===void 0||t.position===void 0)return Gt(Ho,{});let o=t.document.getText({start:t.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});o.length>t.maxCharacters&&(o=o.slice(0,t.maxCharacters));let a=o.replace(/^.*/,"").trimStart();if(a==="")return Gt(Ho,{});if(r===a)return Gt(Ho,{children:r});let c=a;if(r!==""){let l=Zl(t.tokenizer),u=l.takeFirstTokens(a,Zw);u.tokens.length>0&&100*sN(u.tokens,l.takeFirstTokens(r,Zw).tokens)?.score<(t.suffixMatchThreshold??$k)*u.tokens.length&&(c=r)}return c!==r&&n(c),Gt(Ho,{children:c})}s(aN,"AfterCursor");function vye(t,e){let[r,n]=e.useState(),[o,a]=e.useState(),[c,l]=e.useState(0);e.useData(dc,d=>{let A=d.document;(d.document.uri!==r?.uri||A.getText()!==r?.getText())&&n(A),d.position!==o&&a(d.position),d.maxPromptTokens!==c&&l(d.maxPromptTokens)});let u=Q$(c);return Gt(nE,{document:r,position:o,maxCharacters:u})}s(vye,"DocumentPrefix");function bye(t,e){let[r,n]=e.useState(),[o,a]=e.useState(),[c,l]=e.useState(0),[u,d]=e.useState(),[A,h]=e.useState();e.useData(dc,y=>{let E=y.document;(y.document.uri!==r?.uri||E.getText()!==r?.getText())&&n(E),y.position!==o&&a(y.position),y.suffixMatchThreshold!==u&&d(y.suffixMatchThreshold),y.maxPromptTokens!==c&&l(y.maxPromptTokens),y.tokenizer!==A&&h(y.tokenizer)});let p=Q$(c);return Gt(aN,{document:r,position:o,suffixMatchThreshold:u,maxCharacters:p,tokenizer:A})}s(bye,"DocumentSuffix");f();var cN=class{static{s(this,"WishlistElision")}elide(e,r,n,o,a){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[c,l]=this.preparePrefixBlocks(e,a),{elidedSuffix:u,adjustedPrefixTokenLimit:d}=this.elideSuffix(n,o,r,l,a),A=this.elidePrefix(c,d,l,a);return{blocks:[u,...A],cycles:1}}preparePrefixBlocks(e,r){let n=0,o=new Set;return[e.map((c,l)=>{let u=0,A=c.value.split(/([^\n]*\n+)/).filter(p=>p!=="").map(p=>{let y=r.tokenLength(p);return u+=y,n+=y,{line:p,componentPath:c.componentPath,tokens:y}}),h=c.componentPath;if(o.has(h))throw new Error(`Duplicate component path in prefix blocks: ${h}`);return o.add(h),{...c,tokens:u,markedForRemoval:!1,originalIndex:l,lines:A}}),n]}elideSuffix(e,r,n,o,a){let c=e.value;if(c.length===0||r<=0)return{elidedSuffix:{...e,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};o<n&&(r=r+(n-o),n=o);let l=a.takeFirstTokens(c,r);return{elidedSuffix:{...e,value:c,tokens:a.tokenLength(c),elidedValue:l.text,elidedTokens:l.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-l.tokens.length)}}elidePrefix(e,r,n,o){let a=this.removeLowWeightPrefixBlocks(e,r,n),c=a.filter(A=>!A.markedForRemoval).flatMap(A=>A.lines);if(c.length===0)return[];let[l,u]=this.trimPrefixLinesToFit(c,r,o),d=u;return a.map(A=>{if(A.markedForRemoval)return d+A.tokens<=r&&!A.chunks?(d+=A.tokens,{...A,elidedValue:A.value,elidedTokens:A.tokens}):{...A,elidedValue:"",elidedTokens:0};let h=l.filter(y=>y.componentPath===A.componentPath&&y.line!=="").map(y=>y.line).join(""),p=A.tokens;return h!==A.value&&(p=h!==""?o.tokenLength(h):0),{...A,elidedValue:h,elidedTokens:p}})}removeLowWeightPrefixBlocks(e,r,n){let o=n;e.sort((a,c)=>a.weight-c.weight);for(let a of e){if(o<=r)break;if(a.weight!==1&&!(a.chunks&&a.markedForRemoval))if(a.chunks&&a.chunks.size>0)for(let c of e)!c.markedForRemoval&&c.chunks&&[...a.chunks].every(l=>c.chunks?.has(l))&&(c.markedForRemoval=!0,o-=c.tokens);else a.markedForRemoval=!0,o-=a.tokens}return e.sort((a,c)=>a.originalIndex-c.originalIndex)}trimPrefixLinesToFit(e,r,n){let o=0,a=[];for(let c=e.length-1;c>=0;c--){let l=e[c],u=l.tokens;if(o+u<=r)a.unshift(l),o+=u;else break}if(a.length===0){let c=e[e.length-1];if(c&&c.line.length>0){let u=n.takeLastTokens(c.line,r);return a.push({line:u.text,componentPath:c.componentPath,tokens:u.tokens.length}),[a,u.tokens.length]}let l=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(l)}return[a,o]}};function Tye(t){return t.map(e=>e.elidedValue).join("")}s(Tye,"makePrompt");function _ye(t){return t.filter(e=>e.type==="prefix").map(e=>e.elidedValue).join("")}s(_ye,"makePrefixPrompt");function wye(t){if(t.length===0)return[];let e=new Map;for(let o of t)if(o.type==="context"&&o.index!==void 0){e.has(o.index)||e.set(o.index,[]);let a=o.elidedValue.trim();a.length>0&&e.get(o.index).push(a)}let r=Math.max(...Array.from(e.keys()),-1),n=[];for(let o=0;o<=r;o++){let a=e.get(o);if(a&&a.length>0){let c=a.join(`
`).trim();n.push(c)}else n.push("")}return n}s(wye,"makeContextPrompt");f();var Mv=class{constructor(e,r=P$()){this.snapshot=e;this.transformers=r}static{s(this,"SnapshotWalker")}walkSnapshot(e){this.walkSnapshotNode(this.snapshot,void 0,e,{})}walkSnapshotNode(e,r,n,o){let a=this.transformers.reduce((l,u)=>u(e,r,l),{...o});if(n(e,r,a))for(let l of e.children??[])this.walkSnapshotNode(l,e,n,a)}};function P$(){return[(t,e,r)=>{r.weight===void 0&&(r.weight=1);let n=t.props?.weight??1,o=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:o*r.weight}},(t,e,r)=>{if(t.name===Gg.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(t.path),{...r,chunks:n}}return r},(t,e,r)=>t.props?.source!==void 0?{...r,source:t.props.source}:r]}s(P$,"defaultTransformers");f();var F$={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},Sye={};for(let[t,e]of Object.entries(F$))if(e.markdownLanguageIds)for(let r of e.markdownLanguageIds)Sye[r]=t;else Sye[t]=t;var nXe={start:"//",end:""},iXe=["php","plaintext"],L$={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Bye(t){return Object.values(L$).includes(t.trim())}s(Bye,"isShebangLine");function oXe({source:t}){return t.startsWith("#!")||t.startsWith("<!DOCTYPE")}s(oXe,"hasLanguageMarker");function sXe(t,e){let r=F$[e]?F$[e].lineComment:nXe;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${t}${n}`}return""}s(sXe,"comment");function Fh(t,e){if(t==="")return"";let r=t.endsWith(`
`),o=(r?t.slice(0,-1):t).split(`
`).map(a=>sXe(a,e)).join(`
`);return r?o+`
`:o}s(Fh,"commentBlockAsSingles");function lN(t){let{languageId:e}=t;return iXe.indexOf(e)===-1&&!oXe(t)?e in L$?L$[e]:`Language: ${e}`:""}s(lN,"getLanguageMarker");function uN(t){return t.relativePath?`Path: ${t.relativePath}`:""}s(uN,"getPathMarker");function t3(t){return t===""||t.endsWith(`
`)?t:t+`
`}s(t3,"newLineEnded");var aXe=5,Ov=class{constructor(){this.renderId=0;this.formatPrefix=Tye}static{s(this,"CompletionsPromptRenderer")}render(e,r,n){let o=this.renderId++,a=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let c=r.delimiter??"",l=r.tokenizer??"o200k_base",{prefixBlocks:u,suffixBlock:d,componentStatistics:A}=this.processSnapshot(e,c,r.languageId),{prefixTokenLimit:h,suffixTokenLimit:p}=this.getPromptLimits(d,r),y=performance.now(),E=new cN,{blocks:[v,...w]}=E.elide(u,h,d,p,Zl(l)),_=performance.now(),S=this.formatPrefix(w),D=this.formatContext?this.formatContext(w):void 0,N=v.elidedValue,P=w.reduce((O,$)=>O+$.elidedTokens,0);return A.push(...cXe([...w,v])),{prefix:S,prefixTokens:P,suffix:N,suffixTokens:v.elidedTokens,context:D,status:"ok",metadata:{renderId:o,rendererName:"c",tokenizer:l,elisionTimeMs:_-y,renderTimeMs:performance.now()-a,componentStatistics:A,updateDataTimeMs:A.reduce((O,$)=>O+($.updateDataTimeMs??0),0)}}}catch(c){return{status:"error",error:c}}}getPromptLimits(e,r){let n=e?.value??"",o=r.promptTokenLimit,a=r.suffixPercent;if(n.length==0||a==0)return{prefixTokenLimit:o,suffixTokenLimit:0};o=n.length>0?o-aXe:o;let c=Math.ceil(o*(a/100));return{prefixTokenLimit:o-c,suffixTokenLimit:c}}processSnapshot(e,r,n){let o=[],a=[],c=[],l=!1;if(new Mv(e,M$).walkSnapshot((A,h,p)=>{if(A===e||(A.name===e3.name&&(l=!0),A.statistics.updateDataTimeMs&&A.statistics.updateDataTimeMs>0&&c.push({componentPath:A.path,updateDataTimeMs:A.statistics.updateDataTimeMs}),A.value===void 0||A.value===""))return!0;let y=p.chunks;if(p.type==="suffix")a.push({value:r3(A.value),type:"suffix",weight:p.weight,componentPath:A.path,nodeStatistics:A.statistics,chunks:y,source:p.source});else{let E=A.value.endsWith(r)?A.value:A.value+r,v=E;p.type==="prefix"?v=A.value:Bye(A.value)?v=E:v=Fh(E,n),o.push({type:p.type==="prefix"?"prefix":"context",value:r3(v),weight:p.weight,componentPath:A.path,nodeStatistics:A.statistics,chunks:y,source:p.source})}return!0}),!l)throw new Error(`Node of type ${e3.name} not found`);if(a.length>1)throw new Error("Only one suffix is allowed");let d=a.length===1?a[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:d,componentStatistics:c}}},M$=[...P$(),(t,e,r)=>oN(t)?{...r,type:"context"}:r,(t,e,r)=>t.name===nE.name?{...r,type:"prefix"}:r,(t,e,r)=>t.name===aN.name?{...r,type:"suffix"}:r];function cXe(t){return t.map(e=>{let r={componentPath:e.componentPath};return e.tokens!==0&&(r.expectedTokens=e.tokens,r.actualTokens=e.elidedTokens),e.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=e.nodeStatistics.updateDataTimeMs),e.source&&(r.source=e.source),r})}s(cXe,"computeComponentStatistics");function r3(t){return t.replace(/\r\n?/g,`
`)}s(r3,"normalizeLineEndings");f();var fN=s((t,e)=>{let[r,n]=e.useState();if(e.useData(dc,o=>{o.document.uri!==r?.uri&&n(o.document)}),r){let o=t.ctx.get(li),a=o.getRelativePath(r),c={uri:r.uri,source:r.getText(),relativePath:a,languageId:r.detectedLanguageId},l=o.findNotebook(r);return c.relativePath&&!l?Gt(lXe,{docInfo:c}):Gt(uXe,{docInfo:c})}},"DocumentMarker"),lXe=s(t=>Gt(Ho,{children:uN(t.docInfo)}),"PathMarker"),uXe=s(t=>Gt(Ho,{children:lN(t.docInfo)}),"LanguageMarker");f();f();f();f();function n3(t){if(!t()){debugger;t(),yv(new Fs("Assertion Failed"))}}s(n3,"assertFn");f();f();f();f();f();var Vg=s((t,e)=>t===e,"strictEquals");f();f();var Rye=class t{static{s(this,"Node")}static{this.Undefined=new t(void 0)}constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}};f();var fXe=globalThis.performance&&typeof globalThis.performance.now=="function",dN=class t{static{s(this,"StopWatch")}static create(e){return new t(e)}constructor(e){this._now=fXe&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var kye=!1,dXe=!1,o3;(ce=>{ce.None=s(()=>tl.None,"None");function e(J){if(dXe){let{onDidAddListener:W}=J,Z=i3.create(),re=0;J.onDidAddListener=()=>{++re===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Z.print()),W?.()}}}s(e,"_addLeakageTraceLogic");function r(J,W){return y(J,()=>{},0,void 0,!0,void 0,W)}ce.defer=r,s(r,"defer");function n(J){return(W,Z=null,re)=>{let te=!1,ie;return ie=J(ue=>{if(!te)return ie?ie.dispose():te=!0,W.call(Z,ue)},null,re),te&&ie.dispose(),ie}}ce.once=n,s(n,"once");function o(J,W){return ce.once(ce.filter(J,W))}ce.onceIf=o,s(o,"onceIf");function a(J,W,Z){return h((re,te=null,ie)=>J(ue=>re.call(te,W(ue)),null,ie),Z)}ce.map=a,s(a,"map");function c(J,W,Z){return h((re,te=null,ie)=>J(ue=>{W(ue),re.call(te,ue)},null,ie),Z)}ce.forEach=c,s(c,"forEach");function l(J,W,Z){return h((re,te=null,ie)=>J(ue=>W(ue)&&re.call(te,ue),null,ie),Z)}ce.filter=l,s(l,"filter");function u(J){return J}ce.signal=u,s(u,"signal");function d(...J){return(W,Z=null,re)=>{let te=Zme(...J.map(ie=>ie(ue=>W.call(Z,ue))));return p(te,re)}}ce.any=d,s(d,"any");function A(J,W,Z,re){let te=Z;return a(J,ie=>(te=W(te,ie),te),re)}ce.reduce=A,s(A,"reduce");function h(J,W){let Z,re={onWillAddFirstListener(){Z=J(te.fire,te)},onDidRemoveLastListener(){Z?.dispose()}};W||e(re);let te=new gf(re);return W?.add(te),te.event}s(h,"snapshot");function p(J,W){return W instanceof Array?W.push(J):W&&W.add(J),J}s(p,"addAndReturnDisposable");function y(J,W,Z=100,re=!1,te=!1,ie,ue){let he,Je,rt,lt=0,Ct,Vt={leakWarningThreshold:ie,onWillAddFirstListener(){he=J(Dn=>{lt++,Je=W(Je,Dn),re&&!rt&&(Hr.fire(Je),Je=void 0),Ct=s(()=>{let br=Je;Je=void 0,rt=void 0,(!re||lt>1)&&Hr.fire(br),lt=0},"doFire"),typeof Z=="number"?(clearTimeout(rt),rt=setTimeout(Ct,Z)):rt===void 0&&(rt=0,queueMicrotask(Ct))})},onWillRemoveListener(){te&&lt>0&&Ct?.()},onDidRemoveLastListener(){Ct=void 0,he.dispose()}};ue||e(Vt);let Hr=new gf(Vt);return ue?.add(Hr),Hr.event}ce.debounce=y,s(y,"debounce");function E(J,W=0,Z){return ce.debounce(J,(re,te)=>re?(re.push(te),re):[te],W,void 0,!0,void 0,Z)}ce.accumulate=E,s(E,"accumulate");function v(J,W=(re,te)=>re===te,Z){let re=!0,te;return l(J,ie=>{let ue=re||!W(ie,te);return re=!1,te=ie,ue},Z)}ce.latch=v,s(v,"latch");function w(J,W,Z){return[ce.filter(J,W,Z),ce.filter(J,re=>!W(re),Z)]}ce.split=w,s(w,"split");function _(J,W=!1,Z=[],re){let te=Z.slice(),ie=J(Je=>{te?te.push(Je):he.fire(Je)});re&&re.add(ie);let ue=s(()=>{te?.forEach(Je=>he.fire(Je)),te=null},"flush"),he=new gf({onWillAddFirstListener(){ie||(ie=J(Je=>he.fire(Je)),re&&re.add(ie))},onDidAddFirstListener(){te&&(W?setTimeout(ue):ue())},onDidRemoveLastListener(){ie&&ie.dispose(),ie=null}});return re&&re.add(he),he.event}ce.buffer=_,s(_,"buffer");function S(J,W){return s((re,te,ie)=>{let ue=W(new N);return J(function(he){let Je=ue.evaluate(he);Je!==D&&re.call(te,Je)},void 0,ie)},"fn")}ce.chain=S,s(S,"chain");let D=Symbol("HaltChainable");class N{constructor(){this.steps=[]}static{s(this,"ChainableSynthesis")}map(W){return this.steps.push(W),this}forEach(W){return this.steps.push(Z=>(W(Z),Z)),this}filter(W){return this.steps.push(Z=>W(Z)?Z:D),this}reduce(W,Z){let re=Z;return this.steps.push(te=>(re=W(re,te),re)),this}latch(W=(Z,re)=>Z===re){let Z=!0,re;return this.steps.push(te=>{let ie=Z||!W(te,re);return Z=!1,re=te,ie?te:D}),this}evaluate(W){for(let Z of this.steps)if(W=Z(W),W===D)break;return W}}function P(J,W,Z=re=>re){let re=s((...he)=>ue.fire(Z(...he)),"fn"),te=s(()=>J.on(W,re),"onFirstListenerAdd"),ie=s(()=>J.removeListener(W,re),"onLastListenerRemove"),ue=new gf({onWillAddFirstListener:te,onDidRemoveLastListener:ie});return ue.event}ce.fromNodeEventEmitter=P,s(P,"fromNodeEventEmitter");function O(J,W,Z=re=>re){let re=s((...he)=>ue.fire(Z(...he)),"fn"),te=s(()=>J.addEventListener(W,re),"onFirstListenerAdd"),ie=s(()=>J.removeEventListener(W,re),"onLastListenerRemove"),ue=new gf({onWillAddFirstListener:te,onDidRemoveLastListener:ie});return ue.event}ce.fromDOMEventEmitter=O,s(O,"fromDOMEventEmitter");function $(J,W){return new Promise(Z=>n(J)(Z,null,W))}ce.toPromise=$,s($,"toPromise");function ne(J){let W=new gf;return J.then(Z=>{W.fire(Z)},()=>{W.fire(void 0)}).finally(()=>{W.dispose()}),W.event}ce.fromPromise=ne,s(ne,"fromPromise");function oe(J,W){return J(Z=>W.fire(Z))}ce.forward=oe,s(oe,"forward");function Ae(J,W,Z){return W(Z),J(re=>W(re))}ce.runAndSubscribe=Ae,s(Ae,"runAndSubscribe");class Y{constructor(W,Z){this._observable=W;this._counter=0;this._hasChanged=!1;let re={onWillAddFirstListener:s(()=>{W.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:s(()=>{W.removeObserver(this)},"onDidRemoveLastListener")};Z||e(re),this.emitter=new gf(re),Z&&Z.add(this.emitter)}static{s(this,"EmitterObserver")}beginUpdate(W){this._counter++}handlePossibleChange(W){}handleChange(W,Z){this._hasChanged=!0}endUpdate(W){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function K(J,W){return new Y(J,W).emitter.event}ce.fromObservable=K,s(K,"fromObservable");function xe(J){return(W,Z,re)=>{let te=0,ie=!1,ue={beginUpdate(){te++},endUpdate(){te--,te===0&&(J.reportChanges(),ie&&(ie=!1,W.call(Z)))},handlePossibleChange(){},handleChange(){ie=!0}};J.addObserver(ue),J.reportChanges();let he={dispose(){J.removeObserver(ue)}};return re instanceof Wd?re.add(he):Array.isArray(re)&&re.push(he),he}}ce.fromObservableLight=xe,s(xe,"fromObservableLight")})(o3||={});var O$=class t{constructor(e){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${e}_${t._idPool++}`,t.all.add(this)}static{s(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(e){this._stopWatch=new dN,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},Dye=-1;var U$=class t{constructor(e,r,n=(t._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=r;this.name=n;this._warnCountdown=0}static{s(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(e,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[a,c]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${c}):`;console.warn(l),console.warn(a);let u=new H$(l,a);this._errorHandler(u)}return()=>{let a=this._stacks.get(e.value)||0;this._stacks.set(e.value,a-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,r=0;for(let[n,o]of this._stacks)(!e||r<o)&&(e=[n,o],r=o);return e}},i3=class t{constructor(e){this.value=e}static{s(this,"Stacktrace")}static create(){let e=new Error;return new t(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},H$=class extends Error{static{s(this,"ListenerLeakError")}constructor(e,r){super(e),this.name="ListenerLeakError",this.stack=r}},q$=class extends Error{static{s(this,"ListenerRefusalError")}constructor(e,r){super(e),this.name="ListenerRefusalError",this.stack=r}},AXe=0,Uv=class{constructor(e){this.value=e;this.id=AXe++}static{s(this,"UniqueContainer")}},hXe=2,pXe=s((t,e)=>{if(t instanceof Uv)e(t);else for(let r=0;r<t.length;r++){let n=t[r];n&&e(n)}},"forEachListener"),gf=class{constructor(e){this._size=0;this._options=e,this._leakageMon=Dye>0||this._options?.leakWarningThreshold?new U$(e?.onListenerError??yv,this._options?.leakWarningThreshold??Dye):void 0,this._perfMon=this._options?._profName?new O$(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{s(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(kye){let e=this._listeners;queueMicrotask(()=>{pXe(e,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let u=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(u);let d=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],A=new q$(`${u}. HINT: Stack shows most frequent listener (${d[1]}-times)`,d[0]);return(this._options?.onListenerError||yv)(A),tl.None}if(this._disposed)return tl.None;r&&(e=e.bind(r));let o=new Uv(e),a,c;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(o.stack=i3.create(),a=this._leakageMon.check(o.stack,this._size+1)),kye&&(o.stack=c??i3.create()),this._listeners?this._listeners instanceof Uv?(this._deliveryQueue??=new G$,this._listeners=[this._listeners,o]):this._listeners.push(o):(this._options?.onWillAddFirstListener?.(this),this._listeners=o,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=Nh(()=>{a?.(),this._removeListener(o)});return n instanceof Wd?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(e);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let o=this._deliveryQueue.current===this;if(this._size*hXe<=r.length){let a=0;for(let c=0;c<r.length;c++)r[c]?r[a++]=r[c]:o&&a<this._deliveryQueue.end&&(this._deliveryQueue.end--,a<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=a}}_deliver(e,r){if(!e)return;let n=this._options?.onListenerError||yv;if(!n){e.value(r);return}try{e.value(r)}catch(o){n(o)}}_deliverQueue(e){let r=e.current._listeners;for(;e.i<e.end;)this._deliver(r[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Uv)this._deliver(this._listeners,e);else{let r=this._deliveryQueue;r.enqueue(this,e,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var G$=class{constructor(){this.i=-1;this.end=0}static{s(this,"EventDeliveryQueuePrivate")}enqueue(e,r,n){this.i=0,this.end=n,this.current=e,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};f();var yf=class{constructor(e,r,n){this.owner=e;this.debugNameSource=r;this.referenceFn=n}static{s(this,"DebugNameData")}getDebugName(e){return Fye(e,this)}},Nye=new Map,V$=new WeakMap;function Fye(t,e){let r=V$.get(t);if(r)return r;let n=mXe(t,e);if(n){let o=Nye.get(n)??0;o++,Nye.set(n,o);let a=o===1?n:`${n}#${o}`;return V$.set(t,a),a}}s(Fye,"getDebugName");function mXe(t,e){let r=V$.get(t);if(r)return r;let n=e.owner?yXe(e.owner)+".":"",o,a=e.debugNameSource;if(a!==void 0)if(typeof a=="function"){if(o=a(),o!==void 0)return n+o}else return n+a;let c=e.referenceFn;if(c!==void 0&&(o=AN(c),o!==void 0))return n+o;if(e.owner!==void 0){let l=gXe(e.owner,t);if(l!==void 0)return n+l}}s(mXe,"computeDebugName");function gXe(t,e){for(let r in t)if(t[r]===e)return r}s(gXe,"findKey");var Qye=new Map,Pye=new WeakMap;function yXe(t){let e=Pye.get(t);if(e)return e;let r=CXe(t),n=Qye.get(r)??0;n++,Qye.set(r,n);let o=n===1?r:`${r}#${n}`;return Pye.set(t,o),o}s(yXe,"formatOwner");function CXe(t){let e=t.constructor;return e?e.name:"Object"}s(CXe,"getClassName");function AN(t){let e=t.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(n?n[1]:void 0)?.trim()}s(AN,"getFunctionName");f();var iE;function pN(t){iE?iE instanceof hN?iE.loggers.push(t):iE=new hN([iE,t]):iE=t}s(pN,"addLogger");function qo(){return iE}s(qo,"getLogger");var W$;function Lye(t){W$=t}s(Lye,"setLogObservableFn");function Mye(t){W$&&W$(t)}s(Mye,"logObservable");var hN=class{constructor(e){this.loggers=e}static{s(this,"ComposedLogger")}handleObservableCreated(e){for(let r of this.loggers)r.handleObservableCreated(e)}handleOnListenerCountChanged(e,r){for(let n of this.loggers)n.handleOnListenerCountChanged(e,r)}handleObservableUpdated(e,r){for(let n of this.loggers)n.handleObservableUpdated(e,r)}handleAutorunCreated(e){for(let r of this.loggers)r.handleAutorunCreated(e)}handleAutorunDisposed(e){for(let r of this.loggers)r.handleAutorunDisposed(e)}handleAutorunDependencyChanged(e,r,n){for(let o of this.loggers)o.handleAutorunDependencyChanged(e,r,n)}handleAutorunStarted(e){for(let r of this.loggers)r.handleAutorunStarted(e)}handleAutorunFinished(e){for(let r of this.loggers)r.handleAutorunFinished(e)}handleDerivedDependencyChanged(e,r,n){for(let o of this.loggers)o.handleDerivedDependencyChanged(e,r,n)}handleDerivedCleared(e){for(let r of this.loggers)r.handleDerivedCleared(e)}handleBeginTransaction(e){for(let r of this.loggers)r.handleBeginTransaction(e)}handleEndTransaction(e){for(let r of this.loggers)r.handleEndTransaction(e)}};var Oye;function Uye(t){Oye=t}s(Uye,"_setRecomputeInitiallyAndOnChange");var Hye;function qye(t){Hye=t}s(qye,"_setKeepObserved");var Y$;function Gye(t){Y$=t}s(Gye,"_setDerivedOpts");var mN=class{static{s(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,r){let n=r===void 0?void 0:e,o=r===void 0?e:r;return Y$({owner:n,debugName:s(()=>{let a=AN(o);if(a!==void 0)return a;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(o.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:o},a=>o(this.read(a),a))}flatten(){return Y$({owner:void 0,debugName:s(()=>`${this.debugName} (flattened)`,"debugName")},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,r){return e.add(Oye(this,r)),this}keepObserved(e){return e.add(Hye(this)),this}get debugValue(){return this.get()}},oE=class extends mN{constructor(){super();this.observers=new Set;qo()?.handleObservableCreated(this)}static{s(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&qo()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&qo()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!qo();return Mye(this),r||qo()?.handleObservableCreated(this),this}};function gN(t,e){let r=new s3(t,e);try{t(r)}finally{r.finish()}}s(gN,"transaction");function $$(t,e,r){t?e(t):gN(e,r)}s($$,"subtransaction");var s3=class{constructor(e,r){this._fn=e;this._getDebugName=r;this.updatingObservers=[];qo()?.handleBeginTransaction(this)}static{s(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():AN(this._fn)}updateObserver(e,r){this.updatingObservers.push({observer:e,observable:r}),e.beginUpdate(r)}finish(){let e=this.updatingObservers;for(let r=0;r<e.length;r++){let{observer:n,observable:o}=e[r];n.endUpdate(o)}this.updatingObservers=null,qo()?.handleEndTransaction(this)}};f();f();function a3(t){return new yN(new yf(void 0,void 0,t),t,void 0,void 0)}s(a3,"autorun");var yN=class{constructor(e,r,n,o){this._debugNameData=e;this._runFn=r;this.createChangeSummary=n;this._handleChange=o;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),qo()?.handleAutorunCreated(this),this._runIfNeeded(),Ev(this)}static{s(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),qo()?.handleAutorunDisposed(this),Iv(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;try{if(!this.disposed){qo()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){JC(n)}finally{this._isRunning=!1}}}finally{this.disposed||qo()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(e){this.state===3&&(this.state=1),this.updateCount++}endUpdate(e){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}n3(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this._isDependency(e)&&(this.state=1)}handleChange(e,r){if(this._isDependency(e)){qo()?.handleAutorunDependencyChanged(this,e,r);try{(this._handleChange?this._handleChange({changedObservable:e,change:r,didChange:s(o=>o===e,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){JC(n)}}}_isDependency(e){return this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)}readObservable(e){if(!this._isRunning)throw new Fs("The reader object cannot be used outside its compute function!");if(this.disposed)return e.get();e.addObserver(this);let r=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),r}};(e=>e.Observer=yN)(a3||={});f();function z$(t,e){return new sE(new yf(t.owner,t.debugName,t.debugReferenceFn),e,void 0,void 0,t.onLastObserverRemoved,t.equalsFn??Vg)}s(z$,"derivedOpts");Gye(z$);var sE=class extends oE{constructor(r,n,o,a,c=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=o;this._handleChange=a;this._handleLastObserverRemoved=c;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{s(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,qo()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,o=this.value;this.state=3;let a=!1;this._isComputing=!0;try{let c=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,c)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}a=n&&!this._equalityComparator(o,this.value),qo()?.handleObservableUpdated(this,{oldValue:o,newValue:this.value,change:void 0,didChange:a,hadValue:n})}catch(c){JC(c)}if(this._isComputing=!1,a)for(let c of this.observers)c.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new Fs("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let o of this.observers)o.handlePossibleChange(this);if(n)for(let o of this.observers)o.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let o of n)o.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let o=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let a of o)a.endUpdate(this)}}n3(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){qo()?.handleDerivedDependencyChanged(this,r,n);let o=!1;try{o=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:s(c=>c===r,"didChange")},this.changeSummary):!0}catch(c){JC(c)}let a=this.state===3;if(o&&(this.state===1||a)&&(this.state=2,a))for(let c of this.observers)c.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new Fs("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};f();f();function K$(...t){let e,r,n;return t.length===3?[e,r,n]=t:[r,n]=t,new Wg(new yf(e,void 0,n),r,n,()=>Wg.globalTransaction,Vg)}s(K$,"observableFromEvent");var Wg=class extends oE{constructor(r,n,o,a,c){super();this._debugNameData=r;this.event=n;this._getValue=o;this._getTransaction=a;this._equalityComparator=c;this.hasValue=!1;this.handleEvent=s(r=>{let n=this._getValue(r),o=this.value,a=!this.hasValue||!this._equalityComparator(o,n),c=!1;a&&(this.value=n,this.hasValue&&(c=!0,$$(this._getTransaction(),l=>{qo()?.handleObservableUpdated(this,{oldValue:o,newValue:n,change:void 0,didChange:a,hadValue:this.hasValue});for(let u of this.observers)l.updateObserver(u,this),u.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),c||qo()?.handleObservableUpdated(this,{oldValue:o,newValue:n,change:void 0,didChange:a,hadValue:this.hasValue})},"handleEvent")}static{s(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=Wg;function e(n,o){let a=!1;Wg.globalTransaction===void 0&&(Wg.globalTransaction=n,a=!0);try{o()}finally{a&&(Wg.globalTransaction=void 0)}}r.batchEventsGlobally=e,s(e,"batchEventsGlobally")})(K$||={});function Wye(t){let e=new CN(!1,void 0);return t.addObserver(e),Nh(()=>{t.removeObserver(e)})}s(Wye,"keepObserved");qye(Wye);function Yye(t,e){let r=new CN(!0,e);return t.addObserver(r),e?e(t.get()):t.reportChanges(),Nh(()=>{t.removeObserver(r)})}s(Yye,"recomputeInitiallyAndOnChange");Uye(Yye);var CN=class{constructor(e,r){this._forceRecompute=e;this._handleValue=r;this._counter=0}static{s(this,"KeepAliveObserver")}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,r){}};f();f();f();var $ye=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),zye;(n=>{function t(o){return o===n.None||o===n.Cancelled||o instanceof J$?!0:!o||typeof o!="object"?!1:typeof o.isCancellationRequested=="boolean"&&typeof o.onCancellationRequested=="function"}n.isCancellationToken=t,s(t,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o3.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$ye})})(zye||={});var J$=class{constructor(){this._isCancelled=!1;this._emitter=null}static{s(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?$ye:(this._emitter||(this._emitter=new gf),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};f();var EN;function Kye(t){EN||(EN=new l3,pN(EN)),EN.addFilteredObj(t)}s(Kye,"logObservableToConsole");var l3=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{s(this,"ConsoleObservableLogger")}addFilteredObj(e){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(e)}_isIncluded(e){return this._filteredObjects?.has(e)??!0}textToConsoleArgs(e){return xXe([Hv(TXe("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[Hv(" "),iu(c3(e.oldValue,70),{color:"red",strikeThrough:!0}),Hv(" "),iu(c3(e.newValue,60),{color:"green"})]:[Hv(" (unchanged)")]:[Hv(" "),iu(c3(e.newValue,60),{color:"green"}),Hv(" (initial)")]}handleObservableCreated(e){if(e instanceof sE){let r=e;if(this.changedObservablesSets.set(r,new Set),!1){let o=[];r.__debugUpdating=o;let a=r.beginUpdate;r.beginUpdate=l=>(o.push(l),a.apply(r,[l]));let c=r.endUpdate;r.endUpdate=l=>{let u=o.indexOf(l);return u===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),o.splice(u,1),c.apply(r,[l])}}}}handleOnListenerCountChanged(e,r){}handleObservableUpdated(e,r){if(this._isIncluded(e)){if(e instanceof sE){this._handleDerivedRecomputed(e,r);return}console.log(...this.textToConsoleArgs([qv("observable value changed"),iu(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(e){if(e.size!==0)return iu(" (changed deps: "+[...e].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e)?.add(r)}_handleDerivedRecomputed(e,r){if(!this._isIncluded(e))return;let n=this.changedObservablesSets.get(e);n&&(console.log(...this.textToConsoleArgs([qv("derived recomputed"),iu(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear())}handleDerivedCleared(e){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([qv("derived cleared"),iu(e.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(e,r){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([qv("observable from event triggered"),iu(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){this._isIncluded(e)&&this.changedObservablesSets.set(e,new Set)}handleAutorunDisposed(e){}handleAutorunDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e).add(r)}handleAutorunStarted(e){let r=this.changedObservablesSets.get(e);r&&(this._isIncluded(e)&&console.log(...this.textToConsoleArgs([qv("autorun"),iu(e.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let r=e.getDebugName();r===void 0&&(r=""),this._isIncluded(e)&&console.log(...this.textToConsoleArgs([qv("transaction"),iu(r,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function xXe(t){let e=new Array,r=[],n="";function o(c){if("length"in c)for(let l of c)l&&o(l);else"text"in c?(n+=`%c${c.text}`,e.push(c.style),c.data&&r.push(...c.data)):"data"in c&&r.push(...c.data)}s(o,"process"),o(t);let a=[n,...e];return a.push(...r),a}s(xXe,"consoleTextToArgs");function Hv(t){return iu(t,{color:"black"})}s(Hv,"normalText");function qv(t){return iu(_Xe(`${t}: `,10),{color:"black",bold:!0})}s(qv,"formatKind");function iu(t,e={color:"black"}){function r(o){return Object.entries(o).reduce((a,[c,l])=>`${a}${c}:${l};`,"")}s(r,"objToCss");let n={color:e.color};return e.strikeThrough&&(n["text-decoration"]="line-through"),e.bold&&(n["font-weight"]="bold"),{text:t,style:r(n)}}s(iu,"styled");function c3(t,e){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=e?`"${t}"`:`"${t.substr(0,e-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?vXe(t,e):bXe(t,e);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}s(c3,"formatValue");function vXe(t,e){let r="[ ",n=!0;for(let o of t){if(n||(r+=", "),r.length-5>e){r+="...";break}n=!1,r+=`${c3(o,e-r.length)}`}return r+=" ]",r}s(vXe,"formatArray");function bXe(t,e){if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString){let o=t.toString();return o.length<=e?o:o.substring(0,e-3)+"..."}let r="{ ",n=!0;for(let[o,a]of Object.entries(t)){if(n||(r+=", "),r.length-5>e){r+="...";break}n=!1,r+=`${o}: ${c3(a,e-r.length)}`}return r+=" }",r}s(bXe,"formatObject");function TXe(t,e){let r="";for(let n=1;n<=e;n++)r+=t;return r}s(TXe,"repeat");function _Xe(t,e){for(;t.length<e;)t+=" ";return t}s(_Xe,"padStr");Lye(Kye);var BXe=!1;BXe&&pN(new l3);f();var Jye;(r=>{r.PlainText="plaintext";function e(n){return n}r.create=e,s(e,"create")})(Jye||={});f();f();f();function RXe(t){return t}s(RXe,"identity");var IN=class{constructor(e,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof e=="function"?(this._fn=e,this._computeKey=RXe):(this._fn=r,this._computeKey=e.getCacheKey)}static{s(this,"LRUCachedFunction")}get(e){let r=this._computeKey(e);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(e)),this.lastCache}};f();f();var u3=class{constructor(e){this.executor=e;this._didRun=!1}static{s(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};f();var F7r=String.fromCharCode(65279);var Xye=class t{static{s(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return t._INSTANCE||(t._INSTANCE=new t),t._INSTANCE}constructor(){this._data=kXe()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let r=this._data,n=r.length/3,o=1;for(;o<=n;)if(e<r[3*o])o=2*o;else if(e>r[3*o+1])o=2*o+1;else return r[3*o+2];return 0}};function kXe(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}s(kXe,"getGraphemeBreakRawData");var Zye=class t{constructor(e){this.confusableDictionary=e}static{s(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new u3(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new IN({getCacheKey:JSON.stringify},e=>{function r(A){let h=new Map;for(let p=0;p<A.length;p+=2)h.set(A[p],A[p+1]);return h}s(r,"arrayToMap");function n(A,h){let p=new Map(A);for(let[y,E]of h)p.set(y,E);return p}s(n,"mergeMaps");function o(A,h){if(!A)return h;let p=new Map;for(let[y,E]of A)h.has(y)&&p.set(y,E);return p}s(o,"intersectMaps");let a=this.ambiguousCharacterData.value,c=e.filter(A=>!A.startsWith("_")&&A in a);c.length===0&&(c=["_default"]);let l;for(let A of c){let h=r(a[A]);l=o(l,h)}let u=r(a._common),d=n(u,l);return new t(d)})}static getInstance(e){return t.cache.get(Array.from(e))}static{this._locales=new u3(()=>Object.keys(t.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")))}static getLocales(){return t._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},eCe=class t{static{s(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(t.getRawData())),this._data}static isInvisibleCharacter(e){return t.getData().has(e)}static containsInvisibleCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&t.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return t.getData()}};f();var f3=class t{constructor(e,r){this.start=e;this.endExclusive=r;if(e>r)throw new Fs(`Invalid range: ${this.toString()}`)}static{s(this,"OffsetRange")}static fromTo(e,r){return new t(e,r)}static addRange(e,r){let n=0;for(;n<r.length&&r[n].endExclusive<e.start;)n++;let o=n;for(;o<r.length&&r[o].start<=e.endExclusive;)o++;if(n===o)r.splice(n,0,e);else{let a=Math.min(e.start,r[n].start),c=Math.max(e.endExclusive,r[o-1].endExclusive);r.splice(n,o-n,new t(a,c))}}static tryCreate(e,r){if(!(e>r))return new t(e,r)}static ofLength(e){return new t(0,e)}static ofStartAndLength(e,r){return new t(e,e+r)}static emptyAt(e){return new t(e,e)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new t(this.start+e,this.endExclusive+e)}deltaStart(e){return new t(this.start+e,this.endExclusive)}deltaEnd(e){return new t(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new t(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(r<=n)return new t(r,n)}intersectionLength(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return Math.max(0,n-r)}intersects(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<n}intersectsOrTouches(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<=n}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Fs(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Fs(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}map(e){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.start;r<this.endExclusive;r++)e(r)}joinRightTouching(e){if(this.endExclusive!==e.start)throw new Fs(`Invalid join: ${this.toString()} and ${e.toString()}`);return new t(this.start,e.endExclusive)}};f();var Lh=class t{static{s(this,"Position")}constructor(e,r){this.lineNumber=e,this.column=r}with(e=this.lineNumber,r=this.column){return e===this.lineNumber&&r===this.column?this:new t(e,r)}delta(e=0,r=0){return this.with(this.lineNumber+e,this.column+r)}equals(e){return t.equals(this,e)}static equals(e,r){return!e&&!r?!0:!!e&&!!r&&e.lineNumber===r.lineNumber&&e.column===r.column}isBefore(e){return t.isBefore(this,e)}static isBefore(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<r.column}isBeforeOrEqual(e){return t.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<=r.column}static compare(e,r){let n=e.lineNumber|0,o=r.lineNumber|0;if(n===o){let a=e.column|0,c=r.column|0;return a-c}return n-o}clone(){return new t(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new t(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};f();var Cf=class t{static{s(this,"Range")}constructor(e,r,n,o){e>n||e===n&&r>o?(this.startLineNumber=n,this.startColumn=o,this.endLineNumber=e,this.endColumn=r):(this.startLineNumber=e,this.startColumn=r,this.endLineNumber=n,this.endColumn=o)}isEmpty(){return t.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return t.containsPosition(this,e)}static containsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<e.startColumn||r.lineNumber===e.endLineNumber&&r.column>e.endColumn)}static strictContainsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<=e.startColumn||r.lineNumber===e.endLineNumber&&r.column>=e.endColumn)}containsRange(e){return t.containsRange(this,e)}static containsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>e.endColumn)}strictContainsRange(e){return t.strictContainsRange(this,e)}static strictContainsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<=e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>=e.endColumn)}plusRange(e){return t.plusRange(this,e)}static plusRange(e,r){let n,o,a,c;return r.startLineNumber<e.startLineNumber?(n=r.startLineNumber,o=r.startColumn):r.startLineNumber===e.startLineNumber?(n=r.startLineNumber,o=Math.min(r.startColumn,e.startColumn)):(n=e.startLineNumber,o=e.startColumn),r.endLineNumber>e.endLineNumber?(a=r.endLineNumber,c=r.endColumn):r.endLineNumber===e.endLineNumber?(a=r.endLineNumber,c=Math.max(r.endColumn,e.endColumn)):(a=e.endLineNumber,c=e.endColumn),new t(n,o,a,c)}intersectRanges(e){return t.intersectRanges(this,e)}static intersectRanges(e,r){let n=e.startLineNumber,o=e.startColumn,a=e.endLineNumber,c=e.endColumn,l=r.startLineNumber,u=r.startColumn,d=r.endLineNumber,A=r.endColumn;return n<l?(n=l,o=u):n===l&&(o=Math.max(o,u)),a>d?(a=d,c=A):a===d&&(c=Math.min(c,A)),n>a||n===a&&o>c?null:new t(n,o,a,c)}equalsRange(e){return t.equalsRange(this,e)}static equalsRange(e,r){return!e&&!r?!0:!!e&&!!r&&e.startLineNumber===r.startLineNumber&&e.startColumn===r.startColumn&&e.endLineNumber===r.endLineNumber&&e.endColumn===r.endColumn}getEndPosition(){return t.getEndPosition(this)}static getEndPosition(e){return new Lh(e.endLineNumber,e.endColumn)}getStartPosition(){return t.getStartPosition(this)}static getStartPosition(e){return new Lh(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,r){return new t(this.startLineNumber,this.startColumn,e,r)}setStartPosition(e,r){return new t(e,r,this.endLineNumber,this.endColumn)}collapseToStart(){return t.collapseToStart(this)}static collapseToStart(e){return new t(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return t.collapseToEnd(this)}static collapseToEnd(e){return new t(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new t(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(e,r=e){return new t(e.lineNumber,e.column,r.lineNumber,r.column)}static lift(e){return e?new t(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<e.startColumn)}static areIntersecting(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<=r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,r){if(e&&r){let a=e.startLineNumber|0,c=r.startLineNumber|0;if(a===c){let l=e.startColumn|0,u=r.startColumn|0;if(l===u){let d=e.endLineNumber|0,A=r.endLineNumber|0;if(d===A){let h=e.endColumn|0,p=r.endColumn|0;return h-p}return d-A}return l-u}return a-c}return(e?1:0)-(r?1:0)}static compareRangesUsingEnds(e,r){return e.endLineNumber===r.endLineNumber?e.endColumn===r.endColumn?e.startLineNumber===r.startLineNumber?e.startColumn-r.startColumn:e.startLineNumber-r.startLineNumber:e.endColumn-r.endColumn:e.endLineNumber-r.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};f();f();var aE=class t{static{s(this,"LineRange")}static ofLength(e,r){return new t(e,e+r)}static fromRange(e){return new t(e.startLineNumber,e.endLineNumber)}static fromRangeInclusive(e){return new t(e.startLineNumber,e.endLineNumber+1)}static{this.compareByStart=pD(e=>e.startLineNumber,mD)}static subtract(e,r){return r?e.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(e.startLineNumber,r.startLineNumber),new t(r.endLineNumberExclusive,e.endLineNumberExclusive)]:r.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(Math.max(r.endLineNumberExclusive,e.startLineNumber),e.endLineNumberExclusive)]:[new t(e.startLineNumber,Math.min(r.startLineNumber,e.endLineNumberExclusive))]:[e]}static joinMany(e){if(e.length===0)return[];let r=new xN(e[0].slice());for(let n=1;n<e.length;n++)r=r.getUnion(new xN(e[n].slice()));return r.ranges}static join(e){if(e.length===0)throw new Fs("lineRanges cannot be empty");let r=e[0].startLineNumber,n=e[0].endLineNumberExclusive;for(let o=1;o<e.length;o++)r=Math.min(r,e[o].startLineNumber),n=Math.max(n,e[o].endLineNumberExclusive);return new t(r,n)}static deserialize(e){return new t(e[0],e[1])}constructor(e,r){if(e>r)throw new Fs(`startLineNumber ${e} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=e,this.endLineNumberExclusive=r}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}containsRange(e){return this.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new t(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new t(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new t(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){let r=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(r<=n)return new t(r,n)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}intersectsOrTouches(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new Cf(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new Cf(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)e(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}toOffsetRange(){return new f3(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(e){return this.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-this.endLineNumberExclusive:e.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-e.endLineNumberExclusive:0}distanceToLine(e){return this.contains(e)?0:e<this.startLineNumber?this.startLineNumber-e:e-this.endLineNumberExclusive}addMargin(e,r){return new t(this.startLineNumber-e,this.endLineNumberExclusive+r)}},xN=class t{constructor(e=[]){this._normalizedRanges=e}static{s(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;let r=AD(this._normalizedRanges,o=>o.endLineNumberExclusive>=e.startLineNumber),n=mv(this._normalizedRanges,o=>o.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,e);else if(r===n-1){let o=this._normalizedRanges[r];this._normalizedRanges[r]=o.join(e)}else{let o=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(r,n-r,o)}}contains(e){let r=TY(this._normalizedRanges,n=>n.startLineNumber<=e);return!!r&&r.endLineNumberExclusive>e}intersects(e){let r=TY(this._normalizedRanges,n=>n.startLineNumber<e.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;let r=[],n=0,o=0,a=null;for(;n<this._normalizedRanges.length||o<e._normalizedRanges.length;){let c=null;if(n<this._normalizedRanges.length&&o<e._normalizedRanges.length){let l=this._normalizedRanges[n],u=e._normalizedRanges[o];l.startLineNumber<u.startLineNumber?(c=l,n++):(c=u,o++)}else n<this._normalizedRanges.length?(c=this._normalizedRanges[n],n++):(c=e._normalizedRanges[o],o++);a===null?a=c:a.endLineNumberExclusive>=c.startLineNumber?a=new aE(a.startLineNumber,Math.max(a.endLineNumberExclusive,c.endLineNumberExclusive)):(r.push(a),a=c)}return a!==null&&r.push(a),new t(r)}subtractFrom(e){let r=AD(this._normalizedRanges,c=>c.endLineNumberExclusive>=e.startLineNumber),n=mv(this._normalizedRanges,c=>c.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)return new t([e]);let o=[],a=e.startLineNumber;for(let c=r;c<n;c++){let l=this._normalizedRanges[c];l.startLineNumber>a&&o.push(new aE(a,l.startLineNumber)),a=l.endLineNumberExclusive}return a<e.endLineNumberExclusive&&o.push(new aE(a,e.endLineNumberExclusive)),new t(o)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){let r=[],n=0,o=0;for(;n<this._normalizedRanges.length&&o<e._normalizedRanges.length;){let a=this._normalizedRanges[n],c=e._normalizedRanges[o],l=a.intersect(c);l&&!l.isEmpty&&r.push(l),a.endLineNumberExclusive<c.endLineNumberExclusive?n++:o++}return new t(r)}getWithDelta(e){return new t(this._normalizedRanges.map(r=>r.delta(e)))}};var X$=class t{constructor(e,r){this.lineCount=e;this.columnCount=r}static{s(this,"TextLength")}static{this.zero=new t(0,0)}static lengthDiffNonNegative(e,r){return r.isLessThan(e)?t.zero:e.lineCount===r.lineCount?new t(0,r.columnCount-e.columnCount):new t(r.lineCount-e.lineCount,r.columnCount)}static betweenPositions(e,r){return e.lineNumber===r.lineNumber?new t(0,r.column-e.column):new t(r.lineNumber-e.lineNumber,r.column-1)}static fromPosition(e){return new t(e.lineNumber-1,e.column-1)}static ofRange(e){return t.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let r=0,n=0;for(let o of e)o===`
`?(r++,n=0):n++;return new t(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(e){return this.lineCount!==e.lineCount?this.lineCount<e.lineCount:this.columnCount<e.columnCount}isGreaterThan(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>e.columnCount}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}equals(e){return this.lineCount===e.lineCount&&this.columnCount===e.columnCount}compare(e){return this.lineCount!==e.lineCount?this.lineCount-e.lineCount:this.columnCount-e.columnCount}add(e){return e.lineCount===0?new t(this.lineCount,this.columnCount+e.columnCount):new t(this.lineCount+e.lineCount,e.columnCount)}createRange(e){return this.lineCount===0?new Cf(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new Cf(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new Cf(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return aE.ofLength(1,this.lineCount)}addToPosition(e){return this.lineCount===0?new Lh(e.lineNumber,e.column+this.columnCount):new Lh(e.lineNumber+this.lineCount,this.columnCount+1)}addToRange(e){return Cf.fromPositions(this.addToPosition(e.getStartPosition()),this.addToPosition(e.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};f();f();f();var vN=class extends tl{static{s(this,"RecentEditsProvider")}};function DXe(t,e=!1,r=void 0,n){if(e&&(r===void 0||n===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let o=t.startLine-1,a=t.endLine-1;return!!(e&&(Math.abs(o-r)<=n||Math.abs(a-r)<=n))}s(DXe,"editIsTooCloseToCursor");var bN=s((t,e)=>{let[r,n]=e.useState();return e.useData(dc,async o=>{if(!o.document)return;let a=t.ctx.get(vN);if(a.isEnabled())a.start();else return;let c=a.config,l=a.getRecentEdits(),u=new Set,d=t.ctx.get(li),A=[];for(let p=l.length-1;p>=0&&!(A.length>=c.maxEdits);p--){let y=l[p];if(!await d.getTextDocument({uri:y.file}))continue;let E=!u.has(y.file);if(u.size+(E?1:0)>c.maxFiles)break;let w=y.file===o.document?.uri,_=w?o.position.line:void 0;if(DXe(y,w,_,c.activeDocDistanceLimitFromCursor))continue;let D=a.getEditSummary(y);if(D){u.add(y.file);let N=d.getRelativePath({uri:y.file});A.unshift(t3(`File: ${N}`)+t3(D))}}if(A.length===0){n(void 0);return}let h=t3("These are recently edited files. Do not suggest code that has been deleted.")+A.join("")+t3("End of recent edits");n(h)}),r?Gt(Gg,{children:Gt(Ho,{children:r})}):void 0},"RecentEdits");f();f();f();f();var tCe=new mn;function rCe(t){return[...t].sort((e,r)=>{let n=tCe.get(e.uri)??0;return(tCe.get(r.uri)??0)-n})}s(rCe,"sortByAccessTimes");var TN=class{constructor(e){this.docManager=e}static{s(this,"OpenTabFiles")}truncateDocs(e,r,n,o){let a=new Map,c=0;for(let l of e)if(!(c+l.getText().length>cE.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&Z$(n,l.detectedLanguageId)&&(a.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),c+=l.getText().length),a.size>=o))break;return a}async getNeighborFiles(e,r,n){let o=new Map,a=new Map;return o=this.truncateDocs(rCe(await this.docManager.textDocuments()),e,r,n),a.set("opentabs",Array.from(o.keys()).map(c=>c.toString())),{docs:o,neighborSource:a}}};f();f();function nCe(t,e,r){return async function(...n){return await Promise.race([t.apply(this,n),new Promise(o=>{setTimeout(o,e,r)})])}}s(nCe,"shortCircuit");f();function NXe(...t){return JSON.stringify(t,(e,r)=>typeof r=="object"?r:String(r))}s(NXe,"defaultHash");function ez(t,e={}){let{hash:r=NXe,cache:n=new Map}=e;return function(...o){let a=r.apply(this,o);if(n.has(a))return n.get(a);let c=t.apply(this,o);return c instanceof Promise&&(c=c.catch(l=>{throw n.delete(a),l})),n.set(a,c),c}}s(ez,"memoize");var _N={entries:new Map,traits:[]},tz=class extends mn{constructor(r,n=120*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{s(this,"PromiseExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let o=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),o}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.delete(r)}},nl=new jr("relatedFiles"),QXe=1e3,wN=class extends Error{static{s(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},rz=class t{constructor(e){this.context=e}static{s(this,"RelatedFilesProvider")}async getRelatedFiles(e,r,n){let o=await this.getRelatedFilesResponse(e,r,n);if(o===void 0)return;let a={entries:new Map,traits:o.traits??[]};for(let c of o.entries){let l=a.entries.get(c.type);l||(l=new Map,a.entries.set(c.type,l));for(let u of c.uris)try{nl.debug(this.context,`Processing ${u}`);let d=await this.getFileContent(u);if(!d||d.length==0){nl.debug(this.context,`Skip ${u} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(u,d)){nl.debug(this.context,`Skip ${u} due content exclusion.`);continue}d=t.dropBOM(d),l.set(u,d)}catch(d){nl.warn(this.context,d)}}return a}async getFileContent(e){try{return this.context.get(na).readFileString(e)}catch(r){nl.debug(this.context,r)}}async isContentExcluded(e,r){try{return(await this.context.get(Yd).evaluate(e,r)).isBlocked}catch(n){nl.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(e){return e.charCodeAt(0)===65279?e.slice(1):e}},PXe=3,iCe=new tz(QXe);async function oCe(t,e,r,n,o){let a=performance.now(),c;try{c=await o.getRelatedFiles(e,r,n)}catch(u){nl.exception(t,u,".getRelatedFiles"),c=void 0}c===void 0&&(iCe.bumpRetryCount(e.uri)>=PXe?c=_N:c=void 0);let l=performance.now()-a;if(nl.debug(t,c!==void 0?`Fetched ${[...c.entries.values()].map(u=>u.size).reduce((u,d)=>u+d,0)} related files for '${e.uri}' in ${l}ms.`:`Failing fetching files for '${e.uri}' in ${l}ms.`),c===void 0)throw new wN;return c}s(oCe,"getRelatedFiles");var nz=ez(oCe,{cache:iCe,hash:s((t,e,r,n,o)=>`${e.uri}`,"hash")});nz=nCe(nz,200,_N);async function sCe(t,e,r,n,o,a=!1){let c=t.get(rz),l=_N;try{let u={uri:e.uri,clientLanguageId:e.clientLanguageId,data:o};l=a?await oCe(t,u,r,n,c):await nz(t,u,r,n,c)}catch(u){l=_N,u instanceof wN&&ir(t,"getRelatedFilesList",r)}return nl.debug(t,l!=null?`Fetched following traits ${l.traits.map(u=>`{${u.name} : ${u.value}}`).join("")} for '${e.uri}'`:`Failing fecthing traits for '${e.uri}'.`),l}s(sCe,"getRelatedFilesAndTraits");function Z$(t,e){return bw(t)===bw(e)}s(Z$,"considerNeighborFile");var cE=class t{static{s(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){t.instance=void 0}static async getNeighborFilesAndTraits(e,r,n,o,a,c,l){let u=e.get(li);t.instance===void 0&&(t.instance=new TN(u));let d={...await t.instance.getNeighborFiles(r,n,t.MAX_NEIGHBOR_FILES),traits:[]};if(FXe(e,o))return d;let A=await u.getTextDocument({uri:r});if(!A)return nl.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),d;let h=u.getWorkspaceFolder(A);if(!h)return nl.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),d;let p=await sCe(e,A,o,a,c,l);return p.entries.size===0?(nl.debug(e,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),d.traits.push(...p.traits),d):(p.entries.forEach((y,E)=>{let v=[];y.forEach((w,_)=>{let S=t.getRelativePath(_,h.uri);if(!S||d.docs.has(_))return;let D={relativePath:S,uri:_,source:w};v.unshift(D),d.docs.set(_,D)}),v.length>0&&d.neighborSource.set(E,v.map(w=>w.uri.toString()))}),d.traits.push(...p.traits),d)}static basename(e){return decodeURIComponent(e.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(e,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return e.toString().startsWith(n)?e.toString().slice(n.length):t.basename(e)}};function FXe(t,e){return t.get(Sr).excludeRelatedFiles(e)||Zo(t,Ft.ExcludeRelatedFiles)}s(FXe,"isExcludeRelatedFilesActive");function aCe(t,e){return t.get(Sr).includeNeighboringFiles(e)||Zo(t,Ft.IncludeNeighboringFiles)}s(aCe,"isIncludeNeighborFilesActive");var SN=s((t,e)=>{let[r,n]=e.useState(),[o,a]=e.useState([]);e.useData(dc,async u=>{u.document.uri!==r?.uri&&a([]),n(u.document);let d=cE.defaultEmptyResult();u.turnOffSimilarFiles||(d=await cE.getNeighborFilesAndTraits(t.ctx,u.document.uri,u.document.detectedLanguageId,u.telemetryData,u.cancellationToken,u.data));let A=await c(u.telemetryData,u.document,u,d);a(A)});async function c(u,d,A,h){let p=Gv(t.ctx,u,d.detectedLanguageId);return(await l(p,u,d,A,h)).filter(E=>E.snippet.length>0).sort((E,v)=>E.score-v.score).map(E=>({...pye(E),score:E.score}))}s(c,"produceSimilarFiles");async function l(u,d,A,h,p){let y=u.similarFilesOptions||rN(t.ctx,d,A.detectedLanguageId),v=t.ctx.get(li).getRelativePath(A),w={uri:A.uri,source:A.getText(),offset:A.offsetAt(h.position),relativePath:v,languageId:A.detectedLanguageId};return await yye(w,Array.from(p.docs.values()),y)}return s(l,"findSimilarSnippets"),Gt(mf,{children:[...o.map((u,d)=>Gt(LXe,{snippet:u}))]})},"SimilarFiles"),LXe=s((t,e)=>Gt(Gg,{children:[Gt(Ho,{children:t.snippet.headline}),Gt(Ho,{children:t.snippet.snippet})]}),"SimilarFile");f();f();var BN=s((t,e)=>{let[r,n]=e.useState(),[o,a]=e.useState();if(e.useData(dc,c=>{c.traits!==r&&n(c.traits);let l=bw(c.document.detectedLanguageId);l!==o&&a(l)}),!(!r||r.length===0||!o))return Gt(mf,{children:[Gt(Ho,{children:`Consider this related information:
`}),...r.map(c=>Gt(Ho,{source:c,children:`${c.name}: ${c.value}`},c.id))]})},"Traits");function cCe(t){return Gt(mf,{children:[Gt(D$,{children:[Gt(fN,{ctx:t,weight:.7}),Gt(BN,{weight:.6}),Gt(iN,{ctx:t,weight:.9}),Gt(SN,{ctx:t,weight:.8})]}),Gt(bye,{weight:1}),Gt(N$,{children:Gt(bN,{ctx:t,weight:.99})}),Gt(vye,{weight:1})]})}s(cCe,"splitContextCompletionsPrompt");f();var lCe=0;function MXe(){lCe=0}s(MXe,"resetContextIndex");function OXe(){return lCe++}s(OXe,"getNextContextIndex");var RN=class extends Ov{constructor(){super(...arguments);this.formatPrefix=_ye;this.formatContext=wye}static{s(this,"SplitContextPromptRenderer")}processSnapshot(r,n){let o=[],a=[],c=[],l=!1;if(MXe(),new Mv(r,UXe).walkSnapshot((A,h,p)=>{if(A===r||(A.statistics.updateDataTimeMs&&A.statistics.updateDataTimeMs>0&&c.push({componentPath:A.path,updateDataTimeMs:A.statistics.updateDataTimeMs}),A.name===nE.name&&(l=!0),A.value===void 0||A.value===""))return!0;let y=p.chunks,E=p.type;if(E==="suffix")a.push({value:r3(A.value),type:"suffix",weight:p.weight,componentPath:A.path,nodeStatistics:A.statistics,chunks:y,source:p.source});else{let v=E==="prefix",w=v||A.value.endsWith(n)?A.value:A.value+n;o.push({type:v?"prefix":"context",value:r3(w),weight:p.weight,componentPath:A.path,nodeStatistics:A.statistics,chunks:y,source:p.source,index:v?void 0:p.index})}return!0}),!l)throw new Error(`Node of type ${nE.name} not found`);if(a.length>1)throw new Error("Only one suffix is allowed");let d=a.length===1?a[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:d,componentStatistics:c}}},UXe=[...M$,(t,e,r)=>oN(t)?{...r,index:OXe()}:r];f();function kN(t,e,r){let n=YD(r,"Trait");for(let a of n)HXe(t,e,a.data,a.providerId);return n.flatMap(a=>a.data).sort((a,c)=>(a.importance??0)-(c.importance??0))}s(kN,"getTraitsFromContextItems");function HXe(t,e,r,n){let o=t.get(nu).getStatisticsForCompletion(e);r.forEach(a=>{o.addExpectations(n,[[a,"included"]])})}s(HXe,"setupExpectationsForTraits");var qXe=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function DN(t,e,r,n,o,a){if(r.length>0){let c={};c.detectedLanguageId=n,c.languageId=o;for(let u of r){let d=qXe.get(u.name);d&&(c[d]=u.value)}let l=a.extendedBy(c,{});return ir(e,t,l)}}s(DN,"ReportTraitsTelemetry");f();f();f();var NN=class{constructor(e){this.states=e;this.currentIndex=0;this.stateChanged=!1}static{s(this,"UseState")}useState(e){let r=this.currentIndex;if(this.states[r]===void 0){let o=typeof e=="function"?e():e;this.states[r]=o}let n=s(o=>{let a=typeof o=="function"?o(this.states[r]):o;this.states[r]=a,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},QN=class{constructor(e){this.measureUpdateTime=e;this.consumers=[]}static{s(this,"UseData")}useData(e,r){this.consumers.push(n=>{if(e(n))return r(n)})}async updateData(e){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(e);this.measureUpdateTime(performance.now()-r)}}};var PN=class{constructor(e){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(e,"$",0)}static{s(this,"VirtualPromptReconciler")}reconcile(e){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return e?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,e),this.vTree)}reconcileNode(e,r,n,o){if(!e.children&&!e.lifecycle)return e;let a=e;if(e.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(e);a=this.virtualizeElement(e.component,r,n);let u=this.collectChildPaths(a);this.cleanupState(l,u)}else if(e.children){let l=[];for(let u=0;u<e.children.length;u++){let d=e.children[u];if(d){let A=this.reconcileNode(d,e.path,u,o);A!==void 0&&l.push(A)}}a.children=l}return a}virtualizeElement(e,r,n){if(!(typeof e>"u")){if(typeof e=="string"||typeof e=="number")return{name:typeof e,path:`${r}[${n}]`,props:{value:e},component:e};if(GXe(e.type)){let o=e.type(e.props.children),a=r!=="$"?`[${n}]`:"",c=`${r}${a}.${o.type}`,l=o.children.map((u,d)=>this.virtualizeElement(u,c,d));return this.ensureUniqueKeys(l),{name:o.type,path:c,children:l.flat().filter(u=>u!==void 0),component:e}}return this.virtualizeFunctionComponent(r,n,e,e.type)}}virtualizeFunctionComponent(e,r,n,o){let a=n.props.key?`["${n.props.key}"]`:`[${r}]`,c=`${e}${a}.${o.name}`,l=new oz(this.getOrCreateLifecycleData(c)),u=o(n.props,l),h=(Array.isArray(u)?u:[u]).map((p,y)=>this.virtualizeElement(p,c,y)).flat().filter(p=>p!==void 0);return this.ensureUniqueKeys(h),{name:o.name,path:c,props:n.props,children:h,component:n,lifecycle:l}}ensureUniqueKeys(e){let r=new Map;for(let o of e){if(!o)continue;let a=o.props?.key;a&&r.set(a,(r.get(a)||0)+1)}let n=Array.from(r.entries()).filter(([o,a])=>a>1).map(([o])=>o);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(e){let r=[];if(e?.children)for(let n of e.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(e,r){for(let n of e)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(e){return this.lifecycleData.has(e)||this.lifecycleData.set(e,new iz([])),this.lifecycleData.get(e)}createPipe(){return{pump:s(async e=>{await this.pumpData(e)},"pump")}}async pumpData(e){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(e,this.vTree)}async recursivelyPumpData(e,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(e);for(let n of r.children||[])await this.recursivelyPumpData(e,n)}},iz=class{static{s(this,"PromptElementLifecycleData")}constructor(e){this.state=e,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let e=this._updateTimeMs;return this._updateTimeMs=0,e}},oz=class{constructor(e){this.lifecycleData=e;this.stateHook=new NN(e.state),this.dataHook=new QN(r=>{e._updateTimeMs=r})}static{s(this,"PromptElementLifecycle")}useState(e){return this.stateHook.useState(e)}useData(e,r){this.dataHook.useData(e,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function GXe(t){return typeof t=="function"&&"isFragmentFunction"in t}s(GXe,"isFragmentFunction");var d3=class{static{s(this,"VirtualPrompt")}constructor(e){this.reconciler=new PN(e)}snapshotNode(e,r){if(!e)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let o of e.children??[]){let a=this.snapshotNode(o,r);if(a==="cancelled")return"cancelled";a!==void 0&&n.push(a)}return{value:e.props?.value?.toString(),name:e.name,path:e.path,props:e.props,children:n,statistics:{updateDataTimeMs:e.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(e){try{let r=this.reconciler.reconcile(e);if(e?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,e);return n==="cancelled"||e?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};function dc(t){if(!t||typeof t!="object")return!1;let e=t;return!(!e.document||!e.position||e.position.line===void 0||e.position.character===void 0||!e.telemetryData)}s(dc,"isCompletionRequestData");var sz={default:{promptFunction:uCe,renderer:Ov},splitContext:{promptFunction:cCe,renderer:RN}};function uCe(t){return Gt(mf,{children:[Gt(k$,{children:[Gt(fN,{ctx:t,weight:.7}),Gt(BN,{weight:.6}),Gt(iN,{ctx:t,weight:.9}),Gt(SN,{ctx:t,weight:.8}),Gt(bN,{ctx:t,weight:.99})]}),Gt(e3,{weight:1})]})}s(uCe,"defaultCompletionsPrompt");var FN=class{constructor(e,r,n){this.ctx=e;this.promptOrdering=n??"default",this.virtualPrompt=r??new d3(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe(),this.renderer=this.getRenderer()}static{s(this,"ComponentsCompletionsPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}async createPromptUnsafe({completionId:e,completionState:r,telemetryData:n,promptOpts:o},a){let{maxPromptLength:c,suffixPercent:l,suffixMatchThreshold:u}=Gv(this.ctx,n,r.textDocument.detectedLanguageId),d=await this.failFastPrompt(r.textDocument,r.position,l,a);if(d)return d;let A=o?.separateContext?"splitContext":"default";this.setPromptOrdering(A);let h=performance.now(),{traits:p,codeSnippets:y,turnOffSimilarFiles:E,resolvedContextItems:v}=await this.resolveContext(e,r,n,a,o);if(await this.updateComponentData(r.textDocument,r.position,p,y,n,E,c,a,o,u,o?.tokenizer),a?.isCancellationRequested)return Mh;let w=this.virtualPrompt.snapshot(a),_=w.status;if(_==="cancelled")return Mh;if(_==="error")return this.errorPrompt(w.error);let S=this.renderer.render(w.snapshot,{delimiter:`
`,tokenizer:o?.tokenizer,promptTokenLimit:c,suffixPercent:l,languageId:r.textDocument.detectedLanguageId},a);if(S.status==="cancelled")return Mh;if(S.status==="error")return this.errorPrompt(S.error);let[D,N]=A3(S.prefix),P={...S,prefix:D},O;if(Fv(this.ctx,n)){let ne=$D(S.metadata.componentStatistics);this.ctx.get(nu).getStatisticsForCompletion(e).computeMatch(ne),O=jD(this.ctx,e,v),Qo.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(O)}'`)}let $=performance.now();return this.resetIfEmpty(S),this.successPrompt(P,$,h,N,O)}async updateComponentData(e,r,n,o,a,c,l,u,d={},A,h){let p=this.createRequestData(e,r,a,u,d,l,n,o,c,A,h);await this.pipe.pump(p)}async resolveContext(e,r,n,o,a={}){let c=[],l,u,d=!1;if(Fv(this.ctx,n)){c=await this.ctx.get(rE).resolution(e);let{textDocument:A}=r,h=c.filter(KD);WXe(this.ctx,A.detectedLanguageId,h,n)||(d=!0),l=kN(this.ctx,e,h),DN("contextProvider.traits",this.ctx,l,A.detectedLanguageId,A.detectedLanguageId,n),u=await nN(this.ctx,e,h,A.detectedLanguageId)}return{traits:l,codeSnippets:u,turnOffSimilarFiles:d,resolvedContextItems:c}}async failFastPrompt(e,r,n,o){if(o?.isCancellationRequested)return Mh;if((await this.ctx.get(Yd).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return ON;if((n>0?e.getText().length:e.offsetAt(r))<LN)return MN}createRequestData(e,r,n,o,a,c,l,u,d,A,h){return{document:e,position:r,telemetryData:n,cancellationToken:o,data:a.data,traits:l,codeSnippets:u,turnOffSimilarFiles:d,suffixMatchThreshold:A,maxPromptTokens:c,tokenizer:h}}resetIfEmpty(e){e.prefix.length===0&&e.suffix.length===0&&this.reset()}successPrompt(e,r,n,o,a){return{type:"prompt",prompt:{prefix:e.prefix,prefixTokens:e.prefixTokens,suffix:e.suffix,suffixTokens:e.suffixTokens,context:e.context,isFimEnabled:e.suffix.length>0},computeTimeMs:r-n,trailingWs:o,neighborSource:new Map,metadata:e.metadata,contextProvidersTelemetry:a}}errorPrompt(e){return yd(this.ctx,e,"PromptComponents.CompletionsPromptFactory"),this.reset(),Vv}reset(){this.renderer=this.getRenderer(),this.virtualPrompt=new d3(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}setPromptOrdering(e){this.promptOrdering!==e&&(this.promptOrdering=e,this.reset())}completionsPrompt(){return(sz[this.promptOrdering]?.promptFunction??uCe)(this.ctx)}getRenderer(){let e=sz[this.promptOrdering]??sz.default;return new e.renderer}};function WXe(t,e,r,n){let o=["cpp","c"];return aCe(t,n)||o.includes(e)||!r.some(c=>c.data.some(l=>l.type==="CodeSnippet"))}s(WXe,"similarFilesEnabled");f();f();f();f();f();var az="[...]",YXe=0;function r0(){return YXe++}s(r0,"getAvailableNodeId");f();var Wv=class{static{s(this,"PriorityQueue")}constructor(e){if(this.heap=e?[...e]:[],this.heap.length>0)for(let r=Math.floor(this.heap.length/2)-1;r>=0;r--)this.siftDown(r)}get size(){return this.heap.length}insert(e,r){let n={item:e,priority:r};this.heap.push(n);let o=this.heap.length-1;this.siftUp(o)}peek(){return this.heap.length===0?null:this.heap[0]}pop(){if(this.heap.length===0)return null;let e=this.heap[0],r=this.heap.pop();return this.heap.length>0&&(this.heap[0]=r,this.siftDown(0)),e}clear(){let e=this.heap;return this.heap=[],e}siftUp(e){let r=this.heap[e];for(;e>0;){let n=Math.floor((e-1)/2);if(this.heap[n].priority>=r.priority)break;this.heap[e]=this.heap[n],e=n}this.heap[e]=r}siftDown(e){for(;e<this.size-1;){let r=e,n=2*e+1,o=n+1;if(n<this.size&&this.heap[n].priority>this.heap[r].priority&&(r=n),o<this.size&&this.heap[o].priority>this.heap[r].priority&&(r=o),r===e)break;let a=this.heap[e];this.heap[e]=this.heap[r],this.heap[r]=a,e=r}}};function $Xe(t){let e={id:t.id??r0(),text:t.text??new Array((t.children?.length??0)+1).fill(""),children:t.children??[],cost:t.cost??1,weight:t.weight??0,rectifiedWeight:t.rectifiedWeight,canMerge:t.canMerge??!1,elisionMarker:t.elisionMarker??az,requireRenderedChild:t.requireRenderedChild??!1};if(e.text.length!==e.children.length+1)throw new Error(`RenderNode text length (${e.text.length}) must be children length + 1 (${e.children.length+1})`);return e}s($Xe,"createRenderNode");function zXe(t){return t.requireRenderedChild||(t.rectifiedWeight??t.weight)>t.weight}s(zXe,"isRenderedChildRequired");function fCe(t){return(t.rectifiedWeight??t.weight)/Math.max(t.cost,1)}s(fCe,"rectifiedValue");function uz(t,e){let r=dCe(t,e);for(let{item:n,priority:o}of r.clear())for(let a of n.nodes)a.rectifiedWeight=o*Math.max(a.cost,1)}s(uz,"rectifyWeights");function dCe(t,e){let r=t.children.map(a=>dCe(a,e));if(t.weight=Math.max(0,e?e(t):t.weight),t.weight===0&&r.reduce((a,c)=>a+c.size,0)===0)return new Wv([]);let n=new Wv(r.flatMap(a=>a.clear())),o={nodes:[t],totalCost:t.cost,totalWeight:t.weight};for(;(n.peek()?.priority??0)>o.totalWeight/Math.max(o.totalCost,1);){let{item:a}=n.pop();o.nodes.push(...a.nodes),o.totalCost+=a.totalCost,o.totalWeight+=a.totalWeight}return n.insert(o,o.totalWeight/Math.max(o.totalCost,1)),n}s(dCe,"recursivelyRectifyWeights");function ACe(t,e={}){let{budget:r,mask:n,costFunction:o}=e,a=n??[],c=new Set(Array.isArray(a)?a:[a]);if((r??t.cost)<t.cost||c.has(t.id))return{text:t.elisionMarker,cost:o?o(t.elisionMarker):t.elisionMarker.length,renderedNodes:new Map};if(r===void 0){let h=s(w=>c.has(w.id),"elider"),p=[],y=new Map;if(lz(t,p,h,y),p.length===0)return cz(t,o);let E=p.join(""),v=o?o(E):[...y.values()].reduce((w,_)=>w+_.cost,0);return{text:E,cost:v,renderedNodes:y}}let l=new Map,u=[],d=new Wv([{item:t,priority:fCe(t)}]),A=r;for(;A>0&&d.size>0;){let{item:h}=d.pop();if(!c.has(h.id)&&h.cost<=A){A-=h.cost,l.set(h.id,h),u.push(h);for(let p of h.children)d.insert(p,fCe(p))}}for(;l.size>0;){let h=[],p=s(w=>!l.has(w.id),"elider"),y=new Map;if(lz(t,h,p,y),h.length===0)return cz(t,o);let E=h.join("");if(o===void 0){let w=[...y.values()].reduce((_,S)=>_+S.cost,0);return{text:E,cost:w,renderedNodes:y}}let v=o(E);if(v<=r)return{text:E,cost:v,renderedNodes:y};for(l=y;u.length>0&&v>r;){let w=u.pop();l.has(w.id)&&(v-=w.cost,l.delete(w.id))}if(u.length===0)break}return cz(t,o)}s(ACe,"render");function cz(t,e){return{text:t.elisionMarker,cost:e?e(t.elisionMarker):t.elisionMarker.length,renderedNodes:new Map}}s(cz,"renderEmpty");function lz(t,e,r,n,o=!1){let a=e.length;if(r(t))return a>=2&&(o||e[a-2]===t.elisionMarker&&e[a-1].trim().length===0)?(e.pop(),!1):(e.push(t.elisionMarker),!1);let c=zXe(t),l=!0;for(let[u,d]of t.children.entries())e.push(t.text[u]??""),l=lz(d,e,r,n,d.canMerge&&!l),c&&=!l;if(c){for(;e.length>a;)e.pop();return!1}return e.push(t.text[t.text.length-1]??""),n.set(t.id,t),!0}s(lz,"recursivelyRender");function fz(t,e,r=az){let n=t.children.map(c=>fz(c,e,r));r=t.elisionMarker??r;let o=e(t);return $Xe({...t,children:n,cost:o,weight:0,elisionMarker:t.elisionMarker??r})}s(fz,"snapshot");var Yg={id:r0(),text:[""],children:[],cost:0,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!1};f();function Yv(t,e,r){let n=t.get(e);return n===void 0&&(n=r(e),t.set(e,n)),n}s(Yv,"setDefault");var gCe=2e4,hCe=0,pCe=new mn;function yCe(t,e,r,n){hCe++;let o=r.promptOpts?.tokenizer??"o200k_base",a=performance.now(),{root:c,mask:l,statistics:u}=t.snapshot(r,n),d=performance.now(),A=new Set(l),h=pCe?.get(c.id),p;if(h&&h.budget>=e&&h.render.cost<=e&&h.tokenizer===o&&A.size===h.mask.size&&[...A].every(S=>h.mask.has(S)))p=h.render;else{let S=Zl(o);p=ACe(c,{budget:e,mask:l,costFunction:s(N=>S.tokenLength(N),"costFunction")}),pCe.set(c.id,{budget:e,mask:A,tokenizer:o,render:p})}let{text:y,cost:E,renderedNodes:v}=p,w=performance.now();for(let[S,D]of u?.entries()??[])D.actualTokens=v.get(S)?.cost??0;let _={renderId:hCe,rendererName:"renderNode",tokenizer:o,elisionTimeMs:w-d,renderTimeMs:d-a,updateDataTimeMs:0,componentStatistics:[{componentPath:t.name,actualTokens:E}]};return{root:c,renderedNodes:v,text:y,cost:E,metadata:_}}s(yCe,"renderWithMetadata");function CCe(t,e){return r=>{let n=r.text.join("")+`
`;return Yv(e,n,()=>t.tokenLength(n)+1)}}s(CCe,"cachedLineCostFunction");function ECe(t,e,r){let o=t.split(`
`).map(A=>({id:r0(),text:[A],children:[],canMerge:!0})),a=[""];o.length>=1&&a.push(...Array(o.length-1).fill(`
`),"");let c={id:r0(),text:a,children:o,canMerge:!0},u=fz(c,s(A=>A.id===c.id?0:e(A),"nodeCostFunction")),d=r?o.length:1;for(let A of u.children)A.weight=d*Math.max(1,A.cost),d+=r?-1:1;return u}s(ECe,"getLinewiseNode");var UN=class{constructor(){this.name="basicPrefix";this.costCache=new mn(gCe)}static{s(this,"BasicPrefixComponent")}snapshot(e){let{completionState:r,promptOpts:n}=e,o=r.textDocument.getText({start:{line:0,character:0},end:r.position}),a=Zl(n?.tokenizer),c=CCe(a,this.costCache);return{root:ECe(o,c,!1)}}},mCe={root:Yg,text:"",cost:0},HN=class{constructor(e){this.ctx=e;this.name="cachedSuffix";this.cache=new mn(5);this.costCache=new mn(gCe)}static{s(this,"CachedSuffixComponent")}snapshot(e){return{root:this.getCachedSuffix(e).root}}estimatedCost(e,r){return this.getCachedSuffix(e).cost}getCachedSuffix(e){let{completionState:r,telemetryData:n,promptOpts:o}=e,c=r.textDocument.getText({start:r.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}}).replace(/^.*/,"").trimStart();if(c==="")return mCe;let l=this.cache.get(r.textDocument.uri)||mCe;if(l.text===c)return l;let u=this.ctx.get(Sr).suffixMatchThreshold(n);if(l.text!==""){let y=new ev,E=y.takeFirstTokens(c,Zw);if(E.tokens.length>0&&100*sN(E.tokens,y.takeFirstTokens(l.text,Zw).tokens)?.score<u*E.tokens.length)return l}let d=Zl(o?.tokenizer),A=CCe(d,this.costCache),h=ECe(c,A,!0),p=h.children.reduce((y,E)=>y+E.cost+1,0);return{root:h,cost:p,text:c}}},qN=class{constructor(){this.name="traitProvider"}static{s(this,"TraitComponent")}snapshot(e,r){let{promptOpts:n}=e,o=Zl(n?.tokenizer);if(!r||r.traits.length===0)return{root:Yg};let a=new Map,c=0,l=[],u=new Map;for(let p of r.traits){let y=r0(),E=`${p.name}: ${p.value}`,v={id:y,text:[E],children:[],cost:o.tokenLength(E),weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0};l.push(v),u.set(y,{componentPath:p.id,source:p,expectedTokens:v.cost}),a.set(y,p.importance??0),c+=p.importance??0}c=Math.max(c,1);let A=[`Related context:
`,...new Array(l.length).fill(`
`)],h={id:r0(),text:A,children:l,cost:0,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0};return uz(h,p=>(a.get(p.id)??0)/c),{root:h,statistics:u}}},GN=class{constructor(e){this.ctx=e;this.name="contextProvider"}static{s(this,"CodeSnippetComponent")}snapshot(e,r){let{promptOpts:n}=e,o=Zl(n?.tokenizer);if(!r||r.codeSnippets.length===0)return{root:Yg};let a=new Map;for(let y of r.codeSnippets){let E=y.uri;Yv(a,E,()=>[]).push(y)}let c=new Map,l=[],u=new Map,d=0,A=this.ctx.get(li);for(let[y,E]of a.entries()){let v=A.getRelativePath({uri:y})??y,_=[`Compare ${E.length>1?"these snippets":"this snippet"} from ${v}:
`,...new Array(E.length).fill(`
`)],S=[];for(let D of E){let N=r0();u.set(N,D.importance??0);let P={id:N,text:[D.value],children:[],cost:o.tokenLength(D.value),weight:D.importance??0,elisionMarker:"",canMerge:!0,requireRenderedChild:!1};S.push(P),d+=D.importance??0,c.set(N,{componentPath:D.id,source:D,expectedTokens:P.cost})}l.push({id:r0(),text:_,children:S,cost:o.tokenLength(_.join("")),weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0})}d=Math.max(d,1);let h=new Array(l.length+1).fill(""),p={id:r0(),text:h,children:l,cost:0,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0};return uz(p,y=>(u.get(y.id)??0)/d),{root:p,statistics:c}}},VN=class{constructor(e,r){this.name=e;this.components=r}static{s(this,"ConcatenatedContextComponent")}snapshot(e,r){let n=this.components.map(d=>d.snapshot(e,r)),o=n.map(d=>d.root).filter(d=>d.id!==Yg.id);if(o.length===0)return{root:Yg};let a=["",...Array(o.length-1).fill(`
`),""],c={id:r0(),text:a,children:o,cost:0,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!1},l=[],u=new Map;for(let d of n){for(let[A,h]of d.statistics?.entries()??[])u.set(A,h);d.mask&&l.push(...d.mask)}return{root:c,mask:l,statistics:u}}};var jXe=.8,WN=class{constructor(e,r){this.ctx=e;this.components=r;this.renderId=0}static{s(this,"CascadingPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}getComponentAllocation(e){let r=this.ctx.get(Sr).suffixPercent(e),n=this.ctx.get(Sr).stableContextPercent(e),o=this.ctx.get(Sr).volatileContextPercent(e);if(r<0||r>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${r}`);if(n<0||n>100)throw new Error(`stableContextPercent must be between 0 and 100, but was ${n}`);if(o<0||o>100)throw new Error(`volatileContextPercent must be between 0 and 100, but was ${o}`);let a=100-r-n-o;if(a<=1||a>100)throw new Error(`prefixPercent must be between 1 and 100, but was ${a}`);return{prefix:a/100,suffix:r/100,stableContext:n/100,volatileContext:o/100}}async createPromptUnsafe(e,r){this.renderId++;let{completionId:n,completionState:o,telemetryData:a,promptOpts:c}=e,l=await this.failFastPrompt(o.textDocument,r);if(l)return l;let u=performance.now(),d;Fv(this.ctx,a)&&(d=await this.resolveContext(n,o,a,r));let A=performance.now()-u,h={},p={renderId:this.renderId,rendererName:"w",tokenizer:c?.tokenizer??"o200k_base",elisionTimeMs:0,renderTimeMs:0,updateDataTimeMs:A,componentStatistics:[]},y=o.textDocument.detectedLanguageId,{maxPromptLength:E}=Gv(this.ctx,a,y),v=this.getComponentAllocation(a),w=v.suffix*E,_=this.components.suffix.estimatedCost?.(e,d),S=["stableContext","volatileContext","prefix","suffix"];w>jXe*(_??0)&&(S=["stableContext","volatileContext","suffix","prefix"]);let D=0;for(let Ae of S){let Y=D+E*v[Ae],K=yCe(this.components[Ae],Y,e,d);D=Y-K.cost,h[Ae]=K,KXe(p,K.metadata)}let[N,P]=A3(h.prefix.text),O=performance.now(),$=Fv(this.ctx,a)?this.telemetrizeContext(n,p.componentStatistics,d?.resolvedContextItems??[]):[],ne=[h.stableContext.text.trim(),h.volatileContext.text.trim()];return{type:"prompt",prompt:{prefix:c?.separateContext?N:Fh(ne.join(`
`),y)+`

`+N,prefixTokens:h.prefix.cost+h.stableContext.cost+h.volatileContext.cost,suffix:h.suffix.text,suffixTokens:h.suffix.cost,context:c?.separateContext?ne:void 0,isFimEnabled:h.suffix.text.length>0},computeTimeMs:O-u,trailingWs:P,neighborSource:new Map,metadata:p,contextProvidersTelemetry:$}}async resolveContext(e,r,n,o){let a=await this.ctx.get(rE).resolution(e),{textDocument:c}=r,l=a.filter(KD),u=kN(this.ctx,e,l);DN("contextProvider.traits",this.ctx,u,c.detectedLanguageId,c.detectedLanguageId,n);let d=await nN(this.ctx,e,l,c.detectedLanguageId);return{traits:u,codeSnippets:d,resolvedContextItems:a}}telemetrizeContext(e,r,n){let o=$D(r);this.ctx.get(nu).getStatisticsForCompletion(e).computeMatch(o);let a=jD(this.ctx,e,n);return Qo.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(a)}'`),a}async failFastPrompt(e,r){if(r?.isCancellationRequested)return Mh;if((await this.ctx.get(Yd).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return ON;if(e.getText().length<LN)return MN}errorPrompt(e){return yd(this.ctx,e,"WorkspaceContextPromptFactory"),Vv}};function KXe(t,e){t.elisionTimeMs+=e.elisionTimeMs,t.renderTimeMs+=e.renderTimeMs,t.updateDataTimeMs+=e.updateDataTimeMs,t.componentStatistics.push(...e.componentStatistics)}s(KXe,"aggregateMetadata");f();f();f();var JXe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function XXe(t){return JXe.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}s(XXe,"isOomError");function ICe(t,e,r,n=Qo){if(!Tm(e)){if(e instanceof Error){let o=e;XXe(o)?t.get(Rs).setWarning("Out of memory"):o.code==="EMFILE"||o.code==="ENFILE"?t.get(Rs).setWarning("Too many open files"):o.code==="CopilotPromptLoadFailure"?t.get(Rs).setWarning("Corrupted Copilot installation"):`${o.code}`.startsWith("CopilotPromptWorkerExit")?t.get(Rs).setWarning("Worker unexpectedly exited"):o.syscall==="uv_cwd"&&o.code==="ENOENT"&&t.get(Rs).setWarning("Current working directory does not exist")}n.exception(t,e,r)}}s(ICe,"handleException");var xCe=Et(require("events"));var ZXe={UpdateInterval:500,InvalidCacheTime:1e3*60*10,StaleWeightHalflife:1e3*10,MinNodeSize:100,Laziness:.5,MaxActiveFiles:20,MaxActiveNodes:2e3},$g=class t{constructor(e){this.ctx=e;this.didDispose=!1;this.deferredStart=new tE;this.config=ZXe;this.emitter=new xCe.default;this.client=void 0;this.flushUpdatesPromise=void 0;this.nextRequest={};this.lastEvent=void 0;this.emitter.setMaxListeners(27)}static{s(this,"WorkspaceContextFeature")}static{this.UpdateEventName="WorkspaceContextUpdate"}static{this.DisposeEventName="WorkspaceContextDispose"}get didStart(){return this.client!==void 0}async maybeStart(e,r){if(this.didStart||this.didDispose)return;let n=Zo(this.ctx,Ft.UseWorkspaceContextCoordinator);if(n===void 0&&r){let o=await this.ctx.get(Sr).updateExPValuesAndAssignments(r);n=this.isEnabled(o)}n&&this.start(e)}isActive(){return this.didStart&&!this.didDispose&&this.client!==void 0&&this.client.isActive()}get activation(){return this.deferredStart.promise}isEnabled(e){return Zo(this.ctx,Ft.UseWorkspaceContextCoordinator)??this.ctx.get(Sr).workspaceContextCoordinator(e)}start(e){!this.didStart&&!this.didDispose&&(this.client=e,this.fileChangeDisposable=this.ctx.get(li).onDidChangeTextDocument(r=>{this.nextRequest.changedFiles===void 0&&(this.nextRequest.changedFiles=[]),this.nextRequest.changedFiles.push(r.document.uri)}),this.deferredStart.resolve(),this.loop())}dispose(){this.isActive()&&(this.didDispose=!0,this.emitter.emit(t.DisposeEventName),this.fileChangeDisposable?.dispose(),this.client?.exit())}pushWorkspaceContext(e,r){this.nextRequest.sources={...this.nextRequest.sources,[e]:r}}recordWorkspaceContextActivity(e,r,n){this.nextRequest.recentActivity===void 0&&(this.nextRequest.recentActivity=[]),this.nextRequest.recentActivity.push({sourceId:e,locations:r,timestamp:n})}getLastEvent(){return this.lastEvent}onUpdate(e){return this.emitter.on(t.UpdateEventName,e),Uo.Disposable.create(()=>this.emitter.off(t.UpdateEventName,e))}onDisposal(e){return this.emitter.on(t.DisposeEventName,e),Uo.Disposable.create(()=>this.emitter.off(t.DisposeEventName,e))}setContextLanguages(e){this.nextRequest.languages=e}async loop(){try{for(;this.isActive();){let e=this.nextRequest;this.nextRequest={},this.lastEvent=await this.client.updateContext(e),this.emitter.emit(t.UpdateEventName,this.lastEvent),await kv(this.config.UpdateInterval)}}catch(e){ICe(this.ctx,e,"WorkspaceContextFeature.loop"),this.dispose()}}};function vCe(t,e){let r=$A(t,e,"event.WorkspaceContextUpdate");return t.get($g).onUpdate(r)}s(vCe,"onWorkspaceContextUpdate");f();var YN=class{constructor(e){this.ctx=e;this.name="workspaceContext";this.documents=new Map;this.root=Yg;this.disposables=[];this.rootWithPathCache=new mn;this.disposables.push(vCe(e,r=>{(this.nextUpdateTime===void 0||performance.now()>=this.nextUpdateTime)&&setTimeout(()=>{this.update(r)},0)}))}static{s(this,"WorkspaceContextPromptComponent")}snapshot(e){let{completionState:r,telemetryData:n}=e;this.nextUpdateTime=this.lastUpdateTime!==void 0?this.lastUpdateTime+this.ctx.get(Sr).workspaceContextCacheTime(n):performance.now();let o=Yv(this.rootWithPathCache,r.textDocument.uri,()=>{let c=this.getPathMarker(r);return{id:r0(),text:[`${c}
`,""],children:[this.root],cost:1,weight:1,elisionMarker:"",canMerge:!0,requireRenderedChild:!1}}),a=this.getMask(r.textDocument.uri);return{root:o,mask:a}}getRoot(){return this.root}getMask(e){let r=this.documents.get(e);return r===void 0?[]:[r.id]}getPathMarker(e){let r=e.textDocument,n=this.ctx.get(li),o=n.getRelativePath(e.textDocument),a={uri:r.uri,source:"",relativePath:o,languageId:r.detectedLanguageId},c=n.findNotebook(r);return a.relativePath&&!c?Fh(uN(a),a.languageId):Fh(lN(a),a.languageId)}update(e){this.rootWithPathCache.clear(),this.documents.clear();for(let[r,n]of Object.entries(e.documents)){let o=this.createAnnotatedDocumentRoot(r,n);n.requireRenderedChild=n.children.length>0,this.documents.set(r,o)}this.root=this.createRootNode(),this.lastUpdateTime=performance.now()}createRootNode(){let e=new Array(this.documents.size+1).fill(""),r=[...this.documents.values()];return{id:r0(),text:e,children:r,cost:1,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0}}createAnnotatedDocumentRoot(e,r){let n=xD({uri:e,languageId:"UNKNOWN"}),o=this.getDocumentAnnotation(e,n);return{id:r0(),text:[o,`

`],children:[r],cost:1,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0}}getDocumentAnnotation(e,r){let o=this.ctx.get(li).getRelativePath({uri:e});return Fh(`Related portions of ${o??e}:
`,r)}dispose(){for(let e of this.disposables)e.dispose();this.disposables=[]}};f();f();f();var $N=class extends WN{static{s(this,"WorkspaceContextPromptFactory")}constructor(e){let r={stableContext:new YN(e),prefix:new UN,suffix:new HN(e),volatileContext:new VN("volatileContext",[new qN,new GN(e)])};super(e,r)}};var bCe=Et(ya());var $v=class{static{s(this,"CompletionsPromptFactory")}};function TCe(t,e,r){return new dz(new Az(new hz(t,new FN(t,e,r),new $N(t),tZe)))}s(TCe,"createCompletionsPromptFactory");var dz=class extends $v{constructor(r){super();this.delegate=r}static{s(this,"SequentialCompletionsPromptFactory")}async prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return Mh;try{return await this.delegate.prompt(r,n)}catch{return Vv}}},eZe=1200,Az=class{constructor(e){this.delegate=e}static{s(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(e,r){let n=new bCe.CancellationTokenSource,o=n.token;return r?.onCancellationRequested(()=>{n.cancel()}),await Promise.race([this.delegate.prompt(e,o),new Promise(a=>{setTimeout(()=>{n.cancel(),a(_Ce)},eZe)})])}},hz=class{constructor(e,r,n,o){this.ctx=e;this.defaultDelegate=r;this.experimentalDelegate=n;this.fn=o}static{s(this,"ExperimentalCompletionsPromptFactory")}async prompt(e,r){return this.fn(this.ctx,e.telemetryData)?this.experimentalDelegate.prompt(e,r):this.defaultDelegate.prompt(e,r)}};function tZe(t,e){let r=t.get($g);return r.isEnabled(e)&&r.isActive()}s(tZe,"workspaceContextEnabledAndActive");var LN=10,MN={type:"contextTooShort"},ON={type:"copilotContentExclusion"},Vv={type:"promptError"},Mh={type:"promptCancelled"},_Ce={type:"promptTimeout"};function A3(t){let e=t.split(`
`),r=e[e.length-1],n=r.length-r.trimEnd().length,o=t.slice(0,t.length-n),a=t.slice(o.length);return[r.length==n?o:t,a]}s(A3,"trimLastLine");function Gv(t,e,r){let o=t.get(Sr).maxPromptCompletionTokens(e)-WD(t),a=Iye(e,r),c=rN(t,e,r),l=t.get(Sr).suffixPercent(e),u=t.get(Sr).suffixMatchThreshold(e);if(l<0||l>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${l}`);if(u<0||u>100)throw new Error(`suffixMatchThreshold must be between 0 and 100, but was ${u}`);return{maxPromptLength:o,similarFilesOptions:c,numberOfSnippets:a,suffixPercent:l,suffixMatchThreshold:u}}s(Gv,"getPromptOptions");f();f();var wCe=2.98410452738298,SCe=-.838732736843507,BCe=1.50314646255716,RCe=-.237798634012662,kCe={python:.314368072478742},DCe={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var rZe={link:s(t=>Math.exp(t)/(1+Math.exp(t)),"link"),unlink:s(t=>Math.log(t/(1-t)),"unlink")};function nZe(t,e){let r=Math.min(...Array.from(e.keys()).filter(c=>c>=t)),n=Math.max(...Array.from(e.keys()).filter(c=>c<t)),o=e.get(r),a=e.get(n);return a+(o-a)*(t-n)/(r-n)}s(nZe,"linearInterpolation");var zv=class{static{s(this,"Regressor")}constructor(e,r,n){this.name=e,this.coefficient=r,this.transformation=n||(o=>o)}contribution(e){return this.coefficient*this.transformation(e)}},pz=class{constructor(e,r,n){this.link=rZe;if(this.intercept=e,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let o in n)this.logitsToQuantiles.set(n[o],Number(o))}static{s(this,"LogisticRegression")}predict(e,r){let n=this.intercept;for(let o of this.coefficients){let a=r[o.name];if(a===void 0)return NaN;n+=o.contribution(a)}return this.link.link(n)}quantile(e,r){let n=this.predict(e,r);return nZe(n,this.logitsToQuantiles)}},FLr=new pz(wCe,[new zv("compCharLen",SCe,t=>Math.log(1+t)),new zv("meanLogProb",BCe),new zv("meanAlternativeLogProb",RCe)].concat(Object.entries(kCe).map(t=>new zv(t[0],t[1]))),DCe);f();f();var oZe=Et(HT());var aOr=new jr("ghostText");var h3=class t{constructor(e=!1){this.requestMultilineOverride=e}static{s(this,"ForceMultiLine")}static{this.default=new t}};var jv=class{constructor(){this.choices=[]}static{s(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(e,r,n,o){o!==2&&(this.prefix=e,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(e,r){let n=this.getRemainingPrefix(e,r);if(n!==void 0&&NCe(this.choices[0].completionText,n))return sZe(this.choices,n)}hasAcceptedCurrentCompletion(e,r){let n=this.getRemainingPrefix(e,r);if(n===void 0)return!1;let o=n===this.choices?.[0].completionText,a=this.choices?.[0].finishReason;return o&&a==="stop"}getRemainingPrefix(e,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&e.startsWith(this.prefix))return e.substring(this.prefix.length)}};function sZe(t,e){return t.filter(r=>NCe(r.completionText,e)).map(r=>({...r,completionText:r.completionText.substring(e.length)}))}s(sZe,"adjustChoicesStart");function NCe(t,e){return t.startsWith(e)&&t.length>e.length}s(NCe,"startsWithAndExceeds");f();f();f();f();f();f();f();f();f();f();f();var QCe="code-referencing";var jd=new jr(QCe);var aZe=3e3,mz=2,PCe=256,FCe=Math.log(PCe)/Math.log(mz)/mz,Ef={connection:"disabled",maxAttempts:FCe,retryAttempts:0,initialWait:!1},zN,jN=[];function cZe(){if(zN)return zN;function t(_){return jN.push(_),()=>{let S=jN.indexOf(_);S!==-1&&jN.splice(S,1)}}s(t,"subscribe");function e(){for(let _ of jN)_()}s(e,"afterUpdateConnection");function r(_){Ef.connection!==_&&(Ef.connection=_,e())}s(r,"updateConnection");function n(){return Ef.connection==="connected"}s(n,"isConnected");function o(){return Ef.connection==="disconnected"}s(o,"isDisconnected");function a(){return Ef.connection==="retry"}s(a,"isRetrying");function c(){return Ef.connection==="disabled"}s(c,"isDisabled");function l(){r("connected"),h(!1)}s(l,"setConnected");function u(){r("disconnected")}s(u,"setDisconnected");function d(){r("retry")}s(d,"setRetrying");function A(){r("disabled")}s(A,"setDisabled");function h(_){Ef.initialWait!==_&&(Ef.initialWait=_)}s(h,"setInitialWait");function p(_,S=aZe){a()||(d(),h(!0),E(_,S))}s(p,"enableRetry");function y(){return Ef.initialWait}s(y,"isInitialWait");async function E(_,S){jd.info(_,`Attempting to reconnect in ${S}ms.`),await v(S),h(!1);let D=_.get(ps);function N(P,O){if(P>PCe){jd.info(O,"Max retry time reached, disabling."),A();return}let $=s(async()=>{Ef.retryAttempts=Math.min(Ef.retryAttempts+1,FCe);try{jd.info(O,`Pinging service after ${P} second(s)`);let ne=await D.fetch(new URL("_ping",m6(O)["origin-tracker"]).href,{method:"GET",headers:{"content-type":"application/json"}});if(ne.status!==200||!ne.ok)N(P**2,O);else{jd.info(O,"Successfully reconnected."),l();return}}catch{N(P**2,O)}},"tryAgain");setTimeout(()=>void $(),P*1e3)}s(N,"succeedOrRetry"),jd.info(_,"Attempting to reconnect."),N(mz,_)}s(E,"attemptToPing");let v=s(_=>new Promise(S=>setTimeout(S,_)),"timeout");function w(_){return{dispose:t(_)}}return s(w,"listen"),zN={setConnected:l,setDisconnected:u,setRetrying:d,setDisabled:A,enableRetry:p,listen:w,isConnected:n,isDisconnected:o,isRetrying:a,isDisabled:c,isInitialWait:y},zN}s(cZe,"registerConnectionState");var lZe=cZe();f();var KN={BadArguments:"BadArgumentsError",Unauthorized:"NotAuthorized",NotFound:"NotFoundError",RateLimit:"RateLimitError",InternalError:"InternalError",ConnectionError:"ConnectionError",Unknown:"UnknownError"},uZe={[KN.Unauthorized]:"Invalid GitHub token. Please sign out from your GitHub account using VSCode UI and try again",[KN.InternalError]:"Internal error: matches to public code will not be detected. It is advised to disable Copilot completions until the service is reconnected.",[KN.RateLimit]:"You've reached your quota and limit, code matching will be unavailable until the limit resets"};f();var fZe=/^[1-6][0-9][0-9]$/,dZe=/([A-Z][a-z]+)/,AZe="code_referencing",p3=class{constructor(e){this.baseKey=e}static{s(this,"CodeQuoteTelemetry")}buildKey(...e){return[AZe,this.baseKey,...e].join(".")}},gz=class extends p3{static{s(this,"CopilotOutputLogTelemetry")}constructor(){super("github_copilot_log")}handleOpen({context:e}){let r=this.buildKey("open","count"),n=nn.createAndMarkAsIssued();ir(e,r,n)}handleFocus({context:e}){let r=nn.createAndMarkAsIssued(),n=this.buildKey("focus","count");ir(e,n,r)}handleWrite({context:e}){let r=nn.createAndMarkAsIssued(),n=this.buildKey("write","count");ir(e,n,r)}},WOr=new gz,yz=class extends p3{static{s(this,"MatchNotificationTelemetry")}constructor(){super("match_notification")}handleDoAction({context:e,actor:r}){let n=nn.createAndMarkAsIssued({actor:r}),o=this.buildKey("acknowledge","count");ir(e,o,n)}handleDismiss({context:e,actor:r}){let n=nn.createAndMarkAsIssued({actor:r}),o=this.buildKey("ignore","count");ir(e,o,n)}},YOr=new yz,Cz=class extends p3{static{s(this,"SnippyTelemetry")}constructor(){super("snippy")}handleUnexpectedError({context:e,origin:r,reason:n}){let o=nn.createAndMarkAsIssued({origin:r,reason:n});zA(e,this.buildKey("unexpectedError"),o)}handleCompletionMissing({context:e,origin:r,reason:n}){let o=nn.createAndMarkAsIssued({origin:r,reason:n});zA(e,this.buildKey("completionMissing"),o)}handleSnippyNetworkError({context:e,origin:r,reason:n,message:o}){if(!r.match(fZe)){jd.debug(e,"Invalid status code, not sending telemetry",{origin:r});return}let a=n.split(dZe).filter(l=>!!l).join("_").toLowerCase(),c=nn.createAndMarkAsIssued({message:o});zA(e,this.buildKey(a,r),c)}},LCe=new Cz;f();var Ez=ee.Object({kind:ee.Literal("failure"),reason:ee.String(),code:ee.Number(),msg:ee.String(),meta:ee.Optional(ee.Any())}),pZe=ee.Object({matched_source:ee.String(),occurrences:ee.String(),capped:ee.Boolean(),cursor:ee.String(),github_url:ee.String()}),mZe=ee.Object({source:ee.String()}),gZe=ee.Object({snippets:ee.Array(pZe)}),yZe=ee.Union([gZe,Ez]),CZe=ee.Object({cursor:ee.String()}),EZe=ee.Object({commit_id:ee.String(),license:ee.String(),nwo:ee.String(),path:ee.String(),url:ee.String()}),IZe=ee.Object({has_next_page:ee.Boolean(),cursor:ee.String()}),xZe=ee.Object({count:ee.Record(ee.String(),ee.String())}),vZe=ee.Object({file_matches:ee.Array(EZe),page_info:IZe,license_stats:xZe}),bZe=ee.Union([vZe,Ez]);f();var mUr=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu");f();f();var pHr=new jr("postInsertion");var kHr=new jr("ghostText"),m3=class{constructor(){this.#i=[];this.linesAccepted=0}static{s(this,"LastGhostText")}#e;#t;#i;get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[],this.resetPartialAcceptanceState()}setState({uri:e},r){this.#t=e,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0,this.totalLength=void 0,this.linesLeft=void 0,this.linesAccepted=0}};function MCe(t){let e=new ID;return e.set(W0,t),e.set(Fy,new Fy),e.set(js,new js),e.set(Nv,new Nv),e.set(Ei,new Ei(e)),e.set(Sr,new Sr(e)),e.set(jC,new jC),e.set(V0,new V0(e)),e.set(Dc,new Dc),e.set(Nm,new Nm),e.set(Ph,new Jw),e.set(hv,new Jk),e.set(Ly,new cR),e.set(Za,new Za),e.set(xv,new xv(e)),e.set(Rv,new Rv(e)),e.set($g,new $g(e)),e.set($v,TCe(e)),e.set(m3,new m3),e.set(jv,new jv),e.set(h3,h3.default),e.set(Qh,new Qh(e)),e.set(zC,new zC(e)),e.set(A2,new A2),e.set(Dv,new Dv(e)),e.set(Lw,new Lw),e.set(Mw,new Mw(e)),e.set(Pv,new Pv),e}s(MCe,"createCommonContext");f();f();var JN=class extends Error{static{s(this,"FetchSpeculationCanceledException")}constructor(e){super(e),this.name="FetchSpeculationCanceledException"}};f();var XN=class extends Error{static{s(this,"FetchSpeculationFailedException")}constructor(e){super(e),this.name="FetchSpeculationFailedException"}};var Tqr=ee.Object({prompt:ee.String(),speculation:ee.String(),languageId:ee.String(),stops:ee.Array(ee.String())}),g3=class{static{s(this,"SpeculationFetcher")}constructor(e){this.ctx=e}async fetchSpeculation(e,r){let o={prompt:e.prompt,speculation:e.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",stops:e.stops},a=await this.ctx.get(Ei).getToken(),c=await this.ctx.get(Sr).updateExPValuesAndAssignments(a),l=await this.ctx.get(Ph).fetchAndStreamSpeculation(this.ctx,o,c,(u,d)=>{},r);switch(l.type){case"success":return l;case"canceled":throw new JN(l.reason);case"failed":throw new XN(l.reason)}}};f();f();function OCe(t){return Kte(t)}s(OCe,"verboseLogging");var ZN=class extends _y{constructor(r){super();this.console=r}static{s(this,"ConsoleLog")}logIt(r,n,o,...a){n==1?this.console.error(`[${o}]`,...a):(n==2||OCe(r))&&this.console.warn(`[${o}]`,...a)}};f();var UCe=require("node:util");var eQ=class extends bm{static{s(this,"TelemetryLogSenderImpl")}sendError(e,r,...n){zA(e,"log",nn.createAndMarkAsIssued({context:r,level:TB[1],message:BZe(...n)}),1)}sendException(e,r,n){yd(e,r,n)}};function BZe(...t){return t.map(e=>(0,UCe.inspect)(e)).join(" ")}s(BZe,"telemetryMessage");f();var ewe=Et(require("crypto")),twe=Et(require("fs")),DF=Et(X4e()),rwe=require("tls"),nwe=Et(Z4e());var i5=new jr("certificates"),xc=class{static{s(this,"RootCertificateReader")}};function iwe(t,e=process.platform){return new WX(t,[new YX,new $X,Npt(t,e)])}s(iwe,"getRootCertificateReader");function Npt(t,e){switch(e){case"linux":return new zX(t);case"darwin":return new jX(t);case"win32":return new KX(t);default:return new JX}}s(Npt,"createPlatformReader");var VX=class extends xc{constructor(r,n){super();this.ctx=r;this.delegate=n}static{s(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return i5.warn(this.ctx,"Failed to read root certificates:",r),[]}}},WX=class extends xc{constructor(r,n){super();this.ctx=r;this.delegates=n.map(o=>new VX(r,o))}static{s(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),o=r.filter(a=>{try{let c=new ewe.X509Certificate(a),l=Date.parse(c.validTo);return isNaN(l)||l>n}catch(c){return i5.warn(this.ctx,"Failed to parse certificate",a,c),!1}});return r.length!==o.length&&i5.info(this.ctx,`Removed ${r.length-o.length} expired certificates`),o}},YX=class extends xc{static{s(this,"NodeTlsRootCertificateReader")}getAllRootCAs(){return rwe.rootCertificates}},$X=class extends xc{static{s(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let e=process.env.NODE_EXTRA_CA_CERTS;return e?await owe(e):[]}},zX=class extends xc{constructor(r){super();this.ctx=r}static{s(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let o=await owe(n);i5.debug(this.ctx,`Read ${o.length} certificates from ${n}`),r=r.concat(o)}return r}},jX=class extends xc{constructor(r){super();this.ctx=r}static{s(this,"MacRootCertificateReader")}getAllRootCAs(){let r=DF.get({excludeBundled:!1,format:DF.Format.pem});return i5.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},KX=class extends xc{constructor(r){super();this.ctx=r}static{s(this,"WindowsRootCertificateReader")}getAllRootCAs(){let r=nwe.all();return i5.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},JX=class extends xc{static{s(this,"UnsupportedPlatformRootCertificateReader")}getAllRootCAs(){return Promise.reject(new Error("No certificate reader available for unsupported platform"))}};async function owe(t){let e;try{e=await twe.promises.readFile(t,{encoding:"utf8"})}catch{return[]}let r=e.match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(a=>a.length>0),o=new Set(n);return Array.from(o)}s(owe,"readCertsFromFile");f();var Iwe=Et(require("http"));var amt=407,Fa=new jr("proxySocketFactory"),T1=class{static{s(this,"ProxySocketFactory")}},HE=class extends Error{static{s(this,"ProxySocketError")}constructor(e,r,n){super(e),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function xwe(t){return new tZ(t,new rZ(t))}s(xwe,"getProxySocketFactory");var tZ=class extends T1{constructor(r,n,o=new nZ,a=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=o;this.platform=a;this.successfullyAuthorized=new mn(20)}static{s(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(Fa.debug(this.ctx,"Proxy authorization already successful once, skipping 407 round trip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(o){if(o instanceof HE&&o.code===`ProxyStatusCode${amt}`){Fa.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let a=await this.authorizeAndCreateSocket(r,n);if(a)return Fa.debug(this.ctx,"Proxy authorization successful, caching result"),ir(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),a}throw o}}async reauthorize(r,n){let o=await this.authorize(n);o&&(Fa.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+o)}async authorizeAndCreateSocket(r,n){let o=await this.authorize(n);if(Fa.debug(this.ctx,"Proxy authorization successful, received token"),o)return Fa.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+o,await this.delegate.createSocket(r,n)}async authorize(r){Fa.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),o=this.computeSpn(r);Fa.debug(this.ctx,"Initializing kerberos client using spn",o);let a=await n.initializeClient(o);Fa.debug(this.ctx,"Perform client side kerberos step");let c=await a.step("");return Fa.debug(this.ctx,"Received kerberos server response"),c}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return Fa.debug(this.ctx,"Using configured kerberos spn",n),n;let o=this.platform==="win32"?`HTTP/${r.hostname}`:`HTTP@${r.hostname}`;return Fa.debug(this.ctx,"Using default kerberos spn",o),o}getProxyCacheKey(r){return`${r.hostname}:${r.port}`}},rZ=class extends T1{constructor(r){super();this.ctx=r;this.userAgent=`GithubCopilot/${this.ctx.get(js).getVersion()}`}static{s(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let o=this.createConnectRequestOptions(r,n);return new Promise((a,c)=>{Fa.debug(this.ctx,"Attempting to establish connection to proxy");let l=Iwe.request(o);l.useChunkedEncodingByDefault=!1,l.once("connect",(u,d,A)=>{Fa.debug(this.ctx,"Socket Connect returned status code",u.statusCode),l.removeAllListeners(),d.removeAllListeners(),u.statusCode!==200?(d.destroy(),c(new HE(`tunneling socket could not be established, statusCode=${u.statusCode}`,void 0,`ProxyStatusCode${u.statusCode}`))):A.length>0?(d.destroy(),c(new HE(`got non-empty response body from proxy, length=${A.length}`,void 0,"ProxyNonEmptyResponseBody"))):(Fa.debug(this.ctx,"Successfully established tunneling connection to proxy"),a(d))}),l.once("error",u=>{Fa.debug(this.ctx,"Proxy socket connection error",u.message),l.removeAllListeners(),c(new HE(`tunneling socket could not be established, cause=${u.message}`,u))}),l.on("timeout",()=>{Fa.debug(this.ctx,"Proxy socket connection timeout"),c(new HE(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${o.hostname}:${o.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let o=`${r.hostname}:${r.port}`,a={hostname:n.hostname,port:n.port,method:"CONNECT",path:o,agent:!1,headers:{host:o,"Proxy-Connection":"keep-alive","User-Agent":this.userAgent},timeout:r.timeout};return r.localAddress&&(a.localAddress=r.localAddress),this.configureProxyAuthorization(a,r,n.authorization),a}configureProxyAuthorization(r,n,o){r.headers["Proxy-Authorization"]=[],o&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(o).toString("base64")),typeof n.headers?.["Proxy-Authorization"]=="string"&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},nZ=class{static{s(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>Et(Ewe()))}};f();var _we=require("node:os");var cmt=new jr("repository"),qE="\\\\",wwe="(?:[#;].*)",a5=`(?:[^"${qE}]|${qE}.)`,lmt="[0-9A-Za-z-]",vwe=`[A-Za-z]${lmt}*`,Swe=`\\s*${wwe}?$`,Bwe=`(?:[^"${qE};#]|${qE}.)`,umt=`(?:"${a5}*"|"${a5}*(?<strCont>${qE})$)`,fmt=`(?:${Bwe}|${umt})+`,dmt=`(?:(?<cont>${qE})$)`,Rwe=`(?<value>${fmt})${dmt}?${Swe}`,bwe=new RegExp(`^${Rwe}`),Amt=new RegExp(`^(?<value>${a5}*(?:(?<strCont>${qE})$|(?<quote>")))`),hmt=new RegExp(`^\\s*(?:(?<key>${vwe})\\s*=\\s*${Rwe}|(?<soloKey>${vwe})${Swe})`),pmt=new RegExp(`(?<value>${Bwe}+)|"(?<string>${a5}*)"`,"g"),Twe="[-.0-9A-Za-z]+",mmt=`\\s+"(?<ext>${a5}*)"`,gmt=`\\s+"(?<extOnly>${a5}*)"`,ymt=new RegExp(`^\\s*\\[(?:(?<simple>${Twe})${mmt}|${gmt}|(?<simpleOnly>${Twe}))\\]`),Cmt=new RegExp(`^\\s*${wwe}$`),iZ=class{constructor(e){this.content=e;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{s(this,"GitConfigParser")}parse(e){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=e,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(e){this.linesWithErrors.push(e)}parseSectionStart(){let e=this.line.match(ymt);e&&(e.groups?.simple?this.section=e.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(e.groups.ext):e.groups?.extOnly?this.section="."+this.unescapeBaseValue(e.groups.extOnly):this.section=e.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(e[0].length))}unescapeBaseValue(e){return e.replace(/\\(.)/g,"$1")}parseConfigPair(){let e=this.line.match(hmt);if(e){if(e.groups?.key){let r=this.handleContinued(e);this.configValueHandler?.(this.nameWithSection(e.groups.key.toLowerCase()),r)}else e.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(e.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(e){let r=e,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(Amt),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(bwe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(bwe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(e){return e.groups.strCont?e.groups.value.slice(0,-1):e.groups.value}normalizeValue(e){let r=!1,n=[...e.matchAll(pmt)].map(o=>o.groups?.value?(r=!0,this.unescapeValue(o.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(o.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(e){let r={n:`
`,t:"	",b:"\b"};return e.replace(/\\(.)/g,(n,o)=>r[o]||o)}nameWithSection(e){return this.section?this.section+"."+e:e}parseComment(){Cmt.test(this.line)&&(this.line="")}},QF=class extends pf{static{s(this,"GitParsingConfigLoader")}async getConfig(e,r){let n=await Qh.getRepoConfigLocation(e,r);if(!n)return;let o=await this.getParsedConfig(e,n);if(o)return this.mergeConfig(await this.baseConfig(e,n),o)}mergeConfig(...e){return e.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new eE)}async getParsedConfig(e,r,n=!0){let o=await this.tryLoadConfig(e,r,n);if(!o)return;let a=new iZ(o),c=new eE;return a.parse((l,u)=>c.add(l,u)),c}async tryLoadConfig(e,r,n){try{return await e.get(na).readFileString(r)}catch(o){(n||!(o instanceof Error)||o.code!=="ENOENT")&&cmt.warn(e,`Failed to load git config from ${JSON.stringify(r)}:`,o);return}}async baseConfig(e,r){let n=await this.commondirConfigUri(e,r),o=$s(this.xdgConfigUri(),"git","config"),a=$s(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(e,o,!1),await this.getParsedConfig(e,a,!1),n?await this.getParsedConfig(e,n,!1):void 0)}async commondirConfigUri(e,r){if(km(r).toLowerCase()!=="config.worktree")return;let n=YA(r),o=$s(n,"commondir");try{let a=(await e.get(na).readFileString(o)).trimEnd();return $s(By(n,a),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?h6(process.env.XDG_CONFIG_HOME):$s(this.homeUri(),".config")}homeUri(){return h6((0,_we.homedir)())}};f();var kwe=require("child_process");var PF=class extends pf{static{s(this,"GitCLIConfigLoader")}runCommand(e,r,n){return new Promise((o,a)=>{(0,kwe.execFile)(r,n,{cwd:e},(c,l)=>{c?a(c):o(l)})})}async tryRunCommand(e,r,n,o){try{return await this.runCommand(r,n,o)}catch(a){x1e.info(e,`Failed to run command '${n}' in ${r}:`,a);return}}async getConfig(e,r){let n=p6(r);if(n===void 0)return;let o=await this.tryRunCommand(e,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return o?this.extractConfig(o):void 0}extractConfig(e){let r=new eE;for(let n of e.split("\0").filter(o=>o)){let o=n.split(`
`,1)[0],a=n.slice(o.length+1);r.add(o,a)}return r}extraArgs(){return[]}};function Dwe(t){let e=MCe(t);return Emt(e),e.set(xc,iwe(e)),e.set(T1,xwe(e)),e.set(pf,new ND([new PF,new QF])),e.set(g3,new g3(e)),e}s(Dwe,"createProductionContext");function Emt(t){t.set(Sm,Sm.fromEnvironment(!1)),t.set(bm,new eQ),t.set(_y,new ZN(console))}s(Emt,"setupRudimentaryLogging");var lJr=new jr("context");f();var FF=class extends Dm{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(r,this.getDefaultUrls())}static{s(this,"DefaultNetworkConfiguration")}getAuthAuthority(){return this.baseUrlObject.hostname}getConfiguredUrls(){return{serverUrl:this.baseUrlObject.href,apiUrl:this.apiUrl}}setConfiguredUrls(r,n){let o=this.getConfiguredUrls();this.recalculateUrlDefaults(r,n);let a=this.getConfiguredUrls();(o.apiUrl!==a.apiUrl||o.serverUrl!==a.serverUrl)&&r.get(Ei).resetToken(),r.get(Hu).updateSessionConfig(a)}recalculateUrlDefaults(r,n){let{serverUrl:o,apiUrl:a}=Ry({serverUrl:WM(r,n.serverUrl),apiUrl:WM(r,n.apiUrl)});this.baseUrlObject=new URL(o),this.apiUrl=a}getDefaultUrls(){return this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN?{apiUrl:this.env.GITHUB_API_URL,serverUrl:this.env.GITHUB_SERVER_URL}:{}}};f();var Nwe=Et(require("crypto")),Qwe=require("os");var Imt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function xmt(t){let e=t.replace(/-/g,":").toLowerCase();return!Imt.has(e)}s(xmt,"validateMacAddress");function vmt(){let t=(0,Qwe.networkInterfaces)();for(let e in t){let r=t[e];if(r){for(let{mac:n}of r)if(xmt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}s(vmt,"getMac");var oZ;function bmt(){try{let t=vmt();return Nwe.createHash("sha256").update(t,"utf8").digest("hex")}catch{return}}s(bmt,"getMacMachineId");function Pwe(){return oZ||(oZ=bmt()||hf()),oZ}s(Pwe,"getMachineId");f();f();var Fwe=Et(require("tls"));var LF=class{static{s(this,"RootCertificateConfigurator")}#e;constructor(e){this._certificateReader=e.get(xc)}async getCertificates(){let e=await this._certificateReader.getAllRootCAs();if(e.length!==0)return e}async createSecureContext(){let e=await this._certificateReader.getAllRootCAs(),n=Fwe.createSecureContext({_vscodeAdditionalCaCerts:e}),o=n.context;for(let a of e)o.addCACert(a);return{secureContext:n,certs:e}}async applyToRequestOptions(e){this.#e??=this.createSecureContext();let r=await this.#e;e.secureContext=r.secureContext,e.ca=r.certs,e.cert=r.certs}};f();var d5=Et(U3e(),1),MXr={ALPN_HTTP2:d5.default.ALPN_HTTP2,ALPN_HTTP2C:d5.default.ALPN_HTTP2C,ALPN_HTTP1_1:d5.default.ALPN_HTTP1_1,ALPN_HTTP1_0:d5.default.ALPN_HTTP1_0},{fetch:OXr,context:H3e,reset:UXr,noCache:HXr,h1:qXr,keepAlive:GXr,h1NoCache:VXr,keepAliveNoCache:WXr,cacheStats:YXr,clearCache:$Xr,offPush:zXr,onPush:jXr,createUrl:KXr,timeoutSignal:JXr,Body:XXr,Headers:ZXr,Request:eZr,Response:tZr,AbortController:rZr,AbortError:nZr,AbortSignal:iZr,FetchBaseError:oZr,FetchError:sZr,ALPN_HTTP2:aZr,ALPN_HTTP2C:cZr,ALPN_HTTP1_1:lZr,ALPN_HTTP1_0:uZr}=d5.default;var eL=class extends ps{constructor(r,n){super();this.name="HelixFetcher";this.certificateConfigurator=new LF(r),this.proxySocketFactory=r.get(T1),this.proxySocketTimeoutForTesting=n?.proxySocketTimeoutForTesting,r.get(W0).onDidChangeHttpSettings(o=>{this.fetchApi=this.createFetchApi(r,o)}),this.fetchApi=this.createFetchApi(r,r.get(W0).getHttpSettings())}static{s(this,"HelixFetcher")}maybeCreateSocketFactory(r,n){if(!r?.proxy)return;let o=new URL(r.proxy);return async a=>(a.rejectUnauthorized=r.proxyStrictSSL,a.timeout=n,await this.certificateConfigurator.applyToRequestOptions(a),await this.proxySocketFactory.createSocket(a,{hostname:o.hostname,port:o.port,authorization:r.proxyAuthorization,kerberosServicePrincipal:r.proxyKerberosServicePrincipal}))}createFetchApi(r,n){let o=r.get(js),a=this.proxySocketTimeoutForTesting;return H3e({userAgent:`GithubCopilot/${o.getVersion()}`,socketFactory:this.maybeCreateSocketFactory(n,a),rejectUnauthorized:n.proxyStrictSSL})}async fetch(r,n){let o=n.signal,a=!1;if(n.timeout){let d=new AbortController;setTimeout(()=>{d.abort(),a=!0},n.timeout),n.signal?.addEventListener("abort",()=>d.abort()),n.signal?.aborted&&d.abort(),o=d.signal}let c={...n,body:n.body?n.body:n.json,signal:o};await this.certificateConfigurator.applyToRequestOptions(c);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let u=await this.fetchApi.fetch(r,c).catch(d=>{throw a?new LT(`Request to <${r}> timed out after ${n.timeout}ms`,d):d});return new _B(u.status,u.statusText,u.headers,()=>u.text(),()=>u.body)}disconnectAll(){return this.fetchApi.reset()}};f();f();var tL=class extends Za{static{s(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var q3e=require("child_process");var $1t=hf()+Date.now();async function G3e(){let t=Dwe(new Xk);return t.set(Dm,new FF(t)),t.set(Vm,new aR),t.set(ps,new eL(t)),t.set(zs,new QZ(await z1t())),t.set(Ys,new Ys($1t,Pwe())),t.forceSet(Za,new tL),t.set(Hu,new Hu(t,dv.name)),t.get(Hu).initialize(!0),t}s(G3e,"createUninstallContext");async function z1t(){let t="unknown";try{return await new Promise((e,r)=>{let n=(0,q3e.spawn)("code -v",{shell:!0,stdio:"pipe"});n.stdout?.on("data",o=>{t==="unknown"&&(t=o.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>e(t)),n.on("error",o=>r(o))})}catch{return t}}s(z1t,"lookupVscodeVersion");var QZ=class extends zs{constructor(r){super();this.vscodeVersion=r}static{s(this,"UninstallEditorInfo")}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:dv.version}}getRelatedPluginInfo(){return[]}};async function j1t(){let t=await G3e(),e=new dD;process.argv.includes("--dry-run")||await e.uninstall(t)}s(j1t,"doUninstall");j1t().then(()=>process.exit(0)).catch(t=>{console.error(t),process.exit(1)});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

@azure/msal-node/dist/cache/serializer/Serializer.mjs:
@azure/msal-node/dist/cache/serializer/Deserializer.mjs:
@azure/msal-node/dist/internals.mjs:
@azure/msal-node/dist/utils/Constants.mjs:
@azure/msal-node/dist/utils/NetworkUtils.mjs:
@azure/msal-node/dist/network/HttpClient.mjs:
@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs:
@azure/msal-node/dist/error/ManagedIdentityError.mjs:
@azure/msal-node/dist/config/ManagedIdentityId.mjs:
@azure/msal-node/dist/error/NodeAuthError.mjs:
@azure/msal-node/dist/config/Configuration.mjs:
@azure/msal-node/dist/crypto/GuidGenerator.mjs:
@azure/msal-node/dist/utils/EncodingUtils.mjs:
@azure/msal-node/dist/crypto/HashUtils.mjs:
@azure/msal-node/dist/crypto/PkceGenerator.mjs:
@azure/msal-node/dist/crypto/CryptoProvider.mjs:
@azure/msal-node/dist/cache/NodeStorage.mjs:
@azure/msal-node/dist/cache/TokenCache.mjs:
@azure/msal-node/dist/client/ClientAssertion.mjs:
@azure/msal-node/dist/packageMetadata.mjs:
@azure/msal-node/dist/client/UsernamePasswordClient.mjs:
@azure/msal-node/dist/protocol/Authorize.mjs:
@azure/msal-node/dist/client/ClientApplication.mjs:
@azure/msal-node/dist/network/LoopbackClient.mjs:
@azure/msal-node/dist/client/DeviceCodeClient.mjs:
@azure/msal-node/dist/client/PublicClientApplication.mjs:
@azure/msal-node/dist/client/ClientCredentialClient.mjs:
@azure/msal-node/dist/client/OnBehalfOfClient.mjs:
@azure/msal-node/dist/client/ConfidentialClientApplication.mjs:
@azure/msal-node/dist/utils/TimeUtils.mjs:
@azure/msal-node/dist/network/HttpClientWithRetries.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs:
@azure/msal-node/dist/retry/LinearRetryStrategy.mjs:
@azure/msal-node/dist/retry/DefaultManagedIdentityRetryPolicy.mjs:
@azure/msal-node/dist/config/ManagedIdentityRequestParameters.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AppService.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AzureArc.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/CloudShell.mjs:
@azure/msal-node/dist/retry/ExponentialRetryStrategy.mjs:
@azure/msal-node/dist/retry/ImdsRetryPolicy.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/Imds.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/ServiceFabric.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/MachineLearning.mjs:
@azure/msal-node/dist/client/ManagedIdentityClient.mjs:
@azure/msal-node/dist/client/ManagedIdentityApplication.mjs:
@azure/msal-node/dist/cache/distributed/DistributedCachePlugin.mjs:
@azure/msal-node/dist/index.mjs:
  (*! @azure/msal-node v3.6.3 2025-07-08 *)

@azure/msal-common/dist/utils/Constants.mjs:
@azure/msal-common/dist/error/AuthErrorCodes.mjs:
@azure/msal-common/dist/error/AuthError.mjs:
@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs:
@azure/msal-common/dist/error/ClientAuthError.mjs:
@azure/msal-common/dist/crypto/ICrypto.mjs:
@azure/msal-common/dist/logger/Logger.mjs:
@azure/msal-common/dist/packageMetadata.mjs:
@azure/msal-common/dist/authority/AuthorityOptions.mjs:
@azure/msal-common/dist/account/AuthToken.mjs:
@azure/msal-common/dist/utils/TimeUtils.mjs:
@azure/msal-common/dist/cache/utils/CacheHelpers.mjs:
@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs:
@azure/msal-common/dist/error/ClientConfigurationError.mjs:
@azure/msal-common/dist/utils/StringUtils.mjs:
@azure/msal-common/dist/request/ScopeSet.mjs:
@azure/msal-common/dist/account/ClientInfo.mjs:
@azure/msal-common/dist/account/AccountInfo.mjs:
@azure/msal-common/dist/authority/AuthorityType.mjs:
@azure/msal-common/dist/account/TokenClaims.mjs:
@azure/msal-common/dist/authority/ProtocolMode.mjs:
@azure/msal-common/dist/cache/entities/AccountEntity.mjs:
@azure/msal-common/dist/utils/UrlUtils.mjs:
@azure/msal-common/dist/url/UrlString.mjs:
@azure/msal-common/dist/authority/AuthorityMetadata.mjs:
@azure/msal-common/dist/error/CacheErrorCodes.mjs:
@azure/msal-common/dist/error/CacheError.mjs:
@azure/msal-common/dist/cache/CacheManager.mjs:
@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs:
@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs:
@azure/msal-common/dist/config/ClientConfiguration.mjs:
@azure/msal-common/dist/account/CcsCredential.mjs:
@azure/msal-common/dist/constants/AADServerParamKeys.mjs:
@azure/msal-common/dist/request/RequestParameterBuilder.mjs:
@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs:
@azure/msal-common/dist/utils/FunctionWrappers.mjs:
@azure/msal-common/dist/authority/RegionDiscovery.mjs:
@azure/msal-common/dist/authority/Authority.mjs:
@azure/msal-common/dist/authority/AuthorityFactory.mjs:
@azure/msal-common/dist/error/ServerError.mjs:
@azure/msal-common/dist/network/RequestThumbprint.mjs:
@azure/msal-common/dist/network/ThrottlingUtils.mjs:
@azure/msal-common/dist/error/NetworkError.mjs:
@azure/msal-common/dist/client/BaseClient.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs:
@azure/msal-common/dist/utils/ProtocolUtils.mjs:
@azure/msal-common/dist/crypto/PopTokenGenerator.mjs:
@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs:
@azure/msal-common/dist/response/ResponseHandler.mjs:
@azure/msal-common/dist/utils/ClientAssertionUtils.mjs:
@azure/msal-common/dist/client/AuthorizationCodeClient.mjs:
@azure/msal-common/dist/client/RefreshTokenClient.mjs:
@azure/msal-common/dist/client/SilentFlowClient.mjs:
@azure/msal-common/dist/protocol/Authorize.mjs:
@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs:
@azure/msal-common/dist/index-node.mjs:
@azure/msal-common/dist/index.mjs:
  (*! @azure/msal-common v15.8.1 2025-07-08 *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
